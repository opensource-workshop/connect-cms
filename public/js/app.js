/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t,n={95:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=i=e,o=(r=String).prototype,o.isPrototypeOf(n)||(null===(s=i.constructor)||void 0===s?void 0:s.name)===r.name)?"string":t;var n,o;var i,r,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),i=t("object"),r=t("array"),s=(a=null,e=>a===e);var a;const l=n("boolean"),c=e=>!(e=>null==e)(e),u=n("function"),d=(e,t)=>{if(r(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},h=()=>{},f=(e,t)=>e===t;class p{constructor(e,t){this.tag=e,this.value=t}static some(e){return new p(!0,e)}static none(){return p.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?p.some(e(this.value)):p.none()}bind(e){return this.tag?e(this.value):p.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:p.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return c(e)?p.some(e):p.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}p.singletonNone=new p(!1);const m=Array.prototype.indexOf,g=Array.prototype.push,O=(e,t)=>((e,t)=>m.call(e,t))(e,t)>-1,v=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);g.apply(t,e[n])}return t},b=(e,t)=>v(((e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o})(e,t)),y=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return p.none()},x=(e,t,n=f)=>e.exists((e=>n(e,t))),w=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},S=(e,t)=>e?p.some(t):p.none(),_=e=>t=>t.options.get(e),k=_("link_assume_external_targets"),C=_("link_context_toolbar"),T=_("link_list"),$=_("link_default_target"),P=_("link_default_protocol"),A=_("link_target_list"),Q=_("link_rel_list"),E=_("link_class_list"),M=_("link_title"),D=_("allow_unsafe_link_target"),I=_("link_quicklink"),R=_("link_attributes_postprocess"),z=Object.keys,N=Object.hasOwnProperty,L=(e,t,n,o)=>{((e,t)=>{const n=z(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}})(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))},j=(e,t)=>N.call(e,t);var V=tinymce.util.Tools.resolve("tinymce.util.URI"),B=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Z=tinymce.util.Tools.resolve("tinymce.util.Tools");const X=e=>c(e)&&"a"===e.nodeName.toLowerCase(),W=e=>X(e)&&!!F(e),U=(e,t)=>{if(e.collapsed)return[];{const n=e.cloneContents(),o=n.firstChild,i=new B(o,n),r=[];let s=o;do{t(s)&&r.push(s)}while(s=i.next());return r}},Y=e=>/^\w+:/i.test(e),F=e=>{var t,n;return null!==(n=null!==(t=e.getAttribute("data-mce-href"))&&void 0!==t?t:e.getAttribute("href"))&&void 0!==n?n:""},q=(e,t)=>{const n=["noopener"],o=e?e.split(/\s+/):[],i=e=>e.filter((e=>-1===Z.inArray(n,e))),r=t?(e=>(e=i(e)).length>0?e.concat(n):n)(o):i(o);return r.length>0?(e=>Z.trim(e.sort().join(" ")))(r):""},H=(e,t)=>(t=t||J(e.selection.getRng())[0]||e.selection.getNode(),oe(t)?p.from(e.dom.select("a[href]",t)[0]):p.from(e.dom.getParent(t,"a[href]"))),G=(e,t)=>H(e,t).isSome(),K=(e,t)=>(e=>e.replace(/\uFEFF/g,""))(t.fold((()=>e.getContent({format:"text"})),(e=>e.innerText||e.textContent||""))),J=e=>U(e,W),ee=e=>Z.grep(e,W),te=e=>ee(e).length>0,ne=e=>{const t=e.schema.getTextInlineElements(),n=e=>1===e.nodeType&&!X(e)&&!j(t,e.nodeName.toLowerCase());if(H(e).exists((e=>e.hasAttribute("data-mce-block"))))return!1;const o=e.selection.getRng();if(o.collapsed)return!0;return 0===U(o,n).length},oe=e=>c(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),ie=(e,t)=>{const n={...t};if(0===Q(e).length&&!D(e)){const e=q(n.rel,"_blank"===n.target);n.rel=e||null}return p.from(n.target).isNone()&&!1===A(e)&&(n.target=$(e)),n.href=((e,t)=>"http"!==t&&"https"!==t||Y(e)?e:t+"://"+e)(n.href,k(e)),n},re=(e,t,n)=>{const o=e.selection.getNode(),i=H(e,o),r=ie(e,(e=>{return t=["title","rel","class","target"],n=(t,n)=>(e[n].each((e=>{t[n]=e.length>0?e:null})),t),o={href:e.href},((e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)})(t,((e,t)=>{o=n(o,e,t)})),o;var t,n,o})(n)),s=R(e);c(s)&&s(r),e.undoManager.transact((()=>{n.href===t.href&&t.attach(),i.fold((()=>{((e,t,n,o)=>{const i=e.dom;oe(t)?ue(i,t,o):n.fold((()=>{e.execCommand("mceInsertLink",!1,o);const t=e.selection.getEnd(),n=i.createRng();n.setStartAfter(t),n.setEndAfter(t),e.selection.setRng(n)}),(t=>{e.insertContent(i.createHTML("a",o,i.encode(t)))}))})(e,o,n.text,r)}),(t=>{e.focus(),((e,t,n,o)=>{n.each((e=>{j(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,o);const i=e.dom.createRng();i.setStartAfter(t),i.setEndAfter(t),e.selection.setRng(i)})(e,t,n.text,r)}))}))},se=e=>{const{class:t,href:n,rel:o,target:i,text:r,title:a}=e;return((e,t)=>{const n={};var o;return L(e,t,(o=n,(e,t)=>{o[t]=e}),h),n})({class:t.getOrNull(),href:n,rel:o.getOrNull(),target:i.getOrNull(),text:r.getOrNull(),title:a.getOrNull()},((e,t)=>!1===s(e)))},ae=(e,t,n)=>{const o=((e,t)=>{const n=e.options.get,o={allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")},i=t.href;return{...t,href:V.isDomSafe(i,"a",o)?i:""}})(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,se(o)):re(e,t,o)},le=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):(e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();oe(t)?ce(e,t):(e=>{const t=e.dom,n=e.selection,o=n.getBookmark(),i=n.getRng().cloneRange(),r=t.getParent(i.startContainer,"a[href]",e.getBody()),s=t.getParent(i.endContainer,"a[href]",e.getBody());r&&i.setStartBefore(r),s&&i.setEndAfter(s),n.setRng(i),e.execCommand("unlink"),n.moveToBookmark(o)})(e),e.focus()}))})(e)},ce=(e,t)=>{var n;const o=e.dom.select("img",t)[0];if(o){const i=e.dom.getParents(o,"a[href]",t)[0];i&&(null===(n=i.parentNode)||void 0===n||n.insertBefore(o,i),e.dom.remove(i))}},ue=(e,t,n)=>{var o;const i=e.select("img",t)[0];if(i){const t=e.create("a",n);null===(o=i.parentNode)||void 0===o||o.insertBefore(t,i),t.appendChild(i)}},de=e=>o(e.value)?e.value:"",he=(e,t)=>{const n=[];return Z.each(e,(e=>{const i=(e=>o(e.text)?e.text:o(e.title)?e.title:"")(e);if(void 0!==e.menu){const o=he(e.menu,t);n.push({text:i,items:o})}else{const o=t(e);n.push({text:i,value:o})}})),n},fe=(e=de)=>t=>p.from(t).map((t=>he(t,e))),pe={sanitize:e=>fe(de)(e),sanitizeWith:fe,createUi:(e,t)=>n=>({name:e,type:"listbox",label:t,items:n}),getValue:de},me=e=>{return j(t=e,n="items")&&void 0!==t[n]&&null!==t[n];var t,n},ge=(e,t)=>y(t,(t=>me(t)?ge(e,t.items):S(t.value===e,t))),Oe=(e,t,n,o)=>{const i=o[t],r=e.length>0;return void 0!==i?ge(i,n).map((t=>({url:{value:t.value,meta:{text:r?e:t.text,attach:h}},text:r?e:t.text}))):p.none()},ve=(e,t)=>{const n={text:e.text,title:e.title},o=e=>{const t=(o=e.url,S(n.text.length<=0,p.from(null===(i=o.meta)||void 0===i?void 0:i.text).getOr(o.value)));var o,i;const r=(e=>{var t;return S(n.title.length<=0,p.from(null===(t=e.meta)||void 0===t?void 0:t.title).getOr(""))})(e.url);return t.isSome()||r.isSome()?p.some({...t.map((e=>({text:e}))).getOr({}),...r.map((e=>({title:e}))).getOr({})}):p.none()},i=(e,o)=>{const i=(r=t,s=o,"link"===s?r.link:"anchor"===s?r.anchor:p.none()).getOr([]);var r,s;return Oe(n.text,o,i,e)};return{onChange:(e,t)=>{const r=t.name;return"url"===r?o(e()):O(["anchor","link"],r)?i(e(),r):"text"===r||"title"===r?(n[r]=e()[r],p.none()):p.none()}}};var be=tinymce.util.Tools.resolve("tinymce.util.Delay");const ye=e=>{const t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?p.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):p.none()},xe=(e,t)=>n=>{const o=n.href;return 1===e&&!Y(o)||0===e&&/^\s*www(\.|\d\.)/i.test(o)?p.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+o})}):p.none()},we=(e,t)=>y([ye,xe(k(e),P(e))],(e=>e(t))).fold((()=>Promise.resolve(t)),(n=>new Promise((o=>{((e,t,n)=>{const o=e.selection.getRng();be.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(o),n(t)}))}))})(e,n.message,(e=>{o(e?n.preprocess(t):t)}))})))),Se=e=>{const t=e.dom.select("a:not([href])"),n=b(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?p.some([{text:"None",value:""}].concat(n)):p.none()},_e=e=>{const t=E(e);return t.length>0?pe.sanitize(t):p.none()},ke=e=>{try{return p.some(JSON.parse(e))}catch(e){return p.none()}},Ce=e=>{const t=t=>e.convertURL(t.value||t.url||"","href"),n=T(e);return new Promise((e=>{o(n)?fetch(n).then((e=>e.ok?e.text().then(ke):Promise.reject())).then(e,(()=>e(p.none()))):u(n)?n((t=>e(p.some(t)))):e(p.from(n))})).then((e=>e.bind(pe.sanitizeWith(t)).map((e=>{if(e.length>0){return[{text:"None",value:""}].concat(e)}return e}))))},Te=(e,t)=>{const n=Q(e);if(n.length>0){const o=x(t,"_blank"),i=e=>q(pe.getValue(e),o);return(!1===D(e)?pe.sanitizeWith(i):pe.sanitize)(n)}return p.none()},$e=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Pe=e=>{const t=A(e);return r(t)?pe.sanitize(t).orThunk((()=>p.some($e))):!1===t?p.none():p.some($e)},Ae=(e,t,n)=>{const o=e.getAttrib(t,n);return null!==o&&o.length>0?p.some(o):p.none()},Qe=(e,t)=>Ce(e).then((n=>{const o=((e,t)=>{const n=e.dom,o=ne(e)?p.some(K(e.selection,t)):p.none(),i=t.bind((e=>p.from(n.getAttrib(e,"href")))),r=t.bind((e=>p.from(n.getAttrib(e,"target")))),s=t.bind((e=>Ae(n,e,"rel"))),a=t.bind((e=>Ae(n,e,"class")));return{url:i,text:o,title:t.bind((e=>Ae(n,e,"title"))),target:r,rel:s,linkClass:a}})(e,t);return{anchor:o,catalogs:{targets:Pe(e),rels:Te(e,o.target),classes:_e(e),anchor:Se(e),link:n},optNode:t,flags:{titleEnabled:M(e)}}})),Ee=e=>{const t=(e=>{const t=H(e);return Qe(e,t)})(e);t.then((t=>{const n=((e,t)=>n=>{const o=n.getData();if(!o.url.value)return le(e),void n.close();const i=e=>p.from(o[e]).filter((n=>!x(t.anchor[e],n))),r={href:o.url.value,text:i("text"),target:i("target"),rel:i("rel"),class:i("linkClass"),title:i("title")},s={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:h};we(e,r).then((t=>{ae(e,s,t)})),n.close()})(e,t);return((e,t,n)=>{const o=e.anchor.text.map((()=>({name:"text",type:"input",label:"Text to display"}))).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],r=((e,t)=>{const n=e.anchor,o=n.url.getOr("");return{url:{value:o,meta:{original:{value:o}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:o,link:o,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}})(e,p.from($(n))),s=e.catalogs,a=ve(r,s);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:v([[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],o,i,w([s.anchor.map(pe.createUi("anchor","Anchors")),s.rels.map(pe.createUi("rel","Rel")),s.targets.map(pe.createUi("target","Open link in...")),s.link.map(pe.createUi("link","Link list")),s.classes.map(pe.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onChange:(e,{name:t})=>{a.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}})(t,n,e)})).then((t=>{e.windowManager.open(t)}))},Me=()=>{const e=(e=>{const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(p.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(p.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(p.some(e))}}})(h);return{...e,on:t=>e.get().each(t)}},De=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0);var Ie=tinymce.util.Tools.resolve("tinymce.util.VK");const Re=e=>{const t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(n),((e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)})(t,n)},ze=(e,t)=>{if(t){const i=F(t);if(/^#/.test(i)){const t=e.dom.select(`${i},[name="${n=i,o="#",De(n,o)?((e,t)=>e.substring(t))(n,o.length):n}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else Re(t.href)}var n,o},Ne=(e,t)=>{const n=ee(e.dom.getParents(t));return S(1===n.length,n[0])},Le=e=>e.selection.isCollapsed()||(e=>{const t=e.selection.getRng(),n=t.startContainer;return W(n)&&t.startContainer===t.endContainer&&1===e.dom.select("img",n).length})(e)?Ne(e,e.selection.getStart()):(e=>{const t=J(e.selection.getRng());return S(t.length>0,t[0]).or(Ne(e,e.selection.getNode()))})(e),je=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},Ve=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),Be=e=>t=>{const n=()=>{t.setActive(!e.mode.isReadOnly()&&G(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),Ve(e,n)},Ze=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return n(),Ve(e,n)},Xe=e=>t=>{const n=t=>{return te(t)||(n=e.selection.getRng(),J(n).length>0);var n},o=e.dom.getParents(e.selection.getStart()),i=o=>{t.setEnabled(n(o)&&e.selection.isEditable())};return i(o),Ve(e,(e=>i(e.parents)))},We=(e,t)=>{const n=t=>{const n=e.selection.getNode();return t.setEnabled(G(e,n)&&e.selection.isEditable()),h};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Be(e)},label:"Link",predicate:t=>C(e)&&G(e,t),initValue:()=>H(e).fold((e=>()=>e)(""),F),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{const n=e.selection.getNode();return t.setActive(G(e,n)),Be(e)(t)},onAction:t=>{const n=t.getValue(),o=(t=>{const n=H(e),o=ne(e);if(n.isNone()&&o){const o=K(e.selection,n);return S(0===o.length,t)}return p.none()})(n);ae(e,{href:n,attach:h},{href:n,text:o,title:p.none(),rel:p.none(),target:p.from($(e)),class:p.none()}),(e=>{e.selection.collapse(!1)})(e),t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:t=>{le(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:e=>{t.gotoSelectedLink(),e.hide()}}]})},Ue=e=>{const t=(e=>{const t=Me(),n=()=>t.get().or(Le(e));return e.on("contextmenu",(n=>{Ne(e,n.target).each(t.set)})),e.on("SelectionChange",(()=>{t.isSet()||Le(e).each(t.set)})),e.on("click",(n=>{t.clear();const o=ee(e.dom.getParents(n.target));1===o.length&&Ie.metaKeyPressed(n)&&(n.preventDefault(),ze(e,o[0]))})),e.on("keydown",(o=>{t.clear(),!o.isDefaultPrevented()&&13===o.keyCode&&(e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey)(o)&&n().each((t=>{o.preventDefault(),ze(e,t)}))})),{gotoSelectedLink:()=>n().each((t=>ze(e,t)))}})(e);((e,t)=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:je(e),onSetup:Be(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:t.gotoSelectedLink,onSetup:Xe(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>le(e),onSetup:Xe(e)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:t.gotoSelectedLink,onSetup:Xe(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:je(e),onSetup:Ze(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>le(e),onSetup:Xe(e)})})(e,t),(e=>{e.ui.registry.addContextMenu("link",{update:t=>e.dom.isEditable(t)?te(e.dom.getParents(t,"a"))?"link unlink openlink":"link":""})})(e),We(e,t)};e.add("link",(e=>{(e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=o(e)||l(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>o(e)||u(e)||d(e,i)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>l(e)||d(e,i),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1}),t("link_attributes_postprocess",{processor:"function"})})(e),(e=>{e.addCommand("mceLink",((t,n)=>{!0!==(null==n?void 0:n.dialog)&&I(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):Ee(e)}))})(e),Ue(e),(e=>{e.addShortcut("Meta+K","",(()=>{e.execCommand("mceLink")}))})(e)}))}()},128:()=>{tinymce.PluginManager.add("face",(function(e,t){function n(t){tinymce.activeEditor.windowManager.open({title:"AI顔認識",body:{type:"panel",items:[{type:"alertbanner",level:"info",text:"写真の顔をAIで判断して、モザイク処理を施します。",icon:"info"},{type:"urlinput",name:"photo",filetype:"file",label:"jpg, png 形式の画像ファイル"},{type:"collection",name:"upload_max_filesize_caption",label:e.options.get("cc_config").upload_max_filesize_caption},{type:"input",name:"alt",inputMode:"text",label:"代替テキスト",placeholder:"",disabled:!1,maximized:!1},{type:"listbox",name:"image_size",label:"画像サイズ（最大でこの大きさに縮小されます）",disabled:!1,items:e.options.get("cc_config").face_image_sizes},{type:"listbox",name:"mosaic_fineness",label:"モザイクの粗さ",disabled:!1,items:e.options.get("cc_config").finenesses}]},initialData:{image_size:e.options.get("cc_config").face_image_initial,mosaic_fineness:e.options.get("cc_config").fineness_initial},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",primary:!0}],onSubmit:function(t){xhr=new XMLHttpRequest,xhr.withCredentials=!1,xhr.open("POST",tinymce.activeEditor.getParam("document_base_url")+"/upload/face"),xhr.onload=function(){var n;xhr.status<200||xhr.status>=300?console.error("HTTP Error: "+xhr.status):(void 0!==(n=JSON.parse(xhr.responseText)).link_text&&e.insertContent(n.link_text),document.getElementById("cc-face-upload-"+r).value="",t.close())};var n=document.getElementsByName("csrf-token"),o=document.getElementsByName("_page_id"),i=t.getData(),r=e.options.get("cc_config").frame_id;formData=new FormData,formData.append("_token",n[0].content),formData.append("page_id",o[0].content),formData.append("plugin_name",e.options.get("cc_config").plugin_name),formData.append("photo",document.getElementById("cc-face-upload-"+r).files[0]),formData.append("alt",i.alt),formData.append("image_size",i.image_size),formData.append("mosaic_fineness",i.mosaic_fineness),xhr.send(formData)}})}e.ui.registry.addIcon("face",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24">\x3c!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM183.2 132.6c-1.3-2.8-4.1-4.6-7.2-4.6s-5.9 1.8-7.2 4.6l-16.6 34.7-38.1 5c-3.1 .4-5.6 2.5-6.6 5.5s-.1 6.2 2.1 8.3l27.9 26.5-7 37.8c-.6 3 .7 6.1 3.2 7.9s5.8 2 8.5 .6L176 240.5l33.8 18.3c2.7 1.5 6 1.3 8.5-.6s3.7-4.9 3.2-7.9l-7-37.8L242.4 186c2.2-2.1 3.1-5.3 2.1-8.3s-3.5-5.1-6.6-5.5l-38.1-5-16.6-34.7zm160 0c-1.3-2.8-4.1-4.6-7.2-4.6s-5.9 1.8-7.2 4.6l-16.6 34.7-38.1 5c-3.1 .4-5.6 2.5-6.6 5.5s-.1 6.2 2.1 8.3l27.9 26.5-7 37.8c-.6 3 .7 6.1 3.2 7.9s5.8 2 8.5 .6L336 240.5l33.8 18.3c2.7 1.5 6 1.3 8.5-.6s3.7-4.9 3.2-7.9l-7-37.8L402.4 186c2.2-2.1 3.1-5.3 2.1-8.3s-3.5-5.1-6.6-5.5l-38.1-5-16.6-34.7zm6.3 175.8c-28.9 6.8-60.5 10.5-93.6 10.5s-64.7-3.7-93.6-10.5c-18.7-4.4-35.9 12-25.5 28.1c24.6 38.1 68.7 63.5 119.1 63.5s94.5-25.4 119.1-63.5c10.4-16.1-6.8-32.5-25.5-28.1z"/></svg>'),e.ui.registry.addButton("face",{icon:"face",tooltip:"AI顔認識",onAction:n,onPostRender:function(){var t=this;e.on("NodeChange",(function(n){var o=jQuery(e.selection.getNode()).hasClass("plugin");t.active(o)})),e.on("DblClick",(function(e){"plugin"==e.target.className&&n(e.toElement.innerText)}))}})}))},246:(e,t,n)=>{"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Ay:()=>at});function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=c(/Edge/i),h=c(/firefox/i),f=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),p=c(/iP(ad|od|hone)/i),m=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function O(e,t,n){e.addEventListener(t,n,!u&&g)}function v(e,t,n){e.removeEventListener(t,n,!u&&g)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||o&&e===n)return e;if(e===n)break}while(e=y(e))}return null}var w,S=/\s+/g;function _(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(S," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(S," ")}}function k(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function C(e,t){var n="";if("string"==typeof e)n=e;else do{var o=k(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function T(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function $(){var e=document.scrollingElement;return e||document.documentElement}function P(e,t,n,o,i){if(e.getBoundingClientRect||e===window){var r,s,a,l,c,d,h;if(e!==window&&e.parentNode&&e!==$()?(s=(r=e.getBoundingClientRect()).top,a=r.left,l=r.bottom,c=r.right,d=r.height,h=r.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!u))do{if(i&&i.getBoundingClientRect&&("none"!==k(i,"transform")||n&&"static"!==k(i,"position"))){var f=i.getBoundingClientRect();s-=f.top+parseInt(k(i,"border-top-width")),a-=f.left+parseInt(k(i,"border-left-width")),l=s+r.height,c=a+r.width;break}}while(i=i.parentNode);if(o&&e!==window){var p=C(i||e),m=p&&p.a,g=p&&p.d;p&&(l=(s/=g)+(d/=g),c=(a/=m)+(h/=m))}return{top:s,left:a,bottom:l,right:c,width:h,height:d}}}function A(e,t,n){for(var o=I(e,!0),i=P(e)[t];o;){var r=P(o)[n];if(!("top"===n||"left"===n?i>=r:i<=r))return o;if(o===$())break;o=I(o,!1)}return!1}function Q(e,t,n,o){for(var i=0,r=0,s=e.children;r<s.length;){if("none"!==s[r].style.display&&s[r]!==je.ghost&&(o||s[r]!==je.dragged)&&x(s[r],n.draggable,e,!1)){if(i===t)return s[r];i++}r++}return null}function E(e,t){for(var n=e.lastElementChild;n&&(n===je.ghost||"none"===k(n,"display")||t&&!b(n,t));)n=n.previousElementSibling;return n||null}function M(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===je.clone||t&&!b(e,t)||n++;return n}function D(e){var t=0,n=0,o=$();if(e)do{var i=C(e),r=i.a,s=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*s}while(e!==o&&(e=e.parentNode));return[t,n]}function I(e,t){if(!e||!e.getBoundingClientRect)return $();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=k(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return $();if(o||t)return n;o=!0}}}while(n=n.parentNode);return $()}function R(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function z(e,t){return function(){if(!w){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),w=setTimeout((function(){w=void 0}),t)}}}function N(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function L(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function j(e,t,n){var o={};return Array.from(e.children).forEach((function(i){var r,s,a,l;if(x(i,t.draggable,e,!1)&&!i.animated&&i!==n){var c=P(i);o.left=Math.min(null!==(r=o.left)&&void 0!==r?r:1/0,c.left),o.top=Math.min(null!==(s=o.top)&&void 0!==s?s:1/0,c.top),o.right=Math.max(null!==(a=o.right)&&void 0!==a?a:-1/0,c.right),o.bottom=Math.max(null!==(l=o.bottom)&&void 0!==l?l:-1/0,c.bottom)}})),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var V="Sortable"+(new Date).getTime();function B(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==k(e,"display")&&e!==je.ghost){t.push({target:e,rect:P(e)});var n=i({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=C(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,r=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,a=P(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=C(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&R(l,a)&&!R(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(u,l,c,o.options)),R(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=o.options.animation),o.animate(n,u,a,t)),t&&(i=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),r):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){k(e,"transition",""),k(e,"transform","");var i=C(this.el),r=i&&i.a,s=i&&i.d,a=(t.left-n.left)/(r||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,k(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),k(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),k(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){k(e,"transition",""),k(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var Z=[],X={initializeByDefault:!0},W={mount:function(e){for(var t in X)X.hasOwnProperty(t)&&!(t in e)&&(e[t]=X[t]);Z.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Z.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";Z.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](i({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](i({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var i in Z.forEach((function(o){var i=o.pluginName;if(e.options[i]||o.initializeByDefault){var r=new o(e,t,e.options);r.sortable=e,r.options=e.options,e[i]=r,a(n,r.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);void 0!==r&&(e.options[i]=r)}},getEventProperties:function(e,t){var n={};return Z.forEach((function(o){"function"==typeof o.eventProperties&&a(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return Z.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(o=i.optionListeners[t].call(e[i.pluginName],n))})),o}};function U(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,h=e.newIndex,f=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,O=e.extraEventProperties;if(t=t||n&&n[V]){var v,b=t.options,y="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||u||d?(v=document.createEvent("Event")).initEvent(o,!0,!0):v=new CustomEvent(o,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=l||n,v.item=r||n,v.clone=s,v.oldIndex=c,v.newIndex=h,v.oldDraggableIndex=f,v.newDraggableIndex=p,v.originalEvent=m,v.pullMode=g?g.lastPutMode:void 0;var x=i(i({},O),W.getEventProperties(o,t));for(var w in x)v[w]=x[w];n&&n.dispatchEvent(v),b[y]&&b[y].call(t,v)}}var Y=["evt"],F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=l(n,Y);W.pluginEvent.bind(je)(e,t,i({dragEl:H,parentEl:G,ghostEl:K,rootEl:J,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:oe,dragStarted:ge,putSortable:ce,activeSortable:je.active,originalEvent:o,oldIndex:ie,oldDraggableIndex:se,newIndex:re,newDraggableIndex:ae,hideGhostForTarget:Re,unhideGhostForTarget:ze,cloneNowHidden:function(){oe=!0},cloneNowShown:function(){oe=!1},dispatchSortableEvent:function(e){q({sortable:t,name:e,originalEvent:o})}},r))};function q(e){U(i({putSortable:ce,cloneEl:ne,targetEl:H,rootEl:J,oldIndex:ie,oldDraggableIndex:se,newIndex:re,newDraggableIndex:ae},e))}var H,G,K,J,ee,te,ne,oe,ie,re,se,ae,le,ce,ue,de,he,fe,pe,me,ge,Oe,ve,be,ye,xe=!1,we=!1,Se=[],_e=!1,ke=!1,Ce=[],Te=!1,$e=[],Pe="undefined"!=typeof document,Ae=p,Qe=d||u?"cssFloat":"float",Ee=Pe&&!m&&!p&&"draggable"in document.createElement("div"),Me=function(){if(Pe){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),De=function(e,t){var n=k(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Q(e,0,t),r=Q(e,1,t),s=i&&k(i),a=r&&k(r),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+P(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+P(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!r||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=o&&"none"===n[Qe]||r&&"none"===n[Qe]&&l+c>o)?"vertical":"horizontal"},Ie=function(e){function t(e,n){return function(o,i,r,s){var a=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,i,r,s),n)(o,i,r,s);var l=(n?o:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},o=e.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Re=function(){!Me&&K&&k(K,"display","none")},ze=function(){!Me&&K&&k(K,"display","")};Pe&&!m&&document.addEventListener("click",(function(e){if(we)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),we=!1,!1}),!0);var Ne=function(e){if(H){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,r=e.clientY,Se.some((function(e){var t=e[V].options.emptyInsertThreshold;if(t&&!E(e)){var n=P(e),o=i>=n.left-t&&i<=n.right+t,a=r>=n.top-t&&r<=n.bottom+t;return o&&a?s=e:void 0}})),s);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[V]._onDragOver(n)}}var i,r,s},Le=function(e){H&&H.parentNode[V]._isOutsideThisEl(e.target)};function je(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[V]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return De(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==je.supportPointer&&"PointerEvent"in window&&(!f||p),emptyInsertThreshold:5};for(var o in W.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var i in Ie(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ee,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?O(e,"pointerdown",this._onTapStart):(O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Se.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,B())}function Ve(e,t,n,o,i,r,s,a){var l,c,h=e[V],f=h.options.onMove;return!window.CustomEvent||u||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=i||t,l.relatedRect=r||P(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),f&&(c=f.call(h,l,s)),c}function Be(e){e.draggable=!1}function Ze(){Te=!1}function Xe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function We(e){return setTimeout(e,0)}function Ue(e){return clearTimeout(e)}je.prototype={constructor:je,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Oe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,H):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,i=o.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=o.filter;if(function(e){$e.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&$e.push(o)}}(n),!H&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||o.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!f||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=x(a,o.draggable,n,!1))&&a.animated||te===a)){if(ie=M(a),se=M(a,o.draggable),"function"==typeof c){if(c.call(this,e,a,this))return q({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),F("filter",t,{evt:e}),void(i&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=x(l,o.trim(),n,!1))return q({sortable:t,rootEl:o,name:"filter",targetEl:a,fromEl:n,toEl:n}),F("filter",t,{evt:e}),!0}))))return void(i&&e.preventDefault());o.handle&&!x(l,o.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var o,i=this,r=i.el,s=i.options,a=r.ownerDocument;if(n&&!H&&n.parentNode===r){var l=P(n);if(J=r,G=(H=n).parentNode,ee=H.nextSibling,te=n,le=s.group,je.dragged=H,ue={target:H,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=ue.clientX-l.left,me=ue.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,H.style["will-change"]="all",o=function(){F("delayEnded",i,{evt:e}),je.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!h&&i.nativeDraggable&&(H.draggable=!0),i._triggerDragStart(e,t),q({sortable:i,name:"choose",originalEvent:e}),_(H,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){T(H,e.trim(),Be)})),O(a,"dragover",Ne),O(a,"mousemove",Ne),O(a,"touchmove",Ne),s.supportPointer?(O(a,"pointerup",i._onDrop),!this.nativeDraggable&&O(a,"pointercancel",i._onDrop)):(O(a,"mouseup",i._onDrop),O(a,"touchend",i._onDrop),O(a,"touchcancel",i._onDrop)),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,H.draggable=!0),F("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||u))o();else{if(je.eventCanceled)return void this._onDrop();s.supportPointer?(O(a,"pointerup",i._disableDelayedDrag),O(a,"pointercancel",i._disableDelayedDrag)):(O(a,"mouseup",i._disableDelayedDrag),O(a,"touchend",i._disableDelayedDrag),O(a,"touchcancel",i._disableDelayedDrag)),O(a,"mousemove",i._delayedDragTouchMoveHandler),O(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&O(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){H&&Be(H),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"pointerup",this._disableDelayedDrag),v(e,"pointercancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):O(document,t?"touchmove":"mousemove",this._onTouchMove):(O(H,"dragend",this),O(J,"dragstart",this._onDragStart));try{document.selection?We((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(xe=!1,J&&H){F("dragStarted",this,{evt:t}),this.nativeDraggable&&O(document,"dragover",Le);var n=this.options;!e&&_(H,n.dragClass,!1),_(H,n.ghostClass,!0),je.active=this,e&&this._appendGhost(),q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,Re();for(var e=document.elementFromPoint(de.clientX,de.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY))!==t;)t=e;if(H.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){if(t[V]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=y(t));ze()}},_onTouchMove:function(e){if(ue){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=K&&C(K,!0),s=K&&r&&r.a,a=K&&r&&r.d,l=Ae&&ye&&D(ye),c=(i.clientX-ue.clientX+o.x)/(s||1)+(l?l[0]-Ce[0]:0)/(s||1),u=(i.clientY-ue.clientY+o.y)/(a||1)+(l?l[1]-Ce[1]:0)/(a||1);if(!je.active&&!xe){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(K){r?(r.e+=c-(he||0),r.f+=u-(fe||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");k(K,"webkitTransform",d),k(K,"mozTransform",d),k(K,"msTransform",d),k(K,"transform",d),he=c,fe=u,de=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!K){var e=this.options.fallbackOnBody?document.body:J,t=P(H,!0,Ae,!0,e),n=this.options;if(Ae){for(ye=e;"static"===k(ye,"position")&&"none"===k(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=$()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=$(),Ce=D(ye)}_(K=H.cloneNode(!0),n.ghostClass,!1),_(K,n.fallbackClass,!0),_(K,n.dragClass,!0),k(K,"transition",""),k(K,"transform",""),k(K,"box-sizing","border-box"),k(K,"margin",0),k(K,"top",t.top),k(K,"left",t.left),k(K,"width",t.width),k(K,"height",t.height),k(K,"opacity","0.8"),k(K,"position",Ae?"absolute":"fixed"),k(K,"zIndex","100000"),k(K,"pointerEvents","none"),je.ghost=K,e.appendChild(K),k(K,"transform-origin",pe/parseInt(K.style.width)*100+"% "+me/parseInt(K.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,i=n.options;F("dragStart",this,{evt:e}),je.eventCanceled?this._onDrop():(F("setupClone",this),je.eventCanceled||((ne=L(H)).removeAttribute("id"),ne.draggable=!1,ne.style["will-change"]="",this._hideClone(),_(ne,this.options.chosenClass,!1),je.clone=ne),n.cloneId=We((function(){F("clone",n),je.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore(ne,H),n._hideClone(),q({sortable:n,name:"clone"}))})),!t&&_(H,i.dragClass,!0),t?(we=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,H)),O(document,"drop",n),k(H,"transform","translateZ(0)")),xe=!0,n._dragStartId=We(n._dragStarted.bind(n,t,e)),O(document,"selectstart",n),ge=!0,window.getSelection().removeAllRanges(),f&&k(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,s=this.el,a=e.target,l=this.options,c=l.group,u=je.active,d=le===c,h=l.sort,f=ce||u,p=this,m=!1;if(!Te){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=x(a,l.draggable,s,!0),L("dragOver"),je.eventCanceled)return m;if(H.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return Z(!1);if(we=!1,u&&!l.disabled&&(d?h||(o=G!==J):ce===this||(this.lastPutMode=le.checkPull(this,u,H,e))&&c.checkPut(this,u,H,e))){if(r="vertical"===this._getDirection(e,a),t=P(H),L("dragOverValid"),je.eventCanceled)return m;if(o)return G=J,B(),this._hideClone(),L("revert"),je.eventCanceled||(ee?J.insertBefore(H,ee):J.appendChild(H)),Z(!0);var g=E(s,l.draggable);if(!g||function(e,t,n){var o=P(E(n.el,n.options.draggable)),i=j(n.el,n.options,K),r=10;return t?e.clientX>i.right+r||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>i.bottom+r||e.clientX>o.right&&e.clientY>o.top}(e,r,this)&&!g.animated){if(g===H)return Z(!1);if(g&&s===e.target&&(a=g),a&&(n=P(a)),!1!==Ve(J,s,H,t,a,n,e,!!a))return B(),g&&g.nextSibling?s.insertBefore(H,g.nextSibling):s.appendChild(H),G=s,X(),Z(!0)}else if(g&&function(e,t,n){var o=P(Q(n.el,0,n.options,!0)),i=j(n.el,n.options,K),r=10;return t?e.clientX<i.left-r||e.clientY<o.top&&e.clientX<o.right:e.clientY<i.top-r||e.clientY<o.bottom&&e.clientX<o.left}(e,r,this)){var O=Q(s,0,l,!0);if(O===H)return Z(!1);if(n=P(a=O),!1!==Ve(J,s,H,t,a,n,e,!1))return B(),s.insertBefore(H,O),G=s,X(),Z(!0)}else if(a.parentNode===s){n=P(a);var v,b,y,w=H.parentNode!==s,S=!function(e,t,n){var o=n?e.left:e.top,i=n?e.right:e.bottom,r=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return o===s||i===a||o+r/2===s+l/2}(H.animated&&H.toRect||t,a.animated&&a.toRect||n,r),C=r?"top":"left",T=A(a,"top","top")||A(H,"top","top"),$=T?T.scrollTop:void 0;if(Oe!==a&&(b=n[C],_e=!1,ke=!S&&l.invertSwap||w),v=function(e,t,n,o,i,r,s,a){var l=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,h=!1;if(!s)if(a&&be<c*i){if(!_e&&(1===ve?l>u+c*r/2:l<d-c*r/2)&&(_e=!0),_e)h=!0;else if(1===ve?l<u+be:l>d-be)return-ve}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return M(H)<M(e)?1:-1}(t);if((h=h||s)&&(l<u+c*r/2||l>d-c*r/2))return l>u+c/2?1:-1;return 0}(e,a,n,r,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,ke,Oe===a),0!==v){var D=M(H);do{D-=v,y=G.children[D]}while(y&&("none"===k(y,"display")||y===K))}if(0===v||y===a)return Z(!1);Oe=a,ve=v;var I=a.nextElementSibling,R=!1,z=Ve(J,s,H,t,a,n,e,R=1===v);if(!1!==z)return 1!==z&&-1!==z||(R=1===z),Te=!0,setTimeout(Ze,30),B(),R&&!I?s.appendChild(H):a.parentNode.insertBefore(H,R?I:a),T&&N(T,0,$-T.scrollTop),G=H.parentNode,void 0===b||ke||(be=Math.abs(b-P(a)[C])),X(),Z(!0)}if(s.contains(H))return Z(!1)}return!1}function L(l,c){F(l,p,i({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:a,completed:Z,onMove:function(n,o){return Ve(J,s,H,t,n,P(n),e,o)},changed:X},c))}function B(){L("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function Z(t){return L("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==f&&(_(H,ce?ce.options.ghostClass:u.options.ghostClass,!1),_(H,l.ghostClass,!0)),ce!==p&&p!==je.active?ce=p:p===je.active&&ce&&(ce=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){L("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===H&&!H.animated||a===s&&!a.animated)&&(Oe=null),l.dragoverBubble||e.rootEl||a===document||(H.parentNode[V]._isOutsideThisEl(e.target),!t&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function X(){re=M(H),ae=M(H,l.draggable),q({sortable:p,name:"change",toEl:s,newIndex:re,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Ne),v(document,"mousemove",Ne),v(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"pointercancel",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;re=M(H),ae=M(H,n.draggable),F("drop",this,{evt:e}),G=H&&H.parentNode,re=M(H),ae=M(H,n.draggable),je.eventCanceled||(xe=!1,ke=!1,_e=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ue(this.cloneId),Ue(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&k(document.body,"user-select",""),k(H,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(J===G||ce&&"clone"!==ce.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),H&&(this.nativeDraggable&&v(H,"dragend",this),Be(H),H.style["will-change"]="",ge&&!xe&&_(H,ce?ce.options.ghostClass:this.options.ghostClass,!1),_(H,this.options.chosenClass,!1),q({sortable:this,name:"unchoose",toEl:G,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==G?(re>=0&&(q({rootEl:G,name:"add",toEl:G,fromEl:J,originalEvent:e}),q({sortable:this,name:"remove",toEl:G,originalEvent:e}),q({rootEl:G,name:"sort",toEl:G,fromEl:J,originalEvent:e}),q({sortable:this,name:"sort",toEl:G,originalEvent:e})),ce&&ce.save()):re!==ie&&re>=0&&(q({sortable:this,name:"update",toEl:G,originalEvent:e}),q({sortable:this,name:"sort",toEl:G,originalEvent:e})),je.active&&(null!=re&&-1!==re||(re=ie,ae=se),q({sortable:this,name:"end",toEl:G,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){F("nulling",this),J=H=G=K=ee=ne=te=oe=ue=de=ge=re=ae=ie=se=Oe=ve=ce=le=je.dragged=je.ghost=je.clone=je.active=null,$e.forEach((function(e){e.checked=!0})),$e.length=he=fe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":H&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)x(e=n[o],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Xe(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var i=o.children[t];x(i,this.options.draggable,o,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=W.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&Ie(n)},destroy:function(){F("destroy",this);var e=this.el;e[V]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Se.splice(Se.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oe){if(F("hideClone",this),je.eventCanceled)return;k(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),oe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(oe){if(F("showClone",this),je.eventCanceled)return;H.parentNode!=J||this.options.group.revertClone?ee?J.insertBefore(ne,ee):J.appendChild(ne):J.insertBefore(ne,H),this.options.group.revertClone&&this.animate(H,ne),k(ne,"display",""),oe=!1}}else this._hideClone()}},Pe&&O(document,"touchmove",(function(e){(je.active||xe)&&e.cancelable&&e.preventDefault()})),je.utils={on:O,off:v,css:k,find:T,is:function(e,t){return!!x(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:z,closest:x,toggleClass:_,clone:L,index:M,nextTick:We,cancelNextTick:Ue,detectDirection:De,getChild:Q,expando:V},je.get=function(e){return e[V]},je.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(je.utils=i(i({},je.utils),e.utils)),W.mount(e)}))},je.create=function(e,t){return new je(e,t)},je.version="1.15.6";var Ye,Fe,qe,He,Ge,Ke,Je=[],et=!1;function tt(){Je.forEach((function(e){clearInterval(e.pid)})),Je=[]}function nt(){clearInterval(Ke)}var ot=z((function(e,t,n,o){if(t.scroll){var i,r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=$(),u=!1;Fe!==n&&(Fe=n,tt(),Ye=t.scroll,i=t.scrollFn,!0===Ye&&(Ye=I(n,!0)));var d=0,h=Ye;do{var f=h,p=P(f),m=p.top,g=p.bottom,O=p.left,v=p.right,b=p.width,y=p.height,x=void 0,w=void 0,S=f.scrollWidth,_=f.scrollHeight,C=k(f),T=f.scrollLeft,A=f.scrollTop;f===c?(x=b<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),w=y<_&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(x=b<S&&("auto"===C.overflowX||"scroll"===C.overflowX),w=y<_&&("auto"===C.overflowY||"scroll"===C.overflowY));var Q=x&&(Math.abs(v-r)<=a&&T+b<S)-(Math.abs(O-r)<=a&&!!T),E=w&&(Math.abs(g-s)<=a&&A+y<_)-(Math.abs(m-s)<=a&&!!A);if(!Je[d])for(var M=0;M<=d;M++)Je[M]||(Je[M]={});Je[d].vx==Q&&Je[d].vy==E&&Je[d].el===f||(Je[d].el=f,Je[d].vx=Q,Je[d].vy=E,clearInterval(Je[d].pid),0==Q&&0==E||(u=!0,Je[d].pid=setInterval(function(){o&&0===this.layer&&je.active._onTouchMove(Ge);var t=Je[this.layer].vy?Je[this.layer].vy*l:0,n=Je[this.layer].vx?Je[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(je.dragged.parentNode[V],n,t,e,Ge,Je[this.layer].el)||N(Je[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=I(h,!1)));et=u}}),30),it=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||i;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function rt(){}function st(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Q(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},a(rt,{pluginName:"revertOnSpill"}),st.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},a(st,{pluginName:"removeOnSpill"});je.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):t.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(w),w=void 0},nulling:function(){Ge=Fe=Ye=et=Ke=qe=He=null,Je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(o,i);if(Ge=e,t||this.options.forceAutoScrollFallback||d||u||f){ot(e,this.options,r,t);var s=I(r,!0);!et||Ke&&o===qe&&i===He||(Ke&&nt(),Ke=setInterval((function(){var r=I(document.elementFromPoint(o,i),!0);r!==s&&(s=r,tt()),ot(e,n.options,r,t)}),10),qe=o,He=i)}else{if(!this.options.bubbleScroll||I(r,!0)===$())return void tt();ot(e,this.options,I(r,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),je.mount(st,rt);const at=je},251:(e,t)=>{t.read=function(e,t,n,o,i){var r,s,a=8*i-o-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,r=f&(1<<-u)-1,f>>=-u,u+=a;u>0;r=256*r+e[t+d],d+=h,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=o;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,o),r-=c}return(f?-1:1)*s*Math.pow(2,r-o)},t.write=function(e,t,n,o,i,r){var s,a,l,c=8*r-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:r-1,p=o?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*m}},307:(e,t,n)=>{n(6272),window.Vue=n(9726).default},378:(e,t,n)=>{n(95)},1093:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(6314),i=n.n(o)()((function(e){return e[1]}));i.push([e.id,'/*!\n * TOAST UI ImageEditor\n * @version 3.15.3\n * @license MIT\n */body>textarea{position:fixed!important}.tui-image-editor-container{background-color:#282828;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;letter-spacing:.3px;margin:0;min-height:300px;overflow:hidden;padding:0;position:relative}.tui-image-editor-container div,.tui-image-editor-container input,.tui-image-editor-container label,.tui-image-editor-container li,.tui-image-editor-container ul{-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;-ms-user-select:none;-moz-user-select:-moz-none;-webkit-user-select:none;user-select:none}.tui-image-editor-container .tui-image-editor-header{background-color:#151515;min-width:533px;position:absolute;top:0;width:100%}.tui-image-editor-container .tui-image-editor-controls-buttons,.tui-image-editor-container .tui-image-editor-header-buttons{float:right;margin:8px}.tui-image-editor-container .tui-image-editor-controls-logo,.tui-image-editor-container .tui-image-editor-header-logo{float:left;padding:17px;width:30%}.tui-image-editor-container .tui-image-editor-controls-buttons,.tui-image-editor-container .tui-image-editor-controls-logo{display:none;height:100%;width:270px}.tui-image-editor-container .tui-image-editor-controls-buttons button,.tui-image-editor-container .tui-image-editor-controls-buttons div,.tui-image-editor-container .tui-image-editor-header-buttons button,.tui-image-editor-container .tui-image-editor-header-buttons div{border:1px solid #ddd;border-radius:20px;cursor:pointer;display:inline-block;font-family:Noto Sans,sans-serif;font-size:12px;font-weight:700;height:40px;letter-spacing:.3px;line-height:40px;outline:none;padding:0;position:relative;text-align:center;vertical-align:middle;width:120px}.tui-image-editor-container .tui-image-editor-download-btn{background-color:#fdba3b;border-color:#fdba3b;color:#fff}.tui-image-editor-container .tui-image-editor-load-btn{bottom:0;cursor:pointer;display:inline-block;left:0;opacity:0;position:absolute;right:0;top:0;width:100%}.tui-image-editor-container .tui-image-editor-main-container{bottom:64px;position:absolute;top:0;width:100%}.tui-image-editor-container .tui-image-editor-main{bottom:0;left:0;position:absolute;right:0;text-align:center;top:64px}.tui-image-editor-container .tui-image-editor-wrap{bottom:0;overflow:auto;width:100%}.tui-image-editor-container .tui-image-editor-wrap .tui-image-editor-size-wrap{display:table;height:100%;width:100%}.tui-image-editor-container .tui-image-editor-wrap .tui-image-editor-size-wrap .tui-image-editor-align-wrap{display:table-cell;vertical-align:middle}.tui-image-editor-container .tui-image-editor{display:inline-block;position:relative}.tui-image-editor-container .tui-image-editor-help-menu,.tui-image-editor-container .tui-image-editor-menu{display:table-cell;list-style:none;margin:0 auto;padding:0;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item{border-radius:2px;cursor:pointer;display:inline-block;margin:0 4px;padding:7px 8px 3px;position:relative}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item[tooltip-content]:hover:before,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:hover:before{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #2f2f2f;content:"";display:inline-block;height:0;left:13px;margin:0 auto;position:absolute;top:-2px;width:0}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item[tooltip-content]:hover:after,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:hover:after{background-color:#2f2f2f;border-radius:3px;color:#fff;content:attr(tooltip-content);display:inline-block;font-size:11px;font-weight:lighter;left:0;max-height:23px;min-width:24px;padding:5px 8px;position:absolute;top:-25px}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item.active,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item.active{background-color:#fff;-webkit-transition:all .3s ease;transition:all .3s ease}.tui-image-editor-container .tui-image-editor-wrap{position:absolute}.tui-image-editor-container .tui-image-editor-grid-visual{border:1px solid hsla(0,0%,100%,.7);display:none;height:100%;position:absolute;width:100%}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor{-webkit-transition:none;transition:none}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-grid-visual,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-grid-visual,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-grid-visual{display:block}.tui-image-editor-container .tui-image-editor-grid-visual table{border-collapse:collapse;height:100%;width:100%}.tui-image-editor-container .tui-image-editor-grid-visual table td{border:1px solid hsla(0,0%,100%,.3)}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot:before{background-color:#fff;border:0;border-radius:100%;-webkit-box-shadow:0 0 1px 0 rgba(0,0,0,.3);box-shadow:0 0 1px 0 rgba(0,0,0,.3);-webkit-box-sizing:border-box;box-sizing:border-box;content:"";height:10px;position:absolute;width:10px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.left-top:before{left:-5px;top:-5px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.right-top:before{right:-5px;top:-5px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.left-bottom:before{bottom:-5px;left:-5px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.right-bottom:before{bottom:-5px;right:-5px}.tui-image-editor-container .tui-image-editor-submenu{bottom:0;display:none;height:150px;position:absolute;white-space:nowrap;width:100%;z-index:2}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover svg>use.active{display:block}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item li{display:inline-block;vertical-align:top}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-newline{display:block;margin-top:0}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button{cursor:pointer;display:inline-block;font-size:11px;font-weight:400;margin:0 9px;position:relative}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.preset{margin:0 9px 20px 5px}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item label>span{cursor:pointer;display:inline-block;font-family:Noto Sans,sans-serif;font-size:11px;padding-top:5px}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.apply label,.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.cancel label{vertical-align:7px}.tui-image-editor-container .tui-image-editor-submenu>div{display:none;vertical-align:bottom}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-style{bottom:0;display:block;left:0;opacity:.95;position:absolute;right:0;top:0;z-index:-1}.tui-image-editor-container .tui-image-editor-partition>div{border-left:1px solid #3c3c3c;height:52px;margin:0 8px;width:1px}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-partition>div{height:108px;margin:0 29px 0 0}.tui-image-editor-container .tui-image-editor-submenu-align{margin-right:30px;text-align:left}.tui-image-editor-container .tui-image-editor-submenu-align label>span{white-space:nowrap;width:55px}.tui-image-editor-container .tui-image-editor-submenu-align:first-child{margin-right:0}.tui-image-editor-container .tui-image-editor-submenu-align:first-child label>span{width:70px}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-crop .tui-image-editor-submenu>div.tui-image-editor-menu-crop,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-draw .tui-image-editor-submenu>div.tui-image-editor-menu-draw,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-submenu>div.tui-image-editor-menu-filter,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-submenu>div.tui-image-editor-menu-flip,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-icon .tui-image-editor-submenu>div.tui-image-editor-menu-icon,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-mask .tui-image-editor-submenu>div.tui-image-editor-menu-mask,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-submenu>div.tui-image-editor-menu-resize,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-submenu>div.tui-image-editor-menu-rotate,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-shape .tui-image-editor-submenu>div.tui-image-editor-menu-shape,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-text .tui-image-editor-submenu>div.tui-image-editor-menu-text,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-zoom .tui-image-editor-submenu>div.tui-image-editor-menu-zoom{display:table-cell}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-crop .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-draw .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-icon .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-mask .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-shape .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-text .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-zoom .tui-image-editor-submenu{display:table}.tui-image-editor-container .tui-image-editor-help-menu{background-color:hsla(0,0%,100%,.06);border-radius:20px;list-style:none;margin:0 auto;padding:0;position:absolute;text-align:center;vertical-align:middle;z-index:2}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history{background-color:#fff;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.15);box-shadow:0 2px 6px 0 rgba(0,0,0,.15);color:#444;cursor:auto;display:none;height:276px;padding:4px 2px;position:absolute;-webkit-transform:translateX(calc(-50% + 12px));transform:translateX(calc(-50% + 12px));width:196px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list{height:268px;list-style:none;overflow:hidden scroll;padding:0}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item{font-size:11px;height:24px;line-height:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item{cursor:pointer;height:24px;position:relative}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item svg{height:24px;width:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item span{display:inline-block;height:24px;text-align:left;width:128px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item .history-item-icon{display:inline-block;height:24px;left:6px;position:absolute;top:6px;width:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item .history-item-checkbox{display:none;height:24px;position:absolute;right:-6px;top:5px;width:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.selected-item{background-color:hsla(0,0%,47%,.12)}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.selected-item .history-item-checkbox{display:inline-block}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.disabled-item{color:#333;opacity:.3}.tui-image-editor-container .tui-image-editor-help-menu .opened .tie-panel-history{display:block}.tui-image-editor-container .tui-image-editor-help-menu .opened .tie-panel-history:before{content:"";display:inline-block;height:0;margin:0 auto;position:absolute;width:0}.tui-image-editor-container .filter-color-item{display:inline-block}.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox{display:block}.tui-image-editor-container .tui-image-editor-checkbox-wrap{display:inline-block!important;text-align:left}.tui-image-editor-container .tui-image-editor-checkbox-wrap.fixed-width{white-space:normal;width:187px}.tui-image-editor-container .tui-image-editor-checkbox{display:inline-block;margin:1px 0}.tui-image-editor-container .tui-image-editor-checkbox input{height:14px;opacity:0;width:14px}.tui-image-editor-container .tui-image-editor-checkbox>label>span{color:#fff;height:14px;position:relative}.tui-image-editor-container .tui-image-editor-checkbox input+label:before,.tui-image-editor-container .tui-image-editor-checkbox>label>span:before{background-color:#fff;border:0;border-radius:2px;-webkit-box-sizing:border-box;box-sizing:border-box;content:"";display:inline-block;font-size:11px;height:14px;left:-19px;margin:0;padding-top:1px;position:absolute;text-align:center;top:6px;width:14px}.tui-image-editor-container .tui-image-editor-checkbox input[type=checkbox]:checked+span:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAMBJREFUKBWVkjEOwjAMRe2WgZW7IIHEDdhghhuwcQ42rlJugAQS54Cxa5cq1QM5TUpByZfS2j9+dlJVt/tX5ZxbS4ZU9VLkQvSHKTIGRaVJYFmKrBbTCJxE2UgCdDzMZDkHrOV6b95V0US6UmgKodujEZbJg0B0ZgEModO5lrY1TMQf1TpyJGBEjD+E2NPN7ukIUDiF/BfEXgRiGEw8NgkffYGYwCi808fpn/6OvfUfsDr/Vc1IfRf8sKnFVqeiVQfDu0tf/nWH9gAAAABJRU5ErkJggg==);background-size:cover}.tui-image-editor-container .tui-image-editor-selectlist-wrap{position:relative}.tui-image-editor-container .tui-image-editor-selectlist-wrap select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #cbdbdb;border-radius:0;height:28px;margin-top:4px;outline:0;padding:0 7px 0 10px;width:100%}.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist{background-color:#fff;border:1px solid #ccc;border-top:0;display:none;padding:4px 0;position:relative;top:-1px}.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist li{display:block;font-family:Noto Sans,sans-serif;padding:7px 10px;text-align:left}.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist li:hover{background-color:rgba(81,92,230,.05)}.tui-image-editor-container .tui-image-editor-selectlist-wrap:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAHlJREFUKBVjYBgFOEOAEVkmPDxc89+/f6eAYjzI4kD2FyYmJrOVK1deh4kzwRggGiQBVJCELAZig8SQNYHEmEEEMrh69eo1HR0dfqCYJUickZGxf9WqVf3IakBsFBthklpaWmVA9mEQhrJhUoTp0NBQCRAmrHL4qgAAuu4cWZOZIGsAAAAASUVORK5CYII=);background-size:cover;content:"";display:inline-block;height:14px;position:absolute;right:5px;top:10px;width:14px}.tui-image-editor-container .tui-image-editor-selectlist-wrap select::-ms-expand{display:none}.tui-image-editor-container .tui-image-editor-virtual-range-bar .tui-image-editor-disabled,.tui-image-editor-container .tui-image-editor-virtual-range-pointer .tui-image-editor-disabled,.tui-image-editor-container .tui-image-editor-virtual-range-subbar .tui-image-editor-disabled{backbround-color:red}.tui-image-editor-container .tui-image-editor-range{display:inline-block;height:17px;position:relative;top:5px;width:166px}.tui-image-editor-container .tui-image-editor-virtual-range-bar{background-color:#666;height:2px;position:absolute;top:7px;width:100%}.tui-image-editor-container .tui-image-editor-virtual-range-subbar{background-color:#d1d1d1;height:100%;left:0;position:absolute;right:0}.tui-image-editor-container .tui-image-editor-virtual-range-pointer{background-color:#fff;border-radius:100%;cursor:pointer;height:12px;left:0;position:absolute;top:-5px;width:12px}.tui-image-editor-container .tui-image-editor-range-wrap{display:inline-block;margin-left:4px}.tui-image-editor-container .tui-image-editor-range-wrap.short .tui-image-editor-range{width:100px}.tui-image-editor-container .color-picker-control .tui-image-editor-range{margin-left:10px;width:108px}.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-pointer{background-color:#333}.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-bar{background-color:#ccc}.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-subbar{background-color:#606060}.tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short{margin-left:19px;margin-top:-2px}.tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label{color:#8e8e8e;font-weight:400}.tui-image-editor-container .tui-image-editor-range-wrap label{color:#fff;font-size:11px;margin-right:7px;vertical-align:baseline}.tui-image-editor-container .tui-image-editor-range-value{background-color:#1c1c1c;border:1px solid #d5d5d5;border-radius:2px;-webkit-box-shadow:none;box-shadow:none;color:#fff;cursor:default;font-family:Noto Sans,sans-serif;font-weight:lighter;height:24px;margin-left:4px;margin-top:15px;outline:none;text-align:center;vertical-align:baseline;width:40px}.tui-image-editor-container .tui-image-editor-controls{background-color:#151515;bottom:0;display:table;height:64px;position:absolute;width:100%;z-index:2}.tui-image-editor-container .tui-image-editor-icpartition{background-color:#444;display:inline-block;height:24px;width:1px}.tui-image-editor-container.left .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:before{border-bottom:7px solid transparent;border-right:7px solid #2f2f2f;border-top:7px solid transparent;left:28px;top:11px}.tui-image-editor-container.left .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:after{left:42px;top:7px;white-space:nowrap}.tui-image-editor-container.left .tui-image-editor-submenu{height:100%;left:0;width:248px}.tui-image-editor-container.left .tui-image-editor-main-container{height:100%;left:64px;width:calc(100% - 64px)}.tui-image-editor-container.left .tui-image-editor-controls{display:table;height:100%;width:64px}.tui-image-editor-container.left .tui-image-editor-menu,.tui-image-editor-container.right .tui-image-editor-menu{white-space:inherit}.tui-image-editor-container.left .tui-image-editor-submenu,.tui-image-editor-container.right .tui-image-editor-submenu{white-space:normal}.tui-image-editor-container.left .tui-image-editor-submenu>div,.tui-image-editor-container.right .tui-image-editor-submenu>div{vertical-align:middle}.tui-image-editor-container.left .tui-image-editor-controls li,.tui-image-editor-container.right .tui-image-editor-controls li{display:inline-block;margin:4px auto}.tui-image-editor-container.left .tui-image-editor-icpartition,.tui-image-editor-container.right .tui-image-editor-icpartition{height:1px;position:relative;top:-7px;width:24px}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition{display:block;margin:auto;width:75%}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition>div,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition>div{border-bottom:1px solid #3c3c3c;border-left:0;height:10px;margin:0;width:100%}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-align,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-align{margin-right:0}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-item li,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-item li{margin-top:15px}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-colorpicker-clearfix li,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-colorpicker-clearfix li{margin-top:0}.tui-image-editor-container.left .tui-image-editor-checkbox-wrap.fixed-width,.tui-image-editor-container.right .tui-image-editor-checkbox-wrap.fixed-width{white-space:normal;width:182px}.tui-image-editor-container.left .tui-image-editor-range-wrap.tui-image-editor-newline label.range,.tui-image-editor-container.right .tui-image-editor-range-wrap.tui-image-editor-newline label.range{display:block;margin:auto;text-align:left;width:75%}.tui-image-editor-container.left .tui-image-editor-range,.tui-image-editor-container.right .tui-image-editor-range{width:136px}.tui-image-editor-container.right .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:before{border-bottom:7px solid transparent;border-left:7px solid #2f2f2f;border-top:7px solid transparent;left:-3px;top:11px}.tui-image-editor-container.right .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:after{left:unset;right:43px;top:7px;white-space:nowrap}.tui-image-editor-container.right .tui-image-editor-submenu{height:100%;right:0;width:248px}.tui-image-editor-container.right .tui-image-editor-main-container{height:100%;right:64px;width:calc(100% - 64px)}.tui-image-editor-container.right .tui-image-editor-controls{display:table;height:100%;right:0;width:64px}.tui-image-editor-container.bottom .tui-image-editor-submenu .tui-image-editor-partition.only-left-right,.tui-image-editor-container.top .tui-image-editor-submenu .tui-image-editor-partition.only-left-right{display:none}.tui-image-editor-container.bottom .tui-image-editor-submenu>div{padding-bottom:24px}.tui-image-editor-container.top .color-picker-control .triangle{border-bottom:8px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent;border-top:0;top:-8px}.tui-image-editor-container.top .tui-image-editor-size-wrap{height:100%}.tui-image-editor-container.top .tui-image-editor-main-container{bottom:0}.tui-image-editor-container.top .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:before{border-bottom:7px solid #2f2f2f;border-top:0;left:13px;top:33px}.tui-image-editor-container.top .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:after{top:38px}.tui-image-editor-container.top .tui-image-editor-submenu{bottom:auto;top:0}.tui-image-editor-container.top .tui-image-editor-submenu>div{padding-top:24px;vertical-align:top}.tui-image-editor-container.top .tui-image-editor-controls-buttons,.tui-image-editor-container.top .tui-image-editor-controls-logo{display:table-cell}.tui-image-editor-container.top .tui-image-editor-main{height:calc(100% - 64px);top:64px}.tui-image-editor-container.top .tui-image-editor-controls{bottom:inherit;top:0}.tui-image-editor-container .tui-image-editor-help-menu.top{height:40px;left:50%;top:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;width:506px}.tui-image-editor-container .tui-image-editor-help-menu.top .tie-panel-history{top:45px}.tui-image-editor-container .tui-image-editor-help-menu.top .opened .tie-panel-history:before{border-bottom:8px solid #fff;border-left:8px solid transparent;border-right:8px solid transparent;left:90px;top:-8px}.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-bottom:7px solid #2f2f2f;border-top:none;left:13px;top:35px}.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content]:after{left:-4px;top:41px;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tui-image-editor-help-menu.bottom{bottom:8px;height:40px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;width:506px}.tui-image-editor-container .tui-image-editor-help-menu.bottom .tie-panel-history{bottom:45px}.tui-image-editor-container .tui-image-editor-help-menu.bottom .opened .tie-panel-history:before{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff;bottom:-8px;left:90px}.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-bottom:none;border-top-color:#2f2f2f;bottom:36px;left:13px;top:auto}.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content]:after{bottom:41px;left:-4px;top:auto;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tui-image-editor-help-menu.left{height:506px;left:8px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);white-space:inherit;width:40px}.tui-image-editor-container .tui-image-editor-help-menu.left .tie-panel-history{left:140px;top:-4px}.tui-image-editor-container .tui-image-editor-help-menu.left .opened .tie-panel-history:before{border-bottom:8px solid transparent;border-right:8px solid #fff;border-top:8px solid transparent;left:-8px;top:14px}.tui-image-editor-container .tui-image-editor-help-menu.left .tui-image-editor-item{margin:4px auto;padding:6px 8px}.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-left:none;border-right-color:#2f2f2f;left:27px;top:11px}.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content]:after{left:40px;top:7px;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tui-image-editor-help-menu.right{height:506px;right:8px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);white-space:inherit;width:40px}.tui-image-editor-container .tui-image-editor-help-menu.right .tie-panel-history{right:-30px;top:-4px}.tui-image-editor-container .tui-image-editor-help-menu.right .opened .tie-panel-history:before{border-bottom:8px solid transparent;border-left:8px solid #fff;border-top:8px solid transparent;right:-8px;top:14px}.tui-image-editor-container .tui-image-editor-help-menu.right .tui-image-editor-item{margin:4px auto;padding:6px 8px}.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-left:7px solid #2f2f2f;border-right:none;left:-6px;top:11px}.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content]:after{left:auto;right:39px;top:7px;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tie-icon-add-button .tui-image-editor-button{min-width:42px}.tui-image-editor-container .svg_ic-helpmenu,.tui-image-editor-container .svg_ic-menu{height:24px;width:24px}.tui-image-editor-container .svg_ic-submenu{height:32px;width:32px}.tui-image-editor-container .svg_img-bi{height:26px;width:257px}.tui-image-editor-container .tui-image-editor-controls svg>use,.tui-image-editor-container .tui-image-editor-help-menu svg>use{display:none}.tui-image-editor-container .tui-image-editor-controls .enabled svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-controls .normal svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .enabled svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .normal svg:hover>use.hover{display:block}.tui-image-editor-container .tui-image-editor-controls .active svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .active svg:hover>use.hover{display:none}.tui-image-editor-container .tui-image-editor-controls .active svg>use.active,.tui-image-editor-container .tui-image-editor-controls .enabled svg>use.enabled,.tui-image-editor-container .tui-image-editor-controls .on svg>use.hover,.tui-image-editor-container .tui-image-editor-controls .opened svg>use.hover,.tui-image-editor-container .tui-image-editor-controls svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .active svg>use.active,.tui-image-editor-container .tui-image-editor-help-menu .enabled svg>use.enabled,.tui-image-editor-container .tui-image-editor-help-menu .on svg>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .opened svg>use.hover,.tui-image-editor-container .tui-image-editor-help-menu svg>use.normal{display:block}.tui-image-editor-container .tui-image-editor-controls .active svg>use.normal,.tui-image-editor-container .tui-image-editor-controls .enabled svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .active svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .enabled svg>use.normal{display:none}.tui-image-editor-container .tui-image-editor-controls .help svg>use.disabled,.tui-image-editor-container .tui-image-editor-controls .help.enabled svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .help svg>use.disabled,.tui-image-editor-container .tui-image-editor-help-menu .help.enabled svg>use.normal{display:block}.tui-image-editor-container .tui-image-editor-controls .help.enabled svg>use.disabled,.tui-image-editor-container .tui-image-editor-help-menu .help.enabled svg>use.disabled{display:none}.tui-image-editor-container .tui-image-editor-controls:hover{z-index:3}.tui-image-editor-container div.tui-colorpicker-clearfix{background-color:#f5f5f5;border:1px solid #d5d5d5;border-radius:2px;height:28px;margin-top:6px;padding:4px 7px;width:159px}.tui-image-editor-container .tui-colorpicker-palette-hex{background-color:#f5f5f5;border:0;font-family:Noto Sans,sans-serif;font-size:11px;margin-top:2px;width:114px}.tui-image-editor-container .tui-colorpicker-palette-hex[value=""]+.tui-colorpicker-palette-preview,.tui-image-editor-container .tui-colorpicker-palette-hex[value="#ffffff"]+.tui-colorpicker-palette-preview{border:1px solid #ccc}.tui-image-editor-container .tui-colorpicker-palette-hex[value=""]+.tui-colorpicker-palette-preview{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdBJREFUWAnFl0FuwjAQRZ0ukiugHqFSOQNdseuKW3ALzkA4BateICvUGyCxrtRFd4WuunH/TzykaYJrnLEYaTJJsP2+x8GZZCbQrLU5mj7Bn+EP8HvnCObd+R7xBV5lWfaNON4AnsA38E94qLEt+0yiFaBzAV/Bv+Cxxr4co7hKCDpw1q9wLeNYYdlAwyn8TYt8Hme3+8D5ozcTaMCZ68PXa2tnM2sbEcOZAJhrrpl2DAcTOGNjZPSfCdzkw6JrfbiMv+osBe4y9WOedhm4jZfhbENWuxS44H9Wz/xw4WzqLOAqh1+zycgAwzEMzr5k5gaHOa9ULBwuuDkFlHI1Kl4PJ66kgIpnoywOTmRFAYcbwYk9UMApWkD8zAV5ihcwHk4Rx7gl0IFTQL0EFc+CTQ9OZHWH3YhlVJiVpTHbrTGLhTHLZVgff6s9lyBsI9KduSS83oj+34rTwJutmBmCnMsvozRwZqB5GTkBw6/jdPDu69iJ6BYk6eCcfbcgcQIK/MByaaiMqm8rHcjol2TnpWDhyAKSGdA3FrxtJUToX0ODqatetfGE+8tyEUOV8GY5dGRwLP/MBS4RHQr4bT7NRAQjlcOTfZxmv2G+c4hI8nn+Ax5PG/zhI393AAAAAElFTkSuQmCC);background-size:cover}.tui-image-editor-container .tui-colorpicker-palette-preview{border:0;border-radius:100%;float:left;height:17px;width:17px}.tui-image-editor-container .color-picker-control{background-color:#fff;border-radius:2px;-webkit-box-shadow:0 3px 22px 6px rgba(0,0,0,.15);box-shadow:0 3px 22px 6px rgba(0,0,0,.15);display:none;padding:16px;position:absolute;width:192px;z-index:99}.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-toggle-slider{display:none}.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button{background-size:cover;border:0;border-radius:100%;font-size:1px;margin:2px}.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button[title=""],.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button[title="#ffffff"]{border:1px solid #ccc}.tui-image-editor-container .color-picker-control .triangle{border-left:7px solid transparent;border-right:7px solid transparent;border-top:8px solid #fff;bottom:-8px;height:0;left:84px;position:absolute;width:0}.tui-image-editor-container .color-picker-control .tui-colorpicker-container,.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-container,.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-container ul{height:auto;width:100%}.tui-image-editor-container .filter-color-item .color-picker-control label{font-color:#333;font-weight:400;margin-right:7pxleft}.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox{margin-top:0}.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox input+label:before,.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox>label:before{left:-16px}.tui-image-editor-container .color-picker{height:auto;width:100%}.tui-image-editor-container .color-picker-value{border:0;border-radius:100%;height:32px;margin:auto auto 1px;width:32px}.tui-image-editor-container .color-picker-value.transparent{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdBJREFUWAnFl0FuwjAQRZ0ukiugHqFSOQNdseuKW3ALzkA4BateICvUGyCxrtRFd4WuunH/TzykaYJrnLEYaTJJsP2+x8GZZCbQrLU5mj7Bn+EP8HvnCObd+R7xBV5lWfaNON4AnsA38E94qLEt+0yiFaBzAV/Bv+Cxxr4co7hKCDpw1q9wLeNYYdlAwyn8TYt8Hme3+8D5ozcTaMCZ68PXa2tnM2sbEcOZAJhrrpl2DAcTOGNjZPSfCdzkw6JrfbiMv+osBe4y9WOedhm4jZfhbENWuxS44H9Wz/xw4WzqLOAqh1+zycgAwzEMzr5k5gaHOa9ULBwuuDkFlHI1Kl4PJ66kgIpnoywOTmRFAYcbwYk9UMApWkD8zAV5ihcwHk4Rx7gl0IFTQL0EFc+CTQ9OZHWH3YhlVJiVpTHbrTGLhTHLZVgff6s9lyBsI9KduSS83oj+34rTwJutmBmCnMsvozRwZqB5GTkBw6/jdPDu69iJ6BYk6eCcfbcgcQIK/MByaaiMqm8rHcjol2TnpWDhyAKSGdA3FrxtJUToX0ODqatetfGE+8tyEUOV8GY5dGRwLP/MBS4RHQr4bT7NRAQjlcOTfZxmv2G+c4hI8nn+Ax5PG/zhI393AAAAAElFTkSuQmCC);background-size:cover;border:1px solid #cbcbcb}.tui-image-editor-container .color-picker-value+label{color:#fff}.tui-image-editor-container .tui-image-editor-submenu svg>use{display:none}.tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype=icon-arrow] svg>use.active,.tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype=icon-arrow-2] svg>use.active,.tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype=icon-arrow-3] svg>use.active,.tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=icon-bubble] svg>use.active,.tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype=icon-heart] svg>use.active,.tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype=icon-location] svg>use.active,.tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype=icon-polygon] svg>use.active,.tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype=icon-star] svg>use.active,.tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype=icon-star-2] svg>use.active,.tui-image-editor-container .tui-image-editor-submenu svg>use.normal{display:block}.tie-draw-line-select-button.free .tui-image-editor-button.free svg>use.normal,.tie-draw-line-select-button.line .tui-image-editor-button.line svg>use.normal{display:none}.tie-draw-line-select-button.free .tui-image-editor-button.free svg>use.active,.tie-draw-line-select-button.line .tui-image-editor-button.line svg>use.active{display:block}.tie-flip-button.flipX .tui-image-editor-button.flipX svg>use.normal,.tie-flip-button.flipY .tui-image-editor-button.flipY svg>use.normal,.tie-flip-button.resetFlip .tui-image-editor-button.resetFlip svg>use.normal{display:none}.tie-flip-button.flipX .tui-image-editor-button.flipX svg>use.active,.tie-flip-button.flipY .tui-image-editor-button.flipY svg>use.active,.tie-flip-button.resetFlip .tui-image-editor-button.resetFlip svg>use.active{display:block}.tie-mask-apply.apply.active .tui-image-editor-button.apply label{color:#fff}.tie-mask-apply.apply.active .tui-image-editor-button.apply svg>use.active{display:block}.tie-crop-button .tui-image-editor-button.apply,.tie-crop-preset-button .tui-image-editor-button.apply{margin-right:24px}.tie-crop-button .tui-image-editor-button.apply.active svg>use.active,.tie-crop-button .tui-image-editor-button.preset.active svg>use.active,.tie-crop-preset-button .tui-image-editor-button.apply.active svg>use.active,.tie-crop-preset-button .tui-image-editor-button.preset.active svg>use.active{display:block}.tie-resize-button .tui-image-editor-button.apply,.tie-resize-preset-button .tui-image-editor-button.apply{margin-right:24px}.tie-resize-button .tui-image-editor-button.apply.active svg>use.active,.tie-resize-button .tui-image-editor-button.preset.active svg>use.active,.tie-resize-preset-button .tui-image-editor-button.apply.active svg>use.active,.tie-resize-preset-button .tui-image-editor-button.preset.active svg>use.active{display:block}.tie-shape-button.circle .tui-image-editor-button.circle svg>use.normal,.tie-shape-button.rect .tui-image-editor-button.rect svg>use.normal,.tie-shape-button.triangle .tui-image-editor-button.triangle svg>use.normal{display:none}.tie-shape-button.circle .tui-image-editor-button.circle svg>use.active,.tie-shape-button.rect .tui-image-editor-button.rect svg>use.active,.tie-shape-button.triangle .tui-image-editor-button.triangle svg>use.active,.tie-text-align-button.tie-text-align-center .tui-image-editor-button.center svg>use.active,.tie-text-align-button.tie-text-align-left .tui-image-editor-button.left svg>use.active,.tie-text-align-button.tie-text-align-right .tui-image-editor-button.right svg>use.active,.tie-text-effect-button .tui-image-editor-button.active svg>use.active{display:block}.tie-icon-image-file,.tie-mask-image-file{border:1px solid green;cursor:inherit;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.tie-zoom-button.flipX .tui-image-editor-button.flipX svg>use.normal,.tie-zoom-button.flipY .tui-image-editor-button.flipY svg>use.normal,.tie-zoom-button.resetFlip .tui-image-editor-button.resetFlip svg>use.normal{display:none}.tie-zoom-button.flipX .tui-image-editor-button.flipX svg>use.active,.tie-zoom-button.flipY .tui-image-editor-button.flipY svg>use.active,.tie-zoom-button.resetFlip .tui-image-editor-button.resetFlip svg>use.active{display:block}.tui-image-editor-container.top.tui-image-editor-top-optimization .tui-image-editor-controls ul{text-align:right}.tui-image-editor-container.top.tui-image-editor-top-optimization .tui-image-editor-controls-logo{display:none}',""]);const r=i},1145:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(6314),i=n.n(o)()((function(e){return e[1]}));i.push([e.id,'/*!\n * TOAST UI Color Picker\n * @version 2.2.8\n * @author NHN Cloud FE Development Team <dl_javascript@nhn.com>\n * @license MIT\n */.tui-colorpicker-clearfix{zoom:1}.tui-colorpicker-clearfix:after{clear:both;content:"";display:block}.tui-colorpicker-vml{behavior:url(#default#VML);display:block}.tui-colorpicker-container,.tui-colorpicker-palette-container{width:152px}.tui-colorpicker-palette-container ul{margin:0;padding:0;width:152px}.tui-colorpicker-palette-container li{float:left;list-style:none;margin:0;padding:0 3px 3px 0}.tui-colorpicker-palette-button{border:1px solid #ccc;cursor:pointer;display:block;height:16px;margin:0;outline:none;overflow:hidden;padding:0;width:16px}.tui-colorpicker-palette-button.tui-colorpicker-selected{border:2px solid #000}.tui-colorpicker-palette-button.tui-colorpicker-color-transparent{barckground-repeat:repeat;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAOCAYAAAD0f5bSAAABfGlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGAqSSwoyGFhYGDIzSspCnJ3UoiIjFJgv8PAzcDDIMRgxSCemFxc4BgQ4MOAE3y7xsAIoi/rgsxK8/x506a1fP4WNq+ZclYlOrj1gQF3SmpxMgMDIweQnZxSnJwLZOcA2TrJBUUlQPYMIFu3vKQAxD4BZIsUAR0IZN8BsdMh7A8gdhKYzcQCVhMS5AxkSwDZAkkQtgaInQ5hW4DYyRmJKUC2B8guiBvAgNPDRcHcwFLXkYC7SQa5OaUwO0ChxZOaFxoMcgcQyzB4MLgwKDCYMxgwWDLoMjiWpFaUgBQ65xdUFmWmZ5QoOAJDNlXBOT+3oLQktUhHwTMvWU9HwcjA0ACkDhRnEKM/B4FNZxQ7jxDLX8jAYKnMwMDcgxBLmsbAsH0PA4PEKYSYyjwGBn5rBoZt5woSixLhDmf8xkKIX5xmbARh8zgxMLDe+///sxoDA/skBoa/E////73o//+/i4H2A+PsQA4AJHdp4IxrEg8AAAGbaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjEzPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CghrN1AAAABzSURBVCgVldKxEYAgDAXQD5VOpLuwgi4jlrTMqF00oOd5Aia/CcV/F4oYOgNlrLjvVyCEVJchBjEC25538PeaWTzRMBLxvIL7UZwFwL06qoA6aoAy+gFfJABvJAQPUoCMlICRRd8BzgHzJL4ok9aJ67l4AK9AxVKhHryUAAAAAElFTkSuQmCC");background-repeat:no-repeat}.tui-colorpicker-palette-hex{font-family:monospace;width:60px}.tui-colorpicker-palette-hex,.tui-colorpicker-palette-preview{zoom:1;display:inline-block;*display:inline;vertical-align:middle}.tui-colorpicker-palette-preview{border:1px solid #ccc;height:12px;overflow:hidden;width:12px}.tui-colorpicker-palette-toggle-slider{zoom:1;display:inline-block;*display:inline;float:right;vertical-align:middle}.tui-colorpicker-slider-container{zoom:1;height:122px;margin:5px 0 0}.tui-colorpicker-slider-container:after{clear:both;content:"";display:block}.tui-colorpicker-slider-left{float:left;height:120px;width:120px}.tui-colorpicker-slider-right{float:right;height:120px;width:32px}.tui-colorpicker-svg{display:block}.tui-colorpicker-slider-handle{height:1px;left:0;opacity:.9;overflow:visible;position:absolute;top:0;width:1px;z-index:2}.tui-colorpicker-svg-slider,.tui-colorpicker-vml-slider{border:1px solid #ccc;height:120px;overflow:hidden;width:120px}.tui-colorpicker-vml-slider{position:relative}.tui-colorpicker-vml-slider-bg{height:122px;left:0;margin:-1px 0 0 -1px;position:absolute;top:0;width:122px}.tui-colorpicker-svg-huebar{border:1px solid #ccc;float:right;height:120px;overflow:visible;width:18px}.tui-colorpicker-vml-huebar{position:relative;width:32px}.tui-colorpicker-vml-huebar-bg{height:121px;position:absolute;right:0;top:0;width:18px}',""]);const r=i},1148:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},1627:(e,t,n)=>{n(9504)},1688:()=>{},1694:(e,t,n)=>{n(7235)},2171:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=void 0,e=>n===e);var n;class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?o.none():o.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const i=e=>()=>e,r=i(!1),s=(e,t)=>((e,t,n)=>{for(let i=0,r=e.length;i<r;i++){const r=e[i];if(t(r,i))return o.some(r);if(n(r,i))break}return o.none()})(e,t,r);"undefined"!=typeof window?window:Function("return this;")();const a=()=>l(0,0),l=(e,t)=>({major:e,minor:t}),c={nu:l,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?a():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return l(o(1),o(2))})(e,n)},unknown:a},u=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return o.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return s(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:c.nu(parseInt(t.version,10),0)})))})),d=(e,t)=>{const n=String(t).toLowerCase();return s(e,(e=>e.search(n)))},h=(e,n,o=0,i)=>{const r=e.indexOf(n,o);return-1!==r&&(!!t(i)||r+n.length<=i)},f=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,p=e=>t=>h(t,e),m=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>h(e,"edge/")&&h(e,"chrome")&&h(e,"safari")&&h(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,f],search:e=>h(e,"chrome")&&!h(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>h(e,"msie")||h(e,"trident")},{name:"Opera",versionRegexes:[f,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:p("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:p("firefox")},{name:"Safari",versionRegexes:[f,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(h(e,"safari")||h(e,"mobile/"))&&h(e,"applewebkit")}],g=[{name:"Windows",search:p("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>h(e,"iphone")||h(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:p("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:p("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:p("linux"),versionRegexes:[]},{name:"Solaris",search:p("sunos"),versionRegexes:[]},{name:"FreeBSD",search:p("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:p("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],O={browsers:i(m),oses:i(g)},v="Edge",b="Chromium",y="Opera",x="Firefox",w="Safari",S=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(v),isChromium:o(b),isIE:o("IE"),isOpera:o(y),isFirefox:o(x),isSafari:o(w)}},_={unknown:()=>S({current:void 0,version:c.unknown()}),nu:S,edge:i(v),chromium:i(b),ie:i("IE"),opera:i(y),firefox:i(x),safari:i(w)},k="Windows",C="Android",T="Linux",$="macOS",P="Solaris",A="FreeBSD",Q="ChromeOS",E=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(k),isiOS:o("iOS"),isAndroid:o(C),isMacOS:o($),isLinux:o(T),isSolaris:o(P),isFreeBSD:o(A),isChromeOS:o(Q)}},M={unknown:()=>E({current:void 0,version:c.unknown()}),nu:E,windows:i(k),ios:i("iOS"),android:i(C),linux:i(T),macos:i($),solaris:i(P),freebsd:i(A),chromeos:i(Q)},D=(e,t,n)=>{const o=O.browsers(),r=O.oses(),s=t.bind((e=>u(o,e))).orThunk((()=>((e,t)=>d(e,t).map((e=>{const n=c.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(_.unknown,_.nu),a=((e,t)=>d(e,t).map((e=>{const n=c.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(M.unknown,M.nu),l=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),l=a||o("(pointer:coarse)"),c=r||!s&&a&&o("(min-device-width:768px)"),u=s||a&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),h=!u&&!c&&!d;return{isiPad:i(r),isiPhone:i(s),isTablet:i(c),isPhone:i(u),isTouch:i(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:i(d),isDesktop:i(h)}})(a,s,e,n);return{browser:s,os:a,deviceType:l}},I=e=>window.matchMedia(e).matches;let R=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>D(window.navigator.userAgent,o.from(window.navigator.userAgentData),I)));const z=()=>R(),N=()=>{const e=z().os.isMacOS()||z().os.isiOS();return`<script>(${(e=>{document.addEventListener("click",(t=>{for(let n=t.target;n;n=n.parentNode)if("A"===n.nodeName){const o=n.getAttribute("href");if(o&&o.startsWith("#")){t.preventDefault();const e=document.getElementById(o.substring(1));return void(e&&e.scrollIntoView({behavior:"smooth"}))}(e?t.metaKey:t.ctrlKey&&!t.altKey)||t.preventDefault()}}),!1)}).toString()})(${e})<\/script>`};var L=tinymce.util.Tools.resolve("tinymce.util.Tools");const j=e=>t=>t.options.get(e),V=j("content_style"),B=j("content_css_cors"),Z=j("body_class"),X=j("body_id"),W=e=>{const t=(e=>{var t;let n="";const o=e.dom.encode,i=null!==(t=V(e))&&void 0!==t?t:"";n+=`<base href="${o(e.documentBaseURI.getURI())}">`;const r=B(e)?' crossorigin="anonymous"':"";L.each(e.contentCSS,(t=>{n+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+r+">"})),i&&(n+='<style type="text/css">'+i+"</style>");const s=X(e),a=Z(e),l=e.getBody().dir,c=l?' dir="'+o(l)+'"':"";return"<!DOCTYPE html><html><head>"+n+'</head><body id="'+o(s)+'" class="mce-content-body '+o(a)+'"'+c+">"+e.getContent()+N()+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")};e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{W(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)}))}()},2205:(e,t,n)=>{n(9914)},2543:function(e,t,n){var o;e=n.nmd(e),function(){var i,r="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,O=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],v="[object Arguments]",b="[object Array]",y="[object Boolean]",x="[object Date]",w="[object Error]",S="[object Function]",_="[object GeneratorFunction]",k="[object Map]",C="[object Number]",T="[object Object]",$="[object Promise]",P="[object RegExp]",A="[object Set]",Q="[object String]",E="[object Symbol]",M="[object WeakMap]",D="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",z="[object Float64Array]",N="[object Int8Array]",L="[object Int16Array]",j="[object Int32Array]",V="[object Uint8Array]",B="[object Uint8ClampedArray]",Z="[object Uint16Array]",X="[object Uint32Array]",W=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,H=RegExp(F.source),G=RegExp(q.source),K=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ie.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,Oe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",$e="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qe="['’]",Ee="["+_e+"]",Me="["+Ae+"]",De="["+ke+"]",Ie="\\d+",Re="["+Ce+"]",ze="["+Te+"]",Ne="[^"+_e+Ae+Ie+Ce+Te+$e+"]",Le="\\ud83c[\\udffb-\\udfff]",je="[^"+_e+"]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ze="["+$e+"]",Xe="\\u200d",We="(?:"+ze+"|"+Ne+")",Ue="(?:"+Ze+"|"+Ne+")",Ye="(?:['’](?:d|ll|m|re|s|t|ve))?",Fe="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+De+"|"+Le+")"+"?",He="["+Pe+"]?",Ge=He+qe+("(?:"+Xe+"(?:"+[je,Ve,Be].join("|")+")"+He+qe+")*"),Ke="(?:"+[Re,Ve,Be].join("|")+")"+Ge,Je="(?:"+[je+De+"?",De,Ve,Be,Ee].join("|")+")",et=RegExp(Qe,"g"),tt=RegExp(De,"g"),nt=RegExp(Le+"(?="+Le+")|"+Je+Ge,"g"),ot=RegExp([Ze+"?"+ze+"+"+Ye+"(?="+[Me,Ze,"$"].join("|")+")",Ue+"+"+Fe+"(?="+[Me,Ze+We,"$"].join("|")+")",Ze+"?"+We+"+"+Ye,Ze+"+"+Fe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ke].join("|"),"g"),it=RegExp("["+Xe+_e+ke+Pe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[R]=lt[z]=lt[N]=lt[L]=lt[j]=lt[V]=lt[B]=lt[Z]=lt[X]=!0,lt[v]=lt[b]=lt[D]=lt[y]=lt[I]=lt[x]=lt[w]=lt[S]=lt[k]=lt[C]=lt[T]=lt[P]=lt[A]=lt[Q]=lt[M]=!1;var ct={};ct[v]=ct[b]=ct[D]=ct[I]=ct[y]=ct[x]=ct[R]=ct[z]=ct[N]=ct[L]=ct[j]=ct[k]=ct[C]=ct[T]=ct[P]=ct[A]=ct[Q]=ct[E]=ct[V]=ct[B]=ct[Z]=ct[X]=!0,ct[w]=ct[S]=ct[M]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,Ot=gt&&e&&!e.nodeType&&e,vt=Ot&&Ot.exports===gt,bt=vt&&ft.process,yt=function(){try{var e=Ot&&Ot.require&&Ot.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),xt=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,St=yt&&yt.isMap,_t=yt&&yt.isRegExp,kt=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function $t(e,t,n,o){for(var i=-1,r=null==e?0:e.length;++i<r;){var s=e[i];t(o,s,n(s),e)}return o}function Pt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Qt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function Et(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var s=e[n];t(s,n,e)&&(r[i++]=s)}return r}function Mt(e,t){return!!(null==e?0:e.length)&&Zt(e,t,0)>-1}function Dt(e,t,n){for(var o=-1,i=null==e?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}function It(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}function zt(e,t,n,o){var i=-1,r=null==e?0:e.length;for(o&&r&&(n=e[++i]);++i<r;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,o){var i=null==e?0:e.length;for(o&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var jt=Yt("length");function Vt(e,t,n){var o;return n(e,(function(e,n,i){if(t(e,n,i))return o=n,!1})),o}function Bt(e,t,n,o){for(var i=e.length,r=n+(o?1:-1);o?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function Zt(e,t,n){return t==t?function(e,t,n){var o=n-1,i=e.length;for(;++o<i;)if(e[o]===t)return o;return-1}(e,t,n):Bt(e,Wt,n)}function Xt(e,t,n,o){for(var i=n-1,r=e.length;++i<r;)if(o(e[i],t))return i;return-1}function Wt(e){return e!=e}function Ut(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:m}function Yt(e){return function(t){return null==t?i:t[e]}}function Ft(e){return function(t){return null==e?i:e[t]}}function qt(e,t,n,o,i){return i(e,(function(e,i,r){n=o?(o=!1,e):t(n,e,i,r)})),n}function Ht(e,t){for(var n,o=-1,r=e.length;++o<r;){var s=t(e[o]);s!==i&&(n=n===i?s:n+s)}return n}function Gt(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function Kt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return It(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,o=e.length;++n<o&&Zt(t,e[n],0)>-1;);return n}function on(e,t){for(var n=e.length;n--&&Zt(t,e[n],0)>-1;);return n}var rn=Ft({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),sn=Ft({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,o=e.length,i=0,r=[];++n<o;){var s=e[n];s!==t&&s!==a||(e[n]=a,r[i++]=n)}return r}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):jt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var On=Ft({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,o=(t=null==t?mt:vn.defaults(mt.Object(),t,vn.pick(mt,st))).Array,ae=t.Date,_e=t.Error,ke=t.Function,Ce=t.Math,Te=t.Object,$e=t.RegExp,Pe=t.String,Ae=t.TypeError,Qe=o.prototype,Ee=ke.prototype,Me=Te.prototype,De=t["__core-js_shared__"],Ie=Ee.toString,Re=Me.hasOwnProperty,ze=0,Ne=(n=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=Me.toString,je=Ie.call(Te),Ve=mt._,Be=$e("^"+Ie.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ze=vt?t.Buffer:i,Xe=t.Symbol,We=t.Uint8Array,Ue=Ze?Ze.allocUnsafe:i,Ye=un(Te.getPrototypeOf,Te),Fe=Te.create,qe=Me.propertyIsEnumerable,He=Qe.splice,Ge=Xe?Xe.isConcatSpreadable:i,Ke=Xe?Xe.iterator:i,Je=Xe?Xe.toStringTag:i,nt=function(){try{var e=fr(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ut=ae&&ae.now!==mt.Date.now&&ae.now,ft=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Ce.ceil,gt=Ce.floor,Ot=Te.getOwnPropertySymbols,bt=Ze?Ze.isBuffer:i,yt=t.isFinite,jt=Qe.join,Ft=un(Te.keys,Te),bn=Ce.max,yn=Ce.min,xn=ae.now,wn=t.parseInt,Sn=Ce.random,_n=Qe.reverse,kn=fr(t,"DataView"),Cn=fr(t,"Map"),Tn=fr(t,"Promise"),$n=fr(t,"Set"),Pn=fr(t,"WeakMap"),An=fr(Te,"create"),Qn=Pn&&new Pn,En={},Mn=Lr(kn),Dn=Lr(Cn),In=Lr(Tn),Rn=Lr($n),zn=Lr(Pn),Nn=Xe?Xe.prototype:i,Ln=Nn?Nn.valueOf:i,jn=Nn?Nn.toString:i;function Vn(e){if(na(e)&&!Ws(e)&&!(e instanceof Wn)){if(e instanceof Xn)return e;if(Re.call(e,"__wrapped__"))return jr(e)}return new Xn(e)}var Bn=function(){function e(){}return function(t){if(!ta(t))return{};if(Fe)return Fe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Zn(){}function Xn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Fn;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Gn(e,t){var n=Ws(e),o=!n&&Xs(e),i=!n&&!o&&qs(e),r=!n&&!o&&!i&&ua(e),s=n||o||i||r,a=s?Gt(e.length,Pe):[],l=a.length;for(var c in e)!t&&!Re.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yr(c,l))||a.push(c);return a}function Kn(e){var t=e.length;return t?e[Ho(0,t-1)]:i}function Jn(e,t){return Rr(Qi(e),lo(t,0,e.length))}function eo(e){return Rr(Qi(e))}function to(e,t,n){(n!==i&&!Vs(e[t],n)||n===i&&!(t in e))&&so(e,t,n)}function no(e,t,n){var o=e[t];Re.call(e,t)&&Vs(o,n)&&(n!==i||t in e)||so(e,t,n)}function oo(e,t){for(var n=e.length;n--;)if(Vs(e[n][0],t))return n;return-1}function io(e,t,n,o){return po(e,(function(e,i,r){t(o,e,n(e),r)})),o}function ro(e,t){return e&&Ei(t,Ea(t),e)}function so(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ao(e,t){for(var n=-1,r=t.length,s=o(r),a=null==e;++n<r;)s[n]=a?i:Ta(e,t[n]);return s}function lo(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function co(e,t,n,o,r,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=r?n(e,o,r,s):n(e)),a!==i)return a;if(!ta(e))return e;var d=Ws(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Qi(e,a)}else{var h=gr(e),f=h==S||h==_;if(qs(e))return ki(e,l);if(h==T||h==v||f&&!r){if(a=c||f?{}:vr(e),!l)return c?function(e,t){return Ei(e,mr(e),t)}(e,function(e,t){return e&&Ei(t,Ma(t),e)}(a,e)):function(e,t){return Ei(e,pr(e),t)}(e,ro(a,e))}else{if(!ct[h])return r?e:{};a=function(e,t,n){var o=e.constructor;switch(t){case D:return Ci(e);case y:case x:return new o(+e);case I:return function(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case z:case N:case L:case j:case V:case B:case Z:case X:return Ti(e,n);case k:return new o;case C:case Q:return new o(e);case P:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new o;case E:return i=e,Ln?Te(Ln.call(i)):{}}var i}(e,h,l)}}s||(s=new Hn);var p=s.get(e);if(p)return p;s.set(e,a),aa(e)?e.forEach((function(o){a.add(co(o,t,n,o,e,s))})):oa(e)&&e.forEach((function(o,i){a.set(i,co(o,t,n,i,e,s))}));var m=d?i:(u?c?sr:rr:c?Ma:Ea)(e);return Pt(m||e,(function(o,i){m&&(o=e[i=o]),no(a,i,co(o,t,n,i,e,s))})),a}function uo(e,t,n){var o=n.length;if(null==e)return!o;for(e=Te(e);o--;){var r=n[o],s=t[r],a=e[r];if(a===i&&!(r in e)||!s(a))return!1}return!0}function ho(e,t,n){if("function"!=typeof e)throw new Ae(r);return Er((function(){e.apply(i,n)}),t)}function fo(e,t,n,o){var i=-1,r=Mt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=It(t,Jt(n))),o?(r=Dt,s=!1):t.length>=200&&(r=tn,s=!1,t=new qn(t));e:for(;++i<a;){var u=e[i],d=null==n?u:n(u);if(u=o||0!==u?u:0,s&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else r(t,d,o)||l.push(u)}return l}Vn.templateSettings={escape:K,evaluate:J,interpolate:ee,variable:"",imports:{_:Vn}},Vn.prototype=Zn.prototype,Vn.prototype.constructor=Vn,Xn.prototype=Bn(Zn.prototype),Xn.prototype.constructor=Xn,Wn.prototype=Bn(Zn.prototype),Wn.prototype.constructor=Wn,Un.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Un.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Un.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},Un.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Re.call(t,e)},Un.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?s:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=oo(t,e);return!(n<0)&&(n==t.length-1?t.pop():He.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=oo(t,e);return n<0?i:t[n][1]},Yn.prototype.has=function(e){return oo(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,o=oo(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},Fn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Cn||Yn),string:new Un}},Fn.prototype.delete=function(e){var t=dr(this,e).delete(e);return this.size-=t?1:0,t},Fn.prototype.get=function(e){return dr(this,e).get(e)},Fn.prototype.has=function(e){return dr(this,e).has(e)},Fn.prototype.set=function(e,t){var n=dr(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,s),this},qn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var o=n.__data__;if(!Cn||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Fn(o)}return n.set(e,t),this.size=n.size,this};var po=Ii(wo),mo=Ii(So,!0);function go(e,t){var n=!0;return po(e,(function(e,o,i){return n=!!t(e,o,i)})),n}function Oo(e,t,n){for(var o=-1,r=e.length;++o<r;){var s=e[o],a=t(s);if(null!=a&&(l===i?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function vo(e,t){var n=[];return po(e,(function(e,o,i){t(e,o,i)&&n.push(e)})),n}function bo(e,t,n,o,i){var r=-1,s=e.length;for(n||(n=br),i||(i=[]);++r<s;){var a=e[r];t>0&&n(a)?t>1?bo(a,t-1,n,o,i):Rt(i,a):o||(i[i.length]=a)}return i}var yo=Ri(),xo=Ri(!0);function wo(e,t){return e&&yo(e,t,Ea)}function So(e,t){return e&&xo(e,t,Ea)}function _o(e,t){return Et(t,(function(t){return Ks(e[t])}))}function ko(e,t){for(var n=0,o=(t=xi(t,e)).length;null!=e&&n<o;)e=e[Nr(t[n++])];return n&&n==o?e:i}function Co(e,t,n){var o=t(e);return Ws(e)?o:Rt(o,n(e))}function To(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Te(e)?function(e){var t=Re.call(e,Je),n=e[Je];try{e[Je]=i;var o=!0}catch(e){}var r=Le.call(e);o&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return Le.call(e)}(e)}function $o(e,t){return e>t}function Po(e,t){return null!=e&&Re.call(e,t)}function Ao(e,t){return null!=e&&t in Te(e)}function Qo(e,t,n){for(var r=n?Dt:Mt,s=e[0].length,a=e.length,l=a,c=o(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=It(h,Jt(t))),u=yn(h.length,u),c[l]=!n&&(t||s>=120&&h.length>=120)?new qn(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&d.length<u;){var m=h[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?tn(p,g):r(d,g,n))){for(l=a;--l;){var O=c[l];if(!(O?tn(O,g):r(e[l],g,n)))continue e}p&&p.push(g),d.push(m)}}return d}function Eo(e,t,n){var o=null==(e=Pr(e,t=xi(t,e)))?e:e[Nr(Gr(t))];return null==o?i:Tt(o,e,n)}function Mo(e){return na(e)&&To(e)==v}function Do(e,t,n,o,r){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!=e&&t!=t:function(e,t,n,o,r,s){var a=Ws(e),l=Ws(t),c=a?b:gr(e),u=l?b:gr(t),d=(c=c==v?T:c)==T,h=(u=u==v?T:u)==T,f=c==u;if(f&&qs(e)){if(!qs(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Hn),a||ua(e)?or(e,t,n,o,r,s):function(e,t,n,o,i,r,s){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!r(new We(e),new We(t)));case y:case x:case C:return Vs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case P:case Q:return e==t+"";case k:var a=cn;case A:var l=1&o;if(a||(a=hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;o|=2,s.set(e,t);var u=or(a(e),a(t),o,i,r,s);return s.delete(e),u;case E:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,c,n,o,r,s);if(!(1&n)){var p=d&&Re.call(e,"__wrapped__"),m=h&&Re.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,O=m?t.value():t;return s||(s=new Hn),r(g,O,n,o,s)}}if(!f)return!1;return s||(s=new Hn),function(e,t,n,o,r,s){var a=1&n,l=rr(e),c=l.length,u=rr(t),d=u.length;if(c!=d&&!a)return!1;var h=c;for(;h--;){var f=l[h];if(!(a?f in t:Re.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var O=a;for(;++h<c;){var v=e[f=l[h]],b=t[f];if(o)var y=a?o(b,v,f,t,e,s):o(v,b,f,e,t,s);if(!(y===i?v===b||r(v,b,n,o,s):y)){g=!1;break}O||(O="constructor"==f)}if(g&&!O){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,o,r,s)}(e,t,n,o,Do,r))}function Io(e,t,n,o){var r=n.length,s=r,a=!o;if(null==e)return!s;for(e=Te(e);r--;){var l=n[r];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<s;){var c=(l=n[r])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new Hn;if(o)var f=o(u,d,c,e,t,h);if(!(f===i?Do(d,u,3,o,h):f))return!1}}return!0}function Ro(e){return!(!ta(e)||(t=e,Ne&&Ne in t))&&(Ks(e)?Be:ve).test(Lr(e));var t}function zo(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Ws(e)?Zo(e[0],e[1]):Bo(e):fl(e)}function No(e){if(!kr(e))return Ft(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lo(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=kr(e),n=[];for(var o in e)("constructor"!=o||!t&&Re.call(e,o))&&n.push(o);return n}function jo(e,t){return e<t}function Vo(e,t){var n=-1,i=Ys(e)?o(e.length):[];return po(e,(function(e,o,r){i[++n]=t(e,o,r)})),i}function Bo(e){var t=hr(e);return 1==t.length&&t[0][2]?Tr(t[0][0],t[0][1]):function(n){return n===e||Io(n,e,t)}}function Zo(e,t){return wr(e)&&Cr(t)?Tr(Nr(e),t):function(n){var o=Ta(n,e);return o===i&&o===t?$a(n,e):Do(t,o,3)}}function Xo(e,t,n,o,r){e!==t&&yo(t,(function(s,a){if(r||(r=new Hn),ta(s))!function(e,t,n,o,r,s,a){var l=Ar(e,n),c=Ar(t,n),u=a.get(c);if(u)return void to(e,n,u);var d=s?s(l,c,n+"",e,t,a):i,h=d===i;if(h){var f=Ws(c),p=!f&&qs(c),m=!f&&!p&&ua(c);d=c,f||p||m?Ws(l)?d=l:Fs(l)?d=Qi(l):p?(h=!1,d=ki(c,!0)):m?(h=!1,d=Ti(c,!0)):d=[]:ra(c)||Xs(c)?(d=l,Xs(l)?d=va(l):ta(l)&&!Ks(l)||(d=vr(c))):h=!1}h&&(a.set(c,d),r(d,c,o,s,a),a.delete(c));to(e,n,d)}(e,t,a,n,Xo,o,r);else{var l=o?o(Ar(e,a),s,a+"",e,t,r):i;l===i&&(l=s),to(e,a,l)}}),Ma)}function Wo(e,t){var n=e.length;if(n)return yr(t+=t<0?n:0,n)?e[t]:i}function Uo(e,t,n){t=t.length?It(t,(function(e){return Ws(e)?function(t){return ko(t,1===e.length?e[0]:e)}:e})):[il];var o=-1;t=It(t,Jt(ur()));var i=Vo(e,(function(e,n,i){var r=It(t,(function(t){return t(e)}));return{criteria:r,index:++o,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var o=-1,i=e.criteria,r=t.criteria,s=i.length,a=n.length;for(;++o<s;){var l=$i(i[o],r[o]);if(l)return o>=a?l:l*("desc"==n[o]?-1:1)}return e.index-t.index}(e,t,n)}))}function Yo(e,t,n){for(var o=-1,i=t.length,r={};++o<i;){var s=t[o],a=ko(e,s);n(a,s)&&ti(r,xi(s,e),a)}return r}function Fo(e,t,n,o){var i=o?Xt:Zt,r=-1,s=t.length,a=e;for(e===t&&(t=Qi(t)),n&&(a=It(e,Jt(n)));++r<s;)for(var l=0,c=t[r],u=n?n(c):c;(l=i(a,u,l,o))>-1;)a!==e&&He.call(a,l,1),He.call(e,l,1);return e}function qo(e,t){for(var n=e?t.length:0,o=n-1;n--;){var i=t[n];if(n==o||i!==r){var r=i;yr(i)?He.call(e,i,1):fi(e,i)}}return e}function Ho(e,t){return e+gt(Sn()*(t-e+1))}function Go(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Ko(e,t){return Mr($r(e,t,il),e+"")}function Jo(e){return Kn(Va(e))}function ei(e,t){var n=Va(e);return Rr(n,lo(t,0,n.length))}function ti(e,t,n,o){if(!ta(e))return e;for(var r=-1,s=(t=xi(t,e)).length,a=s-1,l=e;null!=l&&++r<s;){var c=Nr(t[r]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=a){var d=l[c];(u=o?o(d,c,l):i)===i&&(u=ta(d)?d:yr(t[r+1])?[]:{})}no(l,c,u),l=l[c]}return e}var ni=Qn?function(e,t){return Qn.set(e,t),e}:il,oi=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ii(e){return Rr(Va(e))}function ri(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=o(r);++i<r;)s[i]=e[i+t];return s}function si(e,t){var n;return po(e,(function(e,o,i){return!(n=t(e,o,i))})),!!n}function ai(e,t,n){var o=0,i=null==e?o:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;o<i;){var r=o+i>>>1,s=e[r];null!==s&&!ca(s)&&(n?s<=t:s<t)?o=r+1:i=r}return i}return li(e,t,il,n)}function li(e,t,n,o){var r=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,c=ca(t),u=t===i;r<s;){var d=gt((r+s)/2),h=n(e[d]),f=h!==i,p=null===h,m=h==h,g=ca(h);if(a)var O=o||m;else O=u?m&&(o||f):l?m&&f&&(o||!p):c?m&&f&&!p&&(o||!g):!p&&!g&&(o?h<=t:h<t);O?r=d+1:s=d}return yn(s,4294967294)}function ci(e,t){for(var n=-1,o=e.length,i=0,r=[];++n<o;){var s=e[n],a=t?t(s):s;if(!n||!Vs(a,l)){var l=a;r[i++]=0===s?0:s}}return r}function ui(e){return"number"==typeof e?e:ca(e)?m:+e}function di(e){if("string"==typeof e)return e;if(Ws(e))return It(e,di)+"";if(ca(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,n){var o=-1,i=Mt,r=e.length,s=!0,a=[],l=a;if(n)s=!1,i=Dt;else if(r>=200){var c=t?null:Gi(e);if(c)return hn(c);s=!1,i=tn,l=new qn}else l=t?[]:a;e:for(;++o<r;){var u=e[o],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function fi(e,t){return null==(e=Pr(e,t=xi(t,e)))||delete e[Nr(Gr(t))]}function pi(e,t,n,o){return ti(e,t,n(ko(e,t)),o)}function mi(e,t,n,o){for(var i=e.length,r=o?i:-1;(o?r--:++r<i)&&t(e[r],r,e););return n?ri(e,o?0:r,o?r+1:i):ri(e,o?r+1:0,o?i:r)}function gi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),zt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function Oi(e,t,n){var i=e.length;if(i<2)return i?hi(e[0]):[];for(var r=-1,s=o(i);++r<i;)for(var a=e[r],l=-1;++l<i;)l!=r&&(s[r]=fo(s[r]||a,e[l],t,n));return hi(bo(s,1),t,n)}function vi(e,t,n){for(var o=-1,r=e.length,s=t.length,a={};++o<r;){var l=o<s?t[o]:i;n(a,e[o],l)}return a}function bi(e){return Fs(e)?e:[]}function yi(e){return"function"==typeof e?e:il}function xi(e,t){return Ws(e)?e:wr(e,t)?[e]:zr(ba(e))}var wi=Ko;function Si(e,t,n){var o=e.length;return n=n===i?o:n,!t&&n>=o?e:ri(e,t,n)}var _i=it||function(e){return mt.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var n=e.length,o=Ue?Ue(n):new e.constructor(n);return e.copy(o),o}function Ci(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function $i(e,t){if(e!==t){var n=e!==i,o=null===e,r=e==e,s=ca(e),a=t!==i,l=null===t,c=t==t,u=ca(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||o&&a&&c||!n&&c||!r)return 1;if(!o&&!s&&!u&&e<t||u&&n&&r&&!o&&!s||l&&n&&r||!a&&r||!c)return-1}return 0}function Pi(e,t,n,i){for(var r=-1,s=e.length,a=n.length,l=-1,c=t.length,u=bn(s-a,0),d=o(c+u),h=!i;++l<c;)d[l]=t[l];for(;++r<a;)(h||r<s)&&(d[n[r]]=e[r]);for(;u--;)d[l++]=e[r++];return d}function Ai(e,t,n,i){for(var r=-1,s=e.length,a=-1,l=n.length,c=-1,u=t.length,d=bn(s-l,0),h=o(d+u),f=!i;++r<d;)h[r]=e[r];for(var p=r;++c<u;)h[p+c]=t[c];for(;++a<l;)(f||r<s)&&(h[p+n[a]]=e[r++]);return h}function Qi(e,t){var n=-1,i=e.length;for(t||(t=o(i));++n<i;)t[n]=e[n];return t}function Ei(e,t,n,o){var r=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=o?o(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),r?so(n,l,c):no(n,l,c)}return n}function Mi(e,t){return function(n,o){var i=Ws(n)?$t:io,r=t?t():{};return i(n,e,ur(o,2),r)}}function Di(e){return Ko((function(t,n){var o=-1,r=n.length,s=r>1?n[r-1]:i,a=r>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(r--,s):i,a&&xr(n[0],n[1],a)&&(s=r<3?i:s,r=1),t=Te(t);++o<r;){var l=n[o];l&&e(t,l,o,s)}return t}))}function Ii(e,t){return function(n,o){if(null==n)return n;if(!Ys(n))return e(n,o);for(var i=n.length,r=t?i:-1,s=Te(n);(t?r--:++r<i)&&!1!==o(s[r],r,s););return n}}function Ri(e){return function(t,n,o){for(var i=-1,r=Te(t),s=o(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(r[l],l,r))break}return t}}function zi(e){return function(t){var n=ln(t=ba(t))?mn(t):i,o=n?n[0]:t.charAt(0),r=n?Si(n,1).join(""):t.slice(1);return o[e]()+r}}function Ni(e){return function(t){return zt(Ka(Xa(t).replace(et,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),o=e.apply(n,t);return ta(o)?o:n}}function ji(e){return function(t,n,o){var r=Te(t);if(!Ys(t)){var s=ur(n,3);t=Ea(t),n=function(e){return s(r[e],e,r)}}var a=e(t,n,o);return a>-1?r[s?t[a]:a]:i}}function Vi(e){return ir((function(t){var n=t.length,o=n,s=Xn.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new Ae(r);if(s&&!l&&"wrapper"==lr(a))var l=new Xn([],!0)}for(o=l?o:n;++o<n;){var c=lr(a=t[o]),u="wrapper"==c?ar(a):i;l=u&&Sr(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[lr(u[0])].apply(l,u[3]):1==a.length&&Sr(a)?l[c]():l.thru(a)}return function(){var e=arguments,o=e[0];if(l&&1==e.length&&Ws(o))return l.plant(o).value();for(var i=0,r=n?t[i].apply(this,e):o;++i<n;)r=t[i].call(this,r);return r}}))}function Bi(e,t,n,r,s,a,l,c,u,h){var f=t&d,p=1&t,m=2&t,g=24&t,O=512&t,v=m?i:Li(e);return function d(){for(var b=arguments.length,y=o(b),x=b;x--;)y[x]=arguments[x];if(g)var w=cr(d),S=function(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}(y,w);if(r&&(y=Pi(y,r,s,g)),a&&(y=Ai(y,a,l,g)),b-=S,g&&b<h){var _=dn(y,w);return qi(e,t,Bi,d.placeholder,n,y,_,c,u,h-b)}var k=p?n:this,C=m?k[e]:e;return b=y.length,c?y=function(e,t){var n=e.length,o=yn(t.length,n),r=Qi(e);for(;o--;){var s=t[o];e[o]=yr(s,n)?r[s]:i}return e}(y,c):O&&b>1&&y.reverse(),f&&u<b&&(y.length=u),this&&this!==mt&&this instanceof d&&(C=v||Li(C)),C.apply(k,y)}}function Zi(e,t){return function(n,o){return function(e,t,n,o){return wo(e,(function(e,i,r){t(o,n(e),i,r)})),o}(n,e,t(o),{})}}function Xi(e,t){return function(n,o){var r;if(n===i&&o===i)return t;if(n!==i&&(r=n),o!==i){if(r===i)return o;"string"==typeof n||"string"==typeof o?(n=di(n),o=di(o)):(n=ui(n),o=ui(o)),r=e(n,o)}return r}}function Wi(e){return ir((function(t){return t=It(t,Jt(ur())),Ko((function(n){var o=this;return e(t,(function(e){return Tt(e,o,n)}))}))}))}function Ui(e,t){var n=(t=t===i?" ":di(t)).length;if(n<2)return n?Go(t,e):t;var o=Go(t,pt(e/pn(t)));return ln(t)?Si(mn(o),0,e).join(""):o.slice(0,e)}function Yi(e){return function(t,n,r){return r&&"number"!=typeof r&&xr(t,n,r)&&(n=r=i),t=pa(t),n===i?(n=t,t=0):n=pa(n),function(e,t,n,i){for(var r=-1,s=bn(pt((t-e)/(n||1)),0),a=o(s);s--;)a[i?s:++r]=e,e+=n;return a}(t,n,r=r===i?t<n?1:-1:pa(r),e)}}function Fi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Oa(t),n=Oa(n)),e(t,n)}}function qi(e,t,n,o,r,s,a,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,r,f?s:i,f?a:i,f?i:s,f?i:a,l,d,h],m=n.apply(i,p);return Sr(e)&&Qr(m,p),m.placeholder=o,Dr(m,e,t)}function Hi(e){var t=Ce[e];return function(e,n){if(e=Oa(e),(n=null==n?0:yn(ma(n),292))&&yt(e)){var o=(ba(e)+"e").split("e");return+((o=(ba(t(o[0]+"e"+(+o[1]+n)))+"e").split("e"))[0]+"e"+(+o[1]-n))}return t(e)}}var Gi=$n&&1/hn(new $n([,-0]))[1]==f?function(e){return new $n(e)}:cl;function Ki(e){return function(t){var n=gr(t);return n==k?cn(t):n==A?fn(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,s,f,p,m,g){var O=2&t;if(!O&&"function"!=typeof e)throw new Ae(r);var v=s?s.length:0;if(v||(t&=-97,s=f=i),m=m===i?m:bn(ma(m),0),g=g===i?g:ma(g),v-=f?f.length:0,t&u){var b=s,y=f;s=f=i}var x=O?i:ar(e),w=[e,t,n,s,f,b,y,p,m,g];if(x&&function(e,t){var n=e[1],o=t[1],i=n|o,r=i<131,s=o==d&&8==n||o==d&&n==h&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==n;if(!r&&!s)return e;1&o&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Pi(c,l,t[4]):l,e[4]=c?dn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ai(c,l,t[6]):l,e[6]=c?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);o&d&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,x),e=w[0],t=w[1],n=w[2],s=w[3],f=w[4],!(g=w[9]=w[9]===i?O?0:e.length:bn(w[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,n){var r=Li(e);return function s(){for(var a=arguments.length,l=o(a),c=a,u=cr(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<n?qi(e,t,Bi,s.placeholder,i,l,d,i,i,n-a):Tt(this&&this!==mt&&this instanceof s?r:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?Bi.apply(i,w):function(e,t,n,i){var r=1&t,s=Li(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,d=o(u+l),h=this&&this!==mt&&this instanceof t?s:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++a];return Tt(h,r?n:this,d)}}(e,t,n,s);else var S=function(e,t,n){var o=1&t,i=Li(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(o?n:this,arguments)}}(e,t,n);return Dr((x?ni:Qr)(S,w),e,t)}function er(e,t,n,o){return e===i||Vs(e,Me[n])&&!Re.call(o,n)?t:e}function tr(e,t,n,o,r,s){return ta(e)&&ta(t)&&(s.set(t,e),Xo(e,t,i,tr,s),s.delete(t)),e}function nr(e){return ra(e)?i:e}function or(e,t,n,o,r,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new qn:i;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(o)var O=a?o(g,m,h,t,e,s):o(m,g,h,e,t,s);if(O!==i){if(O)continue;f=!1;break}if(p){if(!Lt(t,(function(e,t){if(!tn(p,t)&&(m===e||r(m,e,n,o,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!r(m,g,n,o,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function ir(e){return Mr($r(e,i,Ur),e+"")}function rr(e){return Co(e,Ea,pr)}function sr(e){return Co(e,Ma,mr)}var ar=Qn?function(e){return Qn.get(e)}:cl;function lr(e){for(var t=e.name+"",n=En[t],o=Re.call(En,t)?n.length:0;o--;){var i=n[o],r=i.func;if(null==r||r==e)return i.name}return t}function cr(e){return(Re.call(Vn,"placeholder")?Vn:e).placeholder}function ur(){var e=Vn.iteratee||rl;return e=e===rl?zo:e,arguments.length?e(arguments[0],arguments[1]):e}function dr(e,t){var n,o,i=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function hr(e){for(var t=Ea(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,Cr(i)]}return t}function fr(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ro(n)?n:i}var pr=Ot?function(e){return null==e?[]:(e=Te(e),Et(Ot(e),(function(t){return qe.call(e,t)})))}:gl,mr=Ot?function(e){for(var t=[];e;)Rt(t,pr(e)),e=Ye(e);return t}:gl,gr=To;function Or(e,t,n){for(var o=-1,i=(t=xi(t,e)).length,r=!1;++o<i;){var s=Nr(t[o]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r||++o!=i?r:!!(i=null==e?0:e.length)&&ea(i)&&yr(s,i)&&(Ws(e)||Xs(e))}function vr(e){return"function"!=typeof e.constructor||kr(e)?{}:Bn(Ye(e))}function br(e){return Ws(e)||Xs(e)||!!(Ge&&e&&e[Ge])}function yr(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function xr(e,t,n){if(!ta(n))return!1;var o=typeof t;return!!("number"==o?Ys(n)&&yr(t,n.length):"string"==o&&t in n)&&Vs(n[t],e)}function wr(e,t){if(Ws(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function Sr(e){var t=lr(e),n=Vn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var o=ar(n);return!!o&&e===o[0]}(kn&&gr(new kn(new ArrayBuffer(1)))!=I||Cn&&gr(new Cn)!=k||Tn&&gr(Tn.resolve())!=$||$n&&gr(new $n)!=A||Pn&&gr(new Pn)!=M)&&(gr=function(e){var t=To(e),n=t==T?e.constructor:i,o=n?Lr(n):"";if(o)switch(o){case Mn:return I;case Dn:return k;case In:return $;case Rn:return A;case zn:return M}return t});var _r=De?Ks:Ol;function kr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Cr(e){return e==e&&!ta(e)}function Tr(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function $r(e,t,n){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=bn(i.length-t,0),a=o(s);++r<s;)a[r]=i[t+r];r=-1;for(var l=o(t+1);++r<t;)l[r]=i[r];return l[t]=n(a),Tt(e,this,l)}}function Pr(e,t){return t.length<2?e:ko(e,ri(t,0,-1))}function Ar(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Qr=Ir(ni),Er=ft||function(e,t){return mt.setTimeout(e,t)},Mr=Ir(oi);function Dr(e,t,n){var o=t+"";return Mr(e,function(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return Pt(O,(function(n){var o="_."+n[0];t&n[1]&&!Mt(e,o)&&e.push(o)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(o),n)))}function Ir(e){var t=0,n=0;return function(){var o=xn(),r=16-(o-n);if(n=o,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Rr(e,t){var n=-1,o=e.length,r=o-1;for(t=t===i?o:t;++n<t;){var s=Ho(n,r),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var zr=function(e){var t=Is(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,(function(e,n,o,i){t.push(o?i.replace(fe,"$1"):n||e)})),t}));function Nr(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Lr(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function jr(e){if(e instanceof Wn)return e.clone();var t=new Xn(e.__wrapped__,e.__chain__);return t.__actions__=Qi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vr=Ko((function(e,t){return Fs(e)?fo(e,bo(t,1,Fs,!0)):[]})),Br=Ko((function(e,t){var n=Gr(t);return Fs(n)&&(n=i),Fs(e)?fo(e,bo(t,1,Fs,!0),ur(n,2)):[]})),Zr=Ko((function(e,t){var n=Gr(t);return Fs(n)&&(n=i),Fs(e)?fo(e,bo(t,1,Fs,!0),i,n):[]}));function Xr(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=null==n?0:ma(n);return i<0&&(i=bn(o+i,0)),Bt(e,ur(t,3),i)}function Wr(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=o-1;return n!==i&&(r=ma(n),r=n<0?bn(o+r,0):yn(r,o-1)),Bt(e,ur(t,3),r,!0)}function Ur(e){return(null==e?0:e.length)?bo(e,1):[]}function Yr(e){return e&&e.length?e[0]:i}var Fr=Ko((function(e){var t=It(e,bi);return t.length&&t[0]===e[0]?Qo(t):[]})),qr=Ko((function(e){var t=Gr(e),n=It(e,bi);return t===Gr(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Qo(n,ur(t,2)):[]})),Hr=Ko((function(e){var t=Gr(e),n=It(e,bi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Qo(n,i,t):[]}));function Gr(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Kr=Ko(Jr);function Jr(e,t){return e&&e.length&&t&&t.length?Fo(e,t):e}var es=ir((function(e,t){var n=null==e?0:e.length,o=ao(e,t);return qo(e,It(t,(function(e){return yr(e,n)?+e:e})).sort($i)),o}));function ts(e){return null==e?e:_n.call(e)}var ns=Ko((function(e){return hi(bo(e,1,Fs,!0))})),os=Ko((function(e){var t=Gr(e);return Fs(t)&&(t=i),hi(bo(e,1,Fs,!0),ur(t,2))})),is=Ko((function(e){var t=Gr(e);return t="function"==typeof t?t:i,hi(bo(e,1,Fs,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=Et(e,(function(e){if(Fs(e))return t=bn(e.length,t),!0})),Gt(t,(function(t){return It(e,Yt(t))}))}function ss(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:It(n,(function(e){return Tt(t,i,e)}))}var as=Ko((function(e,t){return Fs(e)?fo(e,t):[]})),ls=Ko((function(e){return Oi(Et(e,Fs))})),cs=Ko((function(e){var t=Gr(e);return Fs(t)&&(t=i),Oi(Et(e,Fs),ur(t,2))})),us=Ko((function(e){var t=Gr(e);return t="function"==typeof t?t:i,Oi(Et(e,Fs),i,t)})),ds=Ko(rs);var hs=Ko((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ss(e,n)}));function fs(e){var t=Vn(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var ms=ir((function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,r=function(t){return ao(t,e)};return!(t>1||this.__actions__.length)&&o instanceof Wn&&yr(n)?((o=o.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[r],thisArg:i}),new Xn(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(r)}));var gs=Mi((function(e,t,n){Re.call(e,n)?++e[n]:so(e,n,1)}));var Os=ji(Xr),vs=ji(Wr);function bs(e,t){return(Ws(e)?Pt:po)(e,ur(t,3))}function ys(e,t){return(Ws(e)?At:mo)(e,ur(t,3))}var xs=Mi((function(e,t,n){Re.call(e,n)?e[n].push(t):so(e,n,[t])}));var ws=Ko((function(e,t,n){var i=-1,r="function"==typeof t,s=Ys(e)?o(e.length):[];return po(e,(function(e){s[++i]=r?Tt(t,e,n):Eo(e,t,n)})),s})),Ss=Mi((function(e,t,n){so(e,n,t)}));function _s(e,t){return(Ws(e)?It:Vo)(e,ur(t,3))}var ks=Mi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Cs=Ko((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xr(e,t[0],t[1])?t=[]:n>2&&xr(t[0],t[1],t[2])&&(t=[t[0]]),Uo(e,bo(t,1),[])})),Ts=ut||function(){return mt.Date.now()};function $s(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Ps(e,t){var n;if("function"!=typeof t)throw new Ae(r);return e=ma(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var As=Ko((function(e,t,n){var o=1;if(n.length){var i=dn(n,cr(As));o|=c}return Ji(e,o,t,n,i)})),Qs=Ko((function(e,t,n){var o=3;if(n.length){var i=dn(n,cr(Qs));o|=c}return Ji(t,o,e,n,i)}));function Es(e,t,n){var o,s,a,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ae(r);function m(t){var n=o,r=s;return o=s=i,d=t,l=e.apply(r,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=a}function O(){var e=Ts();if(g(e))return v(e);c=Er(O,function(e){var n=t-(e-u);return f?yn(n,a-(e-d)):n}(e))}function v(e){return c=i,p&&o?m(e):(o=s=i,l)}function b(){var e=Ts(),n=g(e);if(o=arguments,s=this,u=e,n){if(c===i)return function(e){return d=e,c=Er(O,t),h?m(e):l}(u);if(f)return _i(c),c=Er(O,t),m(u)}return c===i&&(c=Er(O,t)),l}return t=Oa(t)||0,ta(n)&&(h=!!n.leading,a=(f="maxWait"in n)?bn(Oa(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&_i(c),d=0,o=u=s=c=i},b.flush=function(){return c===i?l:v(Ts())},b}var Ms=Ko((function(e,t){return ho(e,1,t)})),Ds=Ko((function(e,t,n){return ho(e,Oa(t)||0,n)}));function Is(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(r);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=e.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(Is.Cache||Fn),n}function Rs(e){if("function"!=typeof e)throw new Ae(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Is.Cache=Fn;var zs=wi((function(e,t){var n=(t=1==t.length&&Ws(t[0])?It(t[0],Jt(ur())):It(bo(t,1),Jt(ur()))).length;return Ko((function(o){for(var i=-1,r=yn(o.length,n);++i<r;)o[i]=t[i].call(this,o[i]);return Tt(e,this,o)}))})),Ns=Ko((function(e,t){var n=dn(t,cr(Ns));return Ji(e,c,i,t,n)})),Ls=Ko((function(e,t){var n=dn(t,cr(Ls));return Ji(e,u,i,t,n)})),js=ir((function(e,t){return Ji(e,h,i,i,i,t)}));function Vs(e,t){return e===t||e!=e&&t!=t}var Bs=Fi($o),Zs=Fi((function(e,t){return e>=t})),Xs=Mo(function(){return arguments}())?Mo:function(e){return na(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Ws=o.isArray,Us=xt?Jt(xt):function(e){return na(e)&&To(e)==D};function Ys(e){return null!=e&&ea(e.length)&&!Ks(e)}function Fs(e){return na(e)&&Ys(e)}var qs=bt||Ol,Hs=wt?Jt(wt):function(e){return na(e)&&To(e)==x};function Gs(e){if(!na(e))return!1;var t=To(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Ks(e){if(!ta(e))return!1;var t=To(e);return t==S||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==ma(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var oa=St?Jt(St):function(e){return na(e)&&gr(e)==k};function ia(e){return"number"==typeof e||na(e)&&To(e)==C}function ra(e){if(!na(e)||To(e)!=T)return!1;var t=Ye(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==je}var sa=_t?Jt(_t):function(e){return na(e)&&To(e)==P};var aa=kt?Jt(kt):function(e){return na(e)&&gr(e)==A};function la(e){return"string"==typeof e||!Ws(e)&&na(e)&&To(e)==Q}function ca(e){return"symbol"==typeof e||na(e)&&To(e)==E}var ua=Ct?Jt(Ct):function(e){return na(e)&&ea(e.length)&&!!lt[To(e)]};var da=Fi(jo),ha=Fi((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(Ys(e))return la(e)?mn(e):Qi(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=gr(e);return(t==k?cn:t==A?hn:Va)(e)}function pa(e){return e?(e=Oa(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ma(e){var t=pa(e),n=t%1;return t==t?n?t-n:t:0}function ga(e){return e?lo(ma(e),0,g):0}function Oa(e){if("number"==typeof e)return e;if(ca(e))return m;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=Oe.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function va(e){return Ei(e,Ma(e))}function ba(e){return null==e?"":di(e)}var ya=Di((function(e,t){if(kr(t)||Ys(t))Ei(t,Ea(t),e);else for(var n in t)Re.call(t,n)&&no(e,n,t[n])})),xa=Di((function(e,t){Ei(t,Ma(t),e)})),wa=Di((function(e,t,n,o){Ei(t,Ma(t),e,o)})),Sa=Di((function(e,t,n,o){Ei(t,Ea(t),e,o)})),_a=ir(ao);var ka=Ko((function(e,t){e=Te(e);var n=-1,o=t.length,r=o>2?t[2]:i;for(r&&xr(t[0],t[1],r)&&(o=1);++n<o;)for(var s=t[n],a=Ma(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===i||Vs(d,Me[u])&&!Re.call(e,u))&&(e[u]=s[u])}return e})),Ca=Ko((function(e){return e.push(i,tr),Tt(Ia,i,e)}));function Ta(e,t,n){var o=null==e?i:ko(e,t);return o===i?n:o}function $a(e,t){return null!=e&&Or(e,t,Ao)}var Pa=Zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),tl(il)),Aa=Zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),ur),Qa=Ko(Eo);function Ea(e){return Ys(e)?Gn(e):No(e)}function Ma(e){return Ys(e)?Gn(e,!0):Lo(e)}var Da=Di((function(e,t,n){Xo(e,t,n)})),Ia=Di((function(e,t,n,o){Xo(e,t,n,o)})),Ra=ir((function(e,t){var n={};if(null==e)return n;var o=!1;t=It(t,(function(t){return t=xi(t,e),o||(o=t.length>1),t})),Ei(e,sr(e),n),o&&(n=co(n,7,nr));for(var i=t.length;i--;)fi(n,t[i]);return n}));var za=ir((function(e,t){return null==e?{}:function(e,t){return Yo(e,t,(function(t,n){return $a(e,n)}))}(e,t)}));function Na(e,t){if(null==e)return{};var n=It(sr(e),(function(e){return[e]}));return t=ur(t),Yo(e,n,(function(e,n){return t(e,n[0])}))}var La=Ki(Ea),ja=Ki(Ma);function Va(e){return null==e?[]:en(e,Ea(e))}var Ba=Ni((function(e,t,n){return t=t.toLowerCase(),e+(n?Za(t):t)}));function Za(e){return Ga(ba(e).toLowerCase())}function Xa(e){return(e=ba(e))&&e.replace(xe,rn).replace(tt,"")}var Wa=Ni((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ua=Ni((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ya=zi("toLowerCase");var Fa=Ni((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qa=Ni((function(e,t,n){return e+(n?" ":"")+Ga(t)}));var Ha=Ni((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ga=zi("toUpperCase");function Ka(e,t,n){return e=ba(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(ot)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Ja=Ko((function(e,t){try{return Tt(e,i,t)}catch(e){return Gs(e)?e:new _e(e)}})),el=ir((function(e,t){return Pt(t,(function(t){t=Nr(t),so(e,t,As(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=Vi(),ol=Vi(!0);function il(e){return e}function rl(e){return zo("function"==typeof e?e:co(e,1))}var sl=Ko((function(e,t){return function(n){return Eo(n,e,t)}})),al=Ko((function(e,t){return function(n){return Eo(e,n,t)}}));function ll(e,t,n){var o=Ea(t),i=_o(t,o);null!=n||ta(t)&&(i.length||!o.length)||(n=t,t=e,e=this,i=_o(t,Ea(t)));var r=!(ta(n)&&"chain"in n&&!n.chain),s=Ks(e);return Pt(i,(function(n){var o=t[n];e[n]=o,s&&(e.prototype[n]=function(){var t=this.__chain__;if(r||t){var n=e(this.__wrapped__);return(n.__actions__=Qi(this.__actions__)).push({func:o,args:arguments,thisArg:e}),n.__chain__=t,n}return o.apply(e,Rt([this.value()],arguments))})})),e}function cl(){}var ul=Wi(It),dl=Wi(Qt),hl=Wi(Lt);function fl(e){return wr(e)?Yt(Nr(e)):function(e){return function(t){return ko(t,e)}}(e)}var pl=Yi(),ml=Yi(!0);function gl(){return[]}function Ol(){return!1}var vl=Xi((function(e,t){return e+t}),0),bl=Hi("ceil"),yl=Xi((function(e,t){return e/t}),1),xl=Hi("floor");var wl,Sl=Xi((function(e,t){return e*t}),1),_l=Hi("round"),kl=Xi((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Ae(r);return e=ma(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=$s,Vn.assign=ya,Vn.assignIn=xa,Vn.assignInWith=wa,Vn.assignWith=Sa,Vn.at=_a,Vn.before=Ps,Vn.bind=As,Vn.bindAll=el,Vn.bindKey=Qs,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ws(e)?e:[e]},Vn.chain=fs,Vn.chunk=function(e,t,n){t=(n?xr(e,t,n):t===i)?1:bn(ma(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,a=0,l=o(pt(r/t));s<r;)l[a++]=ri(e,s,s+=t);return l},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,o=0,i=[];++t<n;){var r=e[t];r&&(i[o++]=r)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=o(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Rt(Ws(n)?Qi(n):[n],bo(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=ur();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new Ae(r);return[n(e[0]),e[1]]})):[],Ko((function(n){for(var o=-1;++o<t;){var i=e[o];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Ea(e);return function(n){return uo(n,e,t)}}(co(e,1))},Vn.constant=tl,Vn.countBy=gs,Vn.create=function(e,t){var n=Bn(e);return null==t?n:ro(n,t)},Vn.curry=function e(t,n,o){var r=Ji(t,8,i,i,i,i,i,n=o?i:n);return r.placeholder=e.placeholder,r},Vn.curryRight=function e(t,n,o){var r=Ji(t,l,i,i,i,i,i,n=o?i:n);return r.placeholder=e.placeholder,r},Vn.debounce=Es,Vn.defaults=ka,Vn.defaultsDeep=Ca,Vn.defer=Ms,Vn.delay=Ds,Vn.difference=Vr,Vn.differenceBy=Br,Vn.differenceWith=Zr,Vn.drop=function(e,t,n){var o=null==e?0:e.length;return o?ri(e,(t=n||t===i?1:ma(t))<0?0:t,o):[]},Vn.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?ri(e,0,(t=o-(t=n||t===i?1:ma(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?mi(e,ur(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?mi(e,ur(t,3),!0):[]},Vn.fill=function(e,t,n,o){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xr(e,t,n)&&(n=0,o=r),function(e,t,n,o){var r=e.length;for((n=ma(n))<0&&(n=-n>r?0:r+n),(o=o===i||o>r?r:ma(o))<0&&(o+=r),o=n>o?0:ga(o);n<o;)e[n++]=t;return e}(e,t,n,o)):[]},Vn.filter=function(e,t){return(Ws(e)?Et:vo)(e,ur(t,3))},Vn.flatMap=function(e,t){return bo(_s(e,t),1)},Vn.flatMapDeep=function(e,t){return bo(_s(e,t),f)},Vn.flatMapDepth=function(e,t,n){return n=n===i?1:ma(n),bo(_s(e,t),n)},Vn.flatten=Ur,Vn.flattenDeep=function(e){return(null==e?0:e.length)?bo(e,f):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?bo(e,t=t===i?1:ma(t)):[]},Vn.flip=function(e){return Ji(e,512)},Vn.flow=nl,Vn.flowRight=ol,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,o={};++t<n;){var i=e[t];o[i[0]]=i[1]}return o},Vn.functions=function(e){return null==e?[]:_o(e,Ea(e))},Vn.functionsIn=function(e){return null==e?[]:_o(e,Ma(e))},Vn.groupBy=xs,Vn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Vn.intersection=Fr,Vn.intersectionBy=qr,Vn.intersectionWith=Hr,Vn.invert=Pa,Vn.invertBy=Aa,Vn.invokeMap=ws,Vn.iteratee=rl,Vn.keyBy=Ss,Vn.keys=Ea,Vn.keysIn=Ma,Vn.map=_s,Vn.mapKeys=function(e,t){var n={};return t=ur(t,3),wo(e,(function(e,o,i){so(n,t(e,o,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=ur(t,3),wo(e,(function(e,o,i){so(n,o,t(e,o,i))})),n},Vn.matches=function(e){return Bo(co(e,1))},Vn.matchesProperty=function(e,t){return Zo(e,co(t,1))},Vn.memoize=Is,Vn.merge=Da,Vn.mergeWith=Ia,Vn.method=sl,Vn.methodOf=al,Vn.mixin=ll,Vn.negate=Rs,Vn.nthArg=function(e){return e=ma(e),Ko((function(t){return Wo(t,e)}))},Vn.omit=Ra,Vn.omitBy=function(e,t){return Na(e,Rs(ur(t)))},Vn.once=function(e){return Ps(2,e)},Vn.orderBy=function(e,t,n,o){return null==e?[]:(Ws(t)||(t=null==t?[]:[t]),Ws(n=o?i:n)||(n=null==n?[]:[n]),Uo(e,t,n))},Vn.over=ul,Vn.overArgs=zs,Vn.overEvery=dl,Vn.overSome=hl,Vn.partial=Ns,Vn.partialRight=Ls,Vn.partition=ks,Vn.pick=za,Vn.pickBy=Na,Vn.property=fl,Vn.propertyOf=function(e){return function(t){return null==e?i:ko(e,t)}},Vn.pull=Kr,Vn.pullAll=Jr,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Fo(e,t,ur(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Fo(e,t,i,n):e},Vn.pullAt=es,Vn.range=pl,Vn.rangeRight=ml,Vn.rearg=js,Vn.reject=function(e,t){return(Ws(e)?Et:vo)(e,Rs(ur(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,i=[],r=e.length;for(t=ur(t,3);++o<r;){var s=e[o];t(s,o,e)&&(n.push(s),i.push(o))}return qo(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Ae(r);return Ko(e,t=t===i?t:ma(t))},Vn.reverse=ts,Vn.sampleSize=function(e,t,n){return t=(n?xr(e,t,n):t===i)?1:ma(t),(Ws(e)?Jn:ei)(e,t)},Vn.set=function(e,t,n){return null==e?e:ti(e,t,n)},Vn.setWith=function(e,t,n,o){return o="function"==typeof o?o:i,null==e?e:ti(e,t,n,o)},Vn.shuffle=function(e){return(Ws(e)?eo:ii)(e)},Vn.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&xr(e,t,n)?(t=0,n=o):(t=null==t?0:ma(t),n=n===i?o:ma(n)),ri(e,t,n)):[]},Vn.sortBy=Cs,Vn.sortedUniq=function(e){return e&&e.length?ci(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?ci(e,ur(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&xr(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=di(t))&&ln(e)?Si(mn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Ae(r);return t=null==t?0:bn(ma(t),0),Ko((function(n){var o=n[t],i=Si(n,0,t);return o&&Rt(i,o),Tt(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:ma(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?ri(e,(t=o-(t=n||t===i?1:ma(t)))<0?0:t,o):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?mi(e,ur(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?mi(e,ur(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new Ae(r);return ta(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Es(e,t,{leading:o,maxWait:t,trailing:i})},Vn.thru=ps,Vn.toArray=fa,Vn.toPairs=La,Vn.toPairsIn=ja,Vn.toPath=function(e){return Ws(e)?It(e,Nr):ca(e)?[e]:Qi(zr(ba(e)))},Vn.toPlainObject=va,Vn.transform=function(e,t,n){var o=Ws(e),i=o||qs(e)||ua(e);if(t=ur(t,4),null==n){var r=e&&e.constructor;n=i?o?new r:[]:ta(e)&&Ks(r)?Bn(Ye(e)):{}}return(i?Pt:wo)(e,(function(e,o,i){return t(n,e,o,i)})),n},Vn.unary=function(e){return $s(e,1)},Vn.union=ns,Vn.unionBy=os,Vn.unionWith=is,Vn.uniq=function(e){return e&&e.length?hi(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?hi(e,ur(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?hi(e,i,t):[]},Vn.unset=function(e,t){return null==e||fi(e,t)},Vn.unzip=rs,Vn.unzipWith=ss,Vn.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Vn.updateWith=function(e,t,n,o){return o="function"==typeof o?o:i,null==e?e:pi(e,t,yi(n),o)},Vn.values=Va,Vn.valuesIn=function(e){return null==e?[]:en(e,Ma(e))},Vn.without=as,Vn.words=Ka,Vn.wrap=function(e,t){return Ns(yi(t),e)},Vn.xor=ls,Vn.xorBy=cs,Vn.xorWith=us,Vn.zip=ds,Vn.zipObject=function(e,t){return vi(e||[],t||[],no)},Vn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ti)},Vn.zipWith=hs,Vn.entries=La,Vn.entriesIn=ja,Vn.extend=xa,Vn.extendWith=wa,ll(Vn,Vn),Vn.add=vl,Vn.attempt=Ja,Vn.camelCase=Ba,Vn.capitalize=Za,Vn.ceil=bl,Vn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=Oa(n))==n?n:0),t!==i&&(t=(t=Oa(t))==t?t:0),lo(Oa(e),t,n)},Vn.clone=function(e){return co(e,4)},Vn.cloneDeep=function(e){return co(e,5)},Vn.cloneDeepWith=function(e,t){return co(e,5,t="function"==typeof t?t:i)},Vn.cloneWith=function(e,t){return co(e,4,t="function"==typeof t?t:i)},Vn.conformsTo=function(e,t){return null==t||uo(e,t,Ea(t))},Vn.deburr=Xa,Vn.defaultTo=function(e,t){return null==e||e!=e?t:e},Vn.divide=yl,Vn.endsWith=function(e,t,n){e=ba(e),t=di(t);var o=e.length,r=n=n===i?o:lo(ma(n),0,o);return(n-=t.length)>=0&&e.slice(n,r)==t},Vn.eq=Vs,Vn.escape=function(e){return(e=ba(e))&&G.test(e)?e.replace(q,sn):e},Vn.escapeRegExp=function(e){return(e=ba(e))&&re.test(e)?e.replace(ie,"\\$&"):e},Vn.every=function(e,t,n){var o=Ws(e)?Qt:go;return n&&xr(e,t,n)&&(t=i),o(e,ur(t,3))},Vn.find=Os,Vn.findIndex=Xr,Vn.findKey=function(e,t){return Vt(e,ur(t,3),wo)},Vn.findLast=vs,Vn.findLastIndex=Wr,Vn.findLastKey=function(e,t){return Vt(e,ur(t,3),So)},Vn.floor=xl,Vn.forEach=bs,Vn.forEachRight=ys,Vn.forIn=function(e,t){return null==e?e:yo(e,ur(t,3),Ma)},Vn.forInRight=function(e,t){return null==e?e:xo(e,ur(t,3),Ma)},Vn.forOwn=function(e,t){return e&&wo(e,ur(t,3))},Vn.forOwnRight=function(e,t){return e&&So(e,ur(t,3))},Vn.get=Ta,Vn.gt=Bs,Vn.gte=Zs,Vn.has=function(e,t){return null!=e&&Or(e,t,Po)},Vn.hasIn=$a,Vn.head=Yr,Vn.identity=il,Vn.includes=function(e,t,n,o){e=Ys(e)?e:Va(e),n=n&&!o?ma(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),la(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Zt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=null==n?0:ma(n);return i<0&&(i=bn(o+i,0)),Zt(e,t,i)},Vn.inRange=function(e,t,n){return t=pa(t),n===i?(n=t,t=0):n=pa(n),function(e,t,n){return e>=yn(t,n)&&e<bn(t,n)}(e=Oa(e),t,n)},Vn.invoke=Qa,Vn.isArguments=Xs,Vn.isArray=Ws,Vn.isArrayBuffer=Us,Vn.isArrayLike=Ys,Vn.isArrayLikeObject=Fs,Vn.isBoolean=function(e){return!0===e||!1===e||na(e)&&To(e)==y},Vn.isBuffer=qs,Vn.isDate=Hs,Vn.isElement=function(e){return na(e)&&1===e.nodeType&&!ra(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(Ws(e)||"string"==typeof e||"function"==typeof e.splice||qs(e)||ua(e)||Xs(e)))return!e.length;var t=gr(e);if(t==k||t==A)return!e.size;if(kr(e))return!No(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Do(e,t)},Vn.isEqualWith=function(e,t,n){var o=(n="function"==typeof n?n:i)?n(e,t):i;return o===i?Do(e,t,i,n):!!o},Vn.isError=Gs,Vn.isFinite=function(e){return"number"==typeof e&&yt(e)},Vn.isFunction=Ks,Vn.isInteger=Js,Vn.isLength=ea,Vn.isMap=oa,Vn.isMatch=function(e,t){return e===t||Io(e,t,hr(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Io(e,t,hr(t),n)},Vn.isNaN=function(e){return ia(e)&&e!=+e},Vn.isNative=function(e){if(_r(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ro(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=ia,Vn.isObject=ta,Vn.isObjectLike=na,Vn.isPlainObject=ra,Vn.isRegExp=sa,Vn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=p},Vn.isSet=aa,Vn.isString=la,Vn.isSymbol=ca,Vn.isTypedArray=ua,Vn.isUndefined=function(e){return e===i},Vn.isWeakMap=function(e){return na(e)&&gr(e)==M},Vn.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==To(e)},Vn.join=function(e,t){return null==e?"":jt.call(e,t)},Vn.kebabCase=Wa,Vn.last=Gr,Vn.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=o;return n!==i&&(r=(r=ma(n))<0?bn(o+r,0):yn(r,o-1)),t==t?function(e,t,n){for(var o=n+1;o--;)if(e[o]===t)return o;return o}(e,t,r):Bt(e,Wt,r,!0)},Vn.lowerCase=Ua,Vn.lowerFirst=Ya,Vn.lt=da,Vn.lte=ha,Vn.max=function(e){return e&&e.length?Oo(e,il,$o):i},Vn.maxBy=function(e,t){return e&&e.length?Oo(e,ur(t,2),$o):i},Vn.mean=function(e){return Ut(e,il)},Vn.meanBy=function(e,t){return Ut(e,ur(t,2))},Vn.min=function(e){return e&&e.length?Oo(e,il,jo):i},Vn.minBy=function(e,t){return e&&e.length?Oo(e,ur(t,2),jo):i},Vn.stubArray=gl,Vn.stubFalse=Ol,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Sl,Vn.nth=function(e,t){return e&&e.length?Wo(e,ma(t)):i},Vn.noConflict=function(){return mt._===this&&(mt._=Ve),this},Vn.noop=cl,Vn.now=Ts,Vn.pad=function(e,t,n){e=ba(e);var o=(t=ma(t))?pn(e):0;if(!t||o>=t)return e;var i=(t-o)/2;return Ui(gt(i),n)+e+Ui(pt(i),n)},Vn.padEnd=function(e,t,n){e=ba(e);var o=(t=ma(t))?pn(e):0;return t&&o<t?e+Ui(t-o,n):e},Vn.padStart=function(e,t,n){e=ba(e);var o=(t=ma(t))?pn(e):0;return t&&o<t?Ui(t-o,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ba(e).replace(se,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xr(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=pa(e),t===i?(t=e,e=0):t=pa(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var r=Sn();return yn(e+r*(t-e+dt("1e-"+((r+"").length-1))),t)}return Ho(e,t)},Vn.reduce=function(e,t,n){var o=Ws(e)?zt:qt,i=arguments.length<3;return o(e,ur(t,4),n,i,po)},Vn.reduceRight=function(e,t,n){var o=Ws(e)?Nt:qt,i=arguments.length<3;return o(e,ur(t,4),n,i,mo)},Vn.repeat=function(e,t,n){return t=(n?xr(e,t,n):t===i)?1:ma(t),Go(ba(e),t)},Vn.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var o=-1,r=(t=xi(t,e)).length;for(r||(r=1,e=i);++o<r;){var s=null==e?i:e[Nr(t[o])];s===i&&(o=r,s=n),e=Ks(s)?s.call(e):s}return e},Vn.round=_l,Vn.runInContext=e,Vn.sample=function(e){return(Ws(e)?Kn:Jo)(e)},Vn.size=function(e){if(null==e)return 0;if(Ys(e))return la(e)?pn(e):e.length;var t=gr(e);return t==k||t==A?e.size:No(e).length},Vn.snakeCase=Fa,Vn.some=function(e,t,n){var o=Ws(e)?Lt:si;return n&&xr(e,t,n)&&(t=i),o(e,ur(t,3))},Vn.sortedIndex=function(e,t){return ai(e,t)},Vn.sortedIndexBy=function(e,t,n){return li(e,t,ur(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=ai(e,t);if(o<n&&Vs(e[o],t))return o}return-1},Vn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return li(e,t,ur(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Vs(e[n],t))return n}return-1},Vn.startCase=qa,Vn.startsWith=function(e,t,n){return e=ba(e),n=null==n?0:lo(ma(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t},Vn.subtract=kl,Vn.sum=function(e){return e&&e.length?Ht(e,il):0},Vn.sumBy=function(e,t){return e&&e.length?Ht(e,ur(t,2)):0},Vn.template=function(e,t,n){var o=Vn.templateSettings;n&&xr(e,t,n)&&(t=i),e=ba(e),t=wa({},t,o,er);var r,s,a=wa({},t.imports,o.imports,er),l=Ea(a),c=en(a,l),u=0,d=t.interpolate||we,h="__p += '",f=$e((t.escape||we).source+"|"+d.source+"|"+(d===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,(function(t,n,o,i,a,l){return o||(o=i),h+=e.slice(u,l).replace(Se,an),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),o&&(h+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new _e("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(W,""):h).replace(U,"$1").replace(Y,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ja((function(){return ke(l,p+"return "+h).apply(i,c)}));if(g.source=h,Gs(g))throw g;return g},Vn.times=function(e,t){if((e=ma(e))<1||e>p)return[];var n=g,o=yn(e,g);t=ur(t),e-=g;for(var i=Gt(o,t);++n<e;)t(n);return i},Vn.toFinite=pa,Vn.toInteger=ma,Vn.toLength=ga,Vn.toLower=function(e){return ba(e).toLowerCase()},Vn.toNumber=Oa,Vn.toSafeInteger=function(e){return e?lo(ma(e),-9007199254740991,p):0===e?e:0},Vn.toString=ba,Vn.toUpper=function(e){return ba(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=ba(e))&&(n||t===i))return Kt(e);if(!e||!(t=di(t)))return e;var o=mn(e),r=mn(t);return Si(o,nn(o,r),on(o,r)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=di(t)))return e;var o=mn(e);return Si(o,0,on(o,mn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=di(t)))return e;var o=mn(e);return Si(o,nn(o,mn(t))).join("")},Vn.truncate=function(e,t){var n=30,o="...";if(ta(t)){var r="separator"in t?t.separator:r;n="length"in t?ma(t.length):n,o="omission"in t?di(t.omission):o}var s=(e=ba(e)).length;if(ln(e)){var a=mn(e);s=a.length}if(n>=s)return e;var l=n-pn(o);if(l<1)return o;var c=a?Si(a,0,l).join(""):e.slice(0,l);if(r===i)return c+o;if(a&&(l+=c.length-l),sa(r)){if(e.slice(l).search(r)){var u,d=c;for(r.global||(r=$e(r.source,ba(me.exec(r))+"g")),r.lastIndex=0;u=r.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(di(r),l)!=l){var f=c.lastIndexOf(r);f>-1&&(c=c.slice(0,f))}return c+o},Vn.unescape=function(e){return(e=ba(e))&&H.test(e)?e.replace(F,On):e},Vn.uniqueId=function(e){var t=++ze;return ba(e)+t},Vn.upperCase=Ha,Vn.upperFirst=Ga,Vn.each=bs,Vn.eachRight=ys,Vn.first=Yr,ll(Vn,(wl={},wo(Vn,(function(e,t){Re.call(Vn.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),Vn.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),Pt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:bn(ma(n),0);var o=this.__filtered__&&!t?new Wn(this):this.clone();return o.__filtered__?o.__takeCount__=yn(n,o.__takeCount__):o.__views__.push({size:yn(n,g),type:e+(o.__dir__<0?"Right":"")}),o},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var n=t+1,o=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ur(e,3),type:n}),t.__filtered__=t.__filtered__||o,t}})),Pt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Ko((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Eo(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Rs(ur(e)))},Wn.prototype.slice=function(e,t){e=ma(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ma(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},wo(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),r=Vn[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);r&&(Vn.prototype[t]=function(){var t=this.__wrapped__,a=o?[1]:arguments,l=t instanceof Wn,c=a[0],u=l||Ws(t),d=function(e){var t=r.apply(Vn,Rt([e],a));return o&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=l&&!f;if(!s&&u){t=m?t:new Wn(this);var g=e.apply(t,a);return g.__actions__.push({func:ps,args:[d],thisArg:i}),new Xn(g,h)}return p&&m?e.apply(this,a):(g=this.thru(d),p?o?g.value()[0]:g.value():g)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Qe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var i=this.value();return t.apply(Ws(i)?i:[],e)}return this[n]((function(n){return t.apply(Ws(n)?n:[],e)}))}})),wo(Wn.prototype,(function(e,t){var n=Vn[t];if(n){var o=n.name+"";Re.call(En,o)||(En[o]=[]),En[o].push({name:t,func:n})}})),En[Bi(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Qi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Qi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Qi(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ws(e),o=t<0,i=n?e.length:0,r=function(e,t,n){var o=-1,i=n.length;for(;++o<i;){var r=n[o],s=r.size;switch(r.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=yn(t,e+s);break;case"takeRight":e=bn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=r.start,a=r.end,l=a-s,c=o?a:s-1,u=this.__iteratees__,d=u.length,h=0,f=yn(l,this.__takeCount__);if(!n||!o&&i==l&&f==l)return gi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var O=u[m],v=O.iteratee,b=O.type,y=v(g);if(2==b)g=y;else if(!y){if(1==b)continue e;break e}}p[h++]=g}return p},Vn.prototype.at=ms,Vn.prototype.chain=function(){return fs(this)},Vn.prototype.commit=function(){return new Xn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof Zn;){var o=jr(n);o.__index__=0,o.__values__=i,t?r.__wrapped__=o:t=o;var r=o;n=n.__wrapped__}return r.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ps,args:[ts],thisArg:i}),new Xn(t,this.__chain__)}return this.thru(ts)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Ke&&(Vn.prototype[Ke]=function(){return this}),Vn}();mt._=vn,(o=function(){return vn}.call(t,n,t,e))===i||(e.exports=o)}.call(this)},2754:function(e,t,n){!function(e,t,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(t),r=o(n);function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var d="transitionend",h=1e6,f=1e3;function p(e){return null==e?""+e:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function m(){return{bindType:d,delegateType:d,handle:function(e){if(i.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function g(e){var t=this,n=!1;return i.default(this).one(v.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||v.triggerTransitionEnd(t)}),e),this}function O(){i.default.fn.emulateTransitionEnd=g,i.default.event.special[v.TRANSITION_END]=m()}var v={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(Math.random()*h)}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=i.default(e).css("transition-duration"),n=i.default(e).css("transition-delay"),o=parseFloat(t),r=parseFloat(n);return o||r?(t=t.split(",")[0],n=n.split(",")[0],(parseFloat(t)+parseFloat(n))*f):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){i.default(e).trigger(d)},supportsTransitionEnd:function(){return Boolean(d)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o],r=t[o],s=r&&v.isElement(r)?"element":p(r);if(!new RegExp(i).test(s))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+s+'" but expected type "'+i+'".')}},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?v.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===i.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=i.default.fn.jquery.split(" ")[0].split("."),t=1,n=2,o=9,r=1,s=4;if(e[0]<n&&e[1]<o||e[0]===t&&e[1]===o&&e[2]<r||e[0]>=s)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};v.jQueryDetection(),O();var b="alert",y="4.6.2",x="bs.alert",w="."+x,S=".data-api",_=i.default.fn[b],k="alert",C="fade",T="show",$="close"+w,P="closed"+w,A="click"+w+S,Q='[data-dismiss="alert"]',E=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){i.default.removeData(this._element,x),this._element=null},t._getRootElement=function(e){var t=v.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n||(n=i.default(e).closest("."+k)[0]),n},t._triggerCloseEvent=function(e){var t=i.default.Event($);return i.default(e).trigger(t),t},t._removeElement=function(e){var t=this;if(i.default(e).removeClass(T),i.default(e).hasClass(C)){var n=v.getTransitionDurationFromElement(e);i.default(e).one(v.TRANSITION_END,(function(n){return t._destroyElement(e,n)})).emulateTransitionEnd(n)}else this._destroyElement(e)},t._destroyElement=function(e){i.default(e).detach().trigger(P).remove()},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),o=n.data(x);o||(o=new e(this),n.data(x,o)),"close"===t&&o[t](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},a(e,null,[{key:"VERSION",get:function(){return y}}]),e}();i.default(document).on(A,Q,E._handleDismiss(new E)),i.default.fn[b]=E._jQueryInterface,i.default.fn[b].Constructor=E,i.default.fn[b].noConflict=function(){return i.default.fn[b]=_,E._jQueryInterface};var M="button",D="4.6.2",I="bs.button",R="."+I,z=".data-api",N=i.default.fn[M],L="active",j="btn",V="focus",B="click"+R+z,Z="focus"+R+z+" blur"+R+z,X="load"+R+z,W='[data-toggle^="button"]',U='[data-toggle="buttons"]',Y='[data-toggle="button"]',F='[data-toggle="buttons"] .btn',q='input:not([type="hidden"])',H=".active",G=".btn",K=function(){function e(e){this._element=e,this.shouldAvoidTriggerChange=!1}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,n=i.default(this._element).closest(U)[0];if(n){var o=this._element.querySelector(q);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(L))e=!1;else{var r=n.querySelector(H);r&&i.default(r).removeClass(L)}e&&("checkbox"!==o.type&&"radio"!==o.type||(o.checked=!this._element.classList.contains(L)),this.shouldAvoidTriggerChange||i.default(o).trigger("change")),o.focus(),t=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(L)),e&&i.default(this._element).toggleClass(L))},t.dispose=function(){i.default.removeData(this._element,I),this._element=null},e._jQueryInterface=function(t,n){return this.each((function(){var o=i.default(this),r=o.data(I);r||(r=new e(this),o.data(I,r)),r.shouldAvoidTriggerChange=n,"toggle"===t&&r[t]()}))},a(e,null,[{key:"VERSION",get:function(){return D}}]),e}();i.default(document).on(B,W,(function(e){var t=e.target,n=t;if(i.default(t).hasClass(j)||(t=i.default(t).closest(G)[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var o=t.querySelector(q);if(o&&(o.hasAttribute("disabled")||o.classList.contains("disabled")))return void e.preventDefault();"INPUT"!==n.tagName&&"LABEL"===t.tagName||K._jQueryInterface.call(i.default(t),"toggle","INPUT"===n.tagName)}})).on(Z,W,(function(e){var t=i.default(e.target).closest(G)[0];i.default(t).toggleClass(V,/^focus(in)?$/.test(e.type))})),i.default(window).on(X,(function(){for(var e=[].slice.call(document.querySelectorAll(F)),t=0,n=e.length;t<n;t++){var o=e[t],i=o.querySelector(q);i.checked||i.hasAttribute("checked")?o.classList.add(L):o.classList.remove(L)}for(var r=0,s=(e=[].slice.call(document.querySelectorAll(Y))).length;r<s;r++){var a=e[r];"true"===a.getAttribute("aria-pressed")?a.classList.add(L):a.classList.remove(L)}})),i.default.fn[M]=K._jQueryInterface,i.default.fn[M].Constructor=K,i.default.fn[M].noConflict=function(){return i.default.fn[M]=N,K._jQueryInterface};var J="carousel",ee="4.6.2",te="bs.carousel",ne="."+te,oe=".data-api",ie=i.default.fn[J],re=37,se=39,ae=500,le=40,ce="carousel",ue="active",de="slide",he="carousel-item-right",fe="carousel-item-left",pe="carousel-item-next",me="carousel-item-prev",ge="pointer-event",Oe="next",ve="prev",be="left",ye="right",xe="slide"+ne,we="slid"+ne,Se="keydown"+ne,_e="mouseenter"+ne,ke="mouseleave"+ne,Ce="touchstart"+ne,Te="touchmove"+ne,$e="touchend"+ne,Pe="pointerdown"+ne,Ae="pointerup"+ne,Qe="dragstart"+ne,Ee="load"+ne+oe,Me="click"+ne+oe,De=".active",Ie=".active.carousel-item",Re=".carousel-item",ze=".carousel-item img",Ne=".carousel-item-next, .carousel-item-prev",Le=".carousel-indicators",je="[data-slide], [data-slide-to]",Ve='[data-ride="carousel"]',Be={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Ze={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Xe={TOUCH:"touch",PEN:"pen"},We=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(Le),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide(Oe)},t.nextWhenVisible=function(){var e=i.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(ve)},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(Ne)&&(v.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(Ie);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)i.default(this._element).one(we,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var o=e>n?Oe:ve;this._slide(o,this._items[e])}},t.dispose=function(){i.default(this._element).off(ne),i.default.removeData(this._element,te),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=l({},Be,e),v.typeCheckConfig(J,e,Ze),e},t._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=le)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&i.default(this._element).on(Se,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&i.default(this._element).on(_e,(function(t){return e.pause(t)})).on(ke,(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var t=function(t){e._pointerEvent&&Xe[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},n=function(t){e.touchDeltaX=t.originalEvent.touches&&t.originalEvent.touches.length>1?0:t.originalEvent.touches[0].clientX-e.touchStartX},o=function(t){e._pointerEvent&&Xe[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),ae+e._config.interval))};i.default(this._element.querySelectorAll(ze)).on(Qe,(function(e){return e.preventDefault()})),this._pointerEvent?(i.default(this._element).on(Pe,(function(e){return t(e)})),i.default(this._element).on(Ae,(function(e){return o(e)})),this._element.classList.add(ge)):(i.default(this._element).on(Ce,(function(e){return t(e)})),i.default(this._element).on(Te,(function(e){return n(e)})),i.default(this._element).on($e,(function(e){return o(e)})))}},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case re:e.preventDefault(),this.prev();break;case se:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(Re)):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var n=e===Oe,o=e===ve,i=this._getItemIndex(t),r=this._items.length-1;if((o&&0===i||n&&i===r)&&!this._config.wrap)return t;var s=(i+(e===ve?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},t._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),o=this._getItemIndex(this._element.querySelector(Ie)),r=i.default.Event(xe,{relatedTarget:e,direction:t,from:o,to:n});return i.default(this._element).trigger(r),r},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(De));i.default(t).removeClass(ue);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&i.default(n).addClass(ue)}},t._updateInterval=function(){var e=this._activeElement||this._element.querySelector(Ie);if(e){var t=parseInt(e.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}},t._slide=function(e,t){var n,o,r,s=this,a=this._element.querySelector(Ie),l=this._getItemIndex(a),c=t||a&&this._getItemByDirection(e,a),u=this._getItemIndex(c),d=Boolean(this._interval);if(e===Oe?(n=fe,o=pe,r=be):(n=he,o=me,r=ye),c&&i.default(c).hasClass(ue))this._isSliding=!1;else if(!this._triggerSlideEvent(c,r).isDefaultPrevented()&&a&&c){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(c),this._activeElement=c;var h=i.default.Event(we,{relatedTarget:c,direction:r,from:l,to:u});if(i.default(this._element).hasClass(de)){i.default(c).addClass(o),v.reflow(c),i.default(a).addClass(n),i.default(c).addClass(n);var f=v.getTransitionDurationFromElement(a);i.default(a).one(v.TRANSITION_END,(function(){i.default(c).removeClass(n+" "+o).addClass(ue),i.default(a).removeClass(ue+" "+o+" "+n),s._isSliding=!1,setTimeout((function(){return i.default(s._element).trigger(h)}),0)})).emulateTransitionEnd(f)}else i.default(a).removeClass(ue),i.default(c).addClass(ue),this._isSliding=!1,i.default(this._element).trigger(h);d&&this.cycle()}},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this).data(te),o=l({},Be,i.default(this).data());"object"==typeof t&&(o=l({},o,t));var r="string"==typeof t?t:o.slide;if(n||(n=new e(this,o),i.default(this).data(te,n)),"number"==typeof t)n.to(t);else if("string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}else o.interval&&o.ride&&(n.pause(),n.cycle())}))},e._dataApiClickHandler=function(t){var n=v.getSelectorFromElement(this);if(n){var o=i.default(n)[0];if(o&&i.default(o).hasClass(ce)){var r=l({},i.default(o).data(),i.default(this).data()),s=this.getAttribute("data-slide-to");s&&(r.interval=!1),e._jQueryInterface.call(i.default(o),r),s&&i.default(o).data(te).to(s),t.preventDefault()}}},a(e,null,[{key:"VERSION",get:function(){return ee}},{key:"Default",get:function(){return Be}}]),e}();i.default(document).on(Me,je,We._dataApiClickHandler),i.default(window).on(Ee,(function(){for(var e=[].slice.call(document.querySelectorAll(Ve)),t=0,n=e.length;t<n;t++){var o=i.default(e[t]);We._jQueryInterface.call(o,o.data())}})),i.default.fn[J]=We._jQueryInterface,i.default.fn[J].Constructor=We,i.default.fn[J].noConflict=function(){return i.default.fn[J]=ie,We._jQueryInterface};var Ue="collapse",Ye="4.6.2",Fe="bs.collapse",qe="."+Fe,He=".data-api",Ge=i.default.fn[Ue],Ke="show",Je="collapse",et="collapsing",tt="collapsed",nt="width",ot="height",it="show"+qe,rt="shown"+qe,st="hide"+qe,at="hidden"+qe,lt="click"+qe+He,ct=".show, .collapsing",ut='[data-toggle="collapse"]',dt={toggle:!0,parent:""},ht={toggle:"boolean",parent:"(string|element)"},ft=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(ut)),o=0,i=n.length;o<i;o++){var r=n[o],s=v.getSelectorFromElement(r),a=[].slice.call(document.querySelectorAll(s)).filter((function(t){return t===e}));null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){i.default(this._element).hasClass(Ke)?this.hide():this.show()},t.show=function(){var t,n,o=this;if(!(this._isTransitioning||i.default(this._element).hasClass(Ke)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(ct)).filter((function(e){return"string"==typeof o._config.parent?e.getAttribute("data-parent")===o._config.parent:e.classList.contains(Je)}))).length&&(t=null),t&&(n=i.default(t).not(this._selector).data(Fe))&&n._isTransitioning))){var r=i.default.Event(it);if(i.default(this._element).trigger(r),!r.isDefaultPrevented()){t&&(e._jQueryInterface.call(i.default(t).not(this._selector),"hide"),n||i.default(t).data(Fe,null));var s=this._getDimension();i.default(this._element).removeClass(Je).addClass(et),this._element.style[s]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass(tt).attr("aria-expanded",!0),this.setTransitioning(!0);var a=function(){i.default(o._element).removeClass(et).addClass(Je+" "+Ke),o._element.style[s]="",o.setTransitioning(!1),i.default(o._element).trigger(rt)},l="scroll"+(s[0].toUpperCase()+s.slice(1)),c=v.getTransitionDurationFromElement(this._element);i.default(this._element).one(v.TRANSITION_END,a).emulateTransitionEnd(c),this._element.style[s]=this._element[l]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&i.default(this._element).hasClass(Ke)){var t=i.default.Event(st);if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",v.reflow(this._element),i.default(this._element).addClass(et).removeClass(Je+" "+Ke);var o=this._triggerArray.length;if(o>0)for(var r=0;r<o;r++){var s=this._triggerArray[r],a=v.getSelectorFromElement(s);null!==a&&(i.default([].slice.call(document.querySelectorAll(a))).hasClass(Ke)||i.default(s).addClass(tt).attr("aria-expanded",!1))}this.setTransitioning(!0);var l=function(){e.setTransitioning(!1),i.default(e._element).removeClass(et).addClass(Je).trigger(at)};this._element.style[n]="";var c=v.getTransitionDurationFromElement(this._element);i.default(this._element).one(v.TRANSITION_END,l).emulateTransitionEnd(c)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){i.default.removeData(this._element,Fe),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=l({},dt,e)).toggle=Boolean(e.toggle),v.typeCheckConfig(Ue,e,ht),e},t._getDimension=function(){return i.default(this._element).hasClass(nt)?nt:ot},t._getParent=function(){var t,n=this;v.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(t.querySelectorAll(o));return i.default(r).each((function(t,o){n._addAriaAndCollapsedClass(e._getTargetFromElement(o),[o])})),t},t._addAriaAndCollapsedClass=function(e,t){var n=i.default(e).hasClass(Ke);t.length&&i.default(t).toggleClass(tt,!n).attr("aria-expanded",n)},e._getTargetFromElement=function(e){var t=v.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),o=n.data(Fe),r=l({},dt,n.data(),"object"==typeof t&&t?t:{});if(!o&&r.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(r.toggle=!1),o||(o=new e(this,r),n.data(Fe,o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return Ye}},{key:"Default",get:function(){return dt}}]),e}();i.default(document).on(lt,ut,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=i.default(this),n=v.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(n));i.default(o).each((function(){var e=i.default(this),n=e.data(Fe)?"toggle":t.data();ft._jQueryInterface.call(e,n)}))})),i.default.fn[Ue]=ft._jQueryInterface,i.default.fn[Ue].Constructor=ft,i.default.fn[Ue].noConflict=function(){return i.default.fn[Ue]=Ge,ft._jQueryInterface};var pt="dropdown",mt="4.6.2",gt="bs.dropdown",Ot="."+gt,vt=".data-api",bt=i.default.fn[pt],yt=27,xt=32,wt=9,St=38,_t=40,kt=3,Ct=new RegExp(St+"|"+_t+"|"+yt),Tt="disabled",$t="show",Pt="dropup",At="dropright",Qt="dropleft",Et="dropdown-menu-right",Mt="position-static",Dt="hide"+Ot,It="hidden"+Ot,Rt="show"+Ot,zt="shown"+Ot,Nt="click"+Ot,Lt="click"+Ot+vt,jt="keydown"+Ot+vt,Vt="keyup"+Ot+vt,Bt='[data-toggle="dropdown"]',Zt=".dropdown form",Xt=".dropdown-menu",Wt=".navbar-nav",Ut=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Yt="top-start",Ft="top-end",qt="bottom-start",Ht="bottom-end",Gt="right-start",Kt="left-start",Jt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},en={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},tn=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(Tt)){var t=i.default(this._menu).hasClass($t);e._clearMenus(),t||this.show(!0)}},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||i.default(this._element).hasClass(Tt)||i.default(this._menu).hasClass($t))){var n={relatedTarget:this._element},o=i.default.Event(Rt,n),s=e._getParentFromElement(this._element);if(i.default(s).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===r.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var a=this._element;"parent"===this._config.reference?a=s:v.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&i.default(s).addClass(Mt),this._popper=new r.default(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i.default(s).closest(Wt).length&&i.default(document.body).children().on("mouseover",null,i.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i.default(this._menu).toggleClass($t),i.default(s).toggleClass($t).trigger(i.default.Event(zt,n))}}},t.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(Tt)&&i.default(this._menu).hasClass($t)){var t={relatedTarget:this._element},n=i.default.Event(Dt,t),o=e._getParentFromElement(this._element);i.default(o).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass($t),i.default(o).toggleClass($t).trigger(i.default.Event(It,t)))}},t.dispose=function(){i.default.removeData(this._element,gt),i.default(this._element).off(Ot),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;i.default(this._element).on(Nt,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},t._getConfig=function(e){return e=l({},this.constructor.Default,i.default(this._element).data(),e),v.typeCheckConfig(pt,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(Xt))}return this._menu},t._getPlacement=function(){var e=i.default(this._element.parentNode),t=qt;return e.hasClass(Pt)?t=i.default(this._menu).hasClass(Et)?Ft:Yt:e.hasClass(At)?t=Gt:e.hasClass(Qt)?t=Kt:i.default(this._menu).hasClass(Et)&&(t=Ht),t},t._detectNavbar=function(){return i.default(this._element).closest(".navbar").length>0},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e._config.offset(t.offsets,e._element)),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),l({},e,this._config.popperConfig)},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this).data(gt);if(n||(n=new e(this,"object"==typeof t?t:null),i.default(this).data(gt,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},e._clearMenus=function(t){if(!t||t.which!==kt&&("keyup"!==t.type||t.which===wt))for(var n=[].slice.call(document.querySelectorAll(Bt)),o=0,r=n.length;o<r;o++){var s=e._getParentFromElement(n[o]),a=i.default(n[o]).data(gt),l={relatedTarget:n[o]};if(t&&"click"===t.type&&(l.clickEvent=t),a){var c=a._menu;if(i.default(s).hasClass($t)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===wt)&&i.default.contains(s,t.target))){var u=i.default.Event(Dt,l);i.default(s).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),n[o].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),i.default(c).removeClass($t),i.default(s).removeClass($t).trigger(i.default.Event(It,l)))}}}},e._getParentFromElement=function(e){var t,n=v.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?t.which===xt||t.which!==yt&&(t.which!==_t&&t.which!==St||i.default(t.target).closest(Xt).length):!Ct.test(t.which))&&!this.disabled&&!i.default(this).hasClass(Tt)){var n=e._getParentFromElement(this),o=i.default(n).hasClass($t);if(o||t.which!==yt){if(t.preventDefault(),t.stopPropagation(),!o||t.which===yt||t.which===xt)return t.which===yt&&i.default(n.querySelector(Bt)).trigger("focus"),void i.default(this).trigger("click");var r=[].slice.call(n.querySelectorAll(Ut)).filter((function(e){return i.default(e).is(":visible")}));if(0!==r.length){var s=r.indexOf(t.target);t.which===St&&s>0&&s--,t.which===_t&&s<r.length-1&&s++,s<0&&(s=0),r[s].focus()}}}},a(e,null,[{key:"VERSION",get:function(){return mt}},{key:"Default",get:function(){return Jt}},{key:"DefaultType",get:function(){return en}}]),e}();i.default(document).on(jt,Bt,tn._dataApiKeydownHandler).on(jt,Xt,tn._dataApiKeydownHandler).on(Lt+" "+Vt,tn._clearMenus).on(Lt,Bt,(function(e){e.preventDefault(),e.stopPropagation(),tn._jQueryInterface.call(i.default(this),"toggle")})).on(Lt,Zt,(function(e){e.stopPropagation()})),i.default.fn[pt]=tn._jQueryInterface,i.default.fn[pt].Constructor=tn,i.default.fn[pt].noConflict=function(){return i.default.fn[pt]=bt,tn._jQueryInterface};var nn="modal",on="4.6.2",rn="bs.modal",sn="."+rn,an=".data-api",ln=i.default.fn[nn],cn=27,un="modal-dialog-scrollable",dn="modal-scrollbar-measure",hn="modal-backdrop",fn="modal-open",pn="fade",mn="show",gn="modal-static",On="hide"+sn,vn="hidePrevented"+sn,bn="hidden"+sn,yn="show"+sn,xn="shown"+sn,wn="focusin"+sn,Sn="resize"+sn,_n="click.dismiss"+sn,kn="keydown.dismiss"+sn,Cn="mouseup.dismiss"+sn,Tn="mousedown.dismiss"+sn,$n="click"+sn+an,Pn=".modal-dialog",An=".modal-body",Qn='[data-toggle="modal"]',En='[data-dismiss="modal"]',Mn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Dn=".sticky-top",In={backdrop:!0,keyboard:!0,focus:!0,show:!0},Rn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},zn=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(Pn),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isShown&&!this._isTransitioning){var n=i.default.Event(yn,{relatedTarget:e});i.default(this._element).trigger(n),n.isDefaultPrevented()||(this._isShown=!0,i.default(this._element).hasClass(pn)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on(_n,En,(function(e){return t.hide(e)})),i.default(this._dialog).on(Tn,(function(){i.default(t._element).one(Cn,(function(e){i.default(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var n=i.default.Event(On);if(i.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var o=i.default(this._element).hasClass(pn);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off(wn),i.default(this._element).removeClass(mn),i.default(this._element).off(_n),i.default(this._dialog).off(Tn),o){var r=v.getTransitionDurationFromElement(this._element);i.default(this._element).one(v.TRANSITION_END,(function(e){return t._hideModal(e)})).emulateTransitionEnd(r)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return i.default(e).off(sn)})),i.default(document).off(wn),i.default.removeData(this._element,rn),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=l({},In,e),v.typeCheckConfig(nn,e,Rn),e},t._triggerBackdropTransition=function(){var e=this,t=i.default.Event(vn);if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(gn);var o=v.getTransitionDurationFromElement(this._dialog);i.default(this._element).off(v.TRANSITION_END),i.default(this._element).one(v.TRANSITION_END,(function(){e._element.classList.remove(gn),n||i.default(e._element).one(v.TRANSITION_END,(function(){e._element.style.overflowY=""})).emulateTransitionEnd(e._element,o)})).emulateTransitionEnd(o),this._element.focus()}},t._showElement=function(e){var t=this,n=i.default(this._element).hasClass(pn),o=this._dialog?this._dialog.querySelector(An):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),i.default(this._dialog).hasClass(un)&&o?o.scrollTop=0:this._element.scrollTop=0,n&&v.reflow(this._element),i.default(this._element).addClass(mn),this._config.focus&&this._enforceFocus();var r=i.default.Event(xn,{relatedTarget:e}),s=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,i.default(t._element).trigger(r)};if(n){var a=v.getTransitionDurationFromElement(this._dialog);i.default(this._dialog).one(v.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},t._enforceFocus=function(){var e=this;i.default(document).off(wn).on(wn,(function(t){document!==t.target&&e._element!==t.target&&0===i.default(e._element).has(t.target).length&&e._element.focus()}))},t._setEscapeEvent=function(){var e=this;this._isShown?i.default(this._element).on(kn,(function(t){e._config.keyboard&&t.which===cn?(t.preventDefault(),e.hide()):e._config.keyboard||t.which!==cn||e._triggerBackdropTransition()})):this._isShown||i.default(this._element).off(kn)},t._setResizeEvent=function(){var e=this;this._isShown?i.default(window).on(Sn,(function(t){return e.handleUpdate(t)})):i.default(window).off(Sn)},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){i.default(document.body).removeClass(fn),e._resetAdjustments(),e._resetScrollbar(),i.default(e._element).trigger(bn)}))},t._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,n=i.default(this._element).hasClass(pn)?pn:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=hn,n&&this._backdrop.classList.add(n),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on(_n,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._triggerBackdropTransition():t.hide())})),n&&v.reflow(this._backdrop),i.default(this._backdrop).addClass(mn),!e)return;if(!n)return void e();var o=v.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(v.TRANSITION_END,e).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){i.default(this._backdrop).removeClass(mn);var r=function(){t._removeBackdrop(),e&&e()};if(i.default(this._element).hasClass(pn)){var s=v.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(v.TRANSITION_END,r).emulateTransitionEnd(s)}else r()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(Mn)),n=[].slice.call(document.querySelectorAll(Dn));i.default(t).each((function(t,n){var o=n.style.paddingRight,r=i.default(n).css("padding-right");i.default(n).data("padding-right",o).css("padding-right",parseFloat(r)+e._scrollbarWidth+"px")})),i.default(n).each((function(t,n){var o=n.style.marginRight,r=i.default(n).css("margin-right");i.default(n).data("margin-right",o).css("margin-right",parseFloat(r)-e._scrollbarWidth+"px")}));var o=document.body.style.paddingRight,r=i.default(document.body).css("padding-right");i.default(document.body).data("padding-right",o).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}i.default(document.body).addClass(fn)},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Mn));i.default(e).each((function(e,t){var n=i.default(t).data("padding-right");i.default(t).removeData("padding-right"),t.style.paddingRight=n||""}));var t=[].slice.call(document.querySelectorAll(""+Dn));i.default(t).each((function(e,t){var n=i.default(t).data("margin-right");void 0!==n&&i.default(t).css("margin-right",n).removeData("margin-right")}));var n=i.default(document.body).data("padding-right");i.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className=dn,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,n){return this.each((function(){var o=i.default(this).data(rn),r=l({},In,i.default(this).data(),"object"==typeof t&&t?t:{});if(o||(o=new e(this,r),i.default(this).data(rn,o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t](n)}else r.show&&o.show(n)}))},a(e,null,[{key:"VERSION",get:function(){return on}},{key:"Default",get:function(){return In}}]),e}();i.default(document).on($n,Qn,(function(e){var t,n=this,o=v.getSelectorFromElement(this);o&&(t=document.querySelector(o));var r=i.default(t).data(rn)?"toggle":l({},i.default(t).data(),i.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=i.default(t).one(yn,(function(e){e.isDefaultPrevented()||s.one(bn,(function(){i.default(n).is(":visible")&&n.focus()}))}));zn._jQueryInterface.call(i.default(t),r,this)})),i.default.fn[nn]=zn._jQueryInterface,i.default.fn[nn].Constructor=zn,i.default.fn[nn].noConflict=function(){return i.default.fn[nn]=ln,zn._jQueryInterface};var Nn=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ln={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Vn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Bn(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Nn.indexOf(n)||Boolean(jn.test(e.nodeValue)||Vn.test(e.nodeValue));for(var o=t.filter((function(e){return e instanceof RegExp})),i=0,r=o.length;i<r;i++)if(o[i].test(n))return!0;return!1}function Zn(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var o=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),r=[].slice.call(o.body.querySelectorAll("*")),s=function(e,n){var o=r[e],s=o.nodeName.toLowerCase();if(-1===i.indexOf(o.nodeName.toLowerCase()))return o.parentNode.removeChild(o),"continue";var a=[].slice.call(o.attributes),l=[].concat(t["*"]||[],t[s]||[]);a.forEach((function(e){Bn(e,l)||o.removeAttribute(e.nodeName)}))},a=0,l=r.length;a<l;a++)s(a);return o.body.innerHTML}var Xn="tooltip",Wn="4.6.2",Un="bs.tooltip",Yn="."+Un,Fn=i.default.fn[Xn],qn="bs-tooltip",Hn=new RegExp("(^|\\s)"+qn+"\\S+","g"),Gn=["sanitize","whiteList","sanitizeFn"],Kn="fade",Jn="show",eo="show",to="out",no=".tooltip-inner",oo=".arrow",io="hover",ro="focus",so="click",ao="manual",lo={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},co={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:Ln,popperConfig:null},uo={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},ho={HIDE:"hide"+Yn,HIDDEN:"hidden"+Yn,SHOW:"show"+Yn,SHOWN:"shown"+Yn,INSERTED:"inserted"+Yn,CLICK:"click"+Yn,FOCUSIN:"focusin"+Yn,FOCUSOUT:"focusout"+Yn,MOUSEENTER:"mouseenter"+Yn,MOUSELEAVE:"mouseleave"+Yn},fo=function(){function e(e,t){if(void 0===r.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=i.default(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(i.default(this.getTipElement()).hasClass(Jn))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),i.default.removeData(this.element,this.constructor.DATA_KEY),i.default(this.element).off(this.constructor.EVENT_KEY),i.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&i.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===i.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t=i.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i.default(this.element).trigger(t);var n=v.findShadowRoot(this.element),o=i.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!o)return;var s=this.getTipElement(),a=v.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&i.default(s).addClass(Kn);var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var u=this._getContainer();i.default(s).data(this.constructor.DATA_KEY,this),i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(s).appendTo(u),i.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new r.default(this.element,s,this._getPopperConfig(c)),i.default(s).addClass(Jn),i.default(s).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&i.default(document.body).children().on("mouseover",null,i.default.noop);var d=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,i.default(e.element).trigger(e.constructor.Event.SHOWN),t===to&&e._leave(null,e)};if(i.default(this.tip).hasClass(Kn)){var h=v.getTransitionDurationFromElement(this.tip);i.default(this.tip).one(v.TRANSITION_END,d).emulateTransitionEnd(h)}else d()}},t.hide=function(e){var t=this,n=this.getTipElement(),o=i.default.Event(this.constructor.Event.HIDE),r=function(){t._hoverState!==eo&&n.parentNode&&n.parentNode.removeChild(n),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),i.default(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(i.default(this.element).trigger(o),!o.isDefaultPrevented()){if(i.default(n).removeClass(Jn),"ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),this._activeTrigger[so]=!1,this._activeTrigger[ro]=!1,this._activeTrigger[io]=!1,i.default(this.tip).hasClass(Kn)){var s=v.getTransitionDurationFromElement(n);i.default(n).one(v.TRANSITION_END,r).emulateTransitionEnd(s)}else r();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){i.default(this.getTipElement()).addClass(qn+"-"+e)},t.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(i.default(e.querySelectorAll(no)),this.getTitle()),i.default(e).removeClass(Kn+" "+Jn)},t.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Zn(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?i.default(t).parent().is(e)||e.empty().append(t):e.text(i.default(t).text())},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getPopperConfig=function(e){var t=this;return l({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:oo},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e.config.offset(t.offsets,e.element)),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:v.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},t._getAttachment=function(e){return lo[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(t){if("click"===t)i.default(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(t!==ao){var n=t===io?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,o=t===io?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;i.default(e.element).on(n,e.config.selector,(function(t){return e._enter(t)})).on(o,e.config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e.element&&e.hide()},i.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||i.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?ro:io]=!0),i.default(t.getTipElement()).hasClass(Jn)||t._hoverState===eo?t._hoverState=eo:(clearTimeout(t._timeout),t._hoverState=eo,t.config.delay&&t.config.delay.show?t._timeout=setTimeout((function(){t._hoverState===eo&&t.show()}),t.config.delay.show):t.show())},t._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||i.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?ro:io]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=to,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===to&&t.hide()}),t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){var t=i.default(this.element).data();return Object.keys(t).forEach((function(e){-1!==Gn.indexOf(e)&&delete t[e]})),"number"==typeof(e=l({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),v.typeCheckConfig(Xn,e,this.constructor.DefaultType),e.sanitize&&(e.template=Zn(e.template,e.whiteList,e.sanitizeFn)),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=i.default(this.getTipElement()),t=e.attr("class").match(Hn);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(i.default(e).removeClass(Kn),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),o=n.data(Un),r="object"==typeof t&&t;if((o||!/dispose|hide/.test(t))&&(o||(o=new e(this,r),n.data(Un,o)),"string"==typeof t)){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return Wn}},{key:"Default",get:function(){return co}},{key:"NAME",get:function(){return Xn}},{key:"DATA_KEY",get:function(){return Un}},{key:"Event",get:function(){return ho}},{key:"EVENT_KEY",get:function(){return Yn}},{key:"DefaultType",get:function(){return uo}}]),e}();i.default.fn[Xn]=fo._jQueryInterface,i.default.fn[Xn].Constructor=fo,i.default.fn[Xn].noConflict=function(){return i.default.fn[Xn]=Fn,fo._jQueryInterface};var po="popover",mo="4.6.2",go="bs.popover",Oo="."+go,vo=i.default.fn[po],bo="bs-popover",yo=new RegExp("(^|\\s)"+bo+"\\S+","g"),xo="fade",wo="show",So=".popover-header",_o=".popover-body",ko=l({},fo.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Co=l({},fo.DefaultType,{content:"(string|element|function)"}),To={HIDE:"hide"+Oo,HIDDEN:"hidden"+Oo,SHOW:"show"+Oo,SHOWN:"shown"+Oo,INSERTED:"inserted"+Oo,CLICK:"click"+Oo,FOCUSIN:"focusin"+Oo,FOCUSOUT:"focusout"+Oo,MOUSEENTER:"mouseenter"+Oo,MOUSELEAVE:"mouseleave"+Oo},$o=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(e){i.default(this.getTipElement()).addClass(bo+"-"+e)},n.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},n.setContent=function(){var e=i.default(this.getTipElement());this.setElementContent(e.find(So),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(_o),t),e.removeClass(xo+" "+wo)},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var e=i.default(this.getTipElement()),t=e.attr("class").match(yo);null!==t&&t.length>0&&e.removeClass(t.join(""))},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data(go),o="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,o),i.default(this).data(go,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},a(t,null,[{key:"VERSION",get:function(){return mo}},{key:"Default",get:function(){return ko}},{key:"NAME",get:function(){return po}},{key:"DATA_KEY",get:function(){return go}},{key:"Event",get:function(){return To}},{key:"EVENT_KEY",get:function(){return Oo}},{key:"DefaultType",get:function(){return Co}}]),t}(fo);i.default.fn[po]=$o._jQueryInterface,i.default.fn[po].Constructor=$o,i.default.fn[po].noConflict=function(){return i.default.fn[po]=vo,$o._jQueryInterface};var Po="scrollspy",Ao="4.6.2",Qo="bs.scrollspy",Eo="."+Qo,Mo=".data-api",Do=i.default.fn[Po],Io="dropdown-item",Ro="active",zo="activate"+Eo,No="scroll"+Eo,Lo="load"+Eo+Mo,jo="offset",Vo="position",Bo='[data-spy="scroll"]',Zo=".nav, .list-group",Xo=".nav-link",Wo=".nav-item",Uo=".list-group-item",Yo=".dropdown",Fo=".dropdown-item",qo=".dropdown-toggle",Ho={offset:10,method:"auto",target:""},Go={offset:"number",method:"string",target:"(string|element)"},Ko=function(){function e(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+Xo+","+this._config.target+" "+Uo+","+this._config.target+" "+Fo,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,i.default(this._scrollElement).on(No,(function(e){return n._process(e)})),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?jo:Vo,n="auto"===this._config.method?t:this._config.method,o=n===Vo?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var t,r=v.getSelectorFromElement(e);if(r&&(t=document.querySelector(r)),t){var s=t.getBoundingClientRect();if(s.width||s.height)return[i.default(t)[n]().top+o,r]}return null})).filter(Boolean).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},t.dispose=function(){i.default.removeData(this._element,Qo),i.default(this._scrollElement).off(Eo),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=l({},Ho,"object"==typeof e&&e?e:{})).target&&v.isElement(e.target)){var t=i.default(e.target).attr("id");t||(t=v.getUID(Po),i.default(e.target).attr("id",t)),e.target="#"+t}return v.typeCheckConfig(Po,e,Go),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var o=this._targets[this._targets.length-1];this._activeTarget!==o&&this._activate(o)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),n=i.default([].slice.call(document.querySelectorAll(t.join(","))));n.hasClass(Io)?(n.closest(Yo).find(qo).addClass(Ro),n.addClass(Ro)):(n.addClass(Ro),n.parents(Zo).prev(Xo+", "+Uo).addClass(Ro),n.parents(Zo).prev(Wo).children(Xo).addClass(Ro)),i.default(this._scrollElement).trigger(zo,{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains(Ro)})).forEach((function(e){return e.classList.remove(Ro)}))},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this).data(Qo);if(n||(n=new e(this,"object"==typeof t&&t),i.default(this).data(Qo,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return Ao}},{key:"Default",get:function(){return Ho}}]),e}();i.default(window).on(Lo,(function(){for(var e=[].slice.call(document.querySelectorAll(Bo)),t=e.length;t--;){var n=i.default(e[t]);Ko._jQueryInterface.call(n,n.data())}})),i.default.fn[Po]=Ko._jQueryInterface,i.default.fn[Po].Constructor=Ko,i.default.fn[Po].noConflict=function(){return i.default.fn[Po]=Do,Ko._jQueryInterface};var Jo="tab",ei="4.6.2",ti="bs.tab",ni="."+ti,oi=".data-api",ii=i.default.fn[Jo],ri="dropdown-menu",si="active",ai="disabled",li="fade",ci="show",ui="hide"+ni,di="hidden"+ni,hi="show"+ni,fi="shown"+ni,pi="click"+ni+oi,mi=".dropdown",gi=".nav, .list-group",Oi=".active",vi="> li > .active",bi='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',yi=".dropdown-toggle",xi="> .dropdown-menu .active",wi=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass(si)||i.default(this._element).hasClass(ai)||this._element.hasAttribute("disabled"))){var t,n,o=i.default(this._element).closest(gi)[0],r=v.getSelectorFromElement(this._element);if(o){var s="UL"===o.nodeName||"OL"===o.nodeName?vi:Oi;n=(n=i.default.makeArray(i.default(o).find(s)))[n.length-1]}var a=i.default.Event(ui,{relatedTarget:this._element}),l=i.default.Event(hi,{relatedTarget:n});if(n&&i.default(n).trigger(a),i.default(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){r&&(t=document.querySelector(r)),this._activate(this._element,o);var c=function(){var t=i.default.Event(di,{relatedTarget:e._element}),o=i.default.Event(fi,{relatedTarget:n});i.default(n).trigger(t),i.default(e._element).trigger(o)};t?this._activate(t,t.parentNode,c):c()}}},t.dispose=function(){i.default.removeData(this._element,ti),this._element=null},t._activate=function(e,t,n){var o=this,r=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?i.default(t).children(Oi):i.default(t).find(vi))[0],s=n&&r&&i.default(r).hasClass(li),a=function(){return o._transitionComplete(e,r,n)};if(r&&s){var l=v.getTransitionDurationFromElement(r);i.default(r).removeClass(ci).one(v.TRANSITION_END,a).emulateTransitionEnd(l)}else a()},t._transitionComplete=function(e,t,n){if(t){i.default(t).removeClass(si);var o=i.default(t.parentNode).find(xi)[0];o&&i.default(o).removeClass(si),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}i.default(e).addClass(si),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),v.reflow(e),e.classList.contains(li)&&e.classList.add(ci);var r=e.parentNode;if(r&&"LI"===r.nodeName&&(r=r.parentNode),r&&i.default(r).hasClass(ri)){var s=i.default(e).closest(mi)[0];if(s){var a=[].slice.call(s.querySelectorAll(yi));i.default(a).addClass(si)}e.setAttribute("aria-expanded",!0)}n&&n()},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),o=n.data(ti);if(o||(o=new e(this),n.data(ti,o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return ei}}]),e}();i.default(document).on(pi,bi,(function(e){e.preventDefault(),wi._jQueryInterface.call(i.default(this),"show")})),i.default.fn[Jo]=wi._jQueryInterface,i.default.fn[Jo].Constructor=wi,i.default.fn[Jo].noConflict=function(){return i.default.fn[Jo]=ii,wi._jQueryInterface};var Si="toast",_i="4.6.2",ki="bs.toast",Ci="."+ki,Ti=i.default.fn[Si],$i="fade",Pi="hide",Ai="show",Qi="showing",Ei="click.dismiss"+Ci,Mi="hide"+Ci,Di="hidden"+Ci,Ii="show"+Ci,Ri="shown"+Ci,zi='[data-dismiss="toast"]',Ni={animation:!0,autohide:!0,delay:500},Li={animation:"boolean",autohide:"boolean",delay:"number"},ji=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var t=e.prototype;return t.show=function(){var e=this,t=i.default.Event(Ii);if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add($i);var n=function(){e._element.classList.remove(Qi),e._element.classList.add(Ai),i.default(e._element).trigger(Ri),e._config.autohide&&(e._timeout=setTimeout((function(){e.hide()}),e._config.delay))};if(this._element.classList.remove(Pi),v.reflow(this._element),this._element.classList.add(Qi),this._config.animation){var o=v.getTransitionDurationFromElement(this._element);i.default(this._element).one(v.TRANSITION_END,n).emulateTransitionEnd(o)}else n()}},t.hide=function(){if(this._element.classList.contains(Ai)){var e=i.default.Event(Mi);i.default(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},t.dispose=function(){this._clearTimeout(),this._element.classList.contains(Ai)&&this._element.classList.remove(Ai),i.default(this._element).off(Ei),i.default.removeData(this._element,ki),this._element=null,this._config=null},t._getConfig=function(e){return e=l({},Ni,i.default(this._element).data(),"object"==typeof e&&e?e:{}),v.typeCheckConfig(Si,e,this.constructor.DefaultType),e},t._setListeners=function(){var e=this;i.default(this._element).on(Ei,zi,(function(){return e.hide()}))},t._close=function(){var e=this,t=function(){e._element.classList.add(Pi),i.default(e._element).trigger(Di)};if(this._element.classList.remove(Ai),this._config.animation){var n=v.getTransitionDurationFromElement(this._element);i.default(this._element).one(v.TRANSITION_END,t).emulateTransitionEnd(n)}else t()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),o=n.data(ki);if(o||(o=new e(this,"object"==typeof t&&t),n.data(ki,o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t](this)}}))},a(e,null,[{key:"VERSION",get:function(){return _i}},{key:"DefaultType",get:function(){return Li}},{key:"Default",get:function(){return Ni}}]),e}();i.default.fn[Si]=ji._jQueryInterface,i.default.fn[Si].Constructor=ji,i.default.fn[Si].noConflict=function(){return i.default.fn[Si]=Ti,ji._jQueryInterface},e.Alert=E,e.Button=K,e.Carousel=We,e.Collapse=ft,e.Dropdown=tn,e.Modal=zn,e.Popover=$o,e.Scrollspy=Ko,e.Tab=wi,e.Toast=ji,e.Tooltip=fo,e.Util=v,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(4692),n(8851))},2969:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DateTime:()=>d,DefaultEnLocalization:()=>x,DefaultOptions:()=>y,Namespace:()=>r,TempusDominus:()=>H,Unit:()=>s,extend:()=>ee,loadLocale:()=>K,locale:()=>J,version:()=>te});class o extends Error{}const i="tempus-dominus";class r{}r.NAME=i,r.dataKey="td",r.events=new class{constructor(){this.key=".td",this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}},r.css=new class{constructor(){this.widget=`${i}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.rangeIn="range-in",this.rangeStart="range-start",this.rangeEnd="range-end",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}},r.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(e){const t=new o(`${this.base} Unexpected option: ${e} does not match a known option.`);throw t.code=1,t}unexpectedOptions(e){const t=new o(`${this.base}: ${e.join(", ")}`);throw t.code=1,t}unexpectedOptionValue(e,t,n){const i=new o(`${this.base} Unexpected option value: ${e} does not accept a value of "${t}". Valid values are: ${n.join(", ")}`);throw i.code=2,i}typeMismatch(e,t,n){const i=new o(`${this.base} Mismatch types: ${e} has a type of ${t} instead of the required ${n}`);throw i.code=3,i}numbersOutOfRange(e,t,n){const i=new o(`${this.base} ${e} expected an array of number between ${t} and ${n}.`);throw i.code=4,i}failedToParseDate(e,t,n=!1){const i=new o(`${this.base} Could not correctly parse "${t}" to a date for ${e}.`);if(i.code=5,!n)throw i;console.warn(i)}mustProvideElement(){const e=new o(`${this.base} No element was provided.`);throw e.code=6,e}subscribeMismatch(){const e=new o(`${this.base} The subscribed events does not match the number of callbacks`);throw e.code=7,e}conflictingConfiguration(e){const t=new o(`${this.base} A configuration value conflicts with another rule. ${e}`);throw t.code=8,t}customDateFormatError(e){const t=new o(`${this.base} Custom Date Format: ${e}`);throw t.code=9,t}dateString(){console.warn(`${this.base} Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.`)}deprecatedWarning(e,t){console.warn(`${this.base} Warning ${e} is deprecated and will be removed in a future version. ${t}`)}throwError(e){const t=new o(`${this.base} ${e}`);throw t.code=9,t}};var s,a={...{dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},format:"L LT",locale:"default",hourCycle:void 0,ordinal:e=>{const t=["th","st","nd","rd"],n=e%100;return`[${e}${t[(n-20)%10]||t[n]||t[0]}]`}}};!function(e){e.seconds="seconds",e.minutes="minutes",e.hours="hours",e.date="date",e.month="month",e.year="year"}(s||(s={}));const l={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},c=e=>{switch(e){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}},u=e=>{if(!e)return"h12";const t={hour:"2-digit",minute:"2-digit",numberingSystem:"latn"},n=(new d).setLocalization({locale:e});n.hours=0;const o=n.parts(void 0,t).hour;if("12"===o)return"h12";if("24"===o)return"h24";n.hours=23;const i=n.parts(void 0,t).hour;return"00"===o&&"11"===i?"h11":"00"===o&&"23"===i?"h23":void console.warn(`couldn't determine hour cycle for ${e}. start: ${o}. end: ${i}`)};class d extends Date{constructor(){super(...arguments),this.localization=a,this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335],this.dateTimeRegex=/(\[[^[\]]*])|y{1,4}|M{1,4}|d{1,4}|H{1,2}|h{1,2}|t|T|m{1,2}|s{1,2}|f{3}/g,this.formattingTokens=/(\[[^[\]]*])|([-_:/.,()\s]+)|(T|t|yyyy|yy?|MM?M?M?|Do|dd?d?d?|hh?|HH?|mm?|ss?)/g,this.match2=/\d\d/,this.match3=/\d{3}/,this.match4=/\d{4}/,this.match1to2=/\d\d?/,this.matchSigned=/[+-]?\d+/,this.matchOffset=/[+-]\d\d:?(\d\d)?|Z/,this.matchWord=/[^\d_:/,\-()\s]+/,this.zoneExpressions=[this.matchOffset,(e,t)=>{e.offset=this.offsetFromString(t)}],this.expressions={t:{pattern:void 0,parser:(e,t)=>{e.afternoon=this.meridiemMatch(t)}},T:{pattern:void 0,parser:(e,t)=>{e.afternoon=this.meridiemMatch(t)}},fff:{pattern:this.match3,parser:(e,t)=>{e.milliseconds=+t}},s:{pattern:this.match1to2,parser:this.addInput("seconds")},ss:{pattern:this.match1to2,parser:this.addInput("seconds")},m:{pattern:this.match1to2,parser:this.addInput("minutes")},mm:{pattern:this.match1to2,parser:this.addInput("minutes")},H:{pattern:this.match1to2,parser:this.addInput("hours")},h:{pattern:this.match1to2,parser:this.addInput("hours")},HH:{pattern:this.match1to2,parser:this.addInput("hours")},hh:{pattern:this.match1to2,parser:this.addInput("hours")},d:{pattern:this.match1to2,parser:this.addInput("day")},dd:{pattern:this.match2,parser:this.addInput("day")},Do:{pattern:this.matchWord,parser:(e,t)=>{if(e.day=+(t.match(/\d+/)[0]||1),this.localization.ordinal)for(let n=1;n<=31;n+=1)this.localization.ordinal(n).replace(/[[\]]/g,"")===t&&(e.day=n)}},M:{pattern:this.match1to2,parser:this.addInput("month")},MM:{pattern:this.match2,parser:this.addInput("month")},MMM:{pattern:this.matchWord,parser:(e,t)=>{const n=this.getAllMonths(),o=(this.getAllMonths("short")||n.map((e=>e.slice(0,3)))).indexOf(t)+1;if(o<1)throw new Error;e.month=o%12||o}},MMMM:{pattern:this.matchWord,parser:(e,t)=>{const n=this.getAllMonths().indexOf(t)+1;if(n<1)throw new Error;e.month=n%12||n}},y:{pattern:this.matchSigned,parser:this.addInput("year")},yy:{pattern:this.match2,parser:(e,t)=>{e.year=this.parseTwoDigitYear(+t)}},yyyy:{pattern:this.match4,parser:this.addInput("year")}}}setLocale(e){return this.localization||(this.localization=a,this.localization.locale=e),this}setLocalization(e){return this.localization=e,this}static convert(e,t="default",n=void 0){if(!e)throw new Error("A date is required");return n||((n=a).locale=t),new d(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).setLocalization(n)}get clone(){return new d(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocalization(this.localization)}static isValid(e){return void 0!==e&&"null"!==JSON.stringify(e)&&e.constructor.name===d.name}startOf(e,t=0){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);switch(e){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":{if(this.startOf(s.date),this.weekDay===t)break;const e=(this.weekDay-t+7)%7;this.manipulate(-1*e,s.date);break}case"month":this.startOf(s.date),this.setDate(1);break;case"year":this.startOf(s.date),this.setMonth(0,1)}return this}endOf(e,t=0){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);switch(e){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":{this.endOf(s.date);const e=6+t;if(this.weekDay===e)break;this.manipulate(e-this.weekDay,s.date);break}case"month":this.endOf(s.date),this.manipulate(1,s.month),this.setDate(0);break;case"year":this.endOf(s.date),this.setMonth(11,31)}return this}manipulate(e,t){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this[t]+=e,this}isBefore(e,t){if(!d.isValid(e))return!1;if(!t)return this.valueOf()<e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()<e.clone.startOf(t).valueOf()}isAfter(e,t){if(!d.isValid(e))return!1;if(!t)return this.valueOf()>e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()>e.clone.startOf(t).valueOf()}isSame(e,t){if(!d.isValid(e))return!1;if(!t)return this.valueOf()===e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return e=d.convert(e),this.clone.startOf(t).valueOf()===e.startOf(t).valueOf()}isBetween(e,t,n,o="()"){if(!d.isValid(e)||!d.isValid(t))return!1;if(n&&void 0===this[n])throw new Error(`Unit '${n}' is not valid`);const i="("===o[0],r=")"===o[1],s=i?this.isAfter(e,n):!this.isBefore(e,n),a=r?this.isBefore(t,n):!this.isAfter(t,n);return s&&a}parts(e=this.localization.locale,t={dateStyle:"full",timeStyle:"long"}){const n={};return new Intl.DateTimeFormat(e,t).formatToParts(this).filter((e=>"literal"!==e.type)).forEach((e=>n[e.type]=e.value)),n}get seconds(){return this.getSeconds()}set seconds(e){this.setSeconds(e)}get secondsFormatted(){return this.parts(void 0,l).second}get minutes(){return this.getMinutes()}set minutes(e){this.setMinutes(e)}get minutesFormatted(){return this.parts(void 0,l).minute}get hours(){return this.getHours()}set hours(e){this.setHours(e)}getHoursFormatted(e="h12"){return this.parts(void 0,{...l,hourCycle:e}).hour}meridiem(e=this.localization.locale){return new Intl.DateTimeFormat(e,{hour:"numeric",hour12:!0}).formatToParts(this).find((e=>"dayPeriod"===e.type))?.value}get date(){return this.getDate()}set date(e){this.setDate(e)}get dateFormatted(){return this.parts(void 0,l).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(e){const t=new Date(this.year,e+1);t.setDate(0);const n=t.getDate();this.date>n&&(this.date=n),this.setMonth(e)}get monthFormatted(){return this.parts(void 0,l).month}get year(){return this.getFullYear()}set year(e){this.setFullYear(e)}get week(){const e=this.computeOrdinal(),t=this.getUTCDay();let n=Math.floor((e-t+10)/7);return n<1?n=this.weeksInWeekYear():n>this.weeksInWeekYear()&&(n=1),n}weeksInWeekYear(){const e=(this.year+Math.floor(this.year/4)-Math.floor(this.year/100)+Math.floor(this.year/400))%7,t=this.year-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return 4===e||3===n?53:52}dateToDataValue(){return d.isValid(this)?`${this.year}-${this.month.toString().padStart(2,"0")}-${this.date.toString().padStart(2,"0")}`:""}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}getAllMonths(e="long"){const t=new Intl.DateTimeFormat(this.localization.locale,{month:e}).format;return[...Array(12).keys()].map((e=>t(new Date(2021,e))))}replaceTokens(e,t){return e.replace(/(\[[^[\]]*])|(LTS?|l{1,4}|L{1,4})/g,((e,n,o)=>{const i=o&&o.toUpperCase();return n||t[i]||a.dateFormats[i]}))}parseTwoDigitYear(e){return e+(e>68?1900:2e3)}offsetFromString(e){if(!e)return 0;if("Z"===e)return 0;const[t,n,o]=e.match(/([+-]|\d\d)/g),i=60*+n+(+o||0);return 0===i?0:"+"===t?-i:i}zoneInformation(e,t){let n=e.parts(this.localization.locale,{timeZoneName:"longOffset"}).timeZoneName.replace("GMT","").replace(":","");const o=n.includes("-");return n=n.replace("-",""),"z"===t?n=n.substring(1,2):"zz"===t&&(n=n.substring(0,2)),`${o?"-":""}${n}`}addInput(e){return(t,n)=>{t[e]=+n}}getLocaleAfternoon(){return new Intl.DateTimeFormat(this.localization.locale,{hour:"numeric",hour12:!0}).formatToParts(new Date(2022,3,4,13)).find((e=>"dayPeriod"===e.type))?.value?.replace(/\s+/g," ")}meridiemMatch(e){return e.toLowerCase()===this.getLocaleAfternoon().toLowerCase()}correctHours(e){const{afternoon:t}=e;if(void 0!==t){const{hours:n}=e;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}makeParser(e){const t=(e=this.replaceTokens(e,this.localization.dateFormats)).match(this.formattingTokens),{length:n}=t,o=[];for(let e=0;e<n;e+=1){const n=t[e],i=this.expressions[n];o[e]=i?.parser?i:n.replace(/^\[[^[\]]*]$/g,"")}return e=>{const t={hours:0,minutes:0,seconds:0,milliseconds:0};for(let i=0,r=0;i<n;i+=1){const n=o[i];if("string"==typeof n)r+=n.length;else{const o=e.slice(r);let i=o;if(n.pattern){i=n.pattern.exec(o)[0]}n.parser.call(this,t,i),e=e.replace(i,"")}}return this.correctHours(t),t}}static fromString(e,t){t?.format||r.errorMessages.customDateFormatError("No format was provided");try{const n=new d;if(n.setLocalization(t),["x","X"].indexOf(t.format)>-1)return new d(("X"===t.format?1e3:1)*+e);e=e.replace(/\s+/g," ");const o=n.makeParser(t.format),{year:i,month:r,day:s,hours:a,minutes:l,seconds:c,milliseconds:u,zone:h}=o(e),f=s||(i||r?1:n.getDate()),p=i||n.getFullYear();let m=0;return i&&!r||(m=r>0?r-1:n.getMonth()),h?new d(Date.UTC(p,m,f,a,l,c,u+60*h.offset*1e3)):new d(p,m,f,a,l,c,u)}catch(n){r.errorMessages.customDateFormatError(`Unable to parse provided input: ${e}, format: ${t.format}`)}}format(e,t=this.localization.locale){if(e&&"object"==typeof e)return new Intl.DateTimeFormat(t,e).format(this);const n=this.replaceTokens(e||this.localization.format||`${a.dateFormats.L}, ${a.dateFormats.LT}`,this.localization.dateFormats),o=e=>new Intl.DateTimeFormat(this.localization.locale,e).format(this);this.localization.hourCycle||(this.localization.hourCycle=u(this.localization.locale));const i=this.localization.hourCycle.startsWith("h1")?"h24":this.localization.hourCycle,r=this.localization.hourCycle.startsWith("h2")?"h12":this.localization.hourCycle,s={y:this.year,yy:o({year:"2-digit"}),yyyy:this.year,M:o({month:"numeric"}),MM:this.monthFormatted,MMM:this.getAllMonths("short")[this.getMonth()],MMMM:this.getAllMonths()[this.getMonth()],d:this.date,dd:this.dateFormatted,ddd:o({weekday:"short"}),dddd:o({weekday:"long"}),H:this.getHours(),HH:this.getHoursFormatted(i),h:this.hours>12?this.hours-12:this.hours,hh:this.getHoursFormatted(r),t:this.meridiem(),T:this.meridiem().toUpperCase(),m:this.minutes,mm:this.minutesFormatted,s:this.seconds,ss:this.secondsFormatted,fff:this.getMilliseconds()};return n.replace(this.dateTimeRegex,((e,t)=>t||s[e])).replace(/\[/g,"").replace(/]/g,"")}}class h{constructor(){this.cache=new Map}locate(e){const t=this.cache.get(e);if(t)return t;const n=new e;return this.cache.set(e,n),n}}let f;const p=[{name:"calendar",className:r.css.daysContainer,unit:s.month,step:1},{name:"months",className:r.css.monthsContainer,unit:s.year,step:1},{name:"years",className:r.css.yearsContainer,unit:s.year,step:10},{name:"decades",className:r.css.decadesContainer,unit:s.year,step:100}];class m{constructor(){this._currentCalendarViewMode=0,this._viewDate=new d,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(e){this._currentCalendarViewMode=e,this.currentView=p[e].name}get viewDate(){return this._viewDate}set viewDate(e){this._viewDate=e,this.options&&(this.options.viewDate=e)}refreshCurrentView(){this.currentView=p[this.currentCalendarViewMode].name}get isTwelveHour(){return["h12","h11"].includes(this.options.localization.hourCycle)}}class g{constructor(){this.optionsStore=f.locate(m)}isValid(e,t){if(!this._enabledDisabledDatesIsValid(t,e))return!1;if(t!==s.month&&t!==s.year&&this.optionsStore.options.restrictions.daysOfWeekDisabled?.length>0&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(e.weekDay))return!1;if(!this._minMaxIsValid(t,e))return!1;if(t===s.hours||t===s.minutes||t===s.seconds){if(!this._enabledDisabledHoursIsValid(e))return!1;if(0!==this.optionsStore.options.restrictions.disabledTimeIntervals?.filter((t=>e.isBetween(t.from,t.to))).length)return!1}return!0}_enabledDisabledDatesIsValid(e,t){return e!==s.date||!(this.optionsStore.options.restrictions.disabledDates.length>0&&this._isInDisabledDates(t))&&!(this.optionsStore.options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(t))}_isInDisabledDates(e){return!(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length)&&!!this.optionsStore.options.restrictions.disabledDates.find((t=>t.isSame(e,s.date)))}_isInEnabledDates(e){return!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length||!!this.optionsStore.options.restrictions.enabledDates.find((t=>t.isSame(e,s.date)))}_minMaxIsValid(e,t){return(!this.optionsStore.options.restrictions.minDate||!t.isBefore(this.optionsStore.options.restrictions.minDate,e))&&(!this.optionsStore.options.restrictions.maxDate||!t.isAfter(this.optionsStore.options.restrictions.maxDate,e))}_enabledDisabledHoursIsValid(e){return!(this.optionsStore.options.restrictions.disabledHours.length>0&&this._isInDisabledHours(e))&&!(this.optionsStore.options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(e))}_isInDisabledHours(e){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;const t=e.hours;return this.optionsStore.options.restrictions.disabledHours.includes(t)}_isInEnabledHours(e){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;const t=e.hours;return this.optionsStore.options.restrictions.enabledHours.includes(t)}dateRangeIsValid(e,t,n){if(!this.optionsStore.options.dateRange)return!0;if(2!==e.length&&1!==t)return!0;const o=e[0].clone;if(o.isSame(n,s.date))return!0;for(o.manipulate(1,s.date);!o.isSame(n,s.date);){if(!this.isValid(o,s.date))return!1;o.manipulate(1,s.date)}return!0}}class O{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(e){this.subscribers.splice(e,1)}emit(e){this.subscribers.forEach((t=>{t(e)}))}destroy(){this.subscribers=null,this.subscribers=[]}}class v{constructor(){this.triggerEvent=new O,this.viewUpdate=new O,this.updateDisplay=new O,this.action=new O,this.updateViewDate=new O}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy(),this.updateViewDate.destroy()}}const b={clear:"Clear selection",close:"Close the picker",dateFormats:a.dateFormats,dayViewHeaderFormat:{month:"long",year:"2-digit"},decrementHour:"Decrement Hour",decrementMinute:"Decrement Minute",decrementSecond:"Decrement Second",format:a.format,hourCycle:a.hourCycle,incrementHour:"Increment Hour",incrementMinute:"Increment Minute",incrementSecond:"Increment Second",locale:a.locale,maxWeekdayLength:0,nextCentury:"Next Century",nextDecade:"Next Decade",nextMonth:"Next Month",nextYear:"Next Year",ordinal:a.ordinal,pickHour:"Pick Hour",pickMinute:"Pick Minute",pickSecond:"Pick Second",previousCentury:"Previous Century",previousDecade:"Previous Decade",previousMonth:"Previous Month",previousYear:"Previous Year",selectDate:"Select Date",selectDecade:"Select Decade",selectMonth:"Select Month",selectTime:"Select Time",selectYear:"Select Year",startOfTheWeek:0,today:"Go to today",toggleMeridiem:"Toggle Meridiem",toggleAriaLabel:"Change date"},y={allowInputToggle:!1,container:void 0,dateRange:!1,debug:!1,defaultDate:void 0,display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto",placement:"bottom",keyboardNavigation:!0},keepInvalid:!1,localization:b,meta:{},multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},stepping:1,useCurrent:!0,viewDate:new d},x={...b};function w(e,t){if(!e)return null;if(e.constructor.name===d.name)return e;if(e.constructor.name===Date.name)return d.convert(e);if("string"==typeof e){const n=d.fromString(e,t);return"null"===JSON.stringify(n)?null:n}return null}function S(e,t,n){"string"==typeof e&&"input"!==t&&r.errorMessages.dateString();const o=w(e,n);return o||r.errorMessages.failedToParseDate(t,e,"input"===t),o}function _(e,t,n,o=a){Array.isArray(t)||r.errorMessages.typeMismatch(e,n,"array of DateTime or Date");for(let n=0;n<t.length;n++){const i=S(t[n],e,o);i.setLocalization(o),t[n]=i}}function k(e,t,n){Array.isArray(t)&&!t.some((e=>"number"!=typeof e))||r.errorMessages.typeMismatch(e,n,"array of numbers")}function C(e){return({value:t,localization:n})=>{const o=S(t,e,n);if(void 0!==o)return o.setLocalization(n),o}}function T(e){const t=C(e);return e=>void 0===e.value?e.value:t(e)}function $(e,t,n){return({value:o,providedType:i})=>void 0===o?[]:(k(e,o,i),o.some((e=>e<t||e>n))&&r.errorMessages.numbersOutOfRange(e,t,n),o)}function P(e){return $(e,0,23)}function A(e){return({value:t,providedType:n,localization:o})=>void 0===t?[]:(_(e,t,n,o),t)}function Q(e){return({value:t,path:n})=>(e.includes(t)||r.errorMessages.unexpectedOptionValue(n.substring(1),t,e),t)}const E=Object.freeze({defaultDate:C("defaultDate"),viewDate:C("viewDate"),minDate:T("restrictions.minDate"),maxDate:T("restrictions.maxDate"),disabledHours:P("restrictions.disabledHours"),enabledHours:P("restrictions.enabledHours"),disabledDates:A("restrictions.disabledDates"),enabledDates:A("restrictions.enabledDates"),daysOfWeekDisabled:$("restrictions.daysOfWeekDisabled",0,6),disabledTimeIntervals:({key:e,value:t,providedType:n,localization:o})=>{if(void 0===t)return[];Array.isArray(t)||r.errorMessages.typeMismatch(e,n,"array of { from: DateTime|Date, to: DateTime|Date }");const i=t;for(let t=0;t<i.length;t++)Object.keys(i[t]).forEach((n=>{const r=`${e}[${t}].${n}`,s=S(i[t][n],r,o);s.setLocalization(o),i[t][n]=s}));return i},toolbarPlacement:Q(["top","bottom","default"]),type:Q(["icons","sprites"]),viewMode:Q(["clock","calendar","months","years","decades"]),theme:Q(["light","dark","auto"]),placement:Q(["top","bottom"]),meta:({value:e})=>e,dayViewHeaderFormat:({value:e})=>e,container:({value:e,path:t})=>(e&&!(e instanceof HTMLElement||e instanceof Element||e?.appendChild)&&r.errorMessages.typeMismatch(t.substring(1),typeof e,"HTMLElement"),e),useTwentyfourHour:({value:e,path:t,providedType:n,defaultType:o})=>{if(r.errorMessages.deprecatedWarning("useTwentyfourHour",'Please use "options.localization.hourCycle" instead'),void 0===e||"boolean"===n)return e;r.errorMessages.typeMismatch(t,n,o)},hourCycle:Q(["h11","h12","h23","h24"])}),M=({value:e,defaultType:t,providedType:n,path:o})=>{switch(t){case"boolean":return"true"===e||!0===e;case"number":return+e;case"string":return e.toString();case"object":return{};case"function":return e;default:r.errorMessages.typeMismatch(o,n,t)}};function D(e){return(E[e.key]||M)(e)}class I{static deepCopy(e){const t={};return Object.keys(e).forEach((n=>{const o=e[n];o instanceof d?t[n]=o.clone:o instanceof Date?t[n]=new Date(o.valueOf()):(t[n]=o,"object"!=typeof o||o instanceof HTMLElement||o instanceof Element||Array.isArray(o)||(t[n]=I.deepCopy(o)))})),t}static objectPath(e,t){return"."===e.charAt(0)&&(e=e.slice(1)),e?e.split(".").reduce(((e,t)=>I.isValue(e)||I.isValue(e[t])?e[t]:void 0),t):t}static spread(e,t,n,o=""){const i=I.objectPath(o,y),s=Object.keys(e).filter((e=>!Object.keys(i).includes(e)));if(s.length>0){const e=I.getFlattenDefaultOptions(),t=s.map((t=>{let n=`"${o}${o?".":""}${t}" is not a known option.`;const i=e.find((e=>e.includes(t)));return i&&(n+=` Did you mean "${i}"?`),n}));r.errorMessages.unexpectedOptions(t)}Object.keys(e).filter((e=>"__proto__"!==e&&"constructor"!==e)).forEach((r=>{"."===(o+=`.${r}`).charAt(0)&&(o=o.slice(1));const s=i[r],a=typeof e[r],l=typeof s,c=e[r];if(null==c)return t[r]=c,void(o=o.substring(0,o.lastIndexOf(`.${r}`)));"object"!=typeof s||Array.isArray(e[r])||s instanceof Date||I.ignoreProperties.includes(r)?t[r]=I.processKey(r,c,a,l,o,n):I.spread(e[r],t[r],n,o),o=o.substring(0,o.lastIndexOf(`.${r}`))}))}static processKey(e,t,n,o,i,r){return D({key:e,value:t,providedType:n,defaultType:o,path:i,localization:r})}static _mergeOptions(e,t){const n=I.deepCopy(t),o="default"!==t.localization?.locale?t.localization:e?.localization||y.localization;return I.spread(e,n,o,""),n}static _dataToOptions(e,t){const n=JSON.parse(JSON.stringify(e.dataset));if(n?.tdTargetInput&&delete n.tdTargetInput,n?.tdTargetToggle&&delete n.tdTargetToggle,!n||0===Object.keys(n).length)return t;const o={},i=e=>{const t={};return Object.keys(e).forEach((e=>{t[e.toLowerCase()]=e})),t},s=this.normalizeObject(i),a=i(t);return Object.keys(n).filter((e=>e.startsWith(r.dataKey))).map((e=>e.substring(2))).forEach((e=>{let i=a[e.toLowerCase()];if(e.includes("_")){const r=e.split("_");i=a[r[0].toLowerCase()],void 0!==i&&t[i].constructor===Object&&(o[i]=s(r,1,t[i],n[`td${e}`]))}else void 0!==i&&(o[i]=n[`td${e}`])})),this._mergeOptions(o,t)}static normalizeObject(e){const t=(n,o,i,r)=>{const s=e(i)[n[o].toLowerCase()],a={};return void 0===s||(i[s]?.constructor===Object?(o++,a[s]=t(n,o,i[s],r)):a[s]=r),a};return t}static _dateTypeCheck(e,t){return w(e,t)}static _typeCheckDateArray(e,t,n,o){return _(e,t,n,o)}static _typeCheckNumberArray(e,t,n){return k(e,t,n)}static dateConversion(e,t,n){return S(e,t,n)}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;const e=(t,n=[])=>Array.isArray(t)?[]:Object(t)===t?Object.entries(t).flatMap((([t,o])=>e(o,[...n,t]))):n.join(".");return this._flattenDefaults=e(y),this._flattenDefaults}static _validateConflicts(e){!e.display.sideBySide||e.display.components.clock&&(e.display.components.hours||e.display.components.minutes||e.display.components.seconds)||r.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),e.restrictions.minDate&&e.restrictions.maxDate&&(e.restrictions.minDate.isAfter(e.restrictions.maxDate)&&r.errorMessages.conflictingConfiguration("minDate is after maxDate"),e.restrictions.maxDate.isBefore(e.restrictions.minDate)&&r.errorMessages.conflictingConfiguration("maxDate is before minDate")),e.multipleDates&&e.dateRange&&r.errorMessages.conflictingConfiguration('Cannot uss option "multipleDates" with "dateRange"')}}I.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],I.isValue=e=>null!=e;class R{constructor(){this._dates=[],this.optionsStore=f.locate(m),this.validation=f.locate(g),this._eventEmitters=f.locate(v)}get picked(){return[...this._dates]}get lastPicked(){return this._dates[this.lastPickedIndex]?.clone}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(e){return e?(e.localization=this.optionsStore.options.localization,e.format()):""}parseInput(e){try{return I.dateConversion(e,"input",this.optionsStore.options.localization)}catch(t){return void this._eventEmitters.triggerEvent.emit({type:r.events.error,reason:r.errorMessages.failedToParseInput,format:this.optionsStore.options.localization.format,value:e})}}setFromInput(e,t){if(!e)return void this.setValue(void 0,t);const n=this.parseInput(e);n&&(n.setLocalization(this.optionsStore.options.localization),this.setValue(n,t))}add(e){this._dates.push(e)}isPicked(e,t){if(!d.isValid(e))return!1;if(!t)return void 0!==this._dates.find((t=>t.isSame(e)));const n=c(t),o=e.format(n);return void 0!==this._dates.map((e=>e.format(n))).find((e=>e===o))}pickedIndex(e,t){if(!d.isValid(e))return-1;if(!t)return this._dates.map((e=>e.valueOf())).indexOf(e.valueOf());const n=c(t),o=e.format(n);return this._dates.map((e=>e.format(n))).indexOf(o)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:r.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[],this.optionsStore.input&&(this.optionsStore.input.value=""),this._eventEmitters.updateDisplay.emit("all")}static getStartEndYear(e,t){const n=e/10,o=Math.floor(t/e)*e;return[o,o+9*n,Math.floor(t/n)*n]}updateInput(e){if(!this.optionsStore.input)return;let t=this.formatInput(e);(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)&&(t=this._dates.map((e=>this.formatInput(e))).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=t&&(this.optionsStore.input.value=t)}setValue(e,t){const n=void 0===t,o=!e&&n;let i=this.optionsStore.unset?null:this._dates[t]?.clone;if(!i&&!this.optionsStore.unset&&n&&o&&(i=this.lastPicked),e&&i?.isSame(e))return void this.updateInput(e);if(!e)return void this._setValueNull(o,t,i);t=t||0,e=e.clone,1!==this.optionsStore.options.stepping&&(e.minutes=Math.round(e.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,e.startOf(s.minutes));const a=n=>{this._dates[t]=e,this._eventEmitters.updateViewDate.emit(e.clone),this.updateInput(e),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:r.events.change,date:e,oldDate:i,isClear:o,isValid:n})};this.validation.isValid(e)&&this.validation.dateRangeIsValid(this.picked,t,e)?a(!0):(this.optionsStore.options.keepInvalid&&a(!1),this._eventEmitters.triggerEvent.emit({type:r.events.error,reason:r.errorMessages.failedToSetInvalidDate,date:e,oldDate:i}))}_setValueNull(e,t,n){!this.optionsStore.options.multipleDates||1===this._dates.length||e?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(t,1),this.updateInput(),this._eventEmitters.triggerEvent.emit({type:r.events.change,date:void 0,oldDate:n,isClear:e,isValid:!0}),this._eventEmitters.updateDisplay.emit("all")}}var z;!function(e){e.next="next",e.previous="previous",e.changeCalendarView="changeCalendarView",e.selectMonth="selectMonth",e.selectYear="selectYear",e.selectDecade="selectDecade",e.selectDay="selectDay",e.selectHour="selectHour",e.selectMinute="selectMinute",e.selectSecond="selectSecond",e.incrementHours="incrementHours",e.incrementMinutes="incrementMinutes",e.incrementSeconds="incrementSeconds",e.decrementHours="decrementHours",e.decrementMinutes="decrementMinutes",e.decrementSeconds="decrementSeconds",e.toggleMeridiem="toggleMeridiem",e.togglePicker="togglePicker",e.showClock="showClock",e.showHours="showHours",e.showMinutes="showMinutes",e.showSeconds="showSeconds",e.clear="clear",e.close="close",e.today="today"}(z||(z={}));var N=z;class L{constructor(){this.optionsStore=f.locate(m),this.dates=f.locate(R),this.validation=f.locate(g)}getPicker(){const e=document.createElement("div");if(e.classList.add(r.css.daysContainer),e.role="grid",e.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(r.css.calendarWeeks,r.css.noHighlight),e.appendChild(t)}const{rangeHoverEvent:t,rangeHoverOutEvent:n}=this.handleMouseEvents(e);for(let o=0;o<42;o++){if(0!==o&&o%7==0&&this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(r.css.calendarWeeks,r.css.noHighlight),t.tabIndex=-1,e.appendChild(t)}const i=document.createElement("div");i.setAttribute("data-action",N.selectDay),i.role="gridcell",i.tabIndex=-1,e.appendChild(i),matchMedia("(hover: hover)").matches&&this.optionsStore.options.dateRange&&(i.addEventListener("mouseover",t),i.addEventListener("mouseout",n))}return e}_update(e,t){const n=e.getElementsByClassName(r.css.daysContainer)[0];this._updateCalendarView(n);const o=this.optionsStore.viewDate.clone.startOf(s.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,s.hours);this._handleCalendarWeeks(n,o.clone),n.querySelectorAll(`[data-action="${N.selectDay}"]`).forEach((e=>{const n=[];n.push(r.css.day),o.isBefore(this.optionsStore.viewDate,s.month)&&n.push(r.css.old),o.isAfter(this.optionsStore.viewDate,s.month)&&n.push(r.css.new),this.optionsStore.unset||this.optionsStore.options.dateRange||!this.dates.isPicked(o,s.date)||n.push(r.css.active),this.validation.isValid(o,s.date)||n.push(r.css.disabled),o.isSame(new d,s.date)&&n.push(r.css.today),0!==o.weekDay&&6!==o.weekDay||n.push(r.css.weekend),this._handleDateRange(o,n),t(s.date,o,n,e),e.classList.remove(...e.classList),e.classList.add(...n),e.setAttribute("data-value",o.dateToDataValue()),e.setAttribute("data-day",`${o.date}`),e.innerText=o.parts(void 0,{day:"numeric"}).day,e.ariaLabel=o.format("MMMM dd, yyyy"),o.manipulate(1,s.date)}))}_handleDateRange(e,t){const n=this.dates.picked[0],o=this.dates.picked[1];this.optionsStore.options.dateRange&&(e.isBetween(n,o,s.date)&&t.push(r.css.rangeIn),e.isSame(n,s.date)&&t.push(r.css.rangeStart),e.isSame(o,s.date)&&t.push(r.css.rangeEnd))}handleMouseEvents(e){return{rangeHoverEvent:t=>{const n=t?.currentTarget;if(1!==this.dates.picked.length||n.classList.contains(r.css.disabled))return;const o=[...e.querySelectorAll(".day")],i=n.getAttribute("data-value"),a=d.fromString(i,{format:"yyyy-MM-dd"}),l=o.findIndex((e=>e.getAttribute("data-value")===i)),c=this.dates.picked[0],u=this.dates.picked[1],h=c.dateToDataValue(),f=o.findIndex((e=>e.getAttribute("data-value")===h)),p=o[f];let m;a.isSame(c,s.date)||n.classList.remove(r.css.rangeStart),a.isSame(u,s.date)||n.classList.remove(r.css.rangeEnd),a.isBefore(c)?(n.classList.add(r.css.rangeStart),p?.classList.remove(r.css.rangeStart),p?.classList.add(r.css.rangeEnd),m=(e,t)=>t>l&&t<f):(n.classList.add(r.css.rangeEnd),p?.classList.remove(r.css.rangeEnd),p?.classList.add(r.css.rangeStart),m=(e,t)=>t<l&&t>f),o.filter(m).forEach((e=>{e.classList.add(r.css.rangeIn)}))},rangeHoverOutEvent:t=>{const n=[...e.querySelectorAll(".day")];if(1===this.dates.picked.length&&n.forEach((e=>e.classList.remove(r.css.rangeIn))),1!==this.dates.picked.length)return;const o=t?.currentTarget,i=new d(o.getAttribute("data-value"));i.isSame(this.dates.picked[0],s.date)||o.classList.remove(r.css.rangeStart),i.isSame(this.dates.picked[1],s.date)||o.classList.remove(r.css.rangeEnd)}}}_updateCalendarView(e){if("calendar"!==this.optionsStore.currentView)return;const[t,n,o]=e.parentElement.getElementsByClassName(r.css.calendarHeader)[0].getElementsByTagName("div");n.setAttribute(r.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?n.classList.remove(r.css.disabled):n.classList.add(r.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.month),s.month)?t.classList.remove(r.css.disabled):t.classList.add(r.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.month),s.month)?o.classList.remove(r.css.disabled):o.classList.add(r.css.disabled)}_daysOfTheWeek(){const e=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(s.date),t=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){const e=document.createElement("div");e.classList.add(r.css.calendarWeeks,r.css.noHighlight),e.innerText="#",t.push(e)}for(let n=0;n<7;n++){const n=document.createElement("div");n.classList.add(r.css.dayOfTheWeek,r.css.noHighlight);let o=e.format({weekday:"short"});this.optionsStore.options.localization.maxWeekdayLength>0&&(o=o.substring(0,this.optionsStore.options.localization.maxWeekdayLength)),n.innerText=o,n.ariaLabel=e.format({weekday:"long"}),e.manipulate(1,s.date),t.push(n)}return t}_handleCalendarWeeks(e,t){[...e.querySelectorAll(`.${r.css.calendarWeeks}`)].filter((e=>"#"!==e.innerText)).forEach((e=>{e.innerText=`${t.week}`,t.manipulate(7,s.date)}))}}class j{constructor(){this.optionsStore=f.locate(m),this.dates=f.locate(R),this.validation=f.locate(g)}getPicker(){const e=document.createElement("div");e.classList.add(r.css.monthsContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.selectMonth),e.appendChild(t)}return e}_update(e,t){const n=e.getElementsByClassName(r.css.monthsContainer)[0];if("months"===this.optionsStore.currentView){const[e,t,o]=n.parentElement.getElementsByClassName(r.css.calendarHeader)[0].getElementsByTagName("div");t.setAttribute(r.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?t.classList.remove(r.css.disabled):t.classList.add(r.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.year),s.year)?e.classList.remove(r.css.disabled):e.classList.add(r.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.year),s.year)?o.classList.remove(r.css.disabled):o.classList.add(r.css.disabled)}const o=this.optionsStore.viewDate.clone.startOf(s.year);n.querySelectorAll(`[data-action="${N.selectMonth}"]`).forEach(((e,n)=>{const i=[];i.push(r.css.month),!this.optionsStore.unset&&this.dates.isPicked(o,s.month)&&i.push(r.css.active),this.validation.isValid(o,s.month)||i.push(r.css.disabled),t(s.month,o,i,e),e.classList.remove(...e.classList),e.classList.add(...i),e.setAttribute("data-value",`${n}`),e.innerText=`${o.format({month:"short"})}`,o.manipulate(1,s.month)}))}}class V{constructor(){this.optionsStore=f.locate(m),this.dates=f.locate(R),this.validation=f.locate(g)}getPicker(){const e=document.createElement("div");e.classList.add(r.css.yearsContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.selectYear),e.appendChild(t)}return e}_update(e,t){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,s.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,s.year);const n=e.getElementsByClassName(r.css.yearsContainer)[0];if("years"===this.optionsStore.currentView){const[e,t,o]=n.parentElement.getElementsByClassName(r.css.calendarHeader)[0].getElementsByTagName("div");t.setAttribute(r.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this.optionsStore.options.display.components.decades?t.classList.remove(r.css.disabled):t.classList.add(r.css.disabled),this.validation.isValid(this._startYear,s.year)?e.classList.remove(r.css.disabled):e.classList.add(r.css.disabled),this.validation.isValid(this._endYear,s.year)?o.classList.remove(r.css.disabled):o.classList.add(r.css.disabled)}const o=this.optionsStore.viewDate.clone.startOf(s.year).manipulate(-1,s.year);n.querySelectorAll(`[data-action="${N.selectYear}"]`).forEach((e=>{const n=[];n.push(r.css.year),!this.optionsStore.unset&&this.dates.isPicked(o,s.year)&&n.push(r.css.active),this.validation.isValid(o,s.year)||n.push(r.css.disabled),t(s.year,o,n,e),e.classList.remove(...e.classList),e.classList.add(...n),e.setAttribute("data-value",`${o.year}`),e.innerText=o.format({year:"numeric"}),o.manipulate(1,s.year)}))}}class B{constructor(){this.optionsStore=f.locate(m),this.dates=f.locate(R),this.validation=f.locate(g)}getPicker(){const e=document.createElement("div");e.classList.add(r.css.decadesContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.selectDecade),e.appendChild(t)}return e}_update(e,t){const[n,o]=R.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(s.year),this._startDecade.year=n,this._endDecade=this.optionsStore.viewDate.clone.startOf(s.year),this._endDecade.year=o;const i=e.getElementsByClassName(r.css.decadesContainer)[0],[a,l,c]=i.parentElement.getElementsByClassName(r.css.calendarHeader)[0].getElementsByTagName("div"),u=this.validation.isValid(this._startDecade,s.year);"decades"===this.optionsStore.currentView&&(l.setAttribute(r.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),u?a.classList.remove(r.css.disabled):a.classList.add(r.css.disabled),this.validation.isValid(this._endDecade,s.year)?c.classList.remove(r.css.disabled):c.classList.add(r.css.disabled));const d=this.dates.picked.map((e=>e.year));i.querySelectorAll(`[data-action="${N.selectDecade}"]`).forEach(((e,n)=>{if(0===n)return e.classList.add(r.css.old),void(this._startDecade.year-10<0&&(e.textContent=" ",a.classList.add(r.css.disabled),e.classList.add(r.css.disabled),e.setAttribute("data-value","")));const o=[];o.push(r.css.decade);const i=this._startDecade.year,l=this._startDecade.year+9;!this.optionsStore.unset&&d.filter((e=>e>=i&&e<=l)).length>0&&o.push(r.css.active),u||this.validation.isValid(this._startDecade.clone.manipulate(10,s.year),s.year)||o.push(r.css.disabled),t("decade",this._startDecade,o,e),e.classList.remove(...e.classList),e.classList.add(...o),e.setAttribute("data-value",`${this._startDecade.year}`),e.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,s.year)}))}}class Z{constructor(){this._gridColumns="",this.optionsStore=f.locate(m),this.dates=f.locate(R),this.validation=f.locate(g)}getPicker(e){const t=document.createElement("div");return t.classList.add(r.css.clockContainer),t.append(...this._grid(e)),t}_update(e){const t=e.getElementsByClassName(r.css.clockContainer)[0];let n=this.dates.lastPicked?.clone;if(!n&&this.optionsStore.options.useCurrent&&(n=this.optionsStore.viewDate.clone),t.querySelectorAll(".disabled").forEach((e=>e.classList.remove(r.css.disabled))),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.hours),s.hours)||t.querySelector(`[data-action=${N.incrementHours}]`).classList.add(r.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.hours),s.hours)||t.querySelector(`[data-action=${N.decrementHours}]`).classList.add(r.css.disabled),t.querySelector(`[data-time-component=${s.hours}]`).innerText=n?n.getHoursFormatted(this.optionsStore.options.localization.hourCycle):"--"),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.minutes),s.minutes)||t.querySelector(`[data-action=${N.incrementMinutes}]`).classList.add(r.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.minutes),s.minutes)||t.querySelector(`[data-action=${N.decrementMinutes}]`).classList.add(r.css.disabled),t.querySelector(`[data-time-component=${s.minutes}]`).innerText=n?n.minutesFormatted:"--"),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.seconds),s.seconds)||t.querySelector(`[data-action=${N.incrementSeconds}]`).classList.add(r.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.seconds),s.seconds)||t.querySelector(`[data-action=${N.decrementSeconds}]`).classList.add(r.css.disabled),t.querySelector(`[data-time-component=${s.seconds}]`).innerText=n?n.secondsFormatted:"--"),this.optionsStore.isTwelveHour){const e=t.querySelector(`[data-action=${N.toggleMeridiem}]`),o=(n||this.optionsStore.viewDate).clone;e.innerText=o.meridiem(),this.validation.isValid(o.manipulate(o.hours>=12?-12:12,s.hours))?e.classList.remove(r.css.disabled):e.classList.add(r.css.disabled)}t.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(e){this._gridColumns="";const t=[],n=[],o=[],i=document.createElement("div"),a=e(this.optionsStore.options.display.icons.up),l=e(this.optionsStore.options.display.icons.down);i.classList.add(r.css.separator,r.css.noHighlight);const c=i.cloneNode(!0);c.innerHTML=":";const u=(e=!1)=>e?c.cloneNode(!0):i.cloneNode(!0);if(this.optionsStore.options.display.components.hours){let e=document.createElement("div");e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.incrementHour),e.setAttribute("data-action",N.incrementHours),e.appendChild(a.cloneNode(!0)),t.push(e),e=document.createElement("div"),e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.pickHour),e.setAttribute("data-action",N.showHours),e.setAttribute("data-time-component",s.hours),n.push(e),e=document.createElement("div"),e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.decrementHour),e.setAttribute("data-action",N.decrementHours),e.appendChild(l.cloneNode(!0)),o.push(e),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(t.push(u()),n.push(u(!0)),o.push(u()),this._gridColumns+=" a");let e=document.createElement("div");e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.incrementMinute),e.setAttribute("data-action",N.incrementMinutes),e.appendChild(a.cloneNode(!0)),t.push(e),e=document.createElement("div"),e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.pickMinute),e.setAttribute("data-action",N.showMinutes),e.setAttribute("data-time-component",s.minutes),n.push(e),e=document.createElement("div"),e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.decrementMinute),e.setAttribute("data-action",N.decrementMinutes),e.appendChild(l.cloneNode(!0)),o.push(e)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(t.push(u()),n.push(u(!0)),o.push(u()),this._gridColumns+=" a");let e=document.createElement("div");e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.incrementSecond),e.setAttribute("data-action",N.incrementSeconds),e.appendChild(a.cloneNode(!0)),t.push(e),e=document.createElement("div"),e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.pickSecond),e.setAttribute("data-action",N.showSeconds),e.setAttribute("data-time-component",s.seconds),n.push(e),e=document.createElement("div"),e.tabIndex=-1,e.setAttribute("title",this.optionsStore.options.localization.decrementSecond),e.setAttribute("data-action",N.decrementSeconds),e.appendChild(l.cloneNode(!0)),o.push(e)}if(this.optionsStore.isTwelveHour){this._gridColumns+=" a";let e=u();t.push(e);const i=document.createElement("button");i.tabIndex=-1,i.setAttribute("type","button"),i.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),i.setAttribute("data-action",N.toggleMeridiem),i.setAttribute("tabindex","-1"),r.css.toggleMeridiem.includes(",")?i.classList.add(...r.css.toggleMeridiem.split(",")):i.classList.add(r.css.toggleMeridiem),e=document.createElement("div"),e.classList.add(r.css.noHighlight),e.appendChild(i),n.push(e),e=u(),o.push(e)}return this._gridColumns=this._gridColumns.trim(),[...t,...n,...o]}}class X{constructor(){this.optionsStore=f.locate(m),this.validation=f.locate(g),this.dates=f.locate(R)}getPicker(){const e=document.createElement("div");e.classList.add(r.css.hourContainer);for(let t=0;t<(this.optionsStore.isTwelveHour?12:24);t++){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.selectHour),e.appendChild(t)}return e}_update(e,t){const n=e.getElementsByClassName(r.css.hourContainer)[0],o=this.optionsStore.viewDate.clone.startOf(s.date);n.querySelectorAll(`[data-action="${N.selectHour}"]`).forEach((e=>{const n=[];n.push(r.css.hour),this.validation.isValid(o,s.hours)||n.push(r.css.disabled),t(s.hours,o,n,e),e.classList.remove(...e.classList),e.classList.add(...n),e.setAttribute("data-value",`${o.hours}`),e.innerText=o.getHoursFormatted(this.optionsStore.options.localization.hourCycle),o.manipulate(1,s.hours)}))}}class W{constructor(){this.optionsStore=f.locate(m),this.validation=f.locate(g)}getPicker(){const e=document.createElement("div");e.classList.add(r.css.minuteContainer);const t=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;for(let n=0;n<60/t;n++){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.selectMinute),e.appendChild(t)}return e}_update(e,t){const n=e.getElementsByClassName(r.css.minuteContainer)[0],o=this.optionsStore.viewDate.clone.startOf(s.hours),i=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;n.querySelectorAll(`[data-action="${N.selectMinute}"]`).forEach((e=>{const n=[];n.push(r.css.minute),this.validation.isValid(o,s.minutes)||n.push(r.css.disabled),t(s.minutes,o,n,e),e.classList.remove(...e.classList),e.classList.add(...n),e.setAttribute("data-value",`${o.minutes}`),e.innerText=o.minutesFormatted,o.manipulate(i,s.minutes)}))}}class U{constructor(){this.optionsStore=f.locate(m),this.validation=f.locate(g)}getPicker(){const e=document.createElement("div");e.classList.add(r.css.secondContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",N.selectSecond),t.tabIndex=-1,e.appendChild(t)}return e}_update(e,t){const n=e.getElementsByClassName(r.css.secondContainer)[0],o=this.optionsStore.viewDate.clone.startOf(s.minutes);n.querySelectorAll(`[data-action="${N.selectSecond}"]`).forEach((e=>{const n=[];n.push(r.css.second),this.validation.isValid(o,s.seconds)||n.push(r.css.disabled),t(s.seconds,o,n,e),e.classList.remove(...e.classList),e.classList.add(...n),e.setAttribute("data-value",`${o.seconds}`),e.innerText=o.secondsFormatted,o.manipulate(5,s.seconds)}))}}class Y{static toggle(e){e.classList.contains(r.css.show)?this.hide(e):this.show(e)}static showImmediately(e){e.classList.remove(r.css.collapsing),e.classList.add(r.css.collapse,r.css.show),e.style.height=""}static show(e){if(e.classList.contains(r.css.collapsing)||e.classList.contains(r.css.show))return;e.style.height="0",e.classList.remove(r.css.collapse),e.classList.add(r.css.collapsing),setTimeout((()=>{Y.showImmediately(e)}),this.getTransitionDurationFromElement(e)),e.style.height=`${e.scrollHeight}px`}static hideImmediately(e){e&&(e.classList.remove(r.css.collapsing,r.css.show),e.classList.add(r.css.collapse))}static hide(e){if(e.classList.contains(r.css.collapsing)||!e.classList.contains(r.css.show))return;e.style.height=`${e.getBoundingClientRect().height}px`;e.offsetHeight,e.classList.remove(r.css.collapse,r.css.show),e.classList.add(r.css.collapsing),e.style.height="",setTimeout((()=>{Y.hideImmediately(e)}),this.getTransitionDurationFromElement(e))}}Y.getTransitionDurationFromElement=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const o=Number.parseFloat(t),i=Number.parseFloat(n);return o||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0};class F{constructor(){this._isVisible=!1,this._keyboardEventBound=this._keyboardEvent.bind(this),this._documentClickEvent=e=>{this.optionsStore.options.debug||window.debug||!this._isVisible||e.composedPath().includes(this.widget)||e.composedPath()?.includes(this.optionsStore.element)||this.hide()},this._actionsClickEvent=e=>{this._eventEmitters.action.emit({e})},this.optionsStore=f.locate(m),this.validation=f.locate(g),this.dates=f.locate(R),this.dateDisplay=f.locate(L),this.monthDisplay=f.locate(j),this.yearDisplay=f.locate(V),this.decadeDisplay=f.locate(B),this.timeDisplay=f.locate(Z),this.hourDisplay=f.locate(X),this.minuteDisplay=f.locate(W),this.secondDisplay=f.locate(U),this._eventEmitters=f.locate(v),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe((e=>{this._update(e)}))}get widget(){return this._widget}get dateContainer(){return this.widget?.querySelector(`div.${r.css.dateContainer}`)}get timeContainer(){return this.widget?.querySelector(`div.${r.css.timeContainer}`)}get isVisible(){return this._isVisible}_update(e){if(this.widget)switch(e){case s.seconds:this.secondDisplay._update(this.widget,this.paint);break;case s.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case s.hours:this.hourDisplay._update(this.widget,this.paint);break;case s.date:this.dateDisplay._update(this.widget,this.paint);break;case s.month:this.monthDisplay._update(this.widget,this.paint);break;case s.year:this.yearDisplay._update(this.widget,this.paint);break;case"decade":this.decadeDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(s.hours),this._update(s.minutes),this._update(s.seconds);break;case"calendar":this._update(s.date),this._update(s.year),this._update(s.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(e,t,n,o){}show(){if(null==this.widget){if(this._showSetDefaultIfNeeded(),this._buildWidget(),this._updateTheme(),this._showSetupViewMode(),this.optionsStore.options.display.inline)this.optionsStore.element.appendChild(this.widget);else{const e=this.optionsStore.options?.container||document.body,t=this.optionsStore.options?.display?.placement||"bottom";e.appendChild(this.widget);const n=this._handleFocus.bind(this);this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0},{name:"focusDate",enabled:!0,phase:"afterWrite",fn(){n()}}],placement:"rtl"===document.documentElement.dir?`${t}-end`:`${t}-start`}).then((()=>{this._handleFocus()}))}"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:N.showClock}),this.widget.querySelectorAll("[data-action]").forEach((e=>e.addEventListener("click",this._actionsClickEvent))),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(r.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(r.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:r.events.show}),this._isVisible=!0,this.optionsStore.options.display.keyboardNavigation&&this.widget.addEventListener("keydown",this._keyboardEventBound)}_showSetupViewMode(){const e=this._hasTime&&!this._hasDate;e?(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:N.showClock})):this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),e||"clock"===this.optionsStore.options.display.viewMode||(this._hasTime&&(this.optionsStore.options.display.sideBySide?Y.show(this.timeContainer):Y.hideImmediately(this.timeContainer)),Y.show(this.dateContainer)),this._hasDate&&this._showMode()}_showSetDefaultIfNeeded(){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){const e=(new d).setLocalization(this.optionsStore.options.localization);if(!this.optionsStore.options.keepInvalid){let t=0,n=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(e)&&(n=-1);!this.validation.isValid(e)&&t>31;)e.manipulate(n,s.date),t++}this.dates.setValue(e)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}}async createPopup(e,t,o){let i;if(window?.Popper)i=window?.Popper?.createPopper;else{const{createPopper:e}=await n.e(707).then(n.bind(n,8707));i=e}i&&(this._popperInstance=i(e,t,o))}updatePopup(){this._popperInstance&&this._popperInstance.update()}_showMode(e){if(!this.widget)return;if(e){const t=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+e));if(this.optionsStore.currentCalendarViewMode==t)return;this.optionsStore.currentCalendarViewMode=t}this.widget.querySelectorAll(`.${r.css.dateContainer} > div:not(.${r.css.calendarHeader}), .${r.css.timeContainer} > div:not(.${r.css.clockContainer})`).forEach((e=>e.style.display="none"));const t=p[this.optionsStore.currentCalendarViewMode],n=this.widget.querySelector(`.${t.className}`);switch(t.className){case r.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case r.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case r.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case r.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}n.style.display="grid",this.optionsStore.options.display.sideBySide&&(this.widget.querySelectorAll(`.${r.css.clockContainer}`)[0].style.display="grid"),this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit(),this.findViewDateElement()?.focus()}_updateTheme(e){if(this.widget){if(e){if(this.optionsStore.options.display.theme===e)return;this.optionsStore.options.display.theme=e}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),"auto"===this.optionsStore.options.display.theme?window.matchMedia(r.css.isDarkPreferredQuery).addEventListener("change",(()=>this._updateTheme())):window.matchMedia(r.css.isDarkPreferredQuery).removeEventListener("change",(()=>this._updateTheme()))}}_getThemeClass(){const e=this.optionsStore.options.display.theme||"auto",t=window.matchMedia&&window.matchMedia(r.css.isDarkPreferredQuery).matches;switch(e){case"light":return r.css.lightTheme;case"dark":return r.css.darkTheme;case"auto":return t?r.css.darkTheme:r.css.lightTheme}}_updateCalendarHeader(){if(!this._hasDate)return;const e=[...this.widget.querySelector(`.${r.css.dateContainer} div[style*="display: grid"]`).classList].find((e=>e.startsWith(r.css.dateContainer))),[t,n,o]=this.widget.getElementsByClassName(r.css.calendarHeader)[0].getElementsByTagName("div");switch(e){case r.css.decadesContainer:t.setAttribute("title",this.optionsStore.options.localization.previousCentury),n.setAttribute("title",""),o.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case r.css.yearsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousDecade),n.setAttribute("title",this.optionsStore.options.localization.selectDecade),o.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case r.css.monthsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousYear),n.setAttribute("title",this.optionsStore.options.localization.selectYear),o.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case r.css.daysContainer:t.setAttribute("title",this.optionsStore.options.localization.previousMonth),n.setAttribute("title",this.optionsStore.options.localization.selectMonth),o.setAttribute("title",this.optionsStore.options.localization.nextMonth),n.setAttribute(e,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat))}n.innerText=n.getAttribute(e)}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(r.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:r.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?.clone}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent),this.optionsStore.options.display.keyboardNavigation&&this.widget.removeEventListener("keydown",this._keyboardEventBound),this.optionsStore.toggle?this.optionsStore.toggle.focus():this.optionsStore.input&&this.optionsStore.input.focus())}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach((e=>e.removeEventListener("click",this._actionsClickEvent))),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const e=document.createElement("div");e.tabIndex=-1,e.classList.add(r.css.widget),e.setAttribute("role","widget");const t=document.createElement("div");t.tabIndex=-1,t.classList.add(r.css.dateContainer),t.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker());const n=document.createElement("div");n.tabIndex=-1,n.classList.add(r.css.timeContainer),n.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),n.appendChild(this.hourDisplay.getPicker()),n.appendChild(this.minuteDisplay.getPicker()),n.appendChild(this.secondDisplay.getPicker());const o=document.createElement("div");if(o.tabIndex=-1,o.classList.add(r.css.toolbar),o.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&e.classList.add(r.css.inline),this.optionsStore.options.display.calendarWeeks&&e.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDateAndTime)return void this._buildWidgetSideBySide(e,t,n,o);"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o);const i=(t,n,o,i)=>{t&&(n&&(o.classList.add(r.css.collapse),i&&o.classList.add(r.css.show)),e.appendChild(o))};i(this._hasDate,this._hasTime,t,"clock"!==this.optionsStore.options.display.viewMode),i(this._hasTime,this._hasDate,n,"clock"===this.optionsStore.options.display.viewMode),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o);const s=document.createElement("div");s.classList.add("arrow"),s.setAttribute("data-popper-arrow",""),e.appendChild(s),this._widget=e}_buildWidgetSideBySide(e,t,n,o){e.classList.add(r.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o);const i=document.createElement("div");i.classList.add("td-row"),t.classList.add("td-half"),n.classList.add("td-half"),i.appendChild(t),i.appendChild(n),e.appendChild(i),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o),this._widget=e}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}get _hasDateAndTime(){return this._hasDate&&this._hasTime}getToolbarElements(){const e=[];if(this.optionsStore.options.display.buttons.today){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.today),t.setAttribute("title",this.optionsStore.options.localization.today),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),e.push(t)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let t,n;"clock"===this.optionsStore.options.display.viewMode?(t=this.optionsStore.options.localization.selectDate,n=this.optionsStore.options.display.icons.date):(t=this.optionsStore.options.localization.selectTime,n=this.optionsStore.options.display.icons.time);const o=document.createElement("div");o.tabIndex=-1,o.setAttribute("data-action",N.togglePicker),o.setAttribute("title",t),o.appendChild(this._iconTag(n)),e.push(o)}if(this.optionsStore.options.display.buttons.clear){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.clear),t.setAttribute("title",this.optionsStore.options.localization.clear),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),e.push(t)}if(this.optionsStore.options.display.buttons.close){const t=document.createElement("div");t.tabIndex=-1,t.setAttribute("data-action",N.close),t.setAttribute("title",this.optionsStore.options.localization.close),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),e.push(t)}return e}getHeadTemplate(){const e=document.createElement("div");e.classList.add(r.css.calendarHeader);const t=document.createElement("div");t.classList.add(r.css.previous),t.setAttribute("data-action",N.previous),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous)),t.tabIndex=-1;const n=document.createElement("div");n.classList.add(r.css.switch),n.setAttribute("data-action",N.changeCalendarView),n.tabIndex=-1;const o=document.createElement("div");return o.classList.add(r.css.next),o.setAttribute("data-action",N.next),o.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),o.tabIndex=-1,e.append(t,n,o),e}_iconTag(e){if("sprites"===this.optionsStore.options.display.icons.type){const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","use");return n.setAttribute("xlink:href",e),n.setAttribute("href",e),t.appendChild(n),t}const t=document.createElement("i");return t.classList.add(...e.split(" ")),t}_rebuild(){const e=this._isVisible;this._dispose(),e&&this.show()}refreshCurrentView(){switch(this._isVisible||this._dispose(),this.optionsStore.currentView){case"clock":this._update("clock");break;case"calendar":this._update(s.date);break;case"months":this._update(s.month);break;case"years":this._update(s.year);break;case"decades":this._update("decade")}}_keyboardEvent(e){if("clock"!==this.optionsStore.currentView)return this._handleKeyDownDate(e),!1;this._handleKeyDownClock(e)}findViewDateElement(){let e="",t="";switch(this.optionsStore.currentView){case"clock":break;case"calendar":e=r.css.daysContainer,t=this.optionsStore.viewDate.dateToDataValue();break;case"months":e=r.css.monthsContainer,t=this.optionsStore.viewDate.month.toString();break;case"years":e=r.css.yearsContainer,t=this.optionsStore.viewDate.year.toString();break;case"decades":e=r.css.decadesContainer,t=(10*Math.floor(this.optionsStore.viewDate.year/10)).toString()}return this.widget.querySelector(`.${e} > div[data-value="${t}"]`)}_handleKeyDownDate(e){let t=!1;const n=document.activeElement;let o=null,i=7,r=1,a=1;const l=this.optionsStore.currentView;switch(l){case"calendar":o=s.date;break;case"months":o=s.month,i=3,r=1;break;case"years":o=s.year,i=3,r=1;break;case"decades":o=s.year,i=30,r=10}switch(e.key){case"Esc":case"Escape":this._eventEmitters.action.emit({e:null,action:N.close});break;case" ":case"Enter":return n.click(),e.stopPropagation(),void e.preventDefault();case"Tab":return void this._handleTab(n,e);case"Right":case"ArrowRight":a=r,t=!0;break;case"Left":case"ArrowLeft":t=!0,a=-r;break;case"Down":case"ArrowDown":t=!0,a=i;break;case"Up":case"ArrowUp":t=!0,a=-i;break;case"PageDown":switch(l){case"calendar":o=e.shiftKey?s.year:s.month,a=1;break;case"months":o=s.year,a=e.shiftKey?10:1;break;case"years":case"decades":o=s.year,a=e.shiftKey?100:10}t=!0;break;case"PageUp":switch(l){case"calendar":o=e.shiftKey?s.year:s.month,a=-1;break;case"months":o=s.year,a=-(e.shiftKey?10:1);break;case"years":case"decades":o=s.year,a=-(e.shiftKey?100:10)}t=!0;break;case"Home":this.optionsStore.viewDate=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek),t=!0,o=null;break;case"End":this.optionsStore.viewDate=this.optionsStore.viewDate.clone.endOf("weekDay",this.optionsStore.options.localization.startOfTheWeek),t=!0,o=null}if(!t)return;let c=this.optionsStore.viewDate;o&&(c=c.clone.manipulate(a,o)),this._eventEmitters.updateViewDate.emit(c);const u=this.findViewDateElement();u&&u.focus(),e.stopPropagation(),e.preventDefault()}_handleKeyDownClock(e){let t=!1;const n=document.activeElement,o=this.widget.querySelector(`.${r.css.timeContainer} > div[style*="display: grid"]`);let i=r.css.clockContainer;switch(o.classList.contains(r.css.hourContainer)&&(i=r.css.hourContainer),o.classList.contains(r.css.minuteContainer)&&(i=r.css.minuteContainer),o.classList.contains(r.css.secondContainer)&&(i=r.css.secondContainer),e.key){case"Esc":case"Escape":this._eventEmitters.action.emit({e:null,action:N.close});break;case" ":case"Enter":return n.click(),e.stopPropagation(),void e.preventDefault();case"Tab":return void this._handleTab(n,e)}if(i===r.css.clockContainer)return;const s=[...o.querySelectorAll("div")],a=s.indexOf(document.activeElement);let l;switch(e.key){case"Right":case"ArrowRight":l=a<s.length-1?a+1:null,t=!0;break;case"Left":case"ArrowLeft":t=!0,l=a>0?a-1:null;break;case"Down":case"ArrowDown":l=a+4<s.length?a+4:null,t=!0;break;case"Up":case"ArrowUp":l=a-4>=0?a-4:null,t=!0}t&&(null!=l&&s[l].focus(),e.stopPropagation(),e.preventDefault())}_handleTab(e,t){const n=t.shiftKey,o=()=>{const e=this.widget.querySelectorAll(`.${r.css.calendarHeader} > div`);i.push(...e)},i=[];switch(console.log(this.optionsStore.currentView),this.optionsStore.currentView){case"clock":{i.push(...this.widget.querySelectorAll(`.${r.css.timeContainer} > div[style*="display: grid"] > div[data-action]`));const e=this.widget.querySelectorAll(`.${r.css.clockContainer}`)[0];"grid"===e?.style.display&&i.push(...this.widget.querySelectorAll(`.${r.css.toggleMeridiem}`))}break;case"calendar":case"months":case"years":case"decades":o(),i.push(this.findViewDateElement())}const s=this.widget.querySelectorAll(`.${r.css.toolbar} > div`);i.push(...s);const a=i.indexOf(e);-1!==a&&(n?0===a?i[i.length-1].focus():i[a-1].focus():a===i.length-1?i[0].focus():i[a+1].focus(),t.stopPropagation(),t.preventDefault())}_handleFocus(){"clock"===this.optionsStore.currentView?this._handleFocusClock():this.findViewDateElement().focus()}_handleFocusClock(){this.widget.querySelector(`.${r.css.timeContainer} > div[style*="display: grid"]`).children[0].focus()}}class q{constructor(){this.optionsStore=f.locate(m),this.dates=f.locate(R),this.validation=f.locate(g),this.display=f.locate(F),this._eventEmitters=f.locate(v),this._eventEmitters.action.subscribe((e=>{this.do(e.e,e.action)}))}do(e,t){const n=e?.currentTarget;if(n?.classList?.contains(r.css.disabled))return;t=t||n?.dataset?.action;const o=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(t){case N.next:case N.previous:this.handleNextPrevious(t);break;case N.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case N.selectMonth:case N.selectYear:case N.selectDecade:this.handleSelectCalendarMode(t,n);break;case N.selectDay:this.handleSelectDay(n);break;case N.selectHour:{let t=+n.dataset.value;o.hours>=12&&this.optionsStore.isTwelveHour&&(t+=12),o.hours=t,this.dates.setValue(o,this.dates.lastPickedIndex),this.hideOrClock(e);break}case N.selectMinute:o.minutes=+n.dataset.value,this.dates.setValue(o,this.dates.lastPickedIndex),this.hideOrClock(e);break;case N.selectSecond:o.seconds=+n.dataset.value,this.dates.setValue(o,this.dates.lastPickedIndex),this.hideOrClock(e);break;case N.incrementHours:this.manipulateAndSet(o,s.hours);break;case N.incrementMinutes:this.manipulateAndSet(o,s.minutes,this.optionsStore.options.stepping);break;case N.incrementSeconds:this.manipulateAndSet(o,s.seconds);break;case N.decrementHours:this.manipulateAndSet(o,s.hours,-1);break;case N.decrementMinutes:this.manipulateAndSet(o,s.minutes,-1*this.optionsStore.options.stepping);break;case N.decrementSeconds:this.manipulateAndSet(o,s.seconds,-1);break;case N.toggleMeridiem:this.manipulateAndSet(o,s.hours,this.dates.lastPicked.hours>=12?-12:12);break;case N.togglePicker:this.handleToggle(n);break;case N.showClock:case N.showHours:case N.showMinutes:case N.showSeconds:this.optionsStore.options.display.sideBySide||"clock"===this.optionsStore.currentView||(Y.hideImmediately(this.display.dateContainer),Y.showImmediately(this.display.timeContainer)),this.handleShowClockContainers(t);break;case N.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case N.close:this.display.hide();break;case N.today:{const e=(new d).setLocalization(this.optionsStore.options.localization);if(this._eventEmitters.updateViewDate.emit(e),!this.validation.isValid(e,s.date))break;this.optionsStore.options.dateRange?this.handleDateRange(e):this.optionsStore.options.multipleDates?this.handleMultiDate(e):this.dates.setValue(e,this.dates.lastPickedIndex);break}}}handleShowClockContainers(e){if(!this.display._hasTime)return void r.errorMessages.throwError("Cannot show clock containers when time is disabled.");this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${r.css.timeContainer} > div`).forEach((e=>e.style.display="none"));let t="";switch(e){case N.showClock:t=r.css.clockContainer,this.display._update("clock");break;case N.showHours:t=r.css.hourContainer,this.display._update(s.hours);break;case N.showMinutes:t=r.css.minuteContainer,this.display._update(s.minutes);break;case N.showSeconds:t=r.css.secondContainer,this.display._update(s.seconds)}const n=this.display.widget.getElementsByClassName(t)[0];n.style.display="grid",n.children[0]?.focus()}handleNextPrevious(e){const{unit:t,step:n}=p[this.optionsStore.currentCalendarViewMode];e===N.next?this.optionsStore.viewDate.manipulate(n,t):this.optionsStore.viewDate.manipulate(-1*n,t),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(e){this.optionsStore.isTwelveHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(e,N.showClock):this.display.hide()}manipulateAndSet(e,t,n=1){const o=e.manipulate(n,t);this.validation.isValid(o,t)&&this.dates.setValue(o,this.dates.lastPickedIndex)}handleSelectCalendarMode(e,t){const n=+t.dataset.value;switch(e){case N.selectMonth:this.optionsStore.viewDate.month=n;break;case N.selectYear:case N.selectDecade:this.optionsStore.viewDate.year=n}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1)}handleToggle(e){e.getAttribute("title")===this.optionsStore.options.localization.selectDate?(e.setAttribute("title",this.optionsStore.options.localization.selectTime),e.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(e.setAttribute("title",this.optionsStore.options.localization.selectDate),e.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(N.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${r.css.dateContainer}, .${r.css.timeContainer}`).forEach((e=>Y.toggle(e))),this._eventEmitters.viewUpdate.emit();const t=this.display.widget.querySelector(`.${r.css.collapsing} > div[style*="display: grid"]`);t?.focus()}handleSelectDay(e){const t=this.optionsStore.viewDate.clone;e.classList.contains(r.css.old)&&t.manipulate(-1,s.month),e.classList.contains(r.css.new)&&t.manipulate(1,s.month),t.date=+e.dataset.day,this.optionsStore.options.dateRange?this.handleDateRange(t):this.optionsStore.options.multipleDates?this.handleMultiDate(t):this.dates.setValue(t,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange||this.display.hide()}handleMultiDate(e){let t=this.dates.pickedIndex(e,s.date);-1!==t?this.dates.setValue(null,t):(t=this.dates.lastPickedIndex+1,0===this.dates.picked.length&&(t=0),this.dates.setValue(e,t))}handleDateRange(e){switch(this.dates.picked.length){case 2:this.dates.clear();break;case 1:{const t=this.dates.picked[0];if(e.getTime()===t.getTime()){this.dates.clear();break}return e.isBefore(t)?(this.dates.setValue(e,0),void this.dates.setValue(t,1)):void this.dates.setValue(e,1)}}this.dates.setValue(e,0)}}class H{constructor(e,t={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=e=>{const t=e?.detail;if(t)return;const n=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},o=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)try{const e=o.split(this.optionsStore.options.multipleDatesSeparator);for(let t=0;t<e.length;t++)this.dates.setFromInput(e[t],t);n()}catch{console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(o,0),n()},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||"INPUT"===this.optionsStore.toggle.nodeName&&"text"===this.optionsStore.toggle?.type&&this.optionsStore.options.allowInputToggle||this.toggle()},this._openClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.display.isVisible||this.show()},f=new h,this._eventEmitters=f.locate(v),this.optionsStore=f.locate(m),this.display=f.locate(F),this.dates=f.locate(R),this.actions=f.locate(q),e||r.errorMessages.mustProvideElement(),this.optionsStore.element=e,this._initializeOptions(t,y,!0),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe((e=>{this._triggerEvent(e)})),this._eventEmitters.viewUpdate.subscribe((()=>{this._viewUpdate()})),this._eventEmitters.updateViewDate.subscribe((e=>{this.viewDate=e}))}get viewDate(){return this.optionsStore.viewDate}set viewDate(e){this.optionsStore.viewDate=e,this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display._update("clock"===this.optionsStore.currentView?"clock":"calendar")}updateOptions(e,t=!1){t?this._initializeOptions(e,y):this._initializeOptions(e,this.optionsStore.options),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display.refreshCurrentView()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(e,t){let n;"string"==typeof e&&(e=[e]),n=Array.isArray(t)?t:[t],e.length!==n.length&&r.errorMessages.subscribeMismatch();const o=[];for(let t=0;t<e.length;t++){const i=e[t];if(Array.isArray(this._subscribers[i])||(this._subscribers[i]=[]),this._subscribers[i].push(n[t]),o.push({unsubscribe:this._unsubscribe.bind(this,i,this._subscribers[i].length-1)}),1===e.length)return o[0]}return o}dispose(){this.display.hide(),this.display._dispose(),this._eventEmitters.destroy(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input?.removeEventListener("click",this._openClickEvent),this.optionsStore.input?.removeEventListener("focus",this._openClickEvent)),this.optionsStore.toggle?.removeEventListener("click",this._toggleClickEvent),this.optionsStore.toggle?.removeEventListener("keydown",this._handleToggleKeydown),this._subscribers={}}locale(e){const t=G[e];t&&this.updateOptions({localization:t})}_triggerEvent(e){e.viewMode=this.optionsStore.currentView;const t=e.type===r.events.change;if(t){const{date:t,oldDate:n,isClear:o}=e;if(t&&n&&t.isSame(n)||!o&&!t&&!n)return;if(this._handleAfterChangeEvent(e),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:e})),this.optionsStore.toggle){let e=this.optionsStore.options.localization.toggleAriaLabel;if(this.dates.picked.length>0){e=`${e}, ${this.dates.picked.map((e=>e.format())).join(", ")}`}this.optionsStore.toggle.ariaLabel=e}}if(this.optionsStore.element.dispatchEvent(new CustomEvent(e.type,{detail:e})),window.jQuery){const n=window.jQuery;t&&this.optionsStore.input?n(this.optionsStore.input).trigger(e):n(this.optionsStore.element).trigger(e)}this._publish(e)}_publish(e){Array.isArray(this._subscribers[e.type])&&this._subscribers[e.type].forEach((t=>{t(e)}))}_viewUpdate(){this._triggerEvent({type:r.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(e,t){this._subscribers[e].splice(t,1)}_initializeOptions(e,t,n=!1){let o=I.deepCopy(e);o=I._mergeOptions(o,t),n&&(o=I._dataToOptions(this.optionsStore.element,o)),I._validateConflicts(o),o.viewDate=o.viewDate.setLocalization(o.localization),this.optionsStore.viewDate.isSame(o.viewDate)||(this.optionsStore.viewDate=o.viewDate),o.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),o.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),o.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),p[this.optionsStore.currentCalendarViewMode].name!==o.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(p.findIndex((e=>e.name===o.display.viewMode)),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),o.display.components.useTwentyfourHour&&void 0===o.localization.hourCycle?o.localization.hourCycle="h24":void 0===o.localization.hourCycle&&(o.localization.hourCycle=u(o.localization.locale)),this.optionsStore.options=o,o.restrictions.maxDate&&this.viewDate.isAfter(o.restrictions.maxDate)&&(this.viewDate=o.restrictions.maxDate.clone),o.restrictions.minDate&&this.viewDate.isBefore(o.restrictions.minDate)&&(this.viewDate=o.restrictions.minDate.clone)}_initializeInput(){if("INPUT"==this.optionsStore.element.tagName)this.optionsStore.input=this.optionsStore.element;else{const e=this.optionsStore.element.dataset.tdTargetInput;this.optionsStore.input=null==e||"nearest"==e?this.optionsStore.element.querySelector("input"):this.optionsStore.element.querySelector(e)}this.optionsStore.input&&(!this.optionsStore.input.value&&this.optionsStore.options.defaultDate&&(this.optionsStore.input.value=this.dates.formatInput(this.optionsStore.options.defaultDate)),this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input.addEventListener("click",this._openClickEvent),this.optionsStore.input.addEventListener("focus",this._openClickEvent)),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(this.optionsStore.options.display.inline)return;let e=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==e&&(e='[data-td-toggle="datetimepicker"]'),this.optionsStore.toggle=null==e?this.optionsStore.element:this.optionsStore.element.querySelector(e),null!=this.optionsStore.toggle&&(this.optionsStore.toggle.addEventListener("click",this._toggleClickEvent),this.optionsStore.toggle!==this.optionsStore.element&&this.optionsStore.toggle.addEventListener("keydown",this._handleToggleKeydown.bind(this)))}_handleAfterChangeEvent(e){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.multipleDates||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(r.css.show)[0].classList.contains(r.css.timeContainer)||!e.oldDate&&this.optionsStore.options.useCurrent||e.oldDate&&e.date?.isSame(e.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout((()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector('[data-action="togglePicker"]')},action:N.togglePicker})}),this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}_handleToggleKeydown(e){" "!==e.key&&"Enter"!==e.key||(this.optionsStore.toggle.click(),e.stopPropagation(),e.preventDefault())}}const G={},K=e=>{G[e.name]||(G[e.name]=e.localization)},J=e=>{const t=G[e];t&&(y.localization=t)},ee=function(e,t=void 0){return e?(e.installed||(e(t,{TempusDominus:H,Dates:R,Display:F,DateTime:d,Namespace:r},ne),e.installed=!0),ne):ne},te="6.9.4",ne={TempusDominus:H,extend:ee,loadLocale:K,locale:J,Namespace:r,DefaultOptions:y,DateTime:d,Unit:s,version:te,DefaultEnLocalization:x}},2983:()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},3826:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,i,r){var s=i.prototype;r.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(t){var n=r(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},s.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(o,i){var r=this.$utils().u;if(r(o))return this.$u?0:r(this.$offset)?c.call(this):this.$offset;if("string"==typeof o&&(o=function(e){void 0===e&&(e="");var o=e.match(t);if(!o)return null;var i=(""+o[0]).match(n)||["-",0,0],r=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===r?s:-s}(o),null===o))return this;var s=Math.abs(o)<=16?60*o:o,a=this;if(i)return a.$offset=s,a.$u=0===o,a;if(0!==o){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+l,e)).$offset=s,a.$x.$localOffset=l}else a=this.utc();return a};var u=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var d=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=s.diff;s.diff=function(e,t,n){if(e&&this.$u===e.$u)return h.call(this,e,t,n);var o=this.local(),i=r(e).local();return h.call(o,i,t,n)}}}()},3847:(e,t,n)=>{n(1148)},4228:()=>{function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function t(t){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}!function(){"use strict";var e,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=Object.getPrototypeOf,s=function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},a=function(e){return function(t){return o=r(n=t),(null===n?"null":"object"===o&&Array.isArray(n)?"array":"object"===o&&s(n,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":o)===e;var n,o}},l=function(e){return function(t){return r(t)===e}},c=a("string"),u=a("object"),d=function(e){return function(e,t){return u(e)&&s(e,t,(function(e,t){return i(e)===t}))}(e,Object)},h=a("array"),f=(e=null,function(t){return e===t}),p=l("boolean"),m=function(e){return!function(e){return null==e}(e)},g=l("function"),O=l("number"),v=function(){},b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tag=t,this.value=n}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return m(t)?e.some(t):e.none()}}])}();b.singletonNone=new b(!1);var y=Object.keys,x=Object.hasOwnProperty,w=function(e,t,n,o){!function(e,t){for(var n=y(e),o=0,i=n.length;o<i;o++){var r=n[o];t(e[r],r)}}(e,(function(e,i){(t(e,i)?n:o)(e,i)}))},S=function(e,t){return x.call(e,t)},_=Array.prototype.push,k=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!h(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);_.apply(t,e[n])}return t},C=function(e){return function(e,t){return t>=0&&t<e.length?b.some(e[t]):b.none()}(e,0)};"undefined"!=typeof window?window:Function("return this;")();var T,$=function(e,t,n){!function(e,t,n){if(!(c(n)||p(n)||O(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},P=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},A={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return P(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return P(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return P(n)},fromDom:P,fromPoint:function(e,t,n){return b.from(e.dom.elementFromPoint(t,n)).map(P)}},Q=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),E=tinymce.util.Tools.resolve("tinymce.util.URI"),M=function(e){return e.length>0},D=function(e){return function(t){return t.options.get(e)}},I=function(e){var t=e.options.register;t("image_dimensions",{processor:"boolean",default:!0}),t("image_advtab",{processor:"boolean",default:!1}),t("image_uploadtab",{processor:"boolean",default:!0}),t("image_prepend_url",{processor:"string",default:""}),t("image_class_list",{processor:"object[]"}),t("image_description",{processor:"boolean",default:!0}),t("image_title",{processor:"boolean",default:!1}),t("image_caption",{processor:"boolean",default:!1}),t("image_list",{processor:function(e){var t=!1===e||c(e)||function(e,t){if(h(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1}(e,u)||g(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},R=D("image_dimensions"),z=D("image_advtab"),N=D("image_uploadtab"),L=D("image_prepend_url"),j=D("image_class_list"),V=D("image_description"),B=D("image_title"),Z=D("image_caption"),X=D("image_list"),W=D("a11y_advanced_options"),U=D("automatic_uploads"),Y=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},F=function(e){return e&&(e=e.replace(/px$/,"")),e},q=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},H=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},G=function(e,t){var n=e.options.get;return E.isDomSafe(t,"img",{allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")})},K=Q.DOM,J=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?F(e.style.marginLeft):""},ee=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?F(e.style.marginTop):""},te=function(e){return e.style.borderWidth?F(e.style.borderWidth):""},ne=function(e,t){var n;return e.hasAttribute(t)&&null!==(n=e.getAttribute(t))&&void 0!==n?n:""},oe=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},ie=function(e,t,n){""===n||null===n?e.removeAttribute(t):e.setAttribute(t,n)},re=function(e){oe(e)?function(e){var t=e.parentNode;m(t)&&(K.insertAfter(e,t),K.remove(t))}(e):function(e){var t=K.create("figure",{class:"image"});K.insertAfter(t,e),t.appendChild(e),t.appendChild(K.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"}(e)},se=function(e,t){var n=e.getAttribute("style"),o=t(null!==n?n:"");o.length>0?(e.setAttribute("style",o),e.setAttribute("data-mce-style",o)):e.removeAttribute("style")},ae=function(e,t){return function(e,n,o){var i=e.style;i[n]?(i[n]=q(o),se(e,t)):ie(e,n,o)}},le=function(e,t){return e.style[t]?F(e.style[t]):ne(e,t)},ce=function(e,t){var n=q(t);e.style.marginLeft=n,e.style.marginRight=n},ue=function(e,t){var n=q(t);e.style.marginTop=n,e.style.marginBottom=n},de=function(e,t){var n=q(t);e.style.borderWidth=n},he=function(e,t){e.style.borderStyle=t},fe=function(e){var t;return null!==(t=e.style.borderStyle)&&void 0!==t?t:""},pe=function(e){return m(e)&&"FIGURE"===e.nodeName},me=function(e){return 0===K.getAttrib(e,"alt").length&&"presentation"===K.getAttrib(e,"role")},ge=function(e){return me(e)?"":ne(e,"alt")},Oe=function(e,t){var n,o=document.createElement("img");return ie(o,"style",t.style),(J(o)||""!==t.hspace)&&ce(o,t.hspace),(ee(o)||""!==t.vspace)&&ue(o,t.vspace),(te(o)||""!==t.border)&&de(o,t.border),(fe(o)||""!==t.borderStyle)&&he(o,t.borderStyle),e(null!==(n=o.getAttribute("style"))&&void 0!==n?n:"")},ve=function(e,t){return{src:ne(t,"src"),alt:ge(t),title:ne(t,"title"),width:le(t,"width"),height:le(t,"height"),class:ne(t,"class"),style:e(ne(t,"style")),caption:oe(t),hspace:J(t),vspace:ee(t),border:te(t),borderStyle:fe(t),isDecorative:me(t)}},be=function(e,t,n,o,i){n[o]!==t[o]&&i(e,o,String(n[o]))},ye=function(e,t,n){if(n){K.setAttrib(e,"role","presentation");var o=A.fromDom(e);$(o,"alt","")}else{if(f(t)){var i=A.fromDom(e);s="alt",i.dom.removeAttribute(s)}else{var r=A.fromDom(e);$(r,"alt",t)}"presentation"===K.getAttrib(e,"role")&&K.setAttrib(e,"role","")}var s},xe=function(e,t){return function(n,o,i){e(n,i),se(n,t)}},we=function(e,t,n){var o=ve(e,n);be(n,o,t,"caption",(function(e,t,n){return re(e)})),be(n,o,t,"src",ie),be(n,o,t,"title",ie),be(n,o,t,"width",ae(0,e)),be(n,o,t,"height",ae(0,e)),be(n,o,t,"class",ie),be(n,o,t,"style",xe((function(e,t){return ie(e,"style",t)}),e)),be(n,o,t,"hspace",xe(ce,e)),be(n,o,t,"vspace",xe(ue,e)),be(n,o,t,"border",xe(de,e)),be(n,o,t,"borderStyle",xe(he,e)),function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||ye(e,n.alt,n.isDecorative)}(n,o,t)},Se=function(e,t){var n=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e}(e.dom.styles.parse(t)),o=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(o)},_e=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||H(t))?null:t},ke=function(e,t){var n,o=e.dom,i=function(e,t){var n,o={};return w(e,t,(n=o,function(e,t){n[t]=e}),v),o}(e.schema.getTextBlockElements(),(function(t,n){return!e.schema.isValidChild(n,"figure")})),r=o.getParent(t.parentNode,(function(e){return t=i,n=e.nodeName,S(t,n)&&void 0!==t[n]&&null!==t[n];var t,n}),e.getBody());return r&&null!==(n=o.split(r,t))&&void 0!==n?n:t},Ce=function(e,n){var o=function(e,n){var o=document.createElement("img");if(we(e,t(t({},n),{},{caption:!1}),o),ye(o,n.alt,n.isDecorative),n.caption){var i=K.create("figure",{class:"image"});return i.appendChild(o),i.appendChild(K.create("figcaption",{contentEditable:"true"},"Caption")),i.contentEditable="false",i}return o}((function(t){return Se(e,t)}),n);e.dom.setAttrib(o,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(o.outerHTML);var i=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(i,"data-mce-id",null),pe(i)){var r=ke(e,i);e.selection.select(r)}else e.selection.select(i)},Te=function(e,t){var n=_e(e);if(n)if(we((function(t){return Se(e,t)}),t,n),function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))}(e,n),pe(n.parentNode)){e.dom.setStyle(n,"float","");var o=n.parentNode;ke(e,o),e.selection.select(n.parentNode)}else e.selection.select(n),function(e,t,n){var o=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!R(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),o()},n.onerror=o}(e,t,n)},$e=function(e,n){var o=_e(e);if(o){var i=t(t({},ve((function(t){return Se(e,t)}),o)),n),r=function(e,n){var o=n.src;return t(t({},n),{},{src:G(e,o)?o:""})}(e,i);i.src?Te(e,r):function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}}(e,o)}else n.src&&Ce(e,t(t({},{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),n))},Pe=(T=function(e,t){return d(e)&&d(t)?Pe(e,t):t},function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var o in n)S(n,o)&&(e[o]=T(e[o],n[o]))}return e}),Ae=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ee=function(e){return c(e.value)?e.value:""},Me=function(e,t){var n=[];return Qe.each(e,(function(e){var o=function(e){return c(e.text)?e.text:c(e.title)?e.title:""}(e);if(void 0!==e.menu){var i=Me(e.menu,t);n.push({text:o,items:i})}else{var r=t(e);n.push({text:o,value:r})}})),n},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee;return function(t){return t?b.from(t).map((function(t){return Me(t,e)})):b.none()}},Ie=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return b.none()}(e,(function(e){return function(e){return S(e,"items")}(e)?Ie(e.items,t):e.value===t?b.some(e):b.none()}))},Re=De,ze=function(e){return De(Ee)(e)},Ne=function(e,t){return e.bind((function(e){return Ie(e,t)}))},Le=function(e){return{title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},je=function(e){var t=Re((function(t){return e.convertURL(t.value||t.url||"","src")})),n=new Promise((function(n){!function(e,t){var n=X(e);c(n)?fetch(n).then((function(e){e.ok&&e.json().then(t)})):g(n)?n(t):t(n)}(e,(function(e){n(t(e).map((function(e){return k([[{text:"None",value:""}],e])})))}))})),o=ze(j(e)),i=z(e),r=N(e),s=function(e){return M(e.options.get("images_upload_url"))}(e),a=function(e){return m(e.options.get("images_upload_handler"))}(e),l=function(e){var t=_e(e);return t?ve((function(t){return Se(e,t)}),t):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}(e),u=V(e),d=B(e),h=R(e),f=Z(e),p=W(e),O=U(e),v=b.some(L(e)).filter((function(e){return c(e)&&e.length>0}));return n.then((function(e){return{image:l,imageList:e,classList:o,hasAdvTab:i,hasUploadTab:r,hasUploadUrl:s,hasUploadHandler:a,hasDescription:u,hasImageTitle:d,hasDimensions:h,hasImageCaption:f,prependURL:v,hasAccessibilityOptions:p,automaticUploads:O}}))},Ve=function(e){var n,o=tinymce.activeEditor.options.get("cc_config").has_image_resize,i={name:"upload_max_filesize_caption",type:"collection",label:tinymce.activeEditor.options.get("cc_config").upload_max_filesize_caption},r=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),s={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},a={name:"resize",type:"listbox",label:"画像サイズ",items:tinymce.activeEditor.options.get("cc_config").resized_image_size_items},l=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}}));return k([[{name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"}],[i],r.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[s]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],o?[a]:[],[{name:"image_resize_caption",type:"collection",label:"※ 画像アップロード時のみ、画像サイズを指定できます。"}],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[t(t({},(n=e.classList.isSome()&&e.hasImageCaption,n?{type:"grid",columns:2}:{type:"panel"})),{},{items:k([l.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])})]])},Be=function(e){return{title:"General",name:"general",items:Ve(e)}},Ze=Ve,Xe=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},We=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative,resize:tinymce.activeEditor.options.get("cc_config").resized_image_size_initial}},Ue=function(e,t){return{src:e.src.value,alt:null!==e.alt&&0!==e.alt.length||!t?e.alt:null,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative,resize:e.resize}},Ye=function(e,t){var n=t.getData();(function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?b.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?b.some(e+t):b.none()}))})(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},Fe=function(e,t){var n=t.getData(),o=n.src.meta;if(void 0!==o){var i=Pe({},n);!function(e,t,n){e.hasDescription&&c(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&c(n.title)&&(t.title=n.title),e.hasDimensions&&(c(n.width)&&(t.dimensions.width=n.width),c(n.height)&&(t.dimensions.height=n.height)),c(n.class)&&Ne(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&p(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(c(n.style)&&(t.style=n.style),c(n.vspace)&&(t.vspace=n.vspace),c(n.border)&&(t.border=n.border),c(n.hspace)&&(t.hspace=n.hspace),c(n.borderstyle)&&(t.borderstyle=n.borderstyle))}(e,i,o),t.setData(i)}},qe=function(e,t,n,o){Ye(t,o),Fe(t,o),function(e,t,n,o){var i=o.getData(),r=i.src.value,s=i.src.meta||{},a=tinymce.activeEditor.options.get("cc_config").has_image_resize;s.width||s.height||!t.hasDimensions||(M(r)?e.imageSize(r).then((function(e){n.open&&(a||o.setData({dimensions:e}))})).catch((function(e){return console.error(e)})):o.setData({dimensions:{width:"",height:""}}))}(e,t,n,o),function(e,t,n){var o=n.getData(),i=Ne(e.imageList,o.src.value);t.prevImage=i,n.setData({images:i.map((function(e){return e.value})).getOr("")})}(t,n,o)},He=function(e,t,n,o){var i=o.getData();o.block("Uploading image"),C(i.fileinput).fold((function(){o.unblock()}),(function(i){var r,s=URL.createObjectURL(i),a=function(){o.unblock(),URL.revokeObjectURL(s)},l=function(i){o.setData({src:{value:i,meta:{}}}),o.showTab("general"),qe(e,t,n,o),o.focus("src")};(r=i,new Promise((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){var e;t(null===(e=n.error)||void 0===e?void 0:e.message)},n.readAsDataURL(r)}))).then((function(n){var r=e.createBlobCache(i,s,n);t.automaticUploads?e.uploadImage(r).then((function(e){l(e.url),a()})).catch((function(t){a(),e.alertErr(t,(function(){o.focus("fileinput")}))})):(e.addToBlobCache(r),l(r.blobUri()),o.unblock())}))}))},Ge=function(e,t,n){return function(o,i){"src"===i.name?qe(e,t,n,o):"images"===i.name?function(e,t,n,o){var i=o.getData(),r=Ne(t.imageList,i.images);r.each((function(e){var t=""===i.alt||n.prevImage.map((function(e){return e.text===i.alt})).getOr(!1);t?""===e.value?o.setData({src:e,alt:n.prevAlt}):o.setData({src:e,alt:e.text}):o.setData({src:e})})),n.prevImage=r,qe(e,t,n,o)}(e,t,n,o):"alt"===i.name?n.prevAlt=o.getData().alt:"fileinput"===i.name?He(e,t,n,o):"isDecorative"===i.name&&o.setEnabled("alt",!o.getData().isDecorative)}},Ke=function(e){return function(){e.open=!1}},Je=function(e){return e.hasAdvTab||e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?{type:"tabpanel",tabs:k([[Be(e)],e.hasAdvTab?[Le(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Xe(e)]:[]])}:{type:"panel",items:Ze(e)}},et=function(e,n,o){return function(i){var r=Pe(We(n.image),i.getData()),s=t(t({},r),{},{style:Oe(o.normalizeCss,Ue(r,!1))});e.execCommand("mceUpdateImage",!1,Ue(s,n.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),i.close()}},tt=function(e){return function(t){return G(e,t)?function(e){return new Promise((function(t){var n=document.createElement("img"),o=function(e){n.parentNode&&n.parentNode.removeChild(n),t(e)};n.addEventListener("load",(function(){var e={width:Y(n.width,n.clientWidth),height:Y(n.height,n.clientHeight)};o(Promise.resolve(e))})),n.addEventListener("error",(function(){o(Promise.reject("Failed to get image dimensions for: ".concat(e)))}));var i=n.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",document.body.appendChild(n),n.src=e}))}(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}})):Promise.resolve({width:"",height:""})}},nt=function(e){return function(t,n,o){var i;return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:null===(i=t.name)||void 0===i?void 0:i.replace(/\.[^\.]+$/,""),filename:t.name,base64:o.split(",")[1]})}},ot=function(e){return function(t){e.editorUpload.blobCache.add(t)}},it=function(e){return function(t,n){e.windowManager.alert(t,n)}},rt=function(e){return function(t){return Se(e,t)}},st=function(e){return function(t){return e.dom.parseStyle(t)}},at=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},lt=function(e){return function(t){return Ae(e).upload([t],!1).then((function(e){var t;return 0===e.length?Promise.reject("Failed to upload image"):!1===e[0].status?Promise.reject(null===(t=e[0].error)||void 0===t?void 0:t.message):e[0]}))}},ct=function(e){var t={imageSize:tt(e),addToBlobCache:ot(e),createBlobCache:nt(e),alertErr:it(e),normalizeCss:rt(e),parseStyle:st(e),serializeStyle:at(e),uploadImage:lt(e)};return{open:function(){je(e).then((function(n){var o=function(e){return{prevImage:Ne(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}}(n);return{title:"Insert/Edit Image",size:"normal",body:Je(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:We(n.image),onSubmit:et(e,n,t),onChange:Ge(t,n,o),onClose:Ke(o)}})).then(e.windowManager.open)}}},ut=function(e){var t=e.attr("class");return m(t)&&/\bimage\b/.test(t)},dt=function(e){return function(t){for(var n=t.length,o=function(t){t.attr("contenteditable",e?"true":null)};n--;){var i=t[n];ut(i)&&(i.attr("contenteditable",e?"false":null),Qe.each(i.getAll("figcaption"),o))}}},ht=function(e){return function(t){var n=function(){t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),function(){e.off("NodeChange",n)}}};n.add("image",(function(e){I(e),function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",dt(!0)),e.serializer.addNodeFilter("figure",dt(!1))}))}(e),function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ct(e).open,onSetup:function(t){t.setActive(m(_e(e)));var n=e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind,o=ht(e)(t);return function(){n(),o()}}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ct(e).open,onSetup:ht(e)}),e.ui.registry.addContextMenu("image",{update:function(t){return e.selection.isEditable()&&(pe(t)||"IMG"===t.nodeName&&!H(t))?["image"]:[]}})}(e),function(e){e.addCommand("mceImage",ct(e).open),e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){return $e(e,n)}))}))}(e)}))}()},4353:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,o="millisecond",i="second",r="minute",s="hour",a="day",l="week",c="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},O=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},v={s:O,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+O(o,2,"0")+":"+O(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(o,c),r=n-i<0,s=t.clone().add(o+(r?-1:1),c);return+(-(o+(n-i)/(r?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:h,h:s,m:r,s:i,ms:o,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=g;var x="$isDayjsObject",w=function(e){return e instanceof C||!(!e||!e[x])},S=function e(t,n,o){var i;if(!t)return b;if("string"==typeof t){var r=t.toLowerCase();y[r]&&(i=r),n&&(y[r]=n,i=r);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;y[a]=t,i=a}return!o&&i&&(b=i),i||!o&&b},_=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},k=v;k.l=S,k.i=w,k.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var O=g.prototype;return O.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(p);if(o){var i=o[2]-1||0,r=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)):new Date(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)}}return new Date(t)}(e),this.init()},O.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},O.$utils=function(){return k},O.isValid=function(){return!(this.$d.toString()===f)},O.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},O.isAfter=function(e,t){return _(e)<this.startOf(t)},O.isBefore=function(e,t){return this.endOf(t)<_(e)},O.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(e,t){var n=this,o=!!k.u(t)||t,u=k.p(e),f=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?i:i.endOf(a)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,O=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case d:return o?f(1,0):f(31,11);case c:return o?f(1,g):f(0,g+1);case l:var b=this.$locale().weekStart||0,y=(m<b?m+7:m)-b;return f(o?O-y:O+(6-y),g);case a:case h:return p(v+"Hours",0);case s:return p(v+"Minutes",1);case r:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},O.endOf=function(e){return this.startOf(e,!1)},O.$set=function(e,t){var n,l=k.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[r]=u+"Minutes",n[i]=u+"Seconds",n[o]=u+"Milliseconds",n)[l],p=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},O.set=function(e,t){return this.clone().$set(e,t)},O.get=function(e){return this[k.p(e)]()},O.add=function(o,u){var h,f=this;o=Number(o);var p=k.p(u),m=function(e){var t=_(f);return k.w(t.date(t.date()+Math.round(e*o)),f)};if(p===c)return this.set(c,this.$M+o);if(p===d)return this.set(d,this.$y+o);if(p===a)return m(1);if(p===l)return m(7);var g=(h={},h[r]=t,h[s]=n,h[i]=e,h)[p]||1,O=this.$d.getTime()+o*g;return k.w(O,this)},O.subtract=function(e,t){return this.add(-1*e,t)},O.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var o=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),r=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,r){return e&&(e[n]||e(t,o))||i[n].slice(0,r)},h=function(e){return k.s(r%12||12,e,"0")},p=u||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o};return o.replace(m,(function(e,o){return o||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return a+1;case"MM":return k.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,c,3);case"MMMM":return d(c,a);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(r);case"HH":return k.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(r,s,!0);case"A":return p(r,s,!1);case"m":return String(s);case"mm":return k.s(s,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(o,h,f){var p,m=this,g=k.p(h),O=_(o),v=(O.utcOffset()-this.utcOffset())*t,b=this-O,y=function(){return k.m(m,O)};switch(g){case d:p=y()/12;break;case c:p=y();break;case u:p=y()/3;break;case l:p=(b-v)/6048e5;break;case a:p=(b-v)/864e5;break;case s:p=b/n;break;case r:p=b/t;break;case i:p=b/e;break;default:p=b}return f?p:k.a(p)},O.daysInMonth=function(){return this.endOf(c).$D},O.$locale=function(){return y[this.$L]},O.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=S(e,t,!0);return o&&(n.$L=o),n},O.clone=function(){return k.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},g}(),T=C.prototype;return _.prototype=T,[["$ms",o],["$s",i],["$m",r],["$H",s],["$W",a],["$M",c],["$y",d],["$D",h]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,C,_),e.$i=!0),_},_.locale=S,_.isDayjs=w,_.unix=function(e){return _(1e3*e)},_.en=y[b],_.Ls=y,_.p={},_}()},4634:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},4665:()=>{tinymce.PluginManager.add("translate",(function(e,t){function n(t){if(String(t).match(/^(&|#)/))void 0!==(n=t.match(/^(&|#)(\w+)\((.*)\)([\s\S]*)?/))[4]&&n[4].match(/;$/)&&(n[4]=n[4].replace(/;$/g,""));else var n=new Array("","","","","");tinymce.activeEditor.windowManager.open({title:"翻訳",width:600,height:250,body:{type:"panel",items:[{type:"textarea",name:"inline_text",label:"",maximized:!0},{type:"selectbox",name:"target_language",label:"翻訳後の言語",size:1,items:[{value:"en",text:"英語"},{value:"pt",text:"ポルトガル語"},{value:"vi",text:"ベトナム語"},{value:"fr",text:"フランス語"},{value:"de",text:"ドイツ語"},{value:"es",text:"スペイン語"},{value:"zh",text:"中国語 (簡体字)"},{value:"zh-TW",text:"中国語 (繁体字)"},{value:"ko",text:"韓国語"},{value:"tl",text:"タガログ語"}]}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"翻訳",primary:!0}],initialData:{inline_text:e.selection.getContent()},onSubmit:function(t){var n=t.getData();xhr=new XMLHttpRequest,xhr.withCredentials=!1,xhr.open("POST",tinymce.activeEditor.getParam("document_base_url")+"/api/translate/post"),xhr.onload=function(){var o;if(xhr.status<200||xhr.status>=300)console.error("HTTP Error: "+xhr.status);else{for(var i in(o=JSON.parse(xhr.responseText)).return_texts)n.inline_text?e.insertContent("<p>"+n.inline_text+"<br />"+o.return_texts[i]+"</p>"):e.insertContent("<p>"+o.return_texts[i]+"</p>");t.close()}};var o=document.getElementsByName("csrf-token");formData=new FormData,formData.append("_token",o[0].content),formData.append("inline_text",n.inline_text),formData.append("target_language",n.target_language),xhr.send(formData)}}),textarea=jQuery(".tox-textarea")[0],textarea.setAttribute("style","min-height: 220px;")}e.ui.registry.addIcon("translate",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" width="24" height="24">\x3c!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M0 128C0 92.7 28.7 64 64 64l192 0 48 0 16 0 256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64l-256 0-16 0-48 0L64 448c-35.3 0-64-28.7-64-64L0 128zm320 0l0 256 256 0 0-256-256 0zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1 .1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1 73.6 0 8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2L179 276l-38 0 19-42.8zM448 164c11 0 20 9 20 20l0 4 44 0 16 0c11 0 20 9 20 20s-9 20-20 20l-2 0-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4c.9 .6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9l-18.9-11.3c-4.5-2.7-8.8-5.5-13.1-8.5c-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8l-12.2-12.2c-7.8-7.8-7.8-20.5 0-28.3s20.5-7.8 28.3 0l14.6 14.6 .5 .5c12.4-13.1 22.5-28.3 29.8-45L448 228l-72 0c-11 0-20-9-20-20s9-20 20-20l52 0 0-4c0-11 9-20 20-20z"/></svg>'),e.ui.registry.addButton("translate",{icon:"translate",tooltip:"翻訳",onAction:n,onPostRender:function(){var t=this;e.on("NodeChange",(function(n){var o=jQuery(e.selection.getNode()).hasClass("plugin");t.active(o)})),e.on("DblClick",(function(e){"plugin"==e.target.className&&n(e.toElement.innerText)}))}})}))},4692:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(o,i){"use strict";var r=[],s=Object.getPrototypeOf,a=r.slice,l=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},c=r.push,u=r.indexOf,d={},h=d.toString,f=d.hasOwnProperty,p=f.toString,m=p.call(Object),g={},O=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},b=o.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var o,i,r=(n=n||b).createElement("script");if(r.text=e,t)for(o in y)(i=t[o]||t.getAttribute&&t.getAttribute(o))&&r.setAttribute(o,i);n.head.appendChild(r).parentNode.removeChild(r)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e}var S="3.7.1",_=/HTML$/i,k=function(e,t){return new k.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!O(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}k.fn=k.prototype={jquery:S,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:r.sort,splice:r.splice},k.extend=k.fn.extend=function(){var e,t,n,o,i,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||O(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)o=e[t],"__proto__"!==t&&s!==o&&(c&&o&&(k.isPlainObject(o)||(i=Array.isArray(o)))?(n=s[t],r=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,s[t]=k.extend(c,r,o)):void 0!==o&&(s[t]=o));return s},k.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=s(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(C(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},text:function(e){var t,n="",o=0,i=e.nodeType;if(!i)for(;t=e[o++];)n+=k.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!_.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,r=e.length,s=!n;i<r;i++)!t(e[i],i)!==s&&o.push(e[i]);return o},map:function(e,t,n){var o,i,r=0,s=[];if(C(e))for(o=e.length;r<o;r++)null!=(i=t(e[r],r,n))&&s.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=r[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var $=r.pop,P=r.sort,A=r.splice,Q="[\\x20\\t\\r\\n\\f]",E=new RegExp("^"+Q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Q+"+$","g");k.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var M=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function D(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}k.escapeSelector=function(e){return(e+"").replace(M,D)};var I=b,R=c;!function(){var e,t,n,i,s,l,c,d,h,p,m=R,O=k.expando,v=0,b=0,y=ee(),x=ee(),w=ee(),S=ee(),_=function(e,t){return e===t&&(s=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="(?:\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",D="\\["+Q+"*("+M+")(?:"+Q+"*([*^$|!~]?=)"+Q+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+Q+"*\\]",z=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+D+")*)|.*)\\)|)",N=new RegExp(Q+"+","g"),L=new RegExp("^"+Q+"*,"+Q+"*"),j=new RegExp("^"+Q+"*([>+~]|"+Q+")"+Q+"*"),V=new RegExp(Q+"|>"),B=new RegExp(z),Z=new RegExp("^"+M+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+D),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Q+"*(even|odd|(([+-]|)(\\d*)n|)"+Q+"*(?:([+-]|)"+Q+"*(\\d+)|))"+Q+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+Q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Q+"*((?:-\\d)?\\d*)"+Q+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,F=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\([^\\r\\n\\f])","g"),H=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},G=function(){le()},K=he((function(e){return!0===e.disabled&&T(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(r=a.call(I.childNodes),I.childNodes),r[I.childNodes.length].nodeType}catch(e){m={apply:function(e,t){R.apply(e,a.call(t))},call:function(e){R.apply(e,a.call(arguments,1))}}}function J(e,t,n,o){var i,r,s,a,c,u,f,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!o&&(le(t),t=t||l,d)){if(11!==v&&(c=Y.exec(e)))if(i=c[1]){if(9===v){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(p&&(s=p.getElementById(i))&&J.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!(S[e+" "]||h&&h.test(e))){if(f=e,p=t,1===v&&(V.test(e)||j.test(e))){for((p=F.test(e)&&ae(t.parentNode)||t)==t&&g.scope||((a=t.getAttribute("id"))?a=k.escapeSelector(a):t.setAttribute("id",a=O)),r=(u=ue(e)).length;r--;)u[r]=(a?"#"+a:":scope")+" "+de(u[r]);f=u.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(t){S(e,!0)}finally{a===O&&t.removeAttribute("id")}}}return ve(e.replace(E,"$1"),t,n,o)}function ee(){var e=[];return function n(o,i){return e.push(o+" ")>t.cacheLength&&delete n[e.shift()],n[o+" "]=i}}function te(e){return e[O]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(e){return function(t){return T(t,"input")&&t.type===e}}function ie(e){return function(t){return(T(t,"input")||T(t,"button"))&&t.type===e}}function re(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&K(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,o){for(var i,r=e([],n.length,t),s=r.length;s--;)n[i=r[s]]&&(n[i]=!(o[i]=n[i]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,o=e?e.ownerDocument||e:I;return o!=l&&9===o.nodeType&&o.documentElement?(c=(l=o).documentElement,d=!k.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&I!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",G),g.getById=ne((function(e){return c.appendChild(e).id=k.expando,!l.getElementsByName||!l.getElementsByName(k.expando).length})),g.disconnectedMatch=ne((function(e){return p.call(e,"*")})),g.scope=ne((function(){return l.querySelectorAll(":scope")})),g.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),g.getById?(t.filter.ID=function(e){var t=e.replace(q,H);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&d){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,H);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&d){var n,o,i,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(i=t.getElementsByName(e),o=0;r=i[o++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&d)return t.getElementsByClassName(e)},h=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+O+"' href='' disabled='disabled'></a><select id='"+O+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+Q+"*(?:value|"+C+")"),e.querySelectorAll("[id~="+O+"-]").length||h.push("~="),e.querySelectorAll("a#"+O+"+*").length||h.push(".#.+[+~]"),e.querySelectorAll(":checked").length||h.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||h.push("\\["+Q+"*name"+Q+"*="+Q+"*(?:''|\"\")")})),g.cssHas||h.push(":has"),h=h.length&&new RegExp(h.join("|")),_=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==I&&J.contains(I,e)?-1:t===l||t.ownerDocument==I&&J.contains(I,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in J.matches=function(e,t){return J(e,null,null,t)},J.matchesSelector=function(e,t){if(le(e),d&&!S[t+" "]&&(!h||!h.test(t)))try{var n=p.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){S(t,!0)}return J(t,l,null,[e]).length>0},J.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),k.contains(e,t)},J.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var o=t.attrHandle[n.toLowerCase()],i=o&&f.call(t.attrHandle,n.toLowerCase())?o(e,n,!d):void 0;return void 0!==i?i:e.getAttribute(n)},J.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k.uniqueSort=function(e){var t,n=[],o=0,r=0;if(s=!g.sortStable,i=!g.sortStable&&a.call(e,0),P.call(e,_),s){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)A.call(e,n[o],1)}return i=null,e},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(a.apply(this)))},t=k.expr={cacheLength:50,createPseudo:te,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,H),e[3]=(e[3]||e[4]||e[5]||"").replace(q,H),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||J.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&J.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&B.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,H).toLowerCase();return"*"===e?function(){return!0}:function(e){return T(e,t)}},CLASS:function(e){var t=y[e+" "];return t||(t=new RegExp("(^|"+Q+")"+e+"("+Q+"|$)"))&&y(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var i=J.attr(o,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(N," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,i){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p=r!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(r){for(;p;){for(d=t;d=d[p];)if(a?T(d,g):1===d.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(y=(h=(c=(u=m[O]||(m[O]={}))[e]||[])[0]===v&&c[1])&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[p]||(y=h=0)||f.pop();)if(1===d.nodeType&&++y&&d===t){u[e]=[v,h,y];break}}else if(b&&(y=h=(c=(u=t[O]||(t[O]={}))[e]||[])[0]===v&&c[1]),!1===y)for(;(d=++h&&d&&d[p]||(y=h=0)||f.pop())&&(!(a?T(d,g):1===d.nodeType)||!++y||(b&&((u=d[O]||(d[O]={}))[e]=[v,y]),d!==t)););return(y-=i)===o||y%o==0&&y/o>=0}}},PSEUDO:function(e,n){var o,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||J.error("unsupported pseudo: "+e);return i[O]?i(n):i.length>1?(o=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var o,r=i(e,n),s=r.length;s--;)e[o=u.call(e,r[s])]=!(t[o]=r[s])})):function(e){return i(e,0,o)}):i}},pseudos:{not:te((function(e){var t=[],n=[],o=Oe(e.replace(E,"$1"));return o[O]?te((function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))})):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return J(e,t).length>0}})),contains:te((function(e){return e=e.replace(q,H),function(t){return(t.textContent||k.text(t)).indexOf(e)>-1}})),lang:te((function(e){return Z.test(e||"")||J.error("unsupported lang: "+e),e=e.replace(q,H).toLowerCase(),function(t){var n;do{if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=o.location&&o.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:re(!1),disabled:re(!0),checked:function(e){return T(e,"input")&&!!e.checked||T(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return U.test(e.nodeName)},input:function(e){return W.test(e.nodeName)},button:function(e){return T(e,"input")&&"button"===e.type||T(e,"button")},text:function(e){var t;return T(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var o;for(o=n<0?n+t:n>t?t:n;--o>=0;)e.push(o);return e})),gt:se((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=oe(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var o,i,r,s,a,l,c,u=x[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in o&&!(i=L.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),o=!1,(i=j.exec(a))&&(o=i.shift(),r.push({value:o,type:i[0].replace(E," ")}),a=a.slice(o.length)),t.filter)!(i=X[s].exec(a))||c[s]&&!(i=c[s](i))||(o=i.shift(),r.push({value:o,type:s,matches:i}),a=a.slice(o.length));if(!o)break}return n?a.length:a?J.error(e):x(e,l).slice(0)}function de(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function he(e,t,n){var o=t.dir,i=t.next,r=i||o,s=n&&"parentNode"===r,a=b++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,d=[v,a];if(l){for(;t=t[o];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||s)if(u=t[O]||(t[O]={}),i&&T(t,i))t=t[o]||t;else{if((c=u[r])&&c[0]===v&&c[1]===a)return d[2]=c[2];if(u[r]=d,d[2]=e(t,n,l))return!0}return!1}}function fe(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function pe(e,t,n,o,i){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,o,i)||(s.push(r),c&&t.push(a)));return s}function me(e,t,n,o,i,r){return o&&!o[O]&&(o=me(o)),i&&!i[O]&&(i=me(i,r)),te((function(r,s,a,l){var c,d,h,f,p=[],g=[],O=s.length,v=r||function(e,t,n){for(var o=0,i=t.length;o<i;o++)J(e,t[o],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!r&&t?v:pe(v,p,e,a,l);if(n?n(b,f=i||(r?e:O||o)?[]:s,a,l):f=b,o)for(c=pe(f,g),o(c,[],a,l),d=c.length;d--;)(h=c[d])&&(f[g[d]]=!(b[g[d]]=h));if(r){if(i||e){if(i){for(c=[],d=f.length;d--;)(h=f[d])&&c.push(b[d]=h);i(null,f=[],c,l)}for(d=f.length;d--;)(h=f[d])&&(c=i?u.call(r,h):p[d])>-1&&(r[c]=!(s[c]=h))}}else f=pe(f===s?f.splice(O,f.length):f),i?i(null,s,f,l):m.apply(s,f)}))}function ge(e){for(var o,i,r,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,d=he((function(e){return e===o}),l,!0),h=he((function(e){return u.call(o,e)>-1}),l,!0),f=[function(e,t,i){var r=!a&&(i||t!=n)||((o=t).nodeType?d(e,t,i):h(e,t,i));return o=null,r}];c<s;c++)if(i=t.relative[e[c].type])f=[he(fe(f),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[O]){for(r=++c;r<s&&!t.relative[e[r].type];r++);return me(c>1&&fe(f),c>1&&de(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(E,"$1"),i,c<r&&ge(e.slice(c,r)),r<s&&ge(e=e.slice(r)),r<s&&de(e))}f.push(i)}return fe(f)}function Oe(e,o){var i,r=[],s=[],a=w[e+" "];if(!a){for(o||(o=ue(e)),i=o.length;i--;)(a=ge(o[i]))[O]?r.push(a):s.push(a);a=w(e,function(e,o){var i=o.length>0,r=e.length>0,s=function(s,a,c,u,h){var f,p,g,O=0,b="0",y=s&&[],x=[],w=n,S=s||r&&t.find.TAG("*",h),_=v+=null==w?1:Math.random()||.1,C=S.length;for(h&&(n=a==l||a||h);b!==C&&null!=(f=S[b]);b++){if(r&&f){for(p=0,a||f.ownerDocument==l||(le(f),c=!d);g=e[p++];)if(g(f,a||l,c)){m.call(u,f);break}h&&(v=_)}i&&((f=!g&&f)&&O--,s&&y.push(f))}if(O+=b,i&&b!==O){for(p=0;g=o[p++];)g(y,x,a,c);if(s){if(O>0)for(;b--;)y[b]||x[b]||(x[b]=$.call(u));x=pe(x)}m.apply(u,x),h&&!s&&x.length>0&&O+o.length>1&&k.uniqueSort(u)}return h&&(v=_,n=w),y};return i?te(s):s}(s,r)),a.selector=e}return a}function ve(e,n,o,i){var r,s,a,l,c,u="function"==typeof e&&e,h=!i&&ue(e=u.selector||e);if(o=o||[],1===h.length){if((s=h[0]=h[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&d&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(q,H),n)||[])[0]))return o;u&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(r=X.needsContext.test(e)?0:s.length;r--&&(a=s[r],!t.relative[l=a.type]);)if((c=t.find[l])&&(i=c(a.matches[0].replace(q,H),F.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(r,1),!(e=i.length&&de(s)))return m.apply(o,i),o;break}}return(u||Oe(e,h))(i,n,!d,o,!n||F.test(e)&&ae(n.parentNode)||n),o}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=O.split("").sort(_).join("")===O,le(),g.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),k.find=J,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,J.compile=Oe,J.select=ve,J.setDocument=le,J.tokenize=ue,J.escape=k.escapeSelector,J.getText=k.text,J.isXML=k.isXMLDoc,J.selectors=k.expr,J.support=k.support,J.uniqueSort=k.uniqueSort}();var z=function(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;o.push(e)}return o},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},L=k.expr.match.needsContext,j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(e,t,n){return O(t)?k.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?k.find.matchesSelector(o,e)?[o]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,o=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<o;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)k.find(e,i[t],n);return o>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(V(this,e||[],!1))},not:function(e){return this.pushStack(V(this,e||[],!0))},is:function(e){return!!V(this,"string"==typeof e&&L.test(e)?k(e):e||[],!1).length}});var B,Z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||B,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Z.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),j.test(o[1])&&k.isPlainObject(t))for(o in t)O(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=b.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):O(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,B=k(b);var X=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};function U(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,i=this.length,r=[],s="string"!=typeof e&&k(e);if(!L.test(e))for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?k.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return z(e,"parentNode")},parentsUntil:function(e,t,n){return z(e,"parentNode",n)},next:function(e){return U(e,"nextSibling")},prev:function(e){return U(e,"previousSibling")},nextAll:function(e){return z(e,"nextSibling")},prevAll:function(e){return z(e,"previousSibling")},nextUntil:function(e,t,n){return z(e,"nextSibling",n)},prevUntil:function(e,t,n){return z(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,o){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=k.filter(o,i)),this.length>1&&(W[e]||k.uniqueSort(i),X.test(e)&&i.reverse()),this.pushStack(i)}}));var Y=/[^\x20\t\r\n\f]+/g;function F(e){return e}function q(e){throw e}function H(e,t,n,o){var i;try{e&&O(i=e.promise)?i.call(e).done(t).fail(n):e&&O(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(Y)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,o,i,r=[],s=[],a=-1,l=function(){for(i=i||e.once,o=t=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)!1===r[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,i&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(a=r.length-1,s.push(n)),function t(n){k.each(n,(function(n,o){O(o)?e.unique&&c.has(o)||r.push(o):o&&o.length&&"string"!==w(o)&&t(o)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--})),this},has:function(e){return e?k.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return i=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return i=s=[],n||t||(r=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,o){var i=O(e[o[4]])&&e[o[4]];r[o[1]]((function(){var e=i&&i.apply(this,arguments);e&&O(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var r=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var o,c;if(!(e<r)){if((o=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=o&&("object"==typeof o||"function"==typeof o)&&o.then,O(c)?i?c.call(o,s(r,t,F,i),s(r,t,q,i)):(r++,c.call(o,s(r,t,F,i),s(r,t,q,i),s(r,t,F,t.notifyWith))):(n!==F&&(a=void 0,l=[o]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(o){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(o,u.error),e+1>=r&&(n!==q&&(a=void 0,l=[o]),t.rejectWith(a,l))}};e?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),o.setTimeout(u))}}return k.Deferred((function(o){t[0][3].add(s(0,o,O(i)?i:F,o.notifyWith)),t[1][3].add(s(0,o,O(e)?e:F)),t[2][3].add(s(0,o,O(n)?n:q))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},r={};return k.each(t,(function(e,o){var s=o[2],a=o[5];i[o[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(o[3].fire),r[o[0]]=function(){return r[o[0]+"With"](this===r?void 0:this,arguments),this},r[o[0]+"With"]=s.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,o=Array(n),i=a.call(arguments),r=k.Deferred(),s=function(e){return function(n){o[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||r.resolveWith(o,i)}};if(t<=1&&(H(e,r.done(s(n)).resolve,r.reject,!t),"pending"===r.state()||O(i[n]&&i[n].then)))return r.then();for(;n--;)H(i[n],s(n),r.reject);return r.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){o.console&&o.console.warn&&e&&G.test(e.name)&&o.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){o.setTimeout((function(){throw e}))};var K=k.Deferred();function J(){b.removeEventListener("DOMContentLoaded",J),o.removeEventListener("load",J),k.ready()}k.fn.ready=function(e){return K.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||K.resolveWith(b,[k]))}}),k.ready.then=K.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?o.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",J),o.addEventListener("load",J));var ee=function(e,t,n,o,i,r,s){var a=0,l=e.length,c=null==n;if("object"===w(n))for(a in i=!0,n)ee(e,t,a,n[a],!0,r,s);else if(void 0!==o&&(i=!0,O(o)||(s=!0),c&&(s?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;a<l;a++)t(e[a],n,s?o:o.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):r},te=/^-ms-/,ne=/-([a-z])/g;function oe(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,oe)}var re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=k.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(o in t)i[ie(o)]=t[o];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in o?[t]:t.match(Y)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||k.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var ae=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function de(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}le.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,o,i,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(i=le.get(r),1===r.nodeType&&!ae.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(o=s[n].name).indexOf("data-")&&(o=ie(o.slice(5)),de(r,o,i[o]));ae.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=le.get(r,e))||void 0!==(n=de(r,e))?n:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=ae.get(e,t),n&&(!o||Array.isArray(n)?o=ae.access(e,t,k.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),o=n.length,i=n.shift(),r=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,(function(){k.dequeue(e,t)}),r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:k.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=k.Deferred(),r=this,s=this.length,a=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae.get(r[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(t)}});var he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],me=b.documentElement,ge=function(e){return k.contains(e.ownerDocument,e)},Oe={composed:!0};me.getRootNode&&(ge=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(Oe)===e.ownerDocument});var ve=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===k.css(e,"display")};function be(e,t,n,o){var i,r,s=20,a=o?function(){return o.cur()}:function(){return k.css(e,t,"")},l=a(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&fe.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)k.style(e,t,u+c),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),u/=r;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=u,o.end=i)),i}var ye={};function xe(e){var t,n=e.ownerDocument,o=e.nodeName,i=ye[o];return i||(t=n.body.appendChild(n.createElement(o)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ye[o]=i,i)}function we(e,t){for(var n,o,i=[],r=0,s=e.length;r<s;r++)(o=e[r]).style&&(n=o.style.display,t?("none"===n&&(i[r]=ae.get(o,"display")||null,i[r]||(o.style.display="")),""===o.style.display&&ve(o)&&(i[r]=xe(o))):"none"!==n&&(i[r]="none",ae.set(o,"display",n)));for(r=0;r<s;r++)null!=i[r]&&(e[r].style.display=i[r]);return e}k.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ve(this)?k(this).show():k(this).hide()}))}});var Se,_e,ke=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Te=/^$|^module$|\/(?:java|ecma)script/i;Se=b.createDocumentFragment().appendChild(b.createElement("div")),(_e=b.createElement("input")).setAttribute("type","radio"),_e.setAttribute("checked","checked"),_e.setAttribute("name","t"),Se.appendChild(_e),g.checkClone=Se.cloneNode(!0).cloneNode(!0).lastChild.checked,Se.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!Se.cloneNode(!0).lastChild.defaultValue,Se.innerHTML="<option></option>",g.option=!!Se.lastChild;var $e={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Pe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?k.merge([e],n):n}function Ae(e,t){for(var n=0,o=e.length;n<o;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}$e.tbody=$e.tfoot=$e.colgroup=$e.caption=$e.thead,$e.th=$e.td,g.option||($e.optgroup=$e.option=[1,"<select multiple='multiple'>","</select>"]);var Qe=/<|&#?\w+;/;function Ee(e,t,n,o,i){for(var r,s,a,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((r=e[f])||0===r)if("object"===w(r))k.merge(h,r.nodeType?[r]:r);else if(Qe.test(r)){for(s=s||d.appendChild(t.createElement("div")),a=(Ce.exec(r)||["",""])[1].toLowerCase(),l=$e[a]||$e._default,s.innerHTML=l[1]+k.htmlPrefilter(r)+l[2],u=l[0];u--;)s=s.lastChild;k.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(r));for(d.textContent="",f=0;r=h[f++];)if(o&&k.inArray(r,o)>-1)i&&i.push(r);else if(c=ge(r),s=Pe(d.appendChild(r),"script"),c&&Ae(s),n)for(u=0;r=s[u++];)Te.test(r.type||"")&&n.push(r);return d}var Me=/^([^.]*)(?:\.(.+)|)/;function De(){return!0}function Ie(){return!1}function Re(e,t,n,o,i,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(o=o||n,n=void 0),t)Re(e,a,n,o,t[a],r);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=Ie;else if(!i)return e;return 1===r&&(s=i,i=function(e){return k().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,o,n)}))}function ze(e,t,n){n?(ae.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,o=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(o)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),ae.set(this,t,o),this[t](),n=ae.get(this,t),ae.set(this,t,!1),o!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else o&&(ae.set(this,t,k.event.trigger(o[0],o.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=De)}})):void 0===ae.get(e,t)&&k.event.add(e,t,De)}k.event={global:{},add:function(e,t,n,o,i){var r,s,a,l,c,u,d,h,f,p,m,g=ae.get(e);if(re(e))for(n.handler&&(n=(r=n).handler,i=r.selector),i&&k.find.matchesSelector(me,i),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Y)||[""]).length;c--;)f=m=(a=Me.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=k.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=k.event.special[f]||{},u=k.extend({type:f,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},r),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,o,p,s)||e.addEventListener&&e.addEventListener(f,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,u):h.push(u),k.event.global[f]=!0)},remove:function(e,t,n,o,i){var r,s,a,l,c,u,d,h,f,p,m,g=ae.hasData(e)&&ae.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Y)||[""]).length;c--;)if(f=m=(a=Me.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=k.event.special[f]||{},h=l[f=(o?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)u=h[r],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||k.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)k.event.remove(e,f+t[c],n,o,!0);k.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,r,s,a=new Array(arguments.length),l=k.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=k.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(o=((k.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,o,i,r,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[i=(o=t[n]).selector+" "]&&(s[i]=o.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),s[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:O(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ke.test(t.type)&&t.click&&T(t,"input")&&ze(t,"click",!0),!1},trigger:function(e){var t=this||e;return ke.test(t.type)&&t.click&&T(t,"input")&&ze(t,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&T(t,"input")&&ae.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?De:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=De,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=De,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=De,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(b.documentMode){var n=ae.get(this,"handle"),o=k.event.fix(e);o.type="focusin"===e.type?"focus":"blur",o.isSimulated=!0,n(e),o.target===o.currentTarget&&n(o)}else k.event.simulate(t,e.target,k.event.fix(e))}k.event.special[e]={setup:function(){var o;if(ze(this,e,!0),!b.documentMode)return!1;(o=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(o||0)+1)},trigger:function(){return ze(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},k.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,i=b.documentMode?this:o,r=ae.get(i,t);r||(b.documentMode?this.addEventListener(t,n):o.addEventListener(e,n,!0)),ae.set(i,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=b.documentMode?this:o,r=ae.get(i,t)-1;r?ae.set(i,t,r):(b.documentMode?this.removeEventListener(t,n):o.removeEventListener(e,n,!0),ae.remove(i,t))}}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=e.relatedTarget,i=e.handleObj;return o&&(o===this||k.contains(this,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,o){return Re(this,e,t,n,o)},one:function(e,t,n,o){return Re(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,k(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each((function(){k.event.remove(this,e,n,t)}))}});var Ne=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ve(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Xe(e,t){var n,o,i,r,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,o=a[i].length;n<o;n++)k.event.add(t,i,a[i][n]);le.hasData(e)&&(r=le.access(e),s=k.extend({},r),le.set(t,s))}}function We(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ue(e,t,n,o){t=l(t);var i,r,s,a,c,u,d=0,h=e.length,f=h-1,p=t[0],m=O(p);if(m||h>1&&"string"==typeof p&&!g.checkClone&&Le.test(p))return e.each((function(i){var r=e.eq(i);m&&(t[0]=p.call(this,i,r.html())),Ue(r,t,n,o)}));if(h&&(r=(i=Ee(t,e[0].ownerDocument,!1,e,o)).firstChild,1===i.childNodes.length&&(i=r),r||o)){for(a=(s=k.map(Pe(i,"script"),Be)).length;d<h;d++)c=i,d!==f&&(c=k.clone(c,!0,!0),a&&k.merge(s,Pe(c,"script"))),n.call(e[d],c,d);if(a)for(u=s[s.length-1].ownerDocument,k.map(s,Ze),d=0;d<a;d++)c=s[d],Te.test(c.type||"")&&!ae.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):x(c.textContent.replace(je,""),c,u))}return e}function Ye(e,t,n){for(var o,i=t?k.filter(t,e):e,r=0;null!=(o=i[r]);r++)n||1!==o.nodeType||k.cleanData(Pe(o)),o.parentNode&&(n&&ge(o)&&Ae(Pe(o,"script")),o.parentNode.removeChild(o));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,i,r,s,a=e.cloneNode(!0),l=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(s=Pe(a),o=0,i=(r=Pe(e)).length;o<i;o++)We(r[o],s[o]);if(t)if(n)for(r=r||Pe(e),s=s||Pe(a),o=0,i=r.length;o<i;o++)Xe(r[o],s[o]);else Xe(e,a);return(s=Pe(a,"script")).length>0&&Ae(s,!l&&Pe(e,"script")),a},cleanData:function(e){for(var t,n,o,i=k.event.special,r=0;void 0!==(n=e[r]);r++)if(re(n)){if(t=n[ae.expando]){if(t.events)for(o in t.events)i[o]?k.event.remove(n,o):k.removeEvent(n,o,t.handle);n[ae.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Ye(this,e,!0)},remove:function(e){return Ye(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ue(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ve(this,e).appendChild(e)}))},prepend:function(){return Ue(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ve(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!$e[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ue(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Pe(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,o=[],i=k(e),r=i.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),k(i[s])[t](n),c.apply(o,n.get());return this.pushStack(o)}}));var Fe=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),qe=/^--/,He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=o),t.getComputedStyle(e)},Ge=function(e,t,n){var o,i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in o=n.call(e),t)e.style[i]=r[i];return o},Ke=new RegExp(pe.join("|"),"i");function Je(e,t,n){var o,i,r,s,a=qe.test(t),l=e.style;return(n=n||He(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(E,"$1")||void 0),""!==s||ge(e)||(s=k.style(e,t)),!g.pixelBoxStyles()&&Fe.test(s)&&Ke.test(t)&&(o=l.width,i=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=o,l.minWidth=i,l.maxWidth=r)),void 0!==s?s+"":s}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(c).appendChild(u);var e=o.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",r=12===t(u.offsetWidth/3),me.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,r,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=o.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],nt=b.createElement("div").style,ot={};function it(e){var t=k.cssProps[e]||ot[e];return t||(e in nt?e:ot[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var o=fe.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function ct(e,t,n,o,i,r){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(o?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=k.css(e,n+pe[s],!0,i)),o?("content"===n&&(l-=k.css(e,"padding"+pe[s],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+pe[s]+"Width",!0,i))):(l+=k.css(e,"padding"+pe[s],!0,i),"padding"!==n?l+=k.css(e,"border"+pe[s]+"Width",!0,i):a+=k.css(e,"border"+pe[s]+"Width",!0,i));return!o&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))||0),l+c}function ut(e,t,n){var o=He(e),i=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,o),r=i,s=Je(e,t,o),a="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&T(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,o))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,o),(r=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ct(e,t,n||(i?"border":"content"),r,o,s)+"px"}function dt(e,t,n,o,i){return new dt.prototype.init(e,t,n,o,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,s,a=ie(t),l=qe.test(t),c=e.style;if(l||(t=it(a)),s=k.cssHooks[t]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,o))?i:c[t];"string"===(r=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=be(e,t,i),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=i&&i[3]||(k.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var i,r,s,a=ie(t);return qe.test(t)||(t=it(a)),(s=k.cssHooks[t]||k.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Je(e,t,o)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(r=parseFloat(i),!0===n||isFinite(r)?r||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,o){if(n)return!rt.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,o):Ge(e,st,(function(){return ut(e,t,o)}))},set:function(e,n,o){var i,r=He(e),s=!g.scrollboxSize()&&"absolute"===r.position,a=(s||o)&&"border-box"===k.css(e,"boxSizing",!1,r),l=o?ct(e,t,o,a,r):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-ct(e,t,"border",!1,r)-.5)),l&&(i=fe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),lt(0,n,l)}}})),k.cssHooks.marginLeft=et(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];o<4;o++)i[e+pe[o]+t]=r[o]||r[o-2]||r[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=lt)})),k.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var o,i,r={},s=0;if(Array.isArray(t)){for(o=He(e),i=t.length;s<i;s++)r[t[s]]=k.css(e,t[s],!1,o);return r}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=dt,dt.prototype={constructor:dt,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(k.cssNumber[n]?"":"px")},cur:function(){var e=dt.propHooks[this.prop];return e&&e.get?e.get(this):dt.propHooks._default.get(this)},run:function(e){var t,n=dt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):dt.propHooks._default.set(this),this}},dt.prototype.init.prototype=dt.prototype,dt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},dt.propHooks.scrollTop=dt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=dt.prototype.init,k.fx.step={};var ht,ft,pt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function gt(){ft&&(!1===b.hidden&&o.requestAnimationFrame?o.requestAnimationFrame(gt):o.setTimeout(gt,k.fx.interval),k.fx.tick())}function Ot(){return o.setTimeout((function(){ht=void 0})),ht=Date.now()}function vt(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=pe[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function bt(e,t,n){for(var o,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),r=0,s=i.length;r<s;r++)if(o=i[r].call(n,t,e))return o}function yt(e,t,n){var o,i,r=0,s=yt.prefilters.length,a=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ht||Ot(),n=Math.max(0,c.startTime+c.duration-t),o=1-(n/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(o);return a.notifyWith(e,[c,o,n]),o<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||Ot(),duration:n.duration,tweens:[],createTween:function(t,n){var o=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,o,i,r,s;for(n in e)if(i=t[o=ie(n)],r=e[n],Array.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),(s=k.cssHooks[o])&&"expand"in s)for(n in r=s.expand(r),delete e[o],r)n in e||(e[n]=r[n],t[n]=i);else t[o]=i}(u,c.opts.specialEasing);r<s;r++)if(o=yt.prefilters[r].call(c,e,u,c.opts))return O(o.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return k.map(u,bt,c),O(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){O(e)?(t=e,e=["*"]):e=e.match(Y);for(var n,o=0,i=e.length;o<i;o++)n=e[o],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,i,r,s,a,l,c,u,d="width"in t||"height"in t,h=this,f={},p=e.style,m=e.nodeType&&ve(e),g=ae.get(e,"fxshow");for(o in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[o],pt.test(i)){if(delete t[o],r=r||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[o])continue;m=!0}f[o]=g&&g[o]||k.style(e,o)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(o in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=ae.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(we([e],!0),c=e.style.display||c,u=k.css(e,"display"),we([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(h.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=ae.access(e,"fxshow",{display:c}),r&&(g.hidden=!m),m&&we([e],!0),h.done((function(){for(o in m||we([e]),ae.remove(e,"fxshow"),f)k.style(e,o,f[o])}))),l=bt(m?g[o]:0,o,h),o in g||(g[o]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),k.speed=function(e,t,n){var o=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||O(e)&&e,duration:e,easing:n&&t||t&&!O(t)&&t};return k.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in k.fx.speeds?o.duration=k.fx.speeds[o.duration]:o.duration=k.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){O(o.old)&&o.old.call(this),o.queue&&k.dequeue(this,o.queue)},o},k.fn.extend({fadeTo:function(e,t,n,o){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=k.isEmptyObject(e),r=k.speed(t,n,o),s=function(){var t=yt(this,k.extend({},e),r);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",r=k.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&o(s[i]);else for(i in s)s[i]&&s[i].stop&&mt.test(i)&&o(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],r=k.timers,s=o?o.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(vt(t,!0),e,o,i)}})),k.each({slideDown:vt("show"),slideUp:vt("hide"),slideToggle:vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(ht=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),ht=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ft||(ft=!0,gt())},k.fx.stop=function(){ft=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=o.setTimeout(t,e);n.stop=function(){o.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var xt,wt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return ee(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?k.prop(e,t,n):(1===r&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?xt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=k.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(Y);if(i&&1===e.nodeType)for(;n=i[o++];)e.removeAttribute(n)}}),xt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=wt[t]||k.find.attr;wt[t]=function(e,t,o){var i,r,s=t.toLowerCase();return o||(r=wt[s],wt[s]=i,i=null!=n(e,t,o)?s:null,wt[s]=r),i}}));var St=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function kt(e){return(e.match(Y)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Tt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Y)||[]}k.fn.extend({prop:function(e,t){return ee(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,o,i,r,s;return O(e)?this.each((function(t){k(this).addClass(e.call(this,t,Ct(this)))})):(t=Tt(e)).length?this.each((function(){if(o=Ct(this),n=1===this.nodeType&&" "+kt(o)+" "){for(r=0;r<t.length;r++)i=t[r],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=kt(n),o!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,o,i,r,s;return O(e)?this.each((function(t){k(this).removeClass(e.call(this,t,Ct(this)))})):arguments.length?(t=Tt(e)).length?this.each((function(){if(o=Ct(this),n=1===this.nodeType&&" "+kt(o)+" "){for(r=0;r<t.length;r++)for(i=t[r];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=kt(n),o!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,o,i,r,s=typeof e,a="string"===s||Array.isArray(e);return O(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,Ct(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Tt(e),this.each((function(){if(a)for(r=k(this),i=0;i<n.length;i++)o=n[i],r.hasClass(o)?r.removeClass(o):r.addClass(o);else void 0!==e&&"boolean"!==s||((o=Ct(this))&&ae.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+kt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var $t=/\r/g;k.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=O(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?e.call(this,n,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace($t,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:kt(k.text(e))}},select:{get:function(e){var t,n,o,i=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:i.length;for(o=r<0?l:s?r:0;o<l;o++)if(((n=i[o]).selected||o===r)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=k(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,o,i=e.options,r=k.makeArray(t),s=i.length;s--;)((o=i[s]).selected=k.inArray(k.valHooks.option.get(o),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Pt=o.location,At={guid:Date.now()},Qt=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new o.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Et=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,i){var r,s,a,l,c,u,d,h,p=[n||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(s=h=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!Et.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),d=k.event.special[m]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!v(n)){for(l=d.delegateType||m,Et.test(l+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||b)&&p.push(a.defaultView||a.parentWindow||o)}for(r=0;(s=p[r++])&&!e.isPropagationStopped();)h=s,e.type=r>1?l:d.bindType||m,(u=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&re(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!re(n)||c&&O(n[m])&&!v(n)&&((a=n[c])&&(n[c]=null),k.event.triggered=m,e.isPropagationStopped()&&h.addEventListener(m,Mt),n[m](),e.isPropagationStopped()&&h.removeEventListener(m,Mt),k.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var o=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(o,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}});var Dt=/\[\]$/,It=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,n,o){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||Dt.test(e)?o(e,i):Nt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,o)}));else if(n||"object"!==w(t))o(e,t);else for(i in t)Nt(e+"["+i+"]",t[i],n,o)}k.param=function(e,t){var n,o=[],i=function(e,t){var n=O(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)Nt(n,e[n],t,i);return o.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&zt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!ke.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(It,"\r\n")}})):{name:t.name,value:n.replace(It,"\r\n")}})).get()}});var Lt=/%20/g,jt=/#.*$/,Vt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Zt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Wt={},Ut={},Yt="*/".concat("*"),Ft=b.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(Y)||[];if(O(n))for(;o=r[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function Ht(e,t,n,o){var i={},r=e===Ut;function s(a){var l;return i[a]=!0,k.each(e[a]||[],(function(e,a){var c=a(t,n,o);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Gt(e,t){var n,o,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&k.extend(!0,e,o),e}Ft.href=Pt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,k.ajaxSettings),t):Gt(k.ajaxSettings,e)},ajaxPrefilter:qt(Wt),ajaxTransport:qt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,r,s,a,l,c,u,d,h,f=k.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?k(p):k.event,g=k.Deferred(),O=k.Callbacks("once memory"),v=f.statusCode||{},y={},x={},w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bt.exec(r);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),_(0,t),this}};if(g.promise(S),f.url=((e||f.url||Pt.href)+"").replace(Xt,Pt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Y)||[""],null==f.crossDomain){l=b.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),Ht(Wt,f,t,S),c)return S;for(d in(u=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Zt.test(f.type),i=f.url.replace(jt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Lt,"+")):(h=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(Qt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Vt,"$1"),h=(Qt.test(i)?"&":"?")+"_="+At.guid+++h),f.url=i+h),f.ifModified&&(k.lastModified[i]&&S.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&S.setRequestHeader("If-None-Match",k.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Yt+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||c))return S.abort();if(w="abort",O.add(f.complete),S.done(f.success),S.fail(f.error),n=Ht(Ut,f,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,f]),c)return S;f.async&&f.timeout>0&&(a=o.setTimeout((function(){S.abort("timeout")}),f.timeout));try{c=!1,n.send(y,_)}catch(e){if(c)throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,s,l){var d,h,b,y,x,w=t;c||(c=!0,a&&o.clearTimeout(a),n=void 0,r=l||"",S.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(y=function(e,t,n){for(var o,i,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in a)if(a[i]&&a[i].test(o)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}s||(s=i)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,S,s)),!d&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),y=function(e,t,n,o){var i,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(i in c)if((a=i.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,y,S,d),d?(f.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=x),(x=S.getResponseHeader("etag"))&&(k.etag[i]=x)),204===e||"HEAD"===f.type?w="nocontent":304===e?w="notmodified":(w=y.state,h=y.data,d=!(b=y.error))):(b=w,!e&&w||(w="error",e<0&&(e=0))),S.status=e,S.statusText=(t||w)+"",d?g.resolveWith(p,[h,w,S]):g.rejectWith(p,[S,w,b]),S.statusCode(v),v=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,f,d?h:b]),O.fireWith(p,[S,w]),u&&(m.trigger("ajaxComplete",[S,f]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,o,i){return O(n)&&(i=i||o,o=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:o},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(O(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return O(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=O(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Jt=k.ajaxSettings.xhr();g.cors=!!Jt&&"withCredentials"in Jt,g.ajax=Jt=!!Jt,k.ajaxTransport((function(e){var t,n;if(g.cors||Jt&&!e.crossDomain)return{send:function(i,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&o.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||k.expando+"_"+At.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var i,r,s,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=O(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(Qt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||k.error(i+" was not called"),s[0]},e.dataTypes[0]="json",r=o[i],o[i]=function(){s=arguments},n.always((function(){void 0===r?k(o).removeProp(i):o[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),s&&O(r)&&r(s[0]),s=r=void 0})),"script"})),g.createHTMLDocument=((en=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((o=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(o)):t=b),r=!n&&[],(i=j.exec(e))?[t.createElement(i[1])]:(i=Ee([e],t,r),r&&r.length&&k(r).remove(),k.merge([],i.childNodes)));var o,i,r},k.fn.load=function(e,t,n){var o,i,r,s=this,a=e.indexOf(" ");return a>-1&&(o=kt(e.slice(a)),e=e.slice(0,a)),O(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){r=arguments,s.html(o?k("<div>").append(k.parseHTML(e)).find(o):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var o,i,r,s,a,l,c=k.css(e,"position"),u=k(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),r=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(s=(o=u.position()).top,i=o.left):(s=parseFloat(r)||0,i=parseFloat(l)||0),O(t)&&(t=t.call(e,n,k.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+i),"using"in t?t.using.call(e,d):u.css(d)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],i={top:0,left:0};if("fixed"===k.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(o,"marginTop",!0),left:t.left-i.left-k.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||me}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(o){return ee(this,(function(e,o,i){var r;if(v(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===i)return r?r[t]:e[o];r?r.scrollTo(n?r.pageXOffset:i,n?i:r.pageYOffset):e[o]=i}),e,o,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=et(g.pixelPosition,(function(e,n){if(n)return n=Je(e,t),Fe.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){k.fn[o]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return ee(this,(function(t,n,i){var r;return v(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?k.css(t,n,a):k.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var on=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,o,i;if("string"==typeof t&&(n=e[t],t=e,e=n),O(e))return o=a.call(arguments,2),i=function(){return e.apply(t||this,o.concat(a.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=T,k.isFunction=O,k.isWindow=v,k.camelCase=ie,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(on,"$1")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var rn=o.jQuery,sn=o.$;return k.noConflict=function(e){return o.$===k&&(o.$=sn),e&&o.jQuery===k&&(o.jQuery=rn),k},void 0===i&&(o.jQuery=o.$=k),k}))},4855:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=i=e,o=(r=String).prototype,o.isPrototypeOf(n)||(null===(s=i.constructor)||void 0===s?void 0:s.name)===r.name)?"string":t;var n,o;var i,r,s})(t)===e,n=t("string"),o=t("object"),i=t("array"),r=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return r(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const a=Array.prototype.push,l=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);a.apply(t,e[n])}return t},u=Object.keys,d=Object.hasOwnProperty,h=(e,t)=>f(e,t)?s.from(e[t]):s.none(),f=(e,t)=>d.call(e,t),p=e=>t=>t.options.get(e),m=p("audio_template_callback"),g=p("video_template_callback"),O=p("iframe_template_callback"),v=p("media_live_embeds"),b=p("media_filter_html"),y=p("media_url_resolver"),x=p("media_alt_source"),w=p("media_poster"),S=p("media_dimensions");var _=tinymce.util.Tools.resolve("tinymce.util.Tools"),k=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.html.DomParser");const T=k.DOM,$=e=>e.replace(/px$/,""),P=e=>{const t=e.attr("style"),n=t?T.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:h(n,"max-width").map($).getOr(""),height:h(n,"max-height").map($).getOr("")}},A=(e,t)=>{let n={};for(let o=C({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=P(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=_.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},Q=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return h({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var E=tinymce.util.Tools.resolve("tinymce.html.Node"),M=tinymce.util.Tools.resolve("tinymce.html.Serializer");const D=(e,t={})=>C({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),I=k.DOM,R=e=>/^[0-9.]+$/.test(e)?e+"px":e,z=(e,t)=>{const n=t.attr("style"),o=n?I.parseStyle(n):{};r(e.width)&&(o["max-width"]=R(e.width)),r(e.height)&&(o["max-height"]=R(e.height)),t.attr("style",I.serializeStyle(o))},N=["source","altsource"],L=(e,t,n,o)=>{let i=0,r=0;const s=D(o);s.addNodeFilter("source",(e=>i=e.length));const a=s.parse(e);for(let e=a;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){z(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=i;n<2;n++)if(t[N[n]]){const o=new E("source",1);o.attr("src",t[N[n]]),o.attr("type",t[N[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new E("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(r<2&&(e.attr("src",t[N[r]]),e.attr("type",t[N[r]+"mime"]||null),!t[N[r]])){e.remove();continue}r++;break;case"img":t.poster||e.remove()}}return M({},o).serialize(a)},j=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],V=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let i=n+e.url;if(r(o))for(let e=0;e<o.length;e++)i=i.replace("$"+e,(()=>o[e]?o[e]:""));return i.replace(/\?$/,"")},B=e=>{const t=j.filter((t=>t.regex.test(e)));return t.length>0?_.extend({},t[0],{url:V(t[0],e)}):null},Z=(e,t)=>{var n;const o=_.extend({},t);if(!o.source&&(_.extend(o,A(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=Q(o.source),o.altsourcemime=Q(o.altsource),o.poster=e.convertURL(o.poster,"poster");const i=B(o.source);if(i&&(o.source=i.url,o.type=i.type,o.allowfullscreen=i.allowFullscreen,o.width=o.width||String(i.w),o.height=o.height||String(i.h)),o.embed)return L(o.embed,o,!0,e.schema);{const t=m(e),n=g(e),i=O(e);return o.width=o.width||"300",o.height=o.height||"150",_.each(o,((t,n)=>{o[n]=e.dom.encode(""+t)})),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,i):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},X=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),W={},U=e=>t=>Z(e,t),Y=(e,t)=>{const n=y(e);return n?((e,t,n)=>new Promise(((o,i)=>{const r=n=>(n.html&&(W[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));W[e.source]?r(W[e.source]):n({url:e.source}).then(r).catch(i)})))(t,U(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,U(e))},F=(e,t)=>{const n={};return h(e,"dimensions").each((e=>{l(["width","height"],(o=>{h(t,o).orThunk((()=>h(e,o))).each((e=>n[o]=e))}))})),n},q=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>h(t,e).bind((e=>h(e,"meta"))))(t,e).getOr({}):{},i=((e,t,n)=>i=>{const r=()=>h(e,i),a=()=>h(t,i),l=e=>h(e,"value").bind((e=>e.length>0?s.some(e):s.none()));return{[i]:(i===n?r().bind((e=>o(e)?l(e).orThunk(a):a().orThunk((()=>s.from(e))))):a().orThunk((()=>r().bind((e=>o(e)?l(e):s.from(e)))))).getOr("")}})(e,n,t);return{...i("source"),...i("altsource"),...i("poster"),...i("embed"),...F(e,n)}},H=e=>{const t={...e,source:{value:h(e,"source").getOr("")},altsource:{value:h(e,"altsource").getOr("")},poster:{value:h(e,"poster").getOr("")}};return l(["width","height"],(n=>{h(e,n).each((e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},G=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},K=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,i={...A(n,t.schema),source:o.url,embed:n};e.setData(H(i))}},J=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>r(t)&&"ephox-embed-iri"===t&&r(B(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=(e,t,n)=>{var o,i;t.embed=te(e,t)&&S(n)?Z(n,{...t,embed:""}):L(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(i=t.source,f(W,i)))?J(n,t.embed):Y(n,t).then((e=>{J(n,e.html)})).catch(G(n))},oe=e=>{const t=(e=>{const t=e.selection.getNode(),n=X(t)?e.serializer.serialize(t,{selection:!0}):"",o=A(n,e.schema),i=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...i}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=H(t),i=S(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],r={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],i])},s={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},a=[];x(e)&&a.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),w(e)&&a.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const l={title:"Advanced",name:"advanced",items:a},u=[r,s];a.length>0&&u.push(l);const d={type:"tabpanel",tabs:u},h=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=q(t.getData());ne(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=q(n.getData(),"source");t.source!==o.source&&(K(h,e)({url:o.source,html:""}),Y(e,o).then(K(h,e)).catch(G(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=q(t.getData()),i=A(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(H(i))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const i=q(t.getData(),n),r=te(o,i)&&S(e)?{...i,embed:""}:i,s=Z(e,r);t.setData(H({...r,embed:s}))})(t,o.name,n.get())}n.set(q(t.getData()))},initialData:o})};var ie=tinymce.util.Tools.resolve("tinymce.Env");const re=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},se=(e,t,n,o=null)=>{const i=e.attr(n);return r(i)?i:f(t,n)?null:o},ae=(e,t,n)=>{const o="img"===t.name||"video"===e.name,i=o?"300":null,r="audio"===e.name?"30":"150",s=o?r:null;t.attr({width:se(e,n,"width",i),height:se(e,n,"height",s)})},le=(e,t)=>{const n=t.name,o=new E("img",1);return ue(e,t,o),ae(t,o,{}),o.attr({style:t.attr("style"),src:ie.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},ce=(e,t)=>{var n;const o=t.name,i=new E("span",1);i.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ue(e,t,i);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),a=new E(o,1);if(ae(t,a,s),a.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)a.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{l(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{a.attr(e,t.attr(e))}));const n=i.attr("data-mce-html");r(n)&&((e,t,n,o)=>{const i=D(e.schema).parse(o,{context:t});for(;i.firstChild;)n.append(i.firstChild)})(e,o,a,unescape(n))}const c=new E("span",1);return c.attr("class","mce-shim"),i.append(a),i.append(c),i},ue=(e,t,n)=>{var o;const i=null!==(o=t.attributes)&&void 0!==o?o:[];let r=i.length;for(;r--;){const t=i[r].name;let o=i[r].value;"width"===t||"height"===t||"style"===t||((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(t,"data-mce-",0)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}const s=M({inner:!0},e.schema),a=new E("div",1);l(t.children(),(e=>a.append(e)));const c=s.serialize(a);c&&(n.attr("data-mce-html",escape(c)),n.empty())},de=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},he=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||de(t))return!0;return!1},fe=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),i=b(e);return D(e.schema,{sanitize:o,validate:i}).parse(n,{context:t})},pe=e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,i=t.getBoolAttrs();l("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{i[e]={}})),((e,t)=>{const n=u(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&l(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(re(n)&&v(e)?he(n)||n.replace(ce(e,n)):he(n)||n.replace(le(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let i=t.length;for(;i--;){const r=t[i];if(!r.parent)continue;const s=r.attr(n),a=new E(s,1);if("audio"!==s){const e=r.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&r.firstChild?a.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):a.attr({width:r.attr("width"),height:r.attr("height")})}a.attr({style:r.attr("style")});const c=null!==(o=r.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&a.attr(e.substr(11),c[u].value)}const d=r.attr("data-mce-html");if(d){const t=fe(e,s,unescape(d));l(t.children(),(e=>a.append(e)))}r.replace(a)}}))})),e.on("SetContent",(()=>{const t=e.dom;l(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))},me=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{oe(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(X(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,i=me(e)(t);return()=>{o(),i()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:me(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),pe(e),(e=>{e.on("mousedown",(t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()})),e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(L(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{oe(e)}}))(e))))}()},4934:()=>{!function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>n=>(e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n})(n)===e,o=e=>t=>typeof t===e,i=e=>t=>e===t,r=n("string"),s=n("object"),a=n=>((n,o)=>s(n)&&t(n,o,((t,n)=>e(t)===n)))(n,Object),l=n("array"),c=i(null),u=o("boolean"),d=i(void 0),h=e=>null==e,f=e=>!h(e),p=o("function"),m=o("number"),g=(e,t)=>{if(l(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},O=()=>{},v=e=>()=>e(),b=(e,t)=>(...n)=>e(t.apply(null,n)),y=e=>()=>e,x=e=>e,w=(e,t)=>e===t;function S(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const _=e=>t=>!e(t),k=e=>()=>{throw new Error(e)},C=e=>e(),T=y(!1),$=y(!0);class P{constructor(e,t){this.tag=e,this.value=t}static some(e){return new P(!0,e)}static none(){return P.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?P.some(e(this.value)):P.none()}bind(e){return this.tag?e(this.value):P.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:P.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return f(e)?P.some(e):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const A=Array.prototype.slice,Q=Array.prototype.indexOf,E=Array.prototype.push,M=(e,t)=>Q.call(e,t),D=(e,t)=>M(e,t)>-1,I=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},R=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},z=(e,t)=>{const n=[];for(let o=0;o<e.length;o+=t){const i=A.call(e,o,o+t);n.push(i)}return n},N=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},L=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},j=(e,t)=>{const n=[],o=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];(t(r,i)?n:o).push(r)}return{pass:n,fail:o}},V=(e,t)=>{const n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];t(i,o)&&n.push(i)}return n},B=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,o)=>{n=t(n,e,o)})),n),Z=(e,t,n)=>(L(e,((e,o)=>{n=t(n,e,o)})),n),X=(e,t)=>((e,t,n)=>{for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t(i,o))return P.some(i);if(n(i,o))break}return P.none()})(e,t,T),W=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return P.some(n)}return P.none()},U=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);E.apply(t,e[n])}return t},Y=(e,t)=>U(N(e,t)),F=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},q=e=>{const t=A.call(e,0);return t.reverse(),t},H=(e,t)=>V(e,(e=>!D(t,e))),G=(e,t)=>{const n={};for(let o=0,i=e.length;o<i;o++){const i=e[o];n[String(i)]=t(i,o)}return n},K=e=>[e],J=(e,t)=>{const n=A.call(e,0);return n.sort(t),n},ee=(e,t)=>t>=0&&t<e.length?P.some(e[t]):P.none(),te=e=>ee(e,0),ne=e=>ee(e,e.length-1),oe=p(Array.from)?Array.from:e=>A.call(e),ie=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return P.none()},re=Object.keys,se=Object.hasOwnProperty,ae=(e,t)=>{const n=re(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}},le=(e,t)=>ce(e,((e,n)=>({k:n,v:t(e,n)}))),ce=(e,t)=>{const n={};return ae(e,((e,o)=>{const i=t(e,o);n[i.k]=i.v})),n},ue=e=>(t,n)=>{e[n]=t},de=(e,t,n,o)=>{ae(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))},he=(e,t)=>{const n={};return de(e,t,ue(n),O),n},fe=(e,t)=>{const n=[];return ae(e,((e,o)=>{n.push(t(e,o))})),n},pe=(e,t)=>{const n=re(e);for(let o=0,i=n.length;o<i;o++){const i=n[o],r=e[i];if(t(r,i,e))return P.some(r)}return P.none()},me=e=>fe(e,x),ge=(e,t)=>Oe(e,t)?P.from(e[t]):P.none(),Oe=(e,t)=>se.call(e,t),ve=(e,t)=>Oe(e,t)&&void 0!==e[t]&&null!==e[t],be=(e,t,n=w)=>e.exists((e=>n(e,t))),ye=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},xe=(e,t,n)=>e.isSome()&&t.isSome()?P.some(n(e.getOrDie(),t.getOrDie())):P.none(),we=(e,t)=>null!=e?P.some(t(e)):P.none(),Se=(e,t)=>e?P.some(t):P.none(),_e=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,ke=(e,t)=>Te(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Ce=(e,t,n=0,o)=>{const i=e.indexOf(t,n);return-1!==i&&(!!d(o)||i+t.length<=o)},Te=(e,t)=>_e(e,t,0),$e=(e,t)=>_e(e,t,e.length-t.length),Pe=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),Ae=e=>e.length>0,Qe=e=>!Ae(e),Ee=e=>void 0!==e.style&&p(e.style.getPropertyValue),Me=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},De={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Me(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return Me(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return Me(n)},fromDom:Me,fromPoint:(e,t,n)=>P.from(e.dom.elementFromPoint(t,n)).map(Me)},Ie="undefined"!=typeof window?window:Function("return this;")(),Re=(e,t)=>((e,t)=>{let n=null!=t?t:Ie;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),ze=(e,t)=>{const n=((e,t)=>Re(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},Ne=Object.getPrototypeOf,Le=e=>{const t=Re("ownerDocument.defaultView",e);return s(e)&&((e=>ze("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ne(e).constructor.name))},je=e=>e.dom.nodeName.toLowerCase(),Ve=e=>t=>(e=>e.dom.nodeType)(t)===e,Be=e=>Ze(e)&&Le(e.dom),Ze=Ve(1),Xe=Ve(3),We=Ve(9),Ue=Ve(11),Ye=e=>t=>Ze(t)&&je(t)===e,Fe=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},qe=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,He=(e,t)=>{const n=void 0===t?document:t.dom;return qe(n)?P.none():P.from(n.querySelector(e)).map(De.fromDom)},Ge=(e,t)=>e.dom===t.dom,Ke=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Je=e=>De.fromDom(e.dom.ownerDocument),et=e=>We(e)?e:Je(e),tt=e=>De.fromDom(et(e).dom.documentElement),nt=e=>De.fromDom(et(e).dom.defaultView),ot=e=>P.from(e.dom.parentNode).map(De.fromDom),it=e=>P.from(e.dom.parentElement).map(De.fromDom),rt=e=>P.from(e.dom.offsetParent).map(De.fromDom),st=e=>N(e.dom.childNodes,De.fromDom),at=(e,t)=>{const n=e.dom.childNodes;return P.from(n[t]).map(De.fromDom)},lt=e=>at(e,0),ct=(e,t)=>({element:e,offset:t}),ut=(e,t)=>{const n=st(e);return n.length>0&&t<n.length?ct(n[t],0):ct(e,t)},dt=e=>Ue(e)&&f(e.dom.host),ht=e=>De.fromDom(e.dom.getRootNode()),ft=e=>dt(e)?e:De.fromDom(et(e).dom.body),pt=e=>{const t=ht(e);return dt(t)?P.some(t):P.none()},mt=e=>De.fromDom(e.dom.host),gt=e=>f(e.dom.shadowRoot),Ot=e=>{const t=Xe(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return pt(De.fromDom(t)).fold((()=>n.body.contains(t)),(o=Ot,i=mt,e=>o(i(e))));var o,i},vt=()=>bt(De.fromDom(document)),bt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return De.fromDom(t)},yt=(e,t,n)=>{if(!(r(n)||u(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},xt=(e,t,n)=>{yt(e.dom,t,n)},wt=(e,t)=>{const n=e.dom;ae(t,((e,t)=>{yt(n,t,e)}))},St=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},_t=(e,t)=>P.from(St(e,t)),kt=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ct=(e,t)=>{e.dom.removeAttribute(t)},Tt=(e,t,n)=>{if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ee(e)&&e.style.setProperty(t,n)},$t=(e,t)=>{Ee(e)&&e.style.removeProperty(t)},Pt=(e,t,n)=>{const o=e.dom;Tt(o,t,n)},At=(e,t)=>{const n=e.dom;ae(t,((e,t)=>{Tt(n,t,e)}))},Qt=(e,t)=>{const n=e.dom;ae(t,((e,t)=>{e.fold((()=>{$t(n,t)}),(e=>{Tt(n,t,e)}))}))},Et=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Ot(e)?o:Mt(n,t)},Mt=(e,t)=>Ee(e)?e.style.getPropertyValue(t):"",Dt=(e,t)=>{const n=e.dom,o=Mt(n,t);return P.from(o).filter((e=>e.length>0))},It=e=>{const t={},n=e.dom;if(Ee(n))for(let e=0;e<n.style.length;e++){const o=n.style.item(e);t[o]=n.style[o]}return t},Rt=(e,t,n)=>{const o=De.fromTag(e);Pt(o,t,n);return Dt(o,t).isSome()},zt=(e,t)=>{const n=e.dom;$t(n,t),be(_t(e,"style").map(Pe),"")&&Ct(e,"style")},Nt=e=>e.dom.offsetWidth,Lt=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=Et(n,e);return parseFloat(t)||0}return o},o=(e,t)=>Z(t,((t,n)=>{const o=Et(e,n),i=void 0===o?0:parseInt(o,10);return isNaN(i)?t:t+i}),0);return{set:(t,n)=>{if(!m(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;Ee(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const i=o(e,n);return t>i?t-i:0}}},jt=Lt("height",(e=>{const t=e.dom;return Ot(e)?t.getBoundingClientRect().height:t.offsetHeight})),Vt=e=>jt.get(e),Bt=e=>jt.getOuter(e),Zt=(e,t)=>({left:e,top:t,translate:(n,o)=>Zt(e+n,t+o)}),Xt=Zt,Wt=(e,t)=>void 0!==e?e:void 0!==t?t:0,Ut=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,i=t.documentElement;if(n===e.dom)return Xt(n.offsetLeft,n.offsetTop);const r=Wt(null==o?void 0:o.pageYOffset,i.scrollTop),s=Wt(null==o?void 0:o.pageXOffset,i.scrollLeft),a=Wt(i.clientTop,n.clientTop),l=Wt(i.clientLeft,n.clientLeft);return Yt(e).translate(s-l,r-a)},Yt=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Xt(n.offsetLeft,n.offsetTop):Ot(e)?(e=>{const t=e.getBoundingClientRect();return Xt(t.left,t.top)})(t):Xt(0,0)},Ft=Lt("width",(e=>e.dom.offsetWidth)),qt=e=>Ft.get(e),Ht=e=>Ft.getOuter(e),Gt=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Kt=()=>Jt(0,0),Jt=(e,t)=>({major:e,minor:t}),en={nu:Jt,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Kt():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Jt(o(1),o(2))})(e,n)},unknown:Kt},tn=(e,t)=>{const n=String(t).toLowerCase();return X(e,(e=>e.search(n)))},nn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,on=e=>t=>Ce(t,e),rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ce(e,"edge/")&&Ce(e,"chrome")&&Ce(e,"safari")&&Ce(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,nn],search:e=>Ce(e,"chrome")&&!Ce(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ce(e,"msie")||Ce(e,"trident")},{name:"Opera",versionRegexes:[nn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:on("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:on("firefox")},{name:"Safari",versionRegexes:[nn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ce(e,"safari")||Ce(e,"mobile/"))&&Ce(e,"applewebkit")}],sn=[{name:"Windows",search:on("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ce(e,"iphone")||Ce(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:on("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:on("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:on("linux"),versionRegexes:[]},{name:"Solaris",search:on("sunos"),versionRegexes:[]},{name:"FreeBSD",search:on("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:on("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],an={browsers:y(rn),oses:y(sn)},ln="Edge",cn="Chromium",un="Opera",dn="Firefox",hn="Safari",fn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(ln),isChromium:o(cn),isIE:o("IE"),isOpera:o(un),isFirefox:o(dn),isSafari:o(hn)}},pn={unknown:()=>fn({current:void 0,version:en.unknown()}),nu:fn,edge:y(ln),chromium:y(cn),ie:y("IE"),opera:y(un),firefox:y(dn),safari:y(hn)},mn="Windows",gn="Android",On="Linux",vn="macOS",bn="Solaris",yn="FreeBSD",xn="ChromeOS",wn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(mn),isiOS:o("iOS"),isAndroid:o(gn),isMacOS:o(vn),isLinux:o(On),isSolaris:o(bn),isFreeBSD:o(yn),isChromeOS:o(xn)}},Sn={unknown:()=>wn({current:void 0,version:en.unknown()}),nu:wn,windows:y(mn),ios:y("iOS"),android:y(gn),linux:y(On),macos:y(vn),solaris:y(bn),freebsd:y(yn),chromeos:y(xn)},_n=(e,t,n)=>{const o=an.browsers(),i=an.oses(),r=t.bind((e=>((e,t)=>ie(t.brands,(t=>{const n=t.brand.toLowerCase();return X(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:en.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>tn(e,t).map((e=>{const n=en.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(pn.unknown,pn.nu),s=((e,t)=>tn(e,t).map((e=>{const n=en.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(i,e).fold(Sn.unknown,Sn.nu),a=((e,t,n,o)=>{const i=e.isiOS()&&!0===/ipad/i.test(n),r=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=i||!r&&s&&o("(min-device-width:768px)"),c=r||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:y(i),isiPhone:y(r),isTablet:y(l),isPhone:y(c),isTouch:y(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(u),isDesktop:y(d)}})(s,r,e,n);return{browser:r,os:s,deviceType:a}},kn=e=>window.matchMedia(e).matches;let Cn=Gt((()=>_n(window.navigator.userAgent,P.from(window.navigator.userAgentData),kn)));const Tn=()=>Cn(),$n=e=>{const t=De.fromDom((e=>{if(f(e.target)){const t=De.fromDom(e.target);if(Ze(t)&&gt(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return te(t)}}return P.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),i=b(o,n);return((e,t,n,o,i,r,s)=>({target:e,x:t,y:n,stop:o,prevent:i,kill:r,raw:s}))(t,e.clientX,e.clientY,n,o,i,e)},Pn=(e,t,n,o,i)=>{const r=((e,t)=>n=>{e(n)&&t($n(n))})(n,o);return e.dom.addEventListener(t,r,i),{unbind:S(An,e,t,r,i)}},An=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Qn=(e,t)=>{ot(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},En=(e,t)=>{const n=(e=>P.from(e.dom.nextSibling).map(De.fromDom))(e);n.fold((()=>{ot(e).each((e=>{Dn(e,t)}))}),(e=>{Qn(e,t)}))},Mn=(e,t)=>{lt(e).fold((()=>{Dn(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Dn=(e,t)=>{e.dom.appendChild(t.dom)},In=(e,t)=>{L(t,(t=>{Dn(e,t)}))},Rn=e=>{e.dom.textContent="",L(st(e),(e=>{zn(e)}))},zn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Nn=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Xt(n,o)},Ln=(e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},jn=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Vn=e=>{const t=void 0===e?window:e,n=t.document,o=Nn(De.fromDom(n));return(e=>{const t=void 0===e?window:e;return Tn().browser.isFirefox()?P.none():P.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return jn(o.left,o.top,n,i)}),(e=>jn(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Bn=()=>De.fromDom(document),Zn=(e,t)=>e.view(t).fold(y([]),(t=>{const n=e.owner(t),o=Zn(e,n);return[t].concat(o)}));var Xn=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?P.none():P.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(De.fromDom)},owner:e=>Je(e)});const Wn=e=>{const t=Bn(),n=Nn(t),o=((e,t)=>{const n=t.owner(e),o=Zn(t,n);return P.some(o)})(e,Xn);return o.fold(S(Ut,e),(t=>{const o=Yt(e),i=B(t,((e,t)=>{const n=Yt(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Xt(i.left+o.left+n.left,i.top+o.top+n.top)}))},Un=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Yn=e=>{const t=Ut(e),n=Ht(e),o=Bt(e);return Un(t.left,t.top,n,o)},Fn=e=>{const t=Wn(e),n=Ht(e),o=Bt(e);return Un(t.left,t.top,n,o)},qn=(e,t)=>{const n=Math.max(e.x,t.x),o=Math.max(e.y,t.y),i=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom);return Un(n,o,i-n,r-o)},Hn=()=>Vn(window),Gn=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Kn=e=>{const t=Gn(P.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(P.some(e))}}},Jn=()=>Kn((e=>e.unbind())),eo=()=>{const e=Kn(O);return{...e,on:t=>e.get().each(t)}};var to=(e,t,n,o,i)=>e(n,o)?P.some(n):p(i)&&i(n)?P.none():t(n,o,i);const no=(e,t,n)=>{let o=e.dom;const i=p(n)?n:T;for(;o.parentNode;){o=o.parentNode;const e=De.fromDom(o);if(t(e))return P.some(e);if(i(e))break}return P.none()},oo=(e,t,n)=>to(((e,t)=>t(e)),no,e,t,n),io=(e,t)=>X(e.dom.childNodes,(e=>t(De.fromDom(e)))).map(De.fromDom),ro=(e,t,n)=>no(e,(e=>Fe(e,t)),n),so=(e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?io(De.fromDom(n.parentNode),(n=>!Ge(e,n)&&t(n))):P.none()})(e,(e=>Fe(e,t))),ao=(e,t)=>io(e,(e=>Fe(e,t))),lo=(e,t)=>He(t,e),co=(e,t,n)=>to(((e,t)=>Fe(e,t)),ro,e,t,n);var uo=tinymce.util.Tools.resolve("tinymce.ThemeManager");const ho=e=>{const t=t=>t(e),n=y(e),o=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:$,isError:T,map:t=>po.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>P.some(e)};return i},fo=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:T,isError:$,map:t,mapError:t=>po.error(t(e)),bind:t,exists:T,forall:$,getOr:x,or:x,getOrThunk:C,orThunk:C,getOrDie:k(String(e)),each:O,toOptional:P.none};return n},po={value:ho,error:fo,fromOption:(e,t)=>e.fold((()=>fo(t)),ho)};var mo;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(mo||(mo={}));const go=(e,t,n)=>e.stype===mo.Error?t(e.serror):n(e.svalue),Oo=e=>({stype:mo.Value,svalue:e}),vo=e=>({stype:mo.Error,serror:e}),bo=e=>e.fold(vo,Oo),yo=e=>go(e,po.error,po.value),xo=Oo,wo=e=>{const t=[],n=[];return L(e,(e=>{go(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},So=vo,_o=(e,t)=>e.stype===mo.Value?t(e.svalue):e,ko=(e,t)=>e.stype===mo.Error?t(e.serror):e,Co=(e,t)=>e.stype===mo.Value?{stype:mo.Value,svalue:t(e.svalue)}:e,To=(e,t)=>e.stype===mo.Error?{stype:mo.Error,serror:t(e.serror)}:e,$o=go,Po=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),Ao=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Qo=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const i=t[o];for(const t in i)Oe(i,t)&&(n[t]=e(n[t],i[t]))}return n},Eo=Qo(((e,t)=>a(e)&&a(t)?Eo(e,t):t)),Mo=Qo(((e,t)=>t)),Do=e=>({tag:"defaultedThunk",process:e}),Io=e=>Do(y(e)),Ro=e=>({tag:"mergeWithThunk",process:e}),zo=e=>b(So,U)(e),No=e=>{const t=wo(e);return t.errors.length>0?zo(t.errors):xo(t.values)},Lo=e=>s(e)&&re(e).length>100?" removed due to size":JSON.stringify(e,null,2),jo=(e,t)=>So([{path:e,getErrorInfo:t}]),Vo=e=>({extract:(t,n)=>ko(e(n),(e=>((e,t)=>jo(e,y(t)))(t,e))),toString:y("val")}),Bo=Vo(xo),Zo=(e,t,n,o)=>ge(t,n).fold((()=>((e,t,n)=>jo(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Lo(n))))(e,n,t)),o),Xo=(e,t,n,o)=>o(ge(e,t).getOrThunk((()=>n(e)))),Wo=(e,t,n,o,i)=>{const r=e=>i.extract(t.concat([o]),e),s=e=>e.fold((()=>xo(P.none())),(e=>{const n=i.extract(t.concat([o]),e);return Co(n,P.some)}));switch(e.tag){case"required":return Zo(t,n,o,r);case"defaultedThunk":return Xo(n,o,e.process,r);case"option":return((e,t,n)=>n(ge(e,t)))(n,o,s);case"defaultedOptionThunk":return((e,t,n,o)=>o(ge(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,s);case"mergeWithThunk":return Xo(n,o,y({}),(t=>{const o=Eo(e.process(n),t);return r(o)}))}},Uo=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),Yo=e=>re(he(e,f)),Fo=e=>{const t=qo(e),n=B(e,((e,t)=>Ao(t,(t=>Eo(e,{[t]:!0})),y(e))),{});return{extract:(e,o)=>{const i=u(o)?[]:Yo(o),r=V(i,(e=>!ve(n,e)));return 0===r.length?t.extract(e,o):((e,t)=>jo(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,r)},toString:t.toString}},qo=e=>({extract:(t,n)=>((e,t,n)=>{const o={},i=[];for(const r of n)Ao(r,((n,r,s,a)=>{const l=Wo(s,e,t,n,a);$o(l,(e=>{i.push(...e)}),(e=>{o[r]=e}))}),((e,n)=>{o[e]=n(t)}));return i.length>0?So(i):xo(o)})(t,n,e),toString:()=>{const t=N(e,(e=>Ao(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Ho=e=>({extract:(t,n)=>{const o=N(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return No(o)},toString:()=>"array("+e.toString()+")"}),Go=(e,t)=>{const n=void 0!==t?t:x;return{extract:(t,o)=>{const i=[];for(const r of e){const e=r.extract(t,o);if(e.stype===mo.Value)return{stype:mo.Value,svalue:n(e.svalue)};i.push(e)}return No(i)},toString:()=>"oneOf("+N(e,(e=>e.toString())).join(", ")+")"}},Ko=(e,t)=>({extract:(n,o)=>{const i=re(o),r=((t,n)=>Ho(Vo(e)).extract(t,n))(n,i);return _o(r,(e=>{const i=N(e,(e=>Po(e,e,{tag:"required",process:{}},t)));return qo(i).extract(n,o)}))},toString:()=>"setOf("+t.toString()+")"}),Jo=b(Ho,qo),ei=y(Bo),ti=(e,t)=>Vo((n=>{const o=typeof n;return e(n)?xo(n):So(`Expected type: ${t} but got: ${o}`)})),ni=ti(m,"number"),oi=ti(r,"string"),ii=ti(u,"boolean"),ri=ti(p,"function"),si=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>si(e[t])));default:return!1}},ai=Vo((e=>si(e)?xo(e):So("Expected value to be acceptable for sending via postMessage"))),li=(e,t,n,o)=>ge(n,o).fold((()=>((e,t,n)=>jo(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+Lo(t))))(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t))),ci=(e,t)=>({extract:(n,o)=>ge(o,e).fold((()=>((e,t)=>jo(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>li(n,o,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+re(t)}),ui=e=>Vo((t=>e(t).fold(So,xo))),di=(e,t)=>Ko((t=>bo(e(t))),t),hi=(e,t,n)=>yo(((e,t,n)=>{const o=t.extract([e],n);return To(o,(e=>({input:n,errors:e})))})(e,t,n)),fi=e=>e.fold((e=>{throw new Error(mi(e))}),x),pi=(e,t,n)=>fi(hi(e,t,n)),mi=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:y("... (only showing first ten failures)")}]):e;return N(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+Lo(e.input),gi=(e,t)=>ci(e,le(t,qo)),Oi=(e,t)=>((e,t)=>{const n=Gt(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}})(0,t),vi=Po,bi=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),yi=e=>ui((t=>D(e,t)?po.value(t):po.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),xi=e=>vi(e,e,{tag:"required",process:{}},ei()),wi=(e,t)=>vi(e,e,{tag:"required",process:{}},t),Si=e=>wi(e,ni),_i=e=>wi(e,oi),ki=(e,t)=>vi(e,e,{tag:"required",process:{}},yi(t)),Ci=e=>wi(e,ri),Ti=(e,t)=>vi(e,e,{tag:"required",process:{}},qo(t)),$i=(e,t)=>vi(e,e,{tag:"required",process:{}},Jo(t)),Pi=(e,t)=>vi(e,e,{tag:"required",process:{}},Ho(t)),Ai=e=>vi(e,e,{tag:"option",process:{}},ei()),Qi=(e,t)=>vi(e,e,{tag:"option",process:{}},t),Ei=e=>Qi(e,ni),Mi=e=>Qi(e,oi),Di=(e,t)=>Qi(e,yi(t)),Ii=e=>Qi(e,ri),Ri=(e,t)=>Qi(e,Ho(t)),zi=(e,t)=>Qi(e,qo(t)),Ni=(e,t)=>vi(e,e,Io(t),ei()),Li=(e,t,n)=>vi(e,e,Io(t),n),ji=(e,t)=>Li(e,t,ni),Vi=(e,t)=>Li(e,t,oi),Bi=(e,t,n)=>Li(e,t,yi(n)),Zi=(e,t)=>Li(e,t,ii),Xi=(e,t)=>Li(e,t,ri),Wi=(e,t,n)=>Li(e,t,Ho(n)),Ui=(e,t,n)=>Li(e,t,qo(n)),Yi=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return L(e,((o,i)=>{const r=re(o);if(1!==r.length)throw new Error("one and only one name per case");const s=r[0],a=o[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!l(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[i].apply(null,n)},match:e=>{const o=re(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!F(t,(e=>D(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};Yi([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Fi=(e,t)=>((e,t)=>{const n={};return ae(e,((e,o)=>{D(t,o)||(n[o]=e)})),n})(e,t),qi=(e,t)=>((e,t)=>({[e]:t}))(e,t),Hi=e=>(e=>{const t={};return L(e,(e=>{t[e.key]=e.value})),t})(e),Gi=(e,t)=>{const n=(e=>{const t=[],n=[];return L(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(e);return n.errors.length>0?(o=n.errors,po.error(U(o))):((e,t)=>0===e.length?po.value(t):po.value(Eo(t,Mo.apply(void 0,e))))(n.values,t);var o},Ki=e=>p(e)?e:T,Ji=(e,t,n)=>{let o=e.dom;const i=Ki(n);for(;o.parentNode;){o=o.parentNode;const e=De.fromDom(o),n=t(e);if(n.isSome())return n;if(i(e))break}return P.none()},er=(e,t,n)=>{const o=t(e),i=Ki(n);return o.orThunk((()=>i(e)?P.none():Ji(e,t,i)))},tr=(e,t)=>Ge(e.element,t.event.target),nr={can:$,abort:T,run:O},or=e=>{if(!ve(e,"can")&&!ve(e,"abort")&&!ve(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...nr,...e}},ir=e=>{const t=((e,t)=>(...n)=>Z(e,((e,o)=>e&&t(o).apply(void 0,n)),!0))(e,(e=>e.can)),n=((e,t)=>(...n)=>Z(e,((e,o)=>e||t(o).apply(void 0,n)),!1))(e,(e=>e.abort));return{can:t,abort:n,run:(...t)=>{L(e,(e=>{e.run.apply(void 0,t)}))}}},rr=y,sr=rr("touchstart"),ar=rr("touchmove"),lr=rr("touchend"),cr=rr("touchcancel"),ur=rr("mousedown"),dr=rr("mousemove"),hr=rr("mouseout"),fr=rr("mouseup"),pr=rr("mouseover"),mr=rr("focusin"),gr=rr("focusout"),Or=rr("keydown"),vr=rr("keyup"),br=rr("input"),yr=rr("change"),xr=rr("click"),wr=rr("transitioncancel"),Sr=rr("transitionend"),_r=rr("transitionstart"),kr=rr("selectstart"),Cr=e=>y("alloy."+e),Tr={tap:Cr("tap")},$r=Cr("focus"),Pr=Cr("blur.post"),Ar=Cr("paste.post"),Qr=Cr("receive"),Er=Cr("execute"),Mr=Cr("focus.item"),Dr=Tr.tap,Ir=Cr("longpress"),Rr=Cr("sandbox.close"),zr=Cr("typeahead.cancel"),Nr=Cr("system.init"),Lr=Cr("system.touchmove"),jr=Cr("system.touchend"),Vr=Cr("system.scroll"),Br=Cr("system.resize"),Zr=Cr("system.attached"),Xr=Cr("system.detached"),Wr=Cr("system.dismissRequested"),Ur=Cr("system.repositionRequested"),Yr=Cr("focusmanager.shifted"),Fr=Cr("slotcontainer.visibility"),qr=Cr("system.external.element.scroll"),Hr=Cr("change.tab"),Gr=Cr("dismiss.tab"),Kr=Cr("highlight"),Jr=Cr("dehighlight"),es=(e,t)=>{is(e,e.element,t,{})},ts=(e,t,n)=>{is(e,e.element,t,n)},ns=e=>{es(e,Er())},os=(e,t,n)=>{is(e,t,n,{})},is=(e,t,n,o)=>{const i={target:t,...o};e.getSystem().triggerEvent(n,t,i)},rs=(e,t,n,o)=>{e.getSystem().triggerEvent(n,t,o.event)},ss=e=>Hi(e),as=(e,t)=>({key:e,value:or({abort:t})}),ls=e=>({key:e,value:or({run:(e,t)=>{t.event.prevent()}})}),cs=(e,t)=>({key:e,value:or({run:t})}),us=(e,t,n)=>({key:e,value:or({run:(e,o)=>{t.apply(void 0,[e,o].concat(n))}})}),ds=e=>t=>({key:e,value:or({run:(e,n)=>{tr(e,n)&&t(e,n)}})}),hs=(e,t,n)=>((e,t)=>cs(e,((n,o)=>{n.getSystem().getByUid(t).each((t=>{rs(t,t.element,e,o)}))})))(e,t.partUids[n]),fs=(e,t)=>cs(e,((e,n)=>{const o=n.event,i=e.getSystem().getByDom(o.target).getOrThunk((()=>er(o.target,(t=>e.getSystem().getByDom(t).toOptional()),T).getOr(e)));t(e,i,n)})),ps=e=>cs(e,((e,t)=>{t.cut()})),ms=e=>cs(e,((e,t)=>{t.stop()})),gs=(e,t)=>ds(e)(t),Os=ds(Zr()),vs=ds(Xr()),bs=ds(Nr()),ys=(e=>t=>cs(e,t))(Er()),xs=e=>N(e,(e=>$e(e,"/*")?e.substring(0,e.length-2):e)),ws=(e,t)=>{const n=e.toString(),o=n.indexOf(")")+1,i=n.indexOf("("),r=n.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:xs(r)}),e},Ss=e=>({classes:d(e.classes)?[]:e.classes,attributes:d(e.attributes)?{}:e.attributes,styles:d(e.styles)?{}:e.styles}),_s=(e,t,n)=>bs(((o,i)=>{n(o,e,t)})),ks=(e,t,n)=>((e,t,n)=>{const o=n.toString(),i=o.indexOf(")")+1,r=o.indexOf("("),s=o.substring(r+1,i-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:xs(s.slice(0,1).concat(s.slice(3)))}),e})(((o,...i)=>{const r=[o].concat(i);return o.config({name:y(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(r,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))}),n,t),Cs=e=>({key:e,value:void 0}),Ts=(e,t,n,o,i,r,s)=>{const a=e=>ve(e,n)?e[n]():P.none(),l=le(i,((e,t)=>ks(n,e,t))),c={...le(r,((e,t)=>ws(e,t))),...l,revoke:S(Cs,n),config:t=>{const o=pi(n+"-config",e,t);return{key:n,value:{config:o,me:c,configAsRaw:Gt((()=>pi(n+"-config",e,t))),initialConfig:t,state:s}}},schema:y(t),exhibit:(e,t)=>xe(a(e),ge(o,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>Ss({}))),name:y(n),handlers:e=>a(e).map((e=>ge(o,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},$s={init:()=>Ps({readState:y("No State required")})},Ps=e=>e,As=e=>Hi(e),Qs=Fo([xi("fields"),xi("name"),Ni("active",{}),Ni("apis",{}),Ni("state",$s),Ni("extra",{})]),Es=e=>{const t=pi("Creating behaviour: "+e.name,Qs,e);return((e,t,n,o,i,r)=>{const s=Fo(e),a=zi(t,[(l="config",c=e,Qi(l,Fo(c)))]);var l,c;return Ts(s,a,t,n,o,i,r)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Ms=Fo([xi("branchKey"),xi("branches"),xi("name"),Ni("active",{}),Ni("apis",{}),Ni("state",$s),Ni("extra",{})]),Ds=e=>{const t=pi("Creating behaviour: "+e.name,Ms,e);return((e,t,n,o,i,r)=>{const s=e,a=zi(t,[Qi("config",e)]);return Ts(s,a,t,n,o,i,r)})(gi(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Is=y(void 0),Rs=(e,t)=>{const n=St(e,t);return void 0===n||""===n?[]:n.split(" ")},zs=e=>void 0!==e.dom.classList,Ns=e=>Rs(e,"class"),Ls=(e,t)=>((e,t,n)=>{const o=Rs(e,t).concat([n]);return xt(e,t,o.join(" ")),!0})(e,"class",t),js=(e,t)=>((e,t,n)=>{const o=V(Rs(e,t),(e=>e!==n));return o.length>0?xt(e,t,o.join(" ")):Ct(e,t),!1})(e,"class",t),Vs=(e,t)=>{zs(e)?e.dom.classList.add(t):Ls(e,t)},Bs=e=>{0===(zs(e)?e.dom.classList:Ns(e)).length&&Ct(e,"class")},Zs=(e,t)=>{if(zs(e)){e.dom.classList.remove(t)}else js(e,t);Bs(e)},Xs=(e,t)=>{const n=zs(e)?e.dom.classList.toggle(t):((e,t)=>D(Ns(e),t)?js(e,t):Ls(e,t))(e,t);return Bs(e),n},Ws=(e,t)=>zs(e)&&e.dom.classList.contains(t),Us=(e,t)=>{L(t,(t=>{Vs(e,t)}))},Ys=(e,t)=>{L(t,(t=>{Zs(e,t)}))},Fs=e=>zs(e)?(e=>{const t=e.dom.classList,n=new Array(t.length);for(let e=0;e<t.length;e++){const o=t.item(e);null!==o&&(n[e]=o)}return n})(e):Ns(e),qs=(e,t,n,o,i)=>{const r=e=>e+"px";return{position:e,left:t.map(r),top:n.map(r),right:o.map(r),bottom:i.map(r)}},Hs=(e,t)=>{Qt(e,(e=>({...e,position:P.some(e.position)}))(t))},Gs=e=>(be(Dt(e,"position"),"fixed")?P.none():rt(e)).orThunk((()=>{const t=De.fromTag("span");return ot(e).bind((e=>{Dn(e,t);const n=rt(t);return zn(t),n}))})),Ks=e=>Gs(e).map(Ut).getOrThunk((()=>Xt(0,0))),Js=(e,t)=>{const n=e.element;Vs(n,t.transitionClass),Zs(n,t.fadeOutClass),Vs(n,t.fadeInClass),t.onShow(e)},ea=(e,t)=>{const n=e.element;Vs(n,t.transitionClass),Zs(n,t.fadeInClass),Vs(n,t.fadeOutClass),t.onHide(e)},ta=(e,t)=>e.y>=t.y,na=(e,t)=>e.bottom<=t.bottom,oa=(e,t,n)=>({location:"top",leftX:t,topY:n.bounds.y-e.y}),ia=(e,t,n)=>({location:"bottom",leftX:t,bottomY:e.bottom-n.bounds.bottom}),ra=e=>e.box.x-e.win.x,sa=(e,t,n)=>n.getInitialPos().map((n=>{const o=((e,t)=>{const n=t.optScrollEnv.fold(y(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Xt(e.bounds.x,n)})(n,t);return{box:Un(o.left,o.top,qt(e),Vt(e)),location:n.location}})),aa=(e,t,n,o,i)=>{const r=((e,t)=>{const n=t.optScrollEnv.fold(y(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Xt(e.x,n)})(t,n),s=Un(r.left,r.top,t.width,t.height);o.setInitialPos({style:It(e),position:Et(e,"position")||"static",bounds:s,location:i.location})},la=(e,t,n)=>n.getInitialPos().bind((o=>{var i;switch(n.clearInitialPos(),o.position){case"static":return P.some({morph:"static"});case"absolute":const n=Gs(e).getOr(vt()),r=Yn(n),s=null!==(i=n.dom.scrollTop)&&void 0!==i?i:0;return P.some({morph:"absolute",positionCss:qs("absolute",ge(o.style,"left").map((e=>t.x-r.x)),ge(o.style,"top").map((e=>t.y-r.y+s)),ge(o.style,"right").map((e=>r.right-t.right)),ge(o.style,"bottom").map((e=>r.bottom-t.bottom)))});default:return P.none()}})),ca=(e,t,n)=>sa(e,t,n).filter((({box:e})=>((e,t,n)=>F(e,(e=>{switch(e){case"bottom":return na(t,n.bounds);case"top":return ta(t,n.bounds)}})))(n.getModes(),e,t))).bind((({box:t})=>la(e,t,n))),ua=e=>{switch(e.location){case"top":return P.some({morph:"fixed",positionCss:qs("fixed",P.some(e.leftX),P.some(e.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:qs("fixed",P.some(e.leftX),P.none(),P.none(),P.some(e.bottomY))});default:return P.none()}},da=(e,t,n)=>{const o=Yn(e),i=Hn(),r=((e,t,n)=>{const o=t.win,i=t.box,r=ra(t);return ie(e,(e=>{switch(e){case"bottom":return na(i,n.bounds)?P.none():P.some(ia(o,r,n));case"top":return ta(i,n.bounds)?P.none():P.some(oa(o,r,n));default:return P.none()}})).getOr({location:"no-dock"})})(n.getModes(),{win:i,box:o},t);return"top"===r.location||"bottom"===r.location?(aa(e,o,t,n,r),ua(r)):P.none()},ha=(e,t,n)=>{const o=e.element;return be(Dt(o,"position"),"fixed")?((e,t,n)=>ca(e,t,n).orThunk((()=>t.optScrollEnv.bind((o=>sa(e,t,n))).bind((({box:e,location:n})=>{const o=Hn(),i=ra({win:o,box:e}),r="top"===n?oa(o,i,t):ia(o,i,t);return ua(r)})))))(o,t,n):da(o,t,n)},fa=(e,t,n,o)=>{const i=Yn(e),r=Hn(),s=o(r,ra({win:r,box:i}),t);return"bottom"===s.location||"top"===s.location?(((e,t,n,o,i)=>{o.getInitialPos().fold((()=>aa(e,t,n,o,i)),(()=>O))})(e,i,t,n,s),ua(s)):P.none()},pa=(e,t,n)=>{n.setDocked(!1),L(["left","right","top","bottom","position"],(t=>zt(e.element,t))),t.onUndocked(e)},ma=(e,t,n,o)=>{const i="fixed"===o.position;n.setDocked(i),Hs(e.element,o);(i?t.onDocked:t.onUndocked)(e)},ga=(e,t,n,o,i=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((r=>{const s=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(r,o.bounds);if(s!==n.isVisible())if(n.setVisible(s),i&&!s)Us(e.element,[t.fadeOutClass]),t.onHide(e);else{(s?Js:ea)(e,t)}}))}))},Oa=(e,t,n,o,i)=>{ga(e,t,n,o,!0),ma(e,t,n,i.positionCss)},va=(e,t,n)=>{const o=t.lazyViewport(e);ga(e,t,n,o),ha(e,o,n).each((i=>{((e,t,n,o,i)=>{switch(i.morph){case"static":return pa(e,t,n);case"absolute":return ma(e,t,n,i.positionCss);case"fixed":Oa(e,t,n,o,i)}})(e,t,n,o,i)}))},ba=(e,t,n)=>{const o=e.element;n.setDocked(!1);const i=t.lazyViewport(e);((e,t,n)=>{const o=e.element;return sa(o,t,n).bind((({box:e})=>la(o,e,n)))})(e,i,n).each((o=>{switch(o.morph){case"static":pa(e,t,n);break;case"absolute":ma(e,t,n,o.positionCss)}})),n.setVisible(!0),t.contextual.each((t=>{Ys(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),ya(e,t,n)},ya=(e,t,n)=>{e.getSystem().isConnected()&&va(e,t,n)},xa=(e,t,n)=>{n.isDocked()&&ba(e,t,n)},wa=e=>(t,n,o)=>{const i=n.lazyViewport(t);fa(t.element,i,o,e).each((e=>{Oa(t,n,o,i,e)}))},Sa=wa(oa),_a=wa(ia);var ka=Object.freeze({__proto__:null,refresh:ya,reset:xa,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,o)=>n.setModes(o),forceDockToTop:Sa,forceDockToBottom:_a});var Ca=Object.freeze({__proto__:null,events:(e,t)=>ss([gs(Sr(),((n,o)=>{e.contextual.each((e=>{if(Ws(n.element,e.transitionClass)){Ys(n.element,[e.transitionClass,e.fadeInClass]);(t.isVisible()?e.onShown:e.onHidden)(n)}o.stop()}))})),cs(Vr(),((n,o)=>{ya(n,e,t)})),cs(qr(),((n,o)=>{ya(n,e,t)})),cs(Br(),((n,o)=>{xa(n,e,t)}))])});const Ta=e=>e.dom.innerHTML,$a=(e,t)=>{const n=Je(e).dom,o=De.fromDom(n.createDocumentFragment()),i=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,st(De.fromDom(n))})(t,n);In(o,i),Rn(e),Dn(e,o)},Pa=(e,t)=>De.fromDom(e.dom.cloneNode(t)),Aa=e=>{if(dt(e))return"#shadow-root";{const t=(e=>Pa(e,!1))(e);return(e=>{const t=De.fromTag("div"),n=De.fromDom(e.dom.cloneNode(!0));return Dn(t,n),Ta(t)})(t)}},Qa=e=>Aa(e),Ea="unknown";var Ma;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(Ma||(Ma={}));const Da=Gn({}),Ia=(e,t,n)=>{switch(ge(Da.get(),e).orThunk((()=>{const t=re(Da.get());return ie(t,(t=>e.indexOf(t)>-1?P.some(Da.get()[t]):P.none()))})).getOr(Ma.NORMAL)){case Ma.NORMAL:return n(Na());case Ma.LOGGING:{const o=((e,t)=>{const n=[],o=(new Date).getTime();return{logEventCut:(e,t,o)=>{n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{n.push({outcome:"response",purpose:o,target:t})},write:()=>{const i=(new Date).getTime();D(["mousemove","mouseover","mouseout",Nr()],e)||console.log(e,{event:e,time:i-o,target:t.dom,sequence:N(n,(e=>D(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Qa(e.target)+")":e.outcome))})}}})(e,t),i=n(o);return o.write(),i}case Ma.STOP:return!0}},Ra=["alloy/data/Fields","alloy/debugging/Debugging"],za=(e,t,n)=>Ia(e,t,n),Na=y({logEventCut:O,logEventStopped:O,logNoParent:O,logEventNoHandlers:O,logEventResponse:O,write:O}),La=y([xi("menu"),xi("selectedMenu")]),ja=y([xi("item"),xi("selectedItem")]);y(qo(ja().concat(La())));const Va=y(qo(ja())),Ba=Ti("initSize",[xi("numColumns"),xi("numRows")]),Za=()=>Ti("markers",[xi("backgroundMenu")].concat(La()).concat(ja())),Xa=e=>Ti("markers",N(e,xi)),Wa=(e,t,n)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");return X(t,(e=>e.indexOf("alloy")>0&&!I(Ra,(t=>e.indexOf(t)>-1)))).getOr(Ea)}})(),vi(t,t,n,ui((e=>po.value(((...t)=>e.apply(void 0,t))))))),Ua=e=>Wa(0,e,Io(O)),Ya=e=>Wa(0,e,Io(P.none)),Fa=e=>Wa(0,e,{tag:"required",process:{}}),qa=e=>Wa(0,e,{tag:"required",process:{}}),Ha=(e,t)=>bi(e,y(t)),Ga=e=>bi(e,x),Ka=y(Ba);var Ja=[zi("contextual",[_i("fadeInClass"),_i("fadeOutClass"),_i("transitionClass"),Ci("lazyContext"),Ua("onShow"),Ua("onShown"),Ua("onHide"),Ua("onHidden")]),Xi("lazyViewport",(()=>({bounds:Hn(),optScrollEnv:P.none()}))),Wi("modes",["top","bottom"],oi),Ua("onDocked"),Ua("onUndocked")];const el=Es({fields:Ja,name:"docking",active:Ca,apis:ka,state:Object.freeze({__proto__:null,init:e=>{const t=Gn(!1),n=Gn(!0),o=eo(),i=Gn(e.modes);return Ps({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:i.get,setModes:i.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${i.get().join(",")}`})}})}),tl=ss([((e,t)=>({key:e,value:or({can:t})}))($r(),((e,t)=>{const n=t.event,o=n.originator,i=n.target;return!((e,t,n)=>Ge(t,e.element)&&!Ge(t,n))(e,o,i)||(console.warn($r()+" did not get interpreted by the desired target. \nOriginator: "+Qa(o)+"\nTarget: "+Qa(i)+"\nCheck the "+$r()+" event handlers"),!1)}))]);var nl=Object.freeze({__proto__:null,events:tl});const ol=(e,t,n,o)=>{const i=e+t;return i>o?n:i<n?o:i},il=(e,t,n)=>Math.min(Math.max(e,t),n);let rl=0;const sl=e=>{const t=(new Date).getTime(),n=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return rl++,e+"_"+n+rl+String(t)},al=y("alloy-id-"),ll=y("data-alloy-id"),cl=al(),ul=ll(),dl=(e,t)=>{Object.defineProperty(e.dom,ul,{value:t,writable:!0})},hl=e=>{const t=Ze(e)?e.dom[ul]:null;return P.from(t)},fl=e=>sl(e),pl=x,ml=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+Qa(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},o=e=>()=>{console.warn(t(e))};return{debugInfo:y("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:T}},gl=ml(),Ol=sl("alloy-premade"),vl=e=>(Object.defineProperty(e.element.dom,Ol,{value:e.uid,writable:!0}),qi(Ol,e)),bl=e=>ge(e,Ol),yl=e=>((e,t)=>{const n=t.toString(),o=n.indexOf(")")+1,i=n.indexOf("("),r=n.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:xs(r.slice(1))}),e})(((t,...n)=>e(t.getApis(),t,...n)),e),xl=(e,t)=>{const n={};return ae(e,((e,o)=>{ae(e,((e,i)=>{const r=ge(n,i).getOr([]);n[i]=r.concat([t(o,e)])}))})),n},wl=e=>e.cHandler,Sl=(e,t)=>({name:e,handler:t}),_l=(e,t)=>{const n={};return L(e,(e=>{n[e.name()]=e.handlers(t)})),n},kl=(e,t,n,o)=>{const i=((e,t,n)=>{const o={...n,..._l(t,e)};return xl(o,Sl)})(e,n,o);return $l(i,t)},Cl=e=>{const t=(e=>p(e)?{can:$,abort:T,run:e}:e)(e);return(e,n,...o)=>{const i=[e,n].concat(o);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},Tl=(e,t,n)=>{const o=t[n];return o?((e,t,n,o)=>{try{const i=J(n,((n,i)=>{const r=n[t],s=i[t],a=o.indexOf(r),l=o.indexOf(s);if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+r+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+s+".\nOrder specified: "+JSON.stringify(o,null,2));return a<l?-1:l<a?1:0}));return po.value(i)}catch(e){return po.error([e])}})("Event: "+n,"name",e,o).map((e=>{const t=N(e,(e=>e.handler));return ir(t)})):((e,t)=>po.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(N(t,(e=>e.name)),null,2)]))(n,e)},$l=(e,t)=>{const n=fe(e,((e,n)=>(1===e.length?po.value(e[0].handler):Tl(e,t,n)).map((o=>{const i=Cl(o),r=e.length>1?V(t[n],(t=>I(e,(e=>e.name===t)))).join(" > "):e[0].name;return qi(n,((e,t)=>({handler:e,purpose:t}))(i,r))}))));return Gi(n,{})},Pl="alloy.base.behaviour",Al=qo([vi("dom","dom",{tag:"required",process:{}},qo([xi("tag"),Ni("styles",{}),Ni("classes",[]),Ni("attributes",{}),Ai("value"),Ai("innerHtml")])),xi("components"),xi("uid"),Ni("events",{}),Ni("apis",{}),vi("eventOrder","eventOrder",(e=>Ro(y(e)))({[Er()]:["disabling",Pl,"toggling","typeaheadevents"],[$r()]:[Pl,"focusing","keying"],[Nr()]:[Pl,"disabling","toggling","representing","tooltipping"],[br()]:[Pl,"representing","streaming","invalidating"],[Xr()]:[Pl,"representing","item-events","toolbar-button-events","tooltipping"],[ur()]:["focusing",Pl,"item-type-events"],[sr()]:["focusing",Pl,"item-type-events"],[pr()]:["item-type-events","tooltipping"],[Qr()]:["receiving","reflecting","tooltipping"]}),ei()),Ai("domModification")]),Ql=e=>e.events,El=e=>e.dom.value,Ml=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Dl=(e,t,n)=>{n.fold((()=>Dn(e,t)),(e=>{Ge(e,t)||(Qn(e,t),zn(e))}))},Il=(e,t,n)=>{const o=N(t,n),i=st(e);return L(i.slice(o.length),zn),o},Rl=(e,t,n,o)=>{const i=at(e,t),r=o(n,i),s=((e,t,n)=>at(e,t).map((e=>{if(n.exists((t=>!Ge(t,e)))){const t=n.map(je).getOr("span"),o=De.fromTag(t);return Qn(e,o),o}return e})))(e,t,i);return Dl(e,r.element,s),r},zl=(e,t)=>{const n=re(e),o=re(t),i=H(o,n),r=((e,t)=>{const n={},o={};return de(e,t,ue(n),ue(o)),{t:n,f:o}})(e,((e,n)=>!Oe(t,n)||e!==t[n])).t;return{toRemove:i,toSet:r}},Nl=(e,t)=>{const{class:n,style:o,...i}=(e=>Z(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:r,toRemove:s}=zl(e.attributes,i),a=It(t),{toSet:l,toRemove:c}=zl(e.styles,a),u=Fs(t),d=H(u,e.classes),h=H(e.classes,u);return L(s,(e=>Ct(t,e))),wt(t,r),Us(t,h),Ys(t,d),L(c,(e=>zt(t,e))),At(t,l),e.innerHtml.fold((()=>{const n=e.domChildren;((e,t)=>{Il(e,t,((t,n)=>{const o=at(e,n);return Dl(e,t,o),t}))})(t,n)}),(e=>{$a(t,e)})),(()=>{const n=t,o=e.value.getOrUndefined();o!==El(n)&&Ml(n,null!=o?o:"")})(),t},Ll=(e,t)=>{const n=t.filter((t=>je(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>Oe(e.dom,Ol))(t))).bind((t=>((e,t)=>{try{const n=Nl(e,t);return P.some(n)}catch(e){return P.none()}})(e,t))).getOrThunk((()=>(e=>{const t=De.fromTag(e.tag);wt(t,e.attributes),Us(t,e.classes),At(t,e.styles),e.innerHtml.each((e=>$a(t,e)));const n=e.domChildren;return In(t,n),e.value.each((e=>{Ml(t,e)})),t})(e)));return dl(n,e.uid),n},jl=(e,t)=>((e,t)=>{const n=N(t,(e=>zi(e.name(),[xi("config"),Ni("state",$s)]))),o=hi("component.behaviours",qo(n),e.behaviours).fold((t=>{throw new Error(mi(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),x);return{list:t,data:le(o,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return y(t)}))}})(e,t),Vl=e=>{const t=(e=>{const t=ge(e,"behaviours").getOr({});return Y(re(t),(e=>{const n=t[e];return f(n)?[n.me]:[]}))})(e);return jl(e,t)},Bl=(e,t,n)=>{const o={...(i=e).dom,uid:i.uid,domChildren:N(i.components,(e=>e.element))};var i;const r=(e=>e.domModification.fold((()=>Ss({})),Ss))(e),s={"alloy.base.modification":r},a=t.length>0?((e,t,n,o)=>{const i={...t};L(n,(t=>{i[t.name()]=t.exhibit(e,o)}));const r=xl(i,((e,t)=>({name:e,modification:t}))),s=e=>B(e,((e,t)=>({...t.modification,...e})),{}),a=B(r.classes,((e,t)=>t.modification.concat(e)),[]),l=s(r.attributes),c=s(r.styles);return Ss({classes:a,attributes:l,styles:c})})(n,s,t,o):r;return l=o,c=a,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c},Zl=(e,t)=>{const n=()=>h,o=Gn(gl),i=fi((e=>hi("custom.definition",Al,e))(e)),r=Vl(e),s=(e=>e.list)(r),a=(e=>e.data)(r),l=Bl(i,s,a),c=Ll(l,t),u=((e,t,n)=>{const o={"alloy.base.behaviour":Ql(e)};return kl(n,e.eventOrder,t,o).getOrDie()})(i,s,a),d=Gn(i.components),h={uid:e.uid,getSystem:o.get,config:t=>{const n=a;return(p(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>p(a[e.name()]),spec:e,readState:e=>a[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>i.apis,connect:e=>{o.set(e)},disconnect:()=>{o.set(ml(n))},element:c,syncComponents:()=>{const e=st(c),t=Y(e,(e=>o.get().getByDom(e).fold((()=>[]),K)));d.set(t)},components:d.get,events:u};return h},Xl=(e,t)=>{const{events:n,...o}=pl(e),i=((e,t)=>{const n=ge(e,"components").getOr([]);return t.fold((()=>N(n,ql)),(e=>N(n,((t,n)=>Fl(t,at(e,n))))))})(o,t),r={...o,events:{...nl,...n},components:i};return po.value(Zl(r,t))},Wl=e=>{const t=De.fromText(e);return Ul({element:t})},Ul=e=>{const t=pi("external.component",Fo([xi("element"),Ai("uid")]),e),n=Gn(ml()),o=t.uid.getOrThunk((()=>fl("external")));dl(t.element,o);const i={uid:o,getSystem:n.get,config:P.none,hasConfigured:T,connect:e=>{n.set(e)},disconnect:()=>{n.set(ml((()=>i)))},getApis:()=>({}),element:t.element,spec:e,readState:y("No state"),syncComponents:O,components:y([]),events:{}};return vl(i)},Yl=fl,Fl=(e,t)=>bl(e).getOrThunk((()=>{const n=(e=>Oe(e,"uid"))(e)?e:{uid:Yl(""),...e};return Xl(n,t).getOrDie()})),ql=e=>Fl(e,P.none()),Hl=vl,Gl=(e,t,n)=>oo(e,t,n).isSome(),Kl="aria-controls",Jl=()=>{const e=sl(Kl);return{id:e,link:t=>{xt(t,Kl,e)},unlink:e=>{Ct(e,Kl)}}},ec=(e,t)=>(e=>oo(e,(e=>{if(!Ze(e))return!1;const t=St(e,"id");return void 0!==t&&t.indexOf(Kl)>-1})).bind((e=>{const t=St(e,"id"),n=ht(e);return lo(n,`[${Kl}="${t}"]`)})))(t).exists((t=>tc(e,t))),tc=(e,t)=>Gl(t,(t=>Ge(t,e.element)),T)||ec(e,t),nc=(e,t,n,o,i,r,s,a=!1)=>({x:e,y:t,bubble:n,direction:o,placement:i,restriction:r,label:`${s}-${i}`,alwaysFit:a}),oc=Yi([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ic=oc.southeast,rc=oc.southwest,sc=oc.northeast,ac=oc.northwest,lc=oc.south,cc=oc.north,uc=oc.east,dc=oc.west,hc=(e,t)=>G(["left","right","top","bottom"],(n=>ge(t,n).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),fc="layout",pc=e=>e.x,mc=(e,t)=>e.x+e.width/2-t.width/2,gc=(e,t)=>e.x+e.width-t.width,Oc=(e,t)=>e.y-t.height,vc=e=>e.y+e.height,bc=(e,t)=>e.y+e.height/2-t.height/2,yc=(e,t,n)=>nc(pc(e),vc(e),n.southeast(),ic(),"southeast",hc(e,{left:1,top:3}),fc),xc=(e,t,n)=>nc(gc(e,t),vc(e),n.southwest(),rc(),"southwest",hc(e,{right:0,top:3}),fc),wc=(e,t,n)=>nc(pc(e),Oc(e,t),n.northeast(),sc(),"northeast",hc(e,{left:1,bottom:2}),fc),Sc=(e,t,n)=>nc(gc(e,t),Oc(e,t),n.northwest(),ac(),"northwest",hc(e,{right:0,bottom:2}),fc),_c=(e,t,n)=>nc(mc(e,t),Oc(e,t),n.north(),cc(),"north",hc(e,{bottom:2}),fc),kc=(e,t,n)=>nc(mc(e,t),vc(e),n.south(),lc(),"south",hc(e,{top:3}),fc),Cc=(e,t,n)=>nc((e=>e.x+e.width)(e),bc(e,t),n.east(),uc(),"east",hc(e,{left:0}),fc),Tc=(e,t,n)=>nc(((e,t)=>e.x-t.width)(e,t),bc(e,t),n.west(),dc(),"west",hc(e,{right:1}),fc),$c=()=>[yc,xc,wc,Sc,kc,_c,Cc,Tc],Pc=()=>[xc,yc,Sc,wc,kc,_c,Cc,Tc],Ac=()=>[wc,Sc,yc,xc,_c,kc],Qc=()=>[Sc,wc,xc,yc,_c,kc],Ec=()=>[yc,xc,wc,Sc,kc,_c],Mc=()=>[xc,yc,Sc,wc,kc,_c];var Dc=Object.freeze({__proto__:null,events:e=>ss([cs(Qr(),((t,n)=>{const o=e.channels,i=re(o),r=n,s=((e,t)=>t.universal?e:V(e,(e=>D(t.channels,e))))(i,r);L(s,(e=>{const n=o[e],i=n.schema,s=pi("channel["+e+"] data\nReceiver: "+Qa(t.element),i,r.data);n.onReceive(t,s)}))}))])}),Ic=[wi("channels",di(po.value,Fo([Fa("onReceive"),Ni("schema",ei())])))];const Rc=Es({fields:Ic,name:"receiving",active:Dc});var zc=Object.freeze({__proto__:null,exhibit:(e,t)=>Ss({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Nc=(e,t=!1)=>e.dom.focus({preventScroll:t}),Lc=e=>e.dom.blur(),jc=e=>{const t=ht(e).dom;return e.dom===t.activeElement},Vc=(e=Bn())=>P.from(e.dom.activeElement).map(De.fromDom),Bc=e=>Vc(ht(e)).filter((t=>e.dom.contains(t.dom))),Zc=(e,t)=>{const n=ht(t),o=Vc(n).bind((e=>{const n=t=>Ge(e,t);return n(t)?P.some(t):((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const i=De.fromDom(e.childNodes[o]);if(t(i))return P.some(i);const r=n(e.childNodes[o]);if(r.isSome())return r}return P.none()};return n(e.dom)})(t,n)})),i=e(t);return o.each((e=>{Vc(n).filter((t=>Ge(t,e))).fold((()=>{Nc(e)}),O)})),i},Xc=Yi([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Wc=(e,t,n,o,i,r)=>{const s=t.rect,a=s.x-n,l=s.y-o,c=i-(a+s.width),u=r-(l+s.height),d=P.some(a),h=P.some(l),f=P.some(c),p=P.some(u),m=P.none();return((e,t,n,o,i,r,s,a,l)=>e.fold(t,n,o,i,r,s,a,l))(t.direction,(()=>qs(e,d,h,m,m)),(()=>qs(e,m,h,f,m)),(()=>qs(e,d,m,m,p)),(()=>qs(e,m,m,f,p)),(()=>qs(e,d,h,m,m)),(()=>qs(e,d,m,m,p)),(()=>qs(e,d,h,m,m)),(()=>qs(e,m,h,f,m)))},Uc=(e,t)=>e.fold((()=>{const e=t.rect;return qs("absolute",P.some(e.x),P.some(e.y),P.none(),P.none())}),((e,n,o,i)=>Wc("absolute",t,e,n,o,i)),((e,n,o,i)=>Wc("fixed",t,e,n,o,i))),Yc=(e,t)=>{const n=S(Wn,t),o=e.fold(n,n,(()=>{const e=Nn();return Wn(t).translate(-e.left,-e.top)})),i=Ht(t),r=Bt(t);return Un(o.left,o.top,i,r)},Fc=(e,t)=>t.fold((()=>e.fold(Hn,Hn,Un)),(t=>e.fold(y(t),y(t),(()=>{const n=qc(e,t.x,t.y);return Un(n.left,n.top,t.width,t.height)})))),qc=(e,t,n)=>{const o=Xt(t,n);return e.fold(y(o),y(o),(()=>{const e=Nn();return o.translate(-e.left,-e.top)}))};Xc.none;const Hc=Xc.relative,Gc=Xc.fixed,Kc=(e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t),Jc="data-alloy-placement",eu=e=>_t(e,Jc),tu=Yi([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),nu=(e,t,n,o)=>{const i=e.bubble,r=i.offset,s=((e,t,n)=>{const o=(o,i)=>t[o].map((t=>{const r="top"===o||"bottom"===o,s=r?n.top:n.left,a=("left"===o||"top"===o?Math.max:Math.min)(t,i)+s;return r?il(a,e.y,e.bottom):il(a,e.x,e.right)})).getOr(i),i=o("left",e.x),r=o("top",e.y),s=o("right",e.right),a=o("bottom",e.bottom);return Un(i,r,s-i,a-r)})(o,e.restriction,r),a=e.x+r.left,l=e.y+r.top,c=Un(a,l,t,n),{originInBounds:u,sizeInBounds:d,visibleW:h,visibleH:f}=((e,t)=>{const{x:n,y:o,right:i,bottom:r}=t,{x:s,y:a,right:l,bottom:c,width:u,height:d}=e;return{originInBounds:s>=n&&s<=i&&a>=o&&a<=r,sizeInBounds:l<=i&&l>=n&&c<=r&&c>=o,visibleW:Math.min(u,s>=n?i-s:l-n),visibleH:Math.min(d,a>=o?r-a:c-o)}})(c,s),p=u&&d,m=p?c:((e,t)=>{const{x:n,y:o,right:i,bottom:r}=t,{x:s,y:a,width:l,height:c}=e,u=Math.max(n,i-l),d=Math.max(o,r-c),h=il(s,n,u),f=il(a,o,d),p=Math.min(h+l,i)-h,m=Math.min(f+c,r)-f;return Un(h,f,p,m)})(c,s),g=m.width>0&&m.height>0,{maxWidth:O,maxHeight:v}=((e,t,n)=>{const o=y(t.bottom-n.y),i=y(n.bottom-t.y),r=((e,t,n,o)=>e.fold(t,t,o,o,t,o,n,n))(e,i,i,o),s=y(t.right-n.x),a=y(n.right-t.x),l=((e,t,n,o)=>e.fold(t,o,t,o,n,n,t,o))(e,a,a,s);return{maxWidth:l,maxHeight:r}})(e.direction,m,o),b={rect:m,maxHeight:v,maxWidth:O,direction:e.direction,placement:e.placement,classes:{on:i.classesOn,off:i.classesOff},layout:e.label,testY:l};return p||e.alwaysFit?tu.fit(b):tu.nofit(b,h,f,g)},ou=$,iu=(e,t,n)=>((e,t,n,o)=>Pn(e,t,n,o,!1))(e,t,ou,n),ru=(e,t,n)=>((e,t,n,o)=>Pn(e,t,n,o,!0))(e,t,ou,n),su=$n,au=["top","bottom","right","left"],lu="data-alloy-transition-timer",cu=(e,t)=>((e,t)=>F(t,(t=>Ws(e,t))))(e,t.classes),uu=(e,t)=>{const n=e=>parseFloat(e).toFixed(3);return pe(t,((t,o)=>!((e,t,n=w)=>xe(e,t,n).getOr(e.isNone()&&t.isNone()))(e[o].map(n),t.map(n)))).isSome()},du=(e,t)=>{const n=Jn(),o=Jn();let i;const s=t=>{var n;const o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return Ge(t.target,e)&&Qe(o)&&D(au,t.raw.propertyName)},a=r=>{if(h(r)||s(r)){n.clear(),o.clear();const s=null==r?void 0:r.raw.type;(h(s)||s===Sr())&&(clearTimeout(i),Ct(e,lu),Ys(e,t.classes))}},l=iu(e,_r(),(t=>{s(t)&&(l.unbind(),n.set(iu(e,Sr(),a)),o.set(iu(e,wr(),a)))})),c=(e=>{const t=t=>{const n=Et(e,t).split(/\s*,\s*/);return V(n,Ae)},n=e=>{if(r(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return $e(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),i=t("transition-duration");return Z(i,((e,t,i)=>{const r=n(o[i])+n(t);return Math.max(e,r)}),0)})(e);requestAnimationFrame((()=>{i=setTimeout(a,c+17),xt(e,lu,i)}))},hu=(e,t,n,o,i,r)=>{const s=((e,t,n)=>n.exists((n=>{const o=e.mode;return"all"===o||n[o]!==t[o]})))(o,i,r);if(s||cu(e,o)){Pt(e,"position",n.position);const r=Yc(t,e),a=Uc(t,{...i,rect:r}),l=G(au,(e=>a[e]));uu(n,l)&&(Qt(e,l),s&&((e,t)=>{Us(e,t.classes),_t(e,lu).each((t=>{clearTimeout(parseInt(t,10)),Ct(e,lu)})),du(e,t)})(e,o),Nt(e))}else Ys(e,o.classes)},fu=(e,t,n,o)=>{zt(t,"max-height"),zt(t,"max-width");const i={width:Ht(r=t),height:Bt(r)};var r;return((e,t,n,o,i,r)=>{const s=o.width,a=o.height,l=(t,l,c,u,d)=>{const h=t(n,o,i,e,r),f=nu(h,s,a,r);return f.fold(y(f),((e,t,n,o)=>(d===o?n>u||t>c:!d&&o)?f:tu.nofit(l,c,u,d)))},c=Z(t,((e,t)=>{const n=S(l,t);return e.fold(y(e),n)}),tu.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:ic(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1));return c.fold(x,x)})(t,o.preference,e,i,n,o.bounds)},pu=(e,t)=>{((e,t)=>{xt(e,Jc,t)})(e,t.placement)},mu=(e,t)=>{((e,t)=>{const n=jt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Pt(e,"max-height",n+"px")})(e,Math.floor(t))},gu=y(((e,t)=>{mu(e,t),At(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Ou=y(((e,t)=>{mu(e,t)})),vu=(e,t,n)=>void 0===e[t]?n:e[t],bu=(e,t,n,o)=>{const i=fu(e,t,n,o);return((e,t,n)=>{const o=Uc(n.origin,t);n.transition.each((i=>{hu(e,n.origin,o,i,t,n.lastPlacement)})),Hs(e,o)})(t,i,o),pu(t,i),((e,t)=>{const n=t.classes;Ys(e,n.off),Us(e,n.on)})(t,i),((e,t,n)=>{(0,n.maxHeightFunction)(e,t.maxHeight)})(t,i,o),((e,t,n)=>{(0,n.maxWidthFunction)(e,t.maxWidth)})(t,i,o),{layout:i.layout,placement:i.placement}},yu=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],xu=(e,t,n,o=1)=>{const i=e*o,r=t*o,s=e=>ge(n,e).getOr([]),a=(e,t,n)=>{const o=H(yu,n);return{offset:Xt(e,t),classesOn:Y(n,s),classesOff:Y(o,s)}};return{southeast:()=>a(-e,t,["top","alignLeft"]),southwest:()=>a(e,t,["top","alignRight"]),south:()=>a(-e/2,t,["top","alignCentre"]),northeast:()=>a(-e,-t,["bottom","alignLeft"]),northwest:()=>a(e,-t,["bottom","alignRight"]),north:()=>a(-e/2,-t,["bottom","alignCentre"]),east:()=>a(e,-t/2,["valignCentre","left"]),west:()=>a(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>a(i,r,["top","alignLeft","inset"]),insetNorthwest:()=>a(-i,r,["top","alignRight","inset"]),insetNorth:()=>a(-i/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>a(i,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>a(-i,-r,["bottom","alignRight","inset"]),insetSouth:()=>a(-i/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>a(-i,-r/2,["valignCentre","right","inset"]),insetWest:()=>a(i,-r/2,["valignCentre","left","inset"])}},wu=()=>xu(0,0,{}),Su=x,_u=(e,t)=>n=>"rtl"===ku(n)?t:e,ku=e=>"rtl"===Et(e,"direction")?"rtl":"ltr";var Cu;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Cu||(Cu={}));const Tu="data-alloy-vertical-dir",$u=e=>Gl(e,(e=>Ze(e)&&St(e,"data-alloy-vertical-dir")===Cu.BottomToTop)),Pu=()=>zi("layouts",[xi("onLtr"),xi("onRtl"),Ai("onBottomLtr"),Ai("onBottomRtl")]),Au=(e,t,n,o,i,r,s)=>{const a=s.map($u).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),u=a?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(i):l.getOr(n),d=a?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(r):c.getOr(o);return _u(u,d)(e)};var Qu=[xi("hotspot"),Ai("bubble"),Ni("overrides",{}),Pu(),Ha("placement",((e,t,n)=>{const o=t.hotspot,i=Yc(n,o.element),r=Au(e.element,t,Ec(),Mc(),Ac(),Qc(),P.some(t.hotspot.element));return P.some(Su({anchorBox:i,bubble:t.bubble.getOr(wu()),overrides:t.overrides,layouts:r}))}))];var Eu=[xi("x"),xi("y"),Ni("height",0),Ni("width",0),Ni("bubble",wu()),Ni("overrides",{}),Pu(),Ha("placement",((e,t,n)=>{const o=qc(n,t.x,t.y),i=Un(o.left,o.top,t.width,t.height),r=Au(e.element,t,$c(),Pc(),$c(),Pc(),P.none());return P.some(Su({anchorBox:i,bubble:t.bubble,overrides:t.overrides,layouts:r}))}))];const Mu=Yi([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Du=e=>e.fold(x,((e,t,n)=>e.translate(-t,-n))),Iu=e=>e.fold(x,x),Ru=e=>Z(e,((e,t)=>e.translate(t.left,t.top)),Xt(0,0)),zu=e=>{const t=N(e,Iu);return Ru(t)},Nu=Mu.screen,Lu=Mu.absolute,ju=(e,t,n)=>{const o=Je(e.element),i=Nn(o),r=((e,t,n)=>{const o=nt(n.root).dom;return P.from(o.frameElement).map(De.fromDom).filter((t=>{const n=Je(t),o=Je(e.element);return Ge(n,o)})).map(Ut)})(e,0,n).getOr(i);return Lu(r,i.left,i.top)},Vu=(e,t,n,o)=>{const i=Nu(Xt(e,t));return P.some(((e,t,n)=>({point:e,width:t,height:n}))(i,n,o))},Bu=(e,t,n,o,i)=>e.map((e=>{const r=[t,e.point],s=(a=()=>zu(r),l=()=>zu(r),c=()=>(e=>{const t=N(e,Du);return Ru(t)})(r),o.fold(a,l,c));var a,l,c;const u=((e,t,n,o)=>({x:e,y:t,width:n,height:o}))(s.left,s.top,e.width,e.height),d=n.showAbove?Ac():Ec(),h=n.showAbove?Qc():Mc(),f=Au(i,n,d,h,d,h,P.none());return Su({anchorBox:u,bubble:n.bubble.getOr(wu()),overrides:n.overrides,layouts:f})}));var Zu=[xi("node"),xi("root"),Ai("bubble"),Pu(),Ni("overrides",{}),Ni("showAbove",!1),Ha("placement",((e,t,n)=>{const o=ju(e,0,t);return t.node.filter(Ot).bind((i=>{const r=i.dom.getBoundingClientRect(),s=Vu(r.left,r.top,r.width,r.height),a=t.node.getOr(e.element);return Bu(s,o,t,n,a)}))}))];const Xu=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Wu=Yi([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Uu=(Wu.before,Wu.on,Wu.after,e=>e.fold(x,x,x)),Yu=Yi([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fu={domRange:Yu.domRange,relative:Yu.relative,exact:Yu.exact,exactFromRange:e=>Yu.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>De.fromDom(e.startContainer),relative:(e,t)=>Uu(e),exact:(e,t,n,o)=>e}))(e);return nt(t)},range:Xu},qu=(e,t,n)=>{const o=e.document.createRange();var i;return i=o,t.fold((e=>{i.setStartBefore(e.dom)}),((e,t)=>{i.setStart(e.dom,t)}),(e=>{i.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},Hu=(e,t,n,o,i)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(o.dom,i),r},Gu=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Ku=Yi([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ju=(e,t,n)=>t(De.fromDom(n.startContainer),n.startOffset,De.fromDom(n.endContainer),n.endOffset),ed=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:y(e),rtl:P.none}),relative:(t,n)=>({ltr:Gt((()=>qu(e,t,n))),rtl:Gt((()=>P.some(qu(e,n,t))))}),exact:(t,n,o,i)=>({ltr:Gt((()=>Hu(e,t,n,o,i))),rtl:Gt((()=>P.some(Hu(e,o,i,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();if(n.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>Ku.rtl(De.fromDom(e.endContainer),e.endOffset,De.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Ju(0,Ku.ltr,n)));return Ju(0,Ku.ltr,n)})(0,n)},td=(e,t)=>ed(e,t).match({ltr:(t,n,o,i)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(o.dom,i),r},rtl:(t,n,o,i)=>{const r=e.document.createRange();return r.setStart(o.dom,i),r.setEnd(t.dom,n),r}});Ku.ltr,Ku.rtl;const nd=(e,t,n)=>V(((e,t)=>{const n=p(t)?t:T;let o=e.dom;const i=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=De.fromDom(e);if(i.push(t),!0===n(t))break;o=e}return i})(e,n),t),od=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return qe(n)?[]:N(n.querySelectorAll(e),De.fromDom)})(t,e),id=(e,t,n,o)=>{const i=((e,t,n,o)=>{const i=Je(e).dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,o),i})(e,t,n,o),r=Ge(e,n)&&t===o;return i.collapsed&&!r},rd=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return P.some(Xu(De.fromDom(t.startContainer),t.startOffset,De.fromDom(n.endContainer),n.endOffset))}return P.none()},sd=e=>{if(null===e.anchorNode||null===e.focusNode)return rd(e);{const t=De.fromDom(e.anchorNode),n=De.fromDom(e.focusNode);return id(t,e.anchorOffset,n,e.focusOffset)?P.some(Xu(t,e.anchorOffset,n,e.focusOffset)):rd(e)}},ad=e=>(e=>P.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(sd),ld=(e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?P.some(n).map(Gu):P.none()})(td(e,t)),cd=(e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?P.some(t).map(Gu):P.none()})(td(e,t)),ud=((e,t)=>{const n=t=>e(t)?P.from(t.dom.nodeValue):P.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(Xe,"text"),dd=(e,t)=>({element:e,offset:t}),hd=(e,t)=>{const n=st(e);if(0===n.length)return dd(e,t);if(t<n.length)return dd(n[t],0);{const e=n[n.length-1],t=Xe(e)?(e=>ud.get(e))(e).length:st(e).length;return dd(e,t)}},fd=(e,t)=>Xe(e)?dd(e,t):hd(e,t),pd=e=>void 0!==e.foffset,md=(e,t)=>t.getSelection.getOrThunk((()=>()=>ad(e)))().map((e=>{if(pd(e)){const t=fd(e.start,e.soffset),n=fd(e.finish,e.foffset);return Fu.range(t.element,t.offset,n.element,n.offset)}return e}));var gd=[Ai("getSelection"),xi("root"),Ai("bubble"),Pu(),Ni("overrides",{}),Ni("showAbove",!1),Ha("placement",((e,t,n)=>{const o=nt(t.root).dom,i=ju(e,0,t),r=md(o,t).bind((e=>{if(pd(e)){const t=cd(o,Fu.exactFromRange(e)).orThunk((()=>{const t=De.fromText("\ufeff");Qn(e.start,t);const n=ld(o,Fu.exact(t,0,t,1));return zn(t),n}));return t.bind((e=>Vu(e.left,e.top,e.width,e.height)))}{const t=le(e,(e=>e.dom.getBoundingClientRect())),n={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return Vu(n.left,n.top,n.right-n.left,n.bottom-n.top)}})),s=md(o,t).bind((e=>pd(e)?Ze(e.start)?P.some(e.start):it(e.start):P.some(e.firstCell))).getOr(e.element);return Bu(r,i,t,n,s)}))];const Od="link-layout",vd=e=>e.x+e.width,bd=(e,t)=>e.x-t.width,yd=(e,t)=>e.y-t.height+e.height,xd=e=>e.y,wd=(e,t,n)=>nc(vd(e),xd(e),n.southeast(),ic(),"southeast",hc(e,{left:0,top:2}),Od),Sd=(e,t,n)=>nc(bd(e,t),xd(e),n.southwest(),rc(),"southwest",hc(e,{right:1,top:2}),Od),_d=(e,t,n)=>nc(vd(e),yd(e,t),n.northeast(),sc(),"northeast",hc(e,{left:0,bottom:3}),Od),kd=(e,t,n)=>nc(bd(e,t),yd(e,t),n.northwest(),ac(),"northwest",hc(e,{right:1,bottom:3}),Od),Cd=()=>[wd,Sd,_d,kd],Td=()=>[Sd,wd,kd,_d];var $d=[xi("item"),Pu(),Ni("overrides",{}),Ha("placement",((e,t,n)=>{const o=Yc(n,t.item.element),i=Au(e.element,t,Cd(),Td(),Cd(),Td(),P.none());return P.some(Su({anchorBox:o,bubble:wu(),overrides:t.overrides,layouts:i}))}))],Pd=gi("type",{selection:gd,node:Zu,hotspot:Qu,submenu:$d,makeshift:Eu});const Ad=[Pi("classes",oi),Bi("mode","all",["all","layout","placement"])],Qd=[Ni("useFixed",T),Ai("getBounds")],Ed=[wi("anchor",Pd),zi("transition",Ad)],Md=(e,t,n,o,i,r)=>((e,t,n,o,i,r,s,a)=>{const l=vu(s,"maxHeightFunction",gu()),c=vu(s,"maxWidthFunction",O),u=e.anchorBox,d=e.origin,h={bounds:Fc(d,r),origin:d,preference:o,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:i,transition:a};return bu(u,t,n,h)})(Kc(t.anchorBox,e),o.element,t.bubble,t.layouts,i,n,t.overrides,r),Dd=(e,t,n,o,i,r)=>{const s=pi("placement.info",qo(Ed),i),a=s.anchor,l=o.element,c=n.get(o.uid);Zc((()=>{Pt(l,"position","fixed");const i=Dt(l,"visibility");Pt(l,"visibility","hidden");const u=t.useFixed()?(()=>{const e=document.documentElement;return Gc(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=Ut(e.element),n=e.element.dom.getBoundingClientRect();return Hc(t.left,t.top,n.width,n.height)})(e);a.placement(e,a,u).each((e=>{const i=r.orThunk((()=>t.getBounds.map(C))),a=Md(u,e,i,o,c,s.transition);n.set(o.uid,a)})),i.fold((()=>{zt(l,"visibility")}),(e=>{Pt(l,"visibility",e)})),Dt(l,"left").isNone()&&Dt(l,"top").isNone()&&Dt(l,"right").isNone()&&Dt(l,"bottom").isNone()&&be(Dt(l,"position"),"fixed")&&zt(l,"position")}),l)};var Id=Object.freeze({__proto__:null,position:(e,t,n,o,i)=>{const r=P.none();Dd(e,t,n,o,i,r)},positionWithinBounds:Dd,getMode:(e,t,n)=>t.useFixed()?"fixed":"absolute",reset:(e,t,n,o)=>{const i=o.element;L(["position","left","right","top","bottom"],(e=>zt(i,e))),(e=>{Ct(e,Jc)})(i),n.clear(o.uid)}});const Rd=Es({fields:Qd,name:"positioning",active:zc,apis:Id,state:Object.freeze({__proto__:null,init:()=>{let e={};return Ps({readState:()=>e,clear:t=>{f(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>ge(e,t)})}})}),zd=e=>e.getSystem().isConnected(),Nd=e=>{es(e,Xr());const t=e.components();L(t,Nd)},Ld=e=>{const t=e.components();L(t,Ld),es(e,Zr())},jd=(e,t)=>{e.getSystem().addToWorld(t),Ot(e.element)&&Ld(t)},Vd=e=>{Nd(e),e.getSystem().removeFromWorld(e)},Bd=(e,t)=>{Dn(e.element,t.element)},Zd=(e,t,n)=>{const o=e.components();(e=>{L(e.components(),(e=>zn(e.element))),Rn(e.element),e.syncComponents()})(e);const i=n(t),r=H(o,i);L(r,(t=>{Nd(t),e.getSystem().removeFromWorld(t)})),L(i,(t=>{zd(t)?Bd(e,t):(e.getSystem().addToWorld(t),Bd(e,t),Ot(e.element)&&Ld(t))})),e.syncComponents()},Xd=(e,t)=>{Wd(e,t,Dn)},Wd=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),Ot(e.element)&&Ld(t),e.syncComponents()},Ud=e=>{Nd(e),zn(e.element),e.getSystem().removeFromWorld(e)},Yd=e=>{const t=ot(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));Ud(e),t.each((e=>{e.syncComponents()}))},Fd=e=>{const t=e.components();L(t,Ud),Rn(e.element),e.syncComponents()},qd=(e,t)=>{Gd(e,t,Dn)},Hd=(e,t)=>{Gd(e,t,En)},Gd=(e,t,n)=>{n(e,t.element);const o=st(t.element);L(o,(e=>{t.getByDom(e).each(Ld)}))},Kd=e=>{const t=st(e.element);L(t,(t=>{e.getByDom(t).each(Nd)})),zn(e.element)},Jd=(e,t,n,o)=>{n.get().each((t=>{Fd(e)}));const i=t.getAttachPoint(e);Xd(i,e);const r=e.getSystem().build(o);return Xd(e,r),n.set(r),r},eh=(e,t,n,o)=>{const i=Jd(e,t,n,o);return t.onOpen(e,i),i},th=(e,t,n)=>{n.get().each((o=>{Fd(e),Yd(e),t.onClose(e,o),n.clear()}))},nh=(e,t,n)=>n.isOpen(),oh=(e,t,n)=>{const o=t.getAttachPoint(e);Pt(e.element,"position",Rd.getMode(o)),((e,t,n,o)=>{Dt(e.element,t).fold((()=>{Ct(e.element,n)}),(t=>{xt(e.element,n,t)})),Pt(e.element,t,o)})(e,"visibility",t.cloakVisibilityAttr,"hidden")},ih=(e,t,n)=>{(e=>I(["top","left","right","bottom"],(t=>Dt(e,t).isSome())))(e.element)||zt(e.element,"position"),((e,t,n)=>{_t(e.element,n).fold((()=>zt(e.element,t)),(n=>Pt(e.element,t,n)))})(e,"visibility",t.cloakVisibilityAttr)};var rh=Object.freeze({__proto__:null,cloak:oh,decloak:ih,open:eh,openWhileCloaked:(e,t,n,o,i)=>{oh(e,t),eh(e,t,n,o),i(),ih(e,t)},close:th,isOpen:nh,isPartOf:(e,t,n,o)=>nh(0,0,n)&&n.get().exists((n=>t.isPartOf(e,n,o))),getState:(e,t,n)=>n.get(),setContent:(e,t,n,o)=>n.get().map((()=>Jd(e,t,n,o)))});var sh=Object.freeze({__proto__:null,events:(e,t)=>ss([cs(Rr(),((n,o)=>{th(n,e,t)}))])}),ah=[Ua("onOpen"),Ua("onClose"),xi("isPartOf"),xi("getAttachPoint"),Ni("cloakVisibilityAttr","data-precloak-visibility")];var lh=Object.freeze({__proto__:null,init:()=>{const e=eo(),t=y("not-implemented");return Ps({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const ch=Es({fields:ah,name:"sandboxing",active:sh,apis:rh,state:lh}),uh=y("dismiss.popups"),dh=y("reposition.popups"),hh=y("mouse.released"),fh=Fo([Ni("isExtraPart",T),zi("fireEventInstead",[Ni("event",Wr())])]),ph=e=>{const t=pi("Dismissal",fh,e);return{[uh()]:{schema:Fo([xi("target")]),onReceive:(e,n)=>{if(ch.isOpen(e)){ch.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((()=>ch.close(e)),(t=>es(e,t.event)))}}}}},mh=Fo([zi("fireEventInstead",[Ni("event",Ur())]),Ci("doReposition")]),gh=e=>{const t=pi("Reposition",mh,e);return{[dh()]:{onReceive:e=>{ch.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>es(e,t.event)))}}}},Oh=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},vh=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var bh=Object.freeze({__proto__:null,onLoad:Oh,onUnload:vh,setValue:(e,t,n,o)=>{t.store.manager.setValue(e,t,n,o)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n});var yh=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.resetOnDom?[Os(((n,o)=>{Oh(n,e,t)})),vs(((n,o)=>{vh(n,e,t)}))]:[_s(e,t,Oh)];return ss(n)}});const xh=()=>{const e=Gn(null);return Ps({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},wh=()=>{const e=Gn({}),t=Gn({});return Ps({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:n=>ge(e.get(),n).orThunk((()=>ge(t.get(),n))),update:n=>{const o=e.get(),i=t.get(),r={},s={};L(n,(e=>{r[e.value]=e,ge(e,"meta").each((t=>{ge(t,"text").each((t=>{s[t]=e}))}))})),e.set({...o,...r}),t.set({...i,...s})},clear:()=>{e.set({}),t.set({})}})};var Sh=Object.freeze({__proto__:null,memory:xh,dataset:wh,manual:()=>Ps({readState:O}),init:e=>e.store.manager.state(e)});const _h=(e,t,n,o)=>{const i=t.store;n.update([o]),i.setValue(e,o),t.onSetValue(e,o)};var kh=[Ai("initialValue"),xi("getFallbackEntry"),xi("getDataKey"),xi("setValue"),Ha("manager",{setValue:_h,getValue:(e,t,n)=>{const o=t.store,i=o.getDataKey(e);return n.lookup(i).getOrThunk((()=>o.getFallbackEntry(i)))},onLoad:(e,t,n)=>{t.store.initialValue.each((o=>{_h(e,t,n,o)}))},onUnload:(e,t,n)=>{n.clear()},state:wh})];var Ch=[xi("getValue"),Ni("setValue",O),Ai("initialValue"),Ha("manager",{setValue:(e,t,n,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))},onUnload:O,state:$s.init})];var Th=[Ai("initialValue"),Ha("manager",{setValue:(e,t,n,o)=>{n.set(o),t.onSetValue(e,o)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},onUnload:(e,t,n)=>{n.clear()},state:xh})],$h=[Li("store",{mode:"memory"},gi("mode",{memory:Th,manual:Ch,dataset:kh})),Ua("onSetValue"),Ni("resetOnDom",!1)];const Ph=Es({fields:$h,name:"representing",active:yh,apis:bh,extra:{setValueFrom:(e,t)=>{const n=Ph.getValue(t);Ph.setValue(e,n)}},state:Sh}),Ah=(e,t)=>Ui(e,{},N(t,(t=>{return n=t.name(),o="Cannot configure "+t.name()+" for "+e,vi(n,n,{tag:"option",process:{}},Vo((e=>So("The field: "+n+" is forbidden. "+o))));var n,o})).concat([bi("dump",x)])),Qh=e=>e.dump,Eh=(e,t)=>({...As(t),...e.dump}),Mh=Ah,Dh=Eh,Ih="placeholder",Rh=Yi([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),zh=e=>Oe(e,"uiType"),Nh=(e,t,n,o)=>zh(n)&&n.uiType===Ih?((e,t,n,o)=>e.exists((e=>e!==n.owner))?Rh.single(!0,y(n)):ge(o,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+re(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())))(e,0,n,o):Rh.single(!1,y(n)),Lh=(e,t,n,o)=>Nh(e,0,n,o).fold(((i,r)=>{const s=zh(n)?r(t,n.config,n.validated):r(t),a=ge(s,"components").getOr([]),l=Y(a,(n=>Lh(e,t,n,o)));return[{...s,components:l}]}),((e,o)=>{if(zh(n)){const e=o(t,n.config,n.validated);return n.validated.preprocess.getOr(x)(e)}return o(t)})),jh=(e,t,n,o)=>{const i=le(o,((e,t)=>((e,t)=>{let n=!1;return{name:y(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>n,replace:()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}})(t,e))),r=((e,t,n,o)=>Y(n,(n=>Lh(e,t,n,o))))(e,t,n,i);return ae(i,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),r},Vh=Rh.single,Bh=Rh.multiple,Zh=y(Ih),Xh=Yi([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Wh=Ni("factory",{sketch:x}),Uh=Ni("schema",[]),Yh=xi("name"),Fh=vi("pname","pname",Do((e=>"<alloy."+sl(e.name)+">")),ei()),qh=bi("schema",(()=>[Ai("preprocess")])),Hh=Ni("defaults",y({})),Gh=Ni("overrides",y({})),Kh=qo([Wh,Uh,Yh,Fh,Hh,Gh]),Jh=qo([Wh,Uh,Yh,Hh,Gh]),ef=qo([Wh,Uh,Yh,Fh,Hh,Gh]),tf=qo([Wh,qh,Yh,xi("unit"),Fh,Hh,Gh]),nf=e=>e.fold(P.some,P.none,P.some,P.some),of=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},rf=(e,t)=>n=>{const o=pi("Converting part type",t,n);return e(o)},sf=rf(Xh.required,Kh),af=rf(Xh.external,Jh),lf=rf(Xh.optional,ef),cf=rf(Xh.group,tf),uf=y("entirety");var df=Object.freeze({__proto__:null,required:sf,external:af,optional:lf,group:cf,asNamedPart:nf,name:of,asCommon:e=>e.fold(x,x,x,x),original:uf});const hf=(e,t,n,o)=>Eo(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o)),ff=(e,t)=>{const n={};return L(t,(t=>{nf(t).each((t=>{const o=pf(e,t.pname);n[t.name]=n=>{const i=pi("Part: "+t.name+" in "+e,qo(t.schema),n);return{...o,config:n,validated:i}}}))})),n},pf=(e,t)=>({uiType:Zh(),owner:e,name:t}),mf=(e,t,n)=>({uiType:Zh(),owner:e,name:t,config:n,validated:{}}),gf=e=>Y(e,(e=>e.fold(P.none,P.some,P.none,P.none).map((e=>Ti(e.name,e.schema.concat([Ga(uf())])))).toArray())),Of=e=>N(e,of),vf=(e,t,n)=>((e,t,n)=>{const o={},i={};return L(n,(e=>{e.fold((e=>{o[e.pname]=Vh(!0,((t,n,o)=>e.factory.sketch(hf(t,e,n,o))))}),(e=>{const n=t.parts[e.name];i[e.name]=y(e.factory.sketch(hf(t,e,n[uf()]),n))}),(e=>{o[e.pname]=Vh(!1,((t,n,o)=>e.factory.sketch(hf(t,e,n,o))))}),(e=>{o[e.pname]=Bh(!0,((t,n,o)=>{const i=t[e.name];return N(i,(n=>e.factory.sketch(Eo(e.defaults(t,n,o),n,e.overrides(t,n)))))}))}))})),{internals:y(o),externals:y(i)}})(0,t,n),bf=(e,t,n)=>jh(P.some(e),t,t.components,n),yf=(e,t,n)=>{const o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},xf=(e,t,n)=>yf(e,t,n).getOrDie("Could not find part: "+n),wf=(e,t,n)=>{const o={},i=t.partUids,r=e.getSystem();return L(n,(e=>{o[e]=y(r.getByUid(i[e]))})),o},Sf=(e,t)=>{const n=e.getSystem();return le(t.partUids,((e,t)=>y(n.getByUid(e))))},_f=e=>re(e.partUids),kf=(e,t,n)=>{const o={},i=t.partUids,r=e.getSystem();return L(n,(e=>{o[e]=y(r.getByUid(i[e]).getOrDie())})),o},Cf=(e,t)=>{const n=Of(t);return Hi(N(n,(t=>({key:t,value:e+"-"+t}))))},Tf=e=>vi("partUids","partUids",Ro((t=>Cf(t.uid,e))),ei());var $f=Object.freeze({__proto__:null,generate:ff,generateOne:mf,schemas:gf,names:Of,substitutes:vf,components:bf,defaultUids:Cf,defaultUidsSchema:Tf,getAllParts:Sf,getAllPartNames:_f,getPart:yf,getPartOrDie:xf,getParts:wf,getPartsOrDie:kf});const Pf=(e,t,n,o,i)=>{const r=((e,t)=>(e.length>0?[Ti("parts",e)]:[]).concat([xi("uid"),Ni("dom",{}),Ni("components",[]),Ga("originalSpec"),Ni("debug.sketcher",{})]).concat(t))(o,i);return pi(e+" [SpecSchema]",Fo(r.concat(t)),n)},Af=(e,t,n,o,i)=>{const r=Qf(i),s=gf(n),a=Tf(n),l=Pf(e,t,r,s,[a]),c=vf(0,l,n);return o(l,bf(e,l,c.internals()),r,c.externals())},Qf=e=>(e=>Oe(e,"uid"))(e)?e:{...e,uid:fl("uid")},Ef=Fo([xi("name"),xi("factory"),xi("configFields"),Ni("apis",{}),Ni("extraApis",{})]),Mf=Fo([xi("name"),xi("factory"),xi("configFields"),xi("partFields"),Ni("apis",{}),Ni("extraApis",{})]),Df=e=>{const t=pi("Sketcher for "+e.name,Ef,e),n=le(t.apis,yl),o=le(t.extraApis,((e,t)=>ws(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,n,o)=>{const i=Qf(o);return n(Pf(e,t,i,[],[]),i)})(t.name,t.configFields,t.factory,e),...n,...o}},If=e=>{const t=pi("Sketcher for "+e.name,Mf,e),n=ff(t.name,t.partFields),o=le(t.apis,yl),i=le(t.extraApis,((e,t)=>ws(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>Af(t.name,t.configFields,t.partFields,t.factory,e),parts:n,...o,...i}},Rf=e=>Ye("input")(e)&&"radio"!==St(e,"type")||Ye("textarea")(e);var zf=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});const Nf=[xi("find")],Lf=Es({fields:Nf,name:"composing",apis:zf}),jf=["input","button","textarea","select"],Vf=(e,t,n)=>{(t.disabled()?Yf:Ff)(e,t)},Bf=(e,t)=>!0===t.useNative&&D(jf,je(e.element)),Zf=e=>{xt(e.element,"disabled","disabled")},Xf=e=>{Ct(e.element,"disabled")},Wf=e=>{xt(e.element,"aria-disabled","true")},Uf=e=>{xt(e.element,"aria-disabled","false")},Yf=(e,t,n)=>{t.disableClass.each((t=>{Vs(e.element,t)}));(Bf(e,t)?Zf:Wf)(e),t.onDisabled(e)},Ff=(e,t,n)=>{t.disableClass.each((t=>{Zs(e.element,t)}));(Bf(e,t)?Xf:Uf)(e),t.onEnabled(e)},qf=(e,t)=>Bf(e,t)?(e=>kt(e.element,"disabled"))(e):(e=>"true"===St(e.element,"aria-disabled"))(e);var Hf=Object.freeze({__proto__:null,enable:Ff,disable:Yf,isDisabled:qf,onLoad:Vf,set:(e,t,n,o)=>{(o?Yf:Ff)(e,t)}});var Gf=Object.freeze({__proto__:null,exhibit:(e,t)=>Ss({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>ss([as(Er(),((t,n)=>qf(t,e))),_s(e,t,Vf)])}),Kf=[Xi("disabled",T),Ni("useNative",!0),Ai("disableClass"),Ua("onDisabled"),Ua("onEnabled")];const Jf=Es({fields:Kf,name:"disabling",active:Gf,apis:Hf}),ep=(e,t,n,o)=>{const i=od(e.element,"."+t.highlightClass);L(i,(n=>{I(o,(e=>Ge(e.element,n)))||(Zs(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),es(n,Jr())})))}))},tp=(e,t,n,o)=>{ep(e,t,0,[o]),np(e,t,n,o)||(Vs(o.element,t.highlightClass),t.onHighlight(e,o),es(o,Kr()))},np=(e,t,n,o)=>Ws(o.element,t.highlightClass),op=(e,t,n,o)=>{const i=od(e.element,"."+t.itemClass);return P.from(i[o]).fold((()=>po.error(new Error("No element found with index "+o))),e.getSystem().getByDom)},ip=(e,t,n)=>lo(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),rp=(e,t,n)=>{const o=od(e.element,"."+t.itemClass);return(o.length>0?P.some(o[o.length-1]):P.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},sp=(e,t,n,o)=>{const i=od(e.element,"."+t.itemClass),r=W(i,(e=>Ws(e,t.highlightClass)));return r.bind((t=>{const n=ol(t,o,0,i.length-1);return e.getSystem().getByDom(i[n]).toOptional()}))},ap=(e,t,n)=>{const o=od(e.element,"."+t.itemClass);return ye(N(o,(t=>e.getSystem().getByDom(t).toOptional())))};var lp=Object.freeze({__proto__:null,dehighlightAll:(e,t,n)=>ep(e,t,0,[]),dehighlight:(e,t,n,o)=>{np(e,t,n,o)&&(Zs(o.element,t.highlightClass),t.onDehighlight(e,o),es(o,Jr()))},highlight:tp,highlightFirst:(e,t,n)=>{ip(e,t).each((o=>{tp(e,t,n,o)}))},highlightLast:(e,t,n)=>{rp(e,t).each((o=>{tp(e,t,n,o)}))},highlightAt:(e,t,n,o)=>{op(e,t,n,o).fold((e=>{throw e}),(o=>{tp(e,t,n,o)}))},highlightBy:(e,t,n,o)=>{const i=ap(e,t);X(i,o).each((o=>{tp(e,t,n,o)}))},isHighlighted:np,getHighlighted:(e,t,n)=>lo(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:ip,getLast:rp,getPrevious:(e,t,n)=>sp(e,t,0,-1),getNext:(e,t,n)=>sp(e,t,0,1),getCandidates:ap}),cp=[xi("highlightClass"),xi("itemClass"),Ua("onHighlight"),Ua("onDehighlight")];const up=Es({fields:cp,name:"highlighting",apis:lp}),dp=[8],hp=[9],fp=[13],pp=[27],mp=[32],gp=[37],Op=[38],vp=[39],bp=[40],yp=(e,t,n)=>{const o=q(e.slice(0,t)),i=q(e.slice(t+1));return X(o.concat(i),n)},xp=(e,t,n)=>{const o=q(e.slice(0,t));return X(o,n)},wp=(e,t,n)=>{const o=e.slice(0,t),i=e.slice(t+1);return X(i.concat(o),n)},Sp=(e,t,n)=>{const o=e.slice(t+1);return X(o,n)},_p=e=>t=>{const n=t.raw;return D(e,n.which)},kp=e=>t=>F(e,(e=>e(t))),Cp=e=>!0===e.raw.shiftKey,Tp=e=>!0===e.raw.ctrlKey,$p=_(Cp),Pp=(e,t)=>({matches:e,classification:t}),Ap=(e,t,n)=>{t.exists((e=>n.exists((t=>Ge(t,e)))))||ts(e,Yr(),{prevFocus:t,newFocus:n})},Qp=()=>{const e=e=>Bc(e.element);return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().triggerFocus(n,t.element);const i=e(t);Ap(t,o,i)}}},Ep=()=>{const e=e=>up.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().getByDom(n).fold(O,(e=>{up.highlight(t,e)}));const i=e(t);Ap(t,o,i)}}};var Mp;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Mp||(Mp={}));const Dp=(e,t,n,o,i)=>{const r=(e,t,n,o,i)=>((e,t)=>{const n=X(e,(e=>e.matches(t)));return n.map((e=>e.classification))})(n(e,t,o,i),t.event).bind((n=>n(e,t,o,i))),s={schema:()=>e.concat([Ni("focusManager",Qp()),Li("focusInside","onFocus",ui((e=>D(["onFocus","onEnterOrSpace","onApi"],e)?po.value(e):po.error("Invalid value for focusInside")))),Ha("handler",s),Ha("state",t),Ha("sendFocusIn",i)]),processKey:r,toEvents:(e,t)=>{const s=e.focusInside!==Mp.OnFocusMode?P.none():i(e).map((n=>cs($r(),((o,i)=>{n(o,e,t),i.stop()})))),a=[cs(Or(),((o,s)=>{r(o,s,n,e,t).fold((()=>{((n,o)=>{const r=_p(mp.concat(fp))(o.event);e.focusInside===Mp.OnEnterOrSpaceMode&&r&&tr(n,o)&&i(e).each((i=>{i(n,e,t),o.stop()}))})(o,s)}),(e=>{s.stop()}))})),cs(vr(),((n,i)=>{r(n,i,o,e,t).each((e=>{i.stop()}))}))];return ss(s.toArray().concat(a))}};return s},Ip=e=>{const t=[Ai("onEscape"),Ai("onEnter"),Ni("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ni("firstTabstop",0),Ni("useTabstopAt",$),Ai("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>co(t,e))).getOr(t);return Vt(n)>0},o=(e,t)=>t.focusManager.get(e).bind((e=>co(e,t.selector))),i=(e,t,o)=>{((e,t)=>{const o=od(e.element,t.selector),i=V(o,(e=>n(t,e)));return P.from(i[t.firstTabstop])})(e,t).each((n=>{t.focusManager.set(e,n)}))},r=(e,t,o,i,r)=>r(t,o,(e=>((e,t)=>n(e,t)&&e.useTabstopAt(t))(i,e))).fold((()=>i.cyclic?P.some(!0):P.none()),(t=>(i.focusManager.set(e,t),P.some(!0)))),s=(e,t,i,s)=>{const a=V(od(e.element,i.selector),(e=>n(i,e)));return o(e,i).bind((t=>W(a,S(Ge,t)).bind((t=>r(e,a,t,i,s)))))},a=(e,t,n)=>{const o=n.cyclic?yp:xp;return s(e,0,n,o)},l=(e,t,n)=>{const o=n.cyclic?wp:Sp;return s(e,0,n,o)},c=e=>(e=>ot(e))(e).bind(lt).exists((t=>Ge(t,e))),u=y([Pp(kp([Cp,_p(hp)]),a),Pp(_p(hp),l),Pp(kp([$p,_p(fp)]),((e,t,n)=>n.onEnter.bind((n=>n(e,t)))))]),d=y([Pp(_p(pp),((e,t,n)=>n.onEscape.bind((n=>n(e,t))))),Pp(_p(hp),((e,t,n)=>o(e,n).filter((e=>!n.useTabstopAt(e))).bind((o=>(c(o)?a:l)(e,t,n)))))]);return Dp(t,$s.init,u,d,(()=>P.some(i)))};var Rp=Ip(bi("cyclic",T)),zp=Ip(bi("cyclic",$));const Np=(e,t,n)=>Rf(n)&&_p(mp)(t.event)?P.none():((e,t,n)=>(os(e,n,Er()),P.some(!0)))(e,0,n),Lp=(e,t)=>P.some(!0),jp=[Ni("execute",Np),Ni("useSpace",!1),Ni("useEnter",!0),Ni("useControlEnter",!1),Ni("useDown",!1)],Vp=(e,t,n)=>n.execute(e,t,e.element);var Bp=Dp(jp,$s.init,((e,t,n,o)=>{const i=n.useSpace&&!Rf(e.element)?mp:[],r=n.useEnter?fp:[],s=n.useDown?bp:[],a=i.concat(r).concat(s);return[Pp(_p(a),Vp)].concat(n.useControlEnter?[Pp(kp([Tp,_p(fp)]),Vp)]:[])}),((e,t,n,o)=>n.useSpace&&!Rf(e.element)?[Pp(_p(mp),Lp)]:[]),(()=>P.none()));const Zp=()=>{const e=eo();return Ps({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var Xp=Object.freeze({__proto__:null,flatgrid:Zp,init:e=>e.state(e)});const Wp=e=>(t,n,o,i)=>{const r=e(t.element);return qp(r,t,n,o,i)},Up=(e,t)=>{const n=_u(e,t);return Wp(n)},Yp=(e,t)=>{const n=_u(t,e);return Wp(n)},Fp=e=>(t,n,o,i)=>qp(e,t,n,o,i),qp=(e,t,n,o,i)=>o.focusManager.get(t).bind((n=>e(t.element,n,o,i))).map((e=>(o.focusManager.set(t,e),!0))),Hp=Fp,Gp=Fp,Kp=Fp,Jp=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),em=(e,t,n)=>{const o=od(e,n);return((e,t)=>W(e,t).map((t=>({index:t,candidates:e}))))(V(o,Jp),(e=>Ge(e,t)))},tm=(e,t)=>W(e,(e=>Ge(t,e))),nm=(e,t,n,o)=>o(Math.floor(t/n),t%n).bind((t=>{const o=t.row*n+t.column;return o>=0&&o<e.length?P.some(e[o]):P.none()})),om=(e,t,n,o,i)=>nm(e,t,o,((t,r)=>{const s=t===n-1?e.length-t*o:o,a=ol(r,i,0,s-1);return P.some({row:t,column:a})})),im=(e,t,n,o,i)=>nm(e,t,o,((t,r)=>{const s=ol(t,i,0,n-1),a=s===n-1?e.length-s*o:o,l=il(r,0,a-1);return P.some({row:s,column:l})})),rm=[xi("selector"),Ni("execute",Np),Ya("onEscape"),Ni("captureTab",!1),Ka()],sm=(e,t,n)=>{lo(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},am=e=>(t,n,o,i)=>em(t,n,o.selector).bind((t=>e(t.candidates,t.index,i.getNumRows().getOr(o.initSize.numRows),i.getNumColumns().getOr(o.initSize.numColumns)))),lm=(e,t,n)=>n.captureTab?P.some(!0):P.none(),cm=am(((e,t,n,o)=>om(e,t,n,o,-1))),um=am(((e,t,n,o)=>om(e,t,n,o,1))),dm=am(((e,t,n,o)=>im(e,t,n,o,-1))),hm=am(((e,t,n,o)=>im(e,t,n,o,1))),fm=y([Pp(_p(gp),Up(cm,um)),Pp(_p(vp),Yp(cm,um)),Pp(_p(Op),Hp(dm)),Pp(_p(bp),Gp(hm)),Pp(kp([Cp,_p(hp)]),lm),Pp(kp([$p,_p(hp)]),lm),Pp(_p(mp.concat(fp)),((e,t,n,o)=>((e,t)=>t.focusManager.get(e).bind((e=>co(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o)))))]),pm=y([Pp(_p(pp),((e,t,n)=>n.onEscape(e,t))),Pp(_p(mp),Lp)]);var mm=Dp(rm,Zp,fm,pm,(()=>P.some(sm)));const gm=(e,t,n,o,i)=>{const r=(e,t,n)=>i(e,t,o,0,n.length-1,n[t],(t=>{return o=n[t],"button"===je(o)&&"disabled"===St(o,"disabled")?r(e,t,n):P.from(n[t]);var o}));return em(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return r(t,t,n)}))},Om=(e,t,n,o)=>gm(e,t,n,o,((e,t,n,o,i,r,s)=>{const a=il(t+n,o,i);return a===e?P.from(r):s(a)})),vm=(e,t,n,o)=>gm(e,t,n,o,((e,t,n,o,i,r,s)=>{const a=ol(t,n,o,i);return a===e?P.none():s(a)})),bm=[xi("selector"),Ni("getInitial",P.none),Ni("execute",Np),Ya("onEscape"),Ni("executeOnMove",!1),Ni("allowVertical",!0),Ni("allowHorizontal",!0),Ni("cycles",!0)],ym=(e,t,n)=>((e,t)=>t.focusManager.get(e).bind((e=>co(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o))),xm=(e,t,n)=>{t.getInitial(e).orThunk((()=>lo(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},wm=(e,t,n)=>(n.cycles?vm:Om)(e,n.selector,t,-1),Sm=(e,t,n)=>(n.cycles?vm:Om)(e,n.selector,t,1),_m=e=>(t,n,o,i)=>e(t,n,o,i).bind((()=>o.executeOnMove?ym(t,n,o):P.some(!0))),km=y([Pp(_p(mp),Lp),Pp(_p(pp),((e,t,n)=>n.onEscape(e,t)))]);var Cm=Dp(bm,$s.init,((e,t,n,o)=>{const i=[...n.allowHorizontal?gp:[]].concat(n.allowVertical?Op:[]),r=[...n.allowHorizontal?vp:[]].concat(n.allowVertical?bp:[]);return[Pp(_p(i),_m(Up(wm,Sm))),Pp(_p(r),_m(Yp(wm,Sm))),Pp(_p(fp),ym),Pp(_p(mp),ym)]}),km,(()=>P.some(xm)));const Tm=(e,t,n)=>P.from(e[t]).bind((e=>P.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),$m=(e,t,n,o)=>{const i=e[t].length,r=ol(n,o,0,i-1);return Tm(e,t,r)},Pm=(e,t,n,o)=>{const i=ol(n,o,0,e.length-1),r=e[i].length,s=il(t,0,r-1);return Tm(e,i,s)},Am=(e,t,n,o)=>{const i=e[t].length,r=il(n+o,0,i-1);return Tm(e,t,r)},Qm=(e,t,n,o)=>{const i=il(n+o,0,e.length-1),r=e[i].length,s=il(t,0,r-1);return Tm(e,i,s)},Em=[Ti("selectors",[xi("row"),xi("cell")]),Ni("cycles",!0),Ni("previousSelector",P.none),Ni("execute",Np)],Mm=(e,t,n)=>{t.previousSelector(e).orThunk((()=>{const n=t.selectors;return lo(e.element,n.cell)})).each((n=>{t.focusManager.set(e,n)}))},Dm=(e,t)=>(n,o,i)=>{const r=i.cycles?e:t;return co(o,i.selectors.row).bind((e=>{const t=od(e,i.selectors.cell);return tm(t,o).bind((t=>{const o=od(n,i.selectors.row);return tm(o,e).bind((e=>{const n=((e,t)=>N(e,(e=>od(e,t.selectors.cell))))(o,i);return r(n,e,t).map((e=>e.cell))}))}))}))},Im=Dm(((e,t,n)=>$m(e,t,n,-1)),((e,t,n)=>Am(e,t,n,-1))),Rm=Dm(((e,t,n)=>$m(e,t,n,1)),((e,t,n)=>Am(e,t,n,1))),zm=Dm(((e,t,n)=>Pm(e,n,t,-1)),((e,t,n)=>Qm(e,n,t,-1))),Nm=Dm(((e,t,n)=>Pm(e,n,t,1)),((e,t,n)=>Qm(e,n,t,1))),Lm=y([Pp(_p(gp),Up(Im,Rm)),Pp(_p(vp),Yp(Im,Rm)),Pp(_p(Op),Hp(zm)),Pp(_p(bp),Gp(Nm)),Pp(_p(mp.concat(fp)),((e,t,n)=>Bc(e.element).bind((o=>n.execute(e,t,o)))))]),jm=y([Pp(_p(mp),Lp)]);var Vm=Dp(Em,$s.init,Lm,jm,(()=>P.some(Mm)));const Bm=[xi("selector"),Ni("execute",Np),Ni("moveOnTab",!1)],Zm=(e,t,n)=>n.focusManager.get(e).bind((o=>n.execute(e,t,o))),Xm=(e,t,n)=>{lo(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Wm=(e,t,n)=>vm(e,n.selector,t,-1),Um=(e,t,n)=>vm(e,n.selector,t,1),Ym=y([Pp(_p(Op),Kp(Wm)),Pp(_p(bp),Kp(Um)),Pp(kp([Cp,_p(hp)]),((e,t,n,o)=>n.moveOnTab?Kp(Wm)(e,t,n,o):P.none())),Pp(kp([$p,_p(hp)]),((e,t,n,o)=>n.moveOnTab?Kp(Um)(e,t,n,o):P.none())),Pp(_p(fp),Zm),Pp(_p(mp),Zm)]),Fm=y([Pp(_p(mp),Lp)]);var qm=Dp(Bm,$s.init,Ym,Fm,(()=>P.some(Xm)));const Hm=[Ya("onSpace"),Ya("onEnter"),Ya("onShiftEnter"),Ya("onLeft"),Ya("onRight"),Ya("onTab"),Ya("onShiftTab"),Ya("onUp"),Ya("onDown"),Ya("onEscape"),Ni("stopSpaceKeyup",!1),Ai("focusIn")];var Gm=Dp(Hm,$s.init,((e,t,n)=>[Pp(_p(mp),n.onSpace),Pp(kp([$p,_p(fp)]),n.onEnter),Pp(kp([Cp,_p(fp)]),n.onShiftEnter),Pp(kp([Cp,_p(hp)]),n.onShiftTab),Pp(kp([$p,_p(hp)]),n.onTab),Pp(_p(Op),n.onUp),Pp(_p(bp),n.onDown),Pp(_p(gp),n.onLeft),Pp(_p(vp),n.onRight),Pp(_p(mp),n.onSpace)]),((e,t,n)=>[...n.stopSpaceKeyup?[Pp(_p(mp),Lp)]:[],Pp(_p(pp),n.onEscape)]),(e=>e.focusIn));const Km=Rp.schema(),Jm=zp.schema(),eg=Cm.schema(),tg=mm.schema(),ng=Vm.schema(),og=Bp.schema(),ig=qm.schema(),rg=Gm.schema();const sg=Ds({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Km,cyclic:Jm,flow:eg,flatgrid:tg,matrix:ng,execution:og,menu:ig,special:rg}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(o=>{o(e,t,n)}))},setGridSize:(e,t,n,o,i)=>{(e=>ve(e,"setGridSize"))(n)?n.setGridSize(o,i):console.error("Layout does not support setGridSize")}},state:Xp}),ag=(e,t)=>{Zc((()=>{Zd(e,t,(()=>N(t,e.getSystem().build)))}),e.element)},lg=(e,t)=>{Zc((()=>{((e,t,n)=>{const o=e.components(),i=Y(t,(e=>bl(e).toArray()));L(o,(e=>{D(i,e)||Vd(e)}));const r=n(t),s=H(o,r);L(s,(e=>{zd(e)&&Vd(e)})),L(r,(t=>{zd(t)||jd(e,t)})),e.syncComponents()})(e,t,(()=>((e,t,n)=>Il(e,t,((t,o)=>Rl(e,o,t,n))))(e.element,t,e.getSystem().buildOrPatch)))}),e.element)},cg=(e,t,n,o)=>{Vd(t);const i=Rl(e.element,n,o,e.getSystem().buildOrPatch);jd(e,i),e.syncComponents()},ug=(e,t,n)=>{const o=e.getSystem().build(n);Wd(e,o,t)},dg=(e,t,n,o)=>{Yd(t),ug(e,((e,t)=>((e,t,n)=>{at(e,n).fold((()=>{Dn(e,t)}),(e=>{Qn(e,t)}))})(e,t,n)),o)},hg=(e,t)=>e.components(),fg=(e,t,n,o,i)=>{const r=hg(e);return P.from(r[o]).map((n=>(i.fold((()=>Yd(n)),(i=>{(t.reuseDom?cg:dg)(e,n,o,i)})),n)))};var pg=Object.freeze({__proto__:null,append:(e,t,n,o)=>{ug(e,Dn,o)},prepend:(e,t,n,o)=>{ug(e,Mn,o)},remove:(e,t,n,o)=>{const i=hg(e),r=X(i,(e=>Ge(o.element,e.element)));r.each(Yd)},replaceAt:fg,replaceBy:(e,t,n,o,i)=>{const r=hg(e);return W(r,o).bind((n=>fg(e,t,0,n,i)))},set:(e,t,n,o)=>(t.reuseDom?lg:ag)(e,o),contents:hg});const mg=Es({fields:[Zi("reuseDom",!0)],name:"replacing",apis:pg}),gg=(e,t)=>{const n=((e,t)=>{const n=ss(t);return Es({fields:[xi("enabled")],name:e,active:{events:y(n)}})})(e,t);return{key:e,value:{config:{},me:n,configAsRaw:y({}),initialConfig:{},state:$s}}},Og=(e,t)=>{t.ignore||(Nc(e.element),t.onFocus(e))};var vg=Object.freeze({__proto__:null,focus:Og,blur:(e,t)=>{t.ignore||Lc(e.element)},isFocused:e=>jc(e.element)});var bg=Object.freeze({__proto__:null,exhibit:(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ss(n)},events:e=>ss([cs($r(),((t,n)=>{Og(t,e),n.stop()}))].concat(e.stopMousedown?[cs(ur(),((e,t)=>{t.event.prevent()}))]:[]))}),yg=[Ua("onFocus"),Ni("stopMousedown",!1),Ni("ignore",!1)];const xg=Es({fields:yg,name:"focusing",active:bg,apis:vg}),wg=(e,t,n,o)=>{const i=n.get();n.set(o),((e,t,n)=>{t.toggleClass.each((t=>{n.get()?Vs(e.element,t):Zs(e.element,t)}))})(e,t,n),((e,t,n)=>{const o=t.aria;o.update(e,o,n.get())})(e,t,n),i!==o&&t.onToggled(e,o)},Sg=(e,t,n)=>{wg(e,t,n,!n.get())},_g=(e,t,n)=>{wg(e,t,n,t.selected)};var kg=Object.freeze({__proto__:null,onLoad:_g,toggle:Sg,isOn:(e,t,n)=>n.get(),on:(e,t,n)=>{wg(e,t,n,!0)},off:(e,t,n)=>{wg(e,t,n,!1)},set:wg});var Cg=Object.freeze({__proto__:null,exhibit:()=>Ss({}),events:(e,t)=>{const n=(o=e,i=t,r=Sg,ys((e=>{r(e,o,i)})));var o,i,r;const s=_s(e,t,_g);return ss(U([e.toggleOnExecute?[n]:[],[s]]))}});const Tg=(e,t,n)=>{xt(e.element,"aria-expanded",n)};var $g=[Ni("selected",!1),Ai("toggleClass"),Ni("toggleOnExecute",!0),Ua("onToggled"),Li("aria",{mode:"none"},gi("mode",{pressed:[Ni("syncWithExpanded",!1),Ha("update",((e,t,n)=>{xt(e.element,"aria-pressed",n),t.syncWithExpanded&&Tg(e,t,n)}))],checked:[Ha("update",((e,t,n)=>{xt(e.element,"aria-checked",n)}))],expanded:[Ha("update",Tg)],selected:[Ha("update",((e,t,n)=>{xt(e.element,"aria-selected",n)}))],none:[Ha("update",O)]}))];const Pg=Es({fields:$g,name:"toggling",active:Cg,apis:kg,state:(Ag=!1,{init:()=>{const e=Gn(Ag);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(Ag),readState:()=>e.get()}}})});var Ag;const Qg=()=>{const e=(e,t)=>{t.stop(),ns(e)};return[cs(xr(),e),cs(Dr(),e),ps(sr()),ps(ur())]},Eg=e=>ss(U([e.map((e=>ys(((t,n)=>{e(t),n.stop()})))).toArray(),Qg()])),Mg="alloy.item-hover",Dg="alloy.item-focus",Ig="alloy.item-toggled",Rg=e=>{(Bc(e.element).isNone()||xg.isFocused(e))&&(xg.isFocused(e)||xg.focus(e),ts(e,Mg,{item:e}))},zg=e=>{ts(e,Dg,{item:e})},Ng=y(Mg),Lg=y(Dg),jg=y(Ig),Vg=e=>e.role.fold((()=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem")),x),Bg=(e,t)=>({aria:{mode:t?"selected":"checked"},...he(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{p(e.onToggled)&&e.onToggled(t,n),((e,t)=>{ts(e,Ig,{item:e,state:t})})(t,n)}}),Zg=[xi("data"),xi("components"),xi("dom"),Ni("hasSubmenu",!1),Ai("toggling"),Ai("role"),Mh("itemBehaviours",[Pg,xg,sg,Ph]),Ni("ignoreFocus",!1),Ni("domModification",{}),Ha("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:Vg(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Dh(e.itemBehaviours,[e.toggling.fold(Pg.revoke,(t=>Pg.config(Bg(t,e.role.exists((e=>"option"===e)))))),xg.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{zg(e)}}),sg.config({mode:"execution"}),Ph.config({store:{mode:"memory",initialValue:e.data}}),gg("item-type-events",[...Qg(),cs(pr(),Rg),cs(Mr(),xg.focus)])]),components:e.components,eventOrder:e.eventOrder}))),Ni("eventOrder",{})],Xg=[xi("dom"),xi("components"),Ha("builder",(e=>({dom:e.dom,components:e.components,events:ss([ms(Mr())])})))],Wg=y("item-widget"),Ug=y([sf({name:"widget",overrides:e=>({behaviours:As([Ph.config({store:{mode:"manual",getValue:t=>e.data,setValue:O}})])})})]),Yg=[xi("uid"),xi("data"),xi("components"),xi("dom"),Ni("autofocus",!1),Ni("ignoreFocus",!1),Mh("widgetBehaviours",[Ph,xg,sg]),Ni("domModification",{}),Tf(Ug()),Ha("builder",(e=>{const t=vf(Wg(),e,Ug()),n=bf(Wg(),e,t.internals()),o=t=>yf(t,e,"widget").map((e=>(sg.focusIn(e),e))),i=(t,n)=>Rf(n.event.target)?P.none():e.autofocus?(n.setSource(t.element),P.none()):P.none();return{dom:e.dom,components:n,domModification:e.domModification,events:ss([ys(((e,t)=>{o(e).each((e=>{t.stop()}))})),cs(pr(),Rg),cs(Mr(),((t,n)=>{e.autofocus?o(t):xg.focus(t)}))]),behaviours:Dh(e.widgetBehaviours,[Ph.config({store:{mode:"memory",initialValue:e.data}}),xg.config({ignore:e.ignoreFocus,onFocus:e=>{zg(e)}}),sg.config({mode:"special",focusIn:e.autofocus?e=>{o(e)}:Is(),onLeft:i,onRight:i,onEscape:(t,n)=>xg.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),P.none()):P.none():(xg.focus(t),P.some(!0))})])}}))],Fg=gi("type",{widget:Yg,item:Zg,separator:Xg}),qg=y([cf({factory:{sketch:e=>{const t=pi("menu.spec item",Fg,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Oe(t,"uid")?t:{...t,uid:fl("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),Hg=y([Mi("role"),xi("value"),xi("items"),xi("dom"),xi("components"),Ni("eventOrder",{}),Ah("menuBehaviours",[up,Ph,Lf,sg]),Li("movement",{mode:"menu",moveOnTab:!0},gi("mode",{grid:[Ka(),Ha("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[Ha("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),xi("rowSelector"),Ni("previousSelector",P.none)],menu:[Ni("moveOnTab",!0),Ha("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),wi("markers",Va()),Ni("fakeFocus",!1),Ni("focusManager",Qp()),Ua("onHighlight"),Ua("onDehighlight"),Ni("showMenuRole",!0)]),Gg=y("alloy.menu-focus"),Kg=If({name:"Menu",configFields:Hg(),partFields:qg(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Eh(e.menuBehaviours,[up.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Ph.config({store:{mode:"memory",initialValue:e.value}}),Lf.config({find:P.some}),sg.config(e.movement.config(e,e.movement))]),events:ss([cs(Lg(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{up.highlight(e,n),t.stop(),ts(e,Gg(),{menu:e,item:n})}))})),cs(Ng(),((e,t)=>{const n=t.event.item;up.highlight(e,n)})),cs(jg(),((e,t)=>{const{item:n,state:o}=t.event;o&&"menuitemradio"===St(n.element,"role")&&((e,t)=>{const n=od(e.element,'[role="menuitemradio"][aria-checked="true"]');L(n,(n=>{Ge(n,t.element)||e.getSystem().getByDom(n).each((e=>{Pg.off(e)}))}))})(e,n)}))]),components:t,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr("menu")}}}:{}})}),Jg=(e,t,n,o)=>ge(n,o).bind((o=>ge(e,o).bind((o=>{const i=Jg(e,t,n,o);return P.some([o].concat(i))})))).getOr([]),eO=(e,t)=>{const n={};ae(e,((e,t)=>{L(e,(e=>{n[e]=t}))}));const o=t,i=ce(t,((e,t)=>({k:e,v:t})));const r=le(i,((e,t)=>[t].concat(Jg(n,o,i,t))));return le(n,(e=>ge(r,e).getOr([e])))},tO=e=>"prepared"===e.type?P.some(e.menu):P.none(),nO={init:()=>{const e=Gn({}),t=Gn({}),n=Gn({}),o=eo(),i=Gn({}),r=(t,n,o)=>s(t).bind((i=>(t=>pe(e.get(),((e,n)=>e===t)))(t).bind((e=>n(e).map((e=>({triggeredMenu:i,triggeringItem:e,triggeringPath:o}))))))),s=e=>a(e).bind(tO),a=e=>ge(t.get(),e),l=t=>ge(e.get(),t);return{setMenuBuilt:(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},setContents:(r,s,a,l)=>{o.set(r),e.set(a),t.set(s),i.set(l);const c=eO(l,a);n.set(c)},expand:t=>ge(e.get(),t).map((e=>{const o=ge(n.get(),t).getOr([]);return[e].concat(o)})),refresh:e=>ge(n.get(),e),collapse:e=>ge(n.get(),e).bind((e=>e.length>1?P.some(e.slice(1)):P.none())),lookupMenu:a,lookupItem:l,otherMenus:e=>{const t=i.get();return H(re(t),e)},getPrimary:()=>o.get().bind(s),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),n.set({}),o.clear()},isClear:()=>o.get().isNone(),getTriggeringPath:(e,t)=>{const i=V(l(e).toArray(),(e=>s(e).isSome()));return ge(n.get(),e).bind((e=>{const n=q(i.concat(e));return(e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(!o.isSome())return P.none();t.push(o.getOrDie())}return P.some(t)})(Y(n,((e,i)=>r(e,t,n.slice(0,i+1)).fold((()=>be(o.get(),e)?[]:[P.none()]),(e=>[P.some(e)])))))}))}}},extractPreparedMenu:tO},oO=sl("tiered-menu-item-highlight"),iO=sl("tiered-menu-item-dehighlight");var rO;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(rO||(rO={}));const sO=y("collapse-item"),aO=Df({name:"TieredMenu",configFields:[qa("onExecute"),qa("onEscape"),Fa("onOpenMenu"),Fa("onOpenSubmenu"),Ua("onRepositionMenu"),Ua("onCollapseMenu"),Ni("highlightOnOpen",rO.HighlightMenuAndItem),Ti("data",[xi("primary"),xi("menus"),xi("expansions")]),Ni("fakeFocus",!1),Ua("onHighlightItem"),Ua("onDehighlightItem"),Ua("onHover"),Za(),xi("dom"),Ni("navigateOnHover",!0),Ni("stayInDom",!1),Ah("tmenuBehaviours",[sg,up,Lf,mg]),Ni("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const n=eo(),o=nO.init(),i=t=>{const n=((t,n,o)=>le(o,((o,i)=>{const r=()=>Kg.sketch({...o,value:i,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{ts(e,oO,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{ts(e,iO,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?Ep():Qp()});return i===n?{type:"prepared",menu:t.getSystem().build(r())}:{type:"notbuilt",nbMenu:r}})))(t,e.data.primary,e.data.menus),i=s();return o.setContents(e.data.primary,n,e.data.expansions,i),o.getPrimary()},r=e=>Ph.getValue(e).value,s=t=>le(e.data.menus,((e,t)=>Y(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),a=up.highlight,l=(t,n)=>{a(t,n),up.getHighlighted(n).orThunk((()=>up.getFirst(n))).each((o=>{e.fakeFocus?up.highlight(n,o):os(t,o.element,Mr())}))},c=(e,t)=>ye(N(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?P.some(e.menu):P.none()))))),u=(t,n,o)=>{const i=c(n,n.otherMenus(o));L(i,(n=>{Ys(n.element,[e.markers.backgroundMenu]),e.stayInDom||mg.remove(t,n)}))},d=(t,o)=>{const i=(t=>n.get().getOrThunk((()=>{const o={},i=od(t.element,`.${e.markers.item}`),s=V(i,(e=>"true"===St(e,"aria-haspopup")));return L(s,(e=>{t.getSystem().getByDom(e).each((e=>{const t=r(e);o[t]=e}))})),n.set(o),o})))(t);ae(i,((e,t)=>{const n=D(o,t);xt(e.element,"aria-expanded",n)}))},h=(t,n,o)=>P.from(o[0]).bind((i=>n.lookupMenu(i).bind((i=>{if("notbuilt"===i.type)return P.none();{const r=i.menu,s=c(n,o.slice(1));return L(s,(t=>{Vs(t.element,e.markers.backgroundMenu)})),Ot(r.element)||mg.append(t,Hl(r)),Ys(r.element,[e.markers.backgroundMenu]),l(t,r),u(t,n,o),P.some(r)}}))));let f;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(f||(f={}));const p=(t,n,i=f.HighlightSubmenu)=>{if(n.hasConfigured(Jf)&&Jf.isDisabled(n))return P.some(n);{const s=r(n);return o.expand(s).bind((r=>(d(t,r),P.from(r[0]).bind((s=>o.lookupMenu(s).bind((a=>{const l=((e,t,n)=>{if("notbuilt"===n.type){const i=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,i),i}return n.menu})(t,s,a);return Ot(l.element)||mg.append(t,Hl(l)),e.onOpenSubmenu(t,n,l,q(r)),i===f.HighlightSubmenu?(up.highlightFirst(l),h(t,o,r)):(up.dehighlightAll(l),P.some(n))})))))))}},m=(t,n)=>{const i=r(n);return o.collapse(i).bind((i=>(d(t,i),h(t,o,i).map((o=>(e.onCollapseMenu(t,n,o),o))))))},g=t=>(n,o)=>co(o.getSource(),`.${e.markers.item}`).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map($))))),v=ss([cs(Gg(),((e,t)=>{const n=t.event.item;o.lookupItem(r(n)).each((()=>{const n=t.event.menu;up.highlight(e,n);const i=r(t.event.item);o.refresh(i).each((t=>u(e,o,t)))}))})),ys(((t,n)=>{const o=n.event.target;t.getSystem().getByDom(o).each((n=>{0===r(n).indexOf("collapse-item")&&m(t,n),p(t,n,f.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),O)}))})),Os(((t,n)=>{i(t).each((n=>{mg.append(t,Hl(n)),e.onOpenMenu(t,n),e.highlightOnOpen===rO.HighlightMenuAndItem?l(t,n):e.highlightOnOpen===rO.HighlightJustMenu&&a(t,n)}))})),cs(oO,((t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)})),cs(iO,((t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)})),...e.navigateOnHover?[cs(Ng(),((t,n)=>{const i=n.event.item;((e,t)=>{const n=r(t);o.refresh(n).bind((t=>(d(e,t),h(e,o,t))))})(t,i),p(t,i,f.HighlightParent),e.onHover(t,i)}))]:[]]),b=e=>up.getHighlighted(e).bind(up.getHighlighted),y={collapseMenu:e=>{b(e).each((t=>{m(e,t)}))},highlightPrimary:e=>{o.getPrimary().each((t=>{l(e,t)}))},repositionMenus:t=>{const n=o.getPrimary().bind((e=>b(t).bind((e=>{const t=r(e),n=me(o.getMenus()),i=ye(N(n,nO.extractPreparedMenu));return o.getTriggeringPath(t,(e=>((e,t,n)=>ie(t,(e=>{if(!e.getSystem().isConnected())return P.none();const t=up.getCandidates(e);return X(t,(e=>r(e)===n))})))(0,i,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{(e=>P.from(e.components()[0]).filter((e=>"menu"===St(e.element,"role"))))(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:o})=>{e.onRepositionMenu(t,n,o)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Eh(e.tmenuBehaviours,[sg.config({mode:"special",onRight:g(((e,t)=>Rf(t.element)?P.none():p(e,t,f.HighlightSubmenu))),onLeft:g(((e,t)=>Rf(t.element)?P.none():m(e,t))),onEscape:g(((t,n)=>m(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))))),focusIn:(e,t)=>{o.getPrimary().each((t=>{os(e,t.element,Mr())}))}}),up.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Lf.config({find:e=>up.getHighlighted(e)}),mg.config({})]),eventOrder:e.eventOrder,apis:y,events:v}},extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:qi(e,t),expansions:{}}),collapseItem:e=>({value:sl(sO()),meta:{text:e}})}}),lO=Df({name:"InlineView",configFields:[xi("lazySink"),Ua("onShow"),Ua("onHide"),Ii("onEscape"),Ah("inlineBehaviours",[ch,Ph,Rc]),zi("fireDismissalEventInstead",[Ni("event",Wr())]),zi("fireRepositionEventInstead",[Ni("event",Ur())]),Ni("getRelated",P.none),Ni("isExtraPart",T),Ni("eventOrder",P.none)],factory:(e,t)=>{const n=(t,n,o,i)=>{const r=e.lazySink(t).getOrDie();ch.openWhileCloaked(t,n,(()=>Rd.positionWithinBounds(r,t,o,i()))),Ph.setValue(t,P.some({mode:"position",config:o,getBounds:i}))},o=(t,n,o,i)=>{const r=((e,t,n,o,i)=>{const r=()=>e.lazySink(t),s="horizontal"===o.type?{layouts:{onLtr:()=>Ec(),onRtl:()=>Mc()}}:{},a=e=>(e=>2===e.length)(e)?s:{};return aO.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(ch.close(t),e.onEscape.map((e=>e(t))),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(e,t)=>{Rd.positionWithinBounds(r().getOrDie(),t,n,i())},onOpenSubmenu:(e,t,n,o)=>{const i=r().getOrDie();Rd.position(i,n,{anchor:{type:"submenu",item:t,...a(o)}})},onRepositionMenu:(e,t,o)=>{const s=r().getOrDie();Rd.positionWithinBounds(s,t,n,i()),L(o,(e=>{const t=a(e.triggeringPath);Rd.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,n,o,i);ch.open(t,r),Ph.setValue(t,P.some({mode:"menu",menu:r}))},i=t=>{ch.isOpen(t)&&Ph.getValue(t).each((n=>{switch(n.mode){case"menu":ch.getState(t).each(aO.repositionMenus);break;case"position":const o=e.lazySink(t).getOrDie();Rd.positionWithinBounds(o,t,n.config,n.getBounds())}}))},r={setContent:(e,t)=>{ch.setContent(e,t)},showAt:(e,t,o)=>{const i=P.none;n(e,t,o,i)},showWithinBounds:n,showMenuAt:(e,t,n)=>{o(e,t,n,P.none)},showMenuWithinBounds:o,hide:e=>{ch.isOpen(e)&&(Ph.setValue(e,P.none()),ch.close(e))},getContent:e=>ch.getState(e),reposition:i,isOpen:ch.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Eh(e.inlineBehaviours,[ch.config({isPartOf:(t,n,o)=>tc(n,o)||((t,n)=>e.getRelated(t).exists((e=>tc(e,n))))(t,o),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),Ph.config({store:{mode:"memory",initialValue:P.none()}}),Rc.config({channels:{...ph({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...gh({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:i})}})]),eventOrder:e.eventOrder,apis:r}},apis:{showAt:(e,t,n,o)=>{e.showAt(t,n,o)},showWithinBounds:(e,t,n,o,i)=>{e.showWithinBounds(t,n,o,i)},showMenuAt:(e,t,n,o)=>{e.showMenuAt(t,n,o)},showMenuWithinBounds:(e,t,n,o,i)=>{e.showMenuWithinBounds(t,n,o,i)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var cO,uO,dO=tinymce.util.Tools.resolve("tinymce.util.Delay"),hO=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fO=tinymce.util.Tools.resolve("tinymce.EditorManager"),pO=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(cO||(cO={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(uO||(uO={}));const mO=e=>t=>t.options.get(e),gO=e=>t=>P.from(e(t)),OO=e=>{const t=pO.deviceType.isPhone(),n=pO.deviceType.isTablet()||t,o=e.options.register,i=e=>r(e)||!1===e,s=e=>r(e)||m(e);o("skin",{processor:e=>r(e)||!1===e,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:s,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:s,default:hO.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("font_size_input_default_unit",{processor:"string",default:"pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:e=>r(e)||u(e),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:e=>u(e)||r(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),R(9,(e=>{o("toolbar"+(e+1),{processor:"string"})})),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:uO.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("ui_mode",{processor:"string",default:"combined"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:i,default:"#top"}),o("anchor_bottom",{processor:i,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("promotion",{processor:"boolean",default:!0}),o("resize",{processor:e=>"both"===e||u(e),default:!pO.deviceType.isTouch()}),o("sidebar_show",{processor:"string"}),o("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),o("default_font_stack",{processor:"string[]",default:[]})},vO=mO("readonly"),bO=mO("disabled"),yO=mO("height"),xO=mO("width"),wO=gO(mO("min_width")),SO=gO(mO("min_height")),_O=gO(mO("max_width")),kO=gO(mO("max_height")),CO=gO(mO("style_formats")),TO=mO("style_formats_merge"),$O=mO("style_formats_autohide"),PO=mO("content_langs"),AO=mO("removed_menuitems"),QO=mO("toolbar_mode"),EO=mO("toolbar_groups"),MO=mO("toolbar_location"),DO=mO("fixed_toolbar_container"),IO=mO("fixed_toolbar_container_target"),RO=mO("toolbar_persist"),zO=mO("toolbar_sticky_offset"),NO=mO("menubar"),LO=mO("toolbar"),jO=mO("file_picker_callback"),VO=mO("file_picker_validator_handler"),BO=mO("font_size_input_default_unit"),ZO=mO("file_picker_types"),XO=mO("typeahead_urls"),WO=mO("anchor_top"),UO=mO("anchor_bottom"),YO=mO("draggable_modal"),FO=mO("statusbar"),qO=mO("elementpath"),HO=mO("branding"),GO=mO("resize"),KO=mO("paste_as_text"),JO=mO("sidebar_show"),ev=mO("promotion"),tv=mO("help_accessibility"),nv=mO("default_font_stack"),ov=mO("skin"),iv=e=>!1===e.options.get("skin"),rv=e=>!1!==e.options.get("menubar"),sv=e=>{const t=e.options.get("skin_url");if(iv(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return fO.baseURL+"/skins/ui/"+t}},av=e=>e.options.get("line_height_formats").split(" "),lv=e=>{const t=LO(e),n=r(t),o=l(t)&&t.length>0;return!uv(e)&&(o||n||!0===t)},cv=e=>{const t=R(9,(t=>e.options.get("toolbar"+(t+1)))),n=V(t,r);return Se(n.length>0,n)},uv=e=>cv(e).fold((()=>{const t=LO(e);return g(t,r)&&t.length>0}),$),dv=e=>MO(e)===uO.bottom,hv=e=>{var t;if(!e.inline)return P.none();const n=null!==(t=DO(e))&&void 0!==t?t:"";if(n.length>0)return lo(vt(),n);const o=IO(e);return f(o)?P.some(De.fromDom(o)):P.none()},fv=e=>e.inline&&hv(e).isSome(),pv=e=>hv(e).getOrThunk((()=>ft(ht(De.fromDom(e.getElement()))))),mv=e=>e.inline&&!rv(e)&&!lv(e)&&!uv(e),gv=e=>(e.options.get("toolbar_sticky")||e.inline)&&!fv(e)&&!mv(e),Ov=e=>!fv(e)&&"split"===e.options.get("ui_mode"),vv=e=>{const t=e.options.get("menu");return le(t,(e=>({...e,items:e.items})))};var bv=Object.freeze({__proto__:null,get ToolbarMode(){return cO},get ToolbarLocation(){return uO},register:OO,getSkinUrl:sv,getSkinUrlOption:e=>P.from(e.options.get("skin_url")),isReadOnly:vO,isDisabled:bO,getSkin:ov,isSkinDisabled:iv,getHeightOption:yO,getWidthOption:xO,getMinWidthOption:wO,getMinHeightOption:SO,getMaxWidthOption:_O,getMaxHeightOption:kO,getUserStyleFormats:CO,shouldMergeStyleFormats:TO,shouldAutoHideStyleFormats:$O,getLineHeightFormats:av,getContentLanguages:PO,getRemovedMenuItems:AO,isMenubarEnabled:rv,isMultipleToolbars:uv,isToolbarEnabled:lv,isToolbarPersist:RO,getMultipleToolbarsOption:cv,getUiContainer:pv,useFixedContainer:fv,isSplitUiMode:Ov,getToolbarMode:QO,isDraggableModal:YO,isDistractionFree:mv,isStickyToolbar:gv,getStickyToolbarOffset:zO,getToolbarLocation:MO,isToolbarLocationBottom:dv,getToolbarGroups:EO,getMenus:vv,getMenubar:NO,getToolbar:LO,getFilePickerCallback:jO,getFilePickerTypes:ZO,useTypeaheadUrls:XO,getAnchorTop:WO,getAnchorBottom:UO,getFilePickerValidatorHandler:VO,getFontSizeInputDefaultUnit:BO,useStatusBar:FO,useElementPath:qO,promotionEnabled:ev,useBranding:HO,getResize:GO,getPasteAsText:KO,getSidebarShow:JO,useHelpAccessibility:tv,getDefaultFontStack:nv});const yv=["visible","hidden","clip"],xv=e=>Pe(e).length>0&&!D(yv,e),wv=e=>{if(Be(e)){const t=Et(e,"overflow-x"),n=Et(e,"overflow-y");return xv(t)||xv(n)}return!1},Sv=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),_v=(e,t)=>Ov(e)?((e,t)=>{const n=nd(t,wv),o=0===n.length?pt(t).map(mt).map((e=>nd(e,wv))).getOr([]):n;return te(o).map((t=>({element:t,others:o.slice(1),isFullscreen:()=>Sv(e)})))})(e,t):P.none(),kv=e=>{const t=[...N(e.others,Yn),Hn()];return e.isFullscreen()?Hn():((e,t)=>Z(t,((e,t)=>qn(e,t)),e))(Yn(e.element),t)},Cv=Df({name:"Button",factory:e=>{const t=Eg(e.action),n=e.dom.tag,o=t=>ge(e.dom,"attributes").bind((e=>ge(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Dh(e.buttonBehaviours,[xg.config({}),sg.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:(()=>{if("button"===n){return{type:o("type").getOr("button"),...o("role").map((e=>({role:e}))).getOr({})}}return{role:e.role.getOr(o("role").getOr("button"))}})()},eventOrder:e.eventOrder}},configFields:[Ni("uid",void 0),xi("dom"),Ni("components",[]),Mh("buttonBehaviours",[xg,sg]),Ai("action"),Ai("role"),Ni("eventOrder",{})]}),Tv=e=>{const t=De.fromHtml(e),n=st(t),o=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return Z(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),i=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),r=0===n.length?{}:{innerHtml:Ta(t)};return{tag:je(t),classes:i,attributes:o,...r}},$v=e=>{const t=(e=>void 0!==e.uid)(e)&&ve(e,"uid")?e.uid:fl("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var Pv=Object.freeze({__proto__:null,exhibit:(e,t)=>Ss({attributes:Hi([{key:t.tabAttr,value:"true"}])})}),Av=[Ni("tabAttr","data-alloy-tabstop")];const Qv=Es({fields:Av,name:"tabstopping",active:Pv}),Ev=sl("tooltip.exclusive"),Mv=sl("tooltip.show"),Dv=sl("tooltip.hide"),Iv=sl("tooltip.immediateHide"),Rv=sl("tooltip.immediateShow"),zv=(e,t,n)=>{e.getSystem().broadcastOn([Ev],{})};var Nv=Object.freeze({__proto__:null,hideAllExclusive:zv,immediateOpenClose:(e,t,n,o)=>es(e,o?Rv:Iv),isEnabled:(e,t,n)=>n.isEnabled(),setComponents:(e,t,n,o)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&mg.set(e,o)}))},setEnabled:(e,t,n,o)=>n.setEnabled(o)});var Lv=Object.freeze({__proto__:null,events:(e,t)=>{const n=n=>{t.getTooltip().each((o=>{o.getSystem().isConnected()&&(Yd(o),e.onHide(n,o),t.clearTooltip())})),t.clearTimer()},o=n=>{if(!t.isShowing()&&t.isEnabled()){zv(n);const o=e.lazySink(n).getOrDie(),i=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:ss("normal"===e.mode?[cs(pr(),(e=>{es(n,Mv)})),cs(hr(),(e=>{es(n,Dv)}))]:[]),behaviours:As([mg.config({})])});t.setTooltip(i),Xd(o,i),e.onShow(n,i),Rd.position(o,i,{anchor:e.anchor(n)})}},i=n=>{t.getTooltip().each((t=>{const o=e.lazySink(n).getOrDie();Rd.position(o,t,{anchor:e.anchor(n)})}))};return ss(U([[bs((t=>{e.onSetup(t)})),cs(Mv,(n=>{t.resetTimer((()=>{o(n)}),e.delayForShow())})),cs(Dv,(o=>{t.resetTimer((()=>{n(o)}),e.delayForHide())})),cs(Rv,(e=>{t.resetTimer((()=>{o(e)}),0)})),cs(Iv,(e=>{t.resetTimer((()=>{n(e)}),0)})),cs(Qr(),((e,t)=>{const o=t;o.universal||D(o.channels,Ev)&&n(e)})),vs((e=>{n(e)}))],(()=>{switch(e.mode){case"normal":return[cs(mr(),(e=>{es(e,Rv)})),cs(Pr(),(e=>{es(e,Iv)})),cs(pr(),(e=>{es(e,Mv)})),cs(hr(),(e=>{es(e,Dv)}))];case"follow-highlight":return[cs(Kr(),((e,t)=>{es(e,Mv)})),cs(Jr(),(e=>{es(e,Dv)}))];case"children-normal":return[cs(mr(),((n,o)=>{Bc(n.element).each((r=>{Fe(o.event.target,"[data-mce-tooltip]")&&t.getTooltip().fold((()=>{es(n,Rv)}),(o=>{t.isShowing()&&(e.onShow(n,o),i(n))}))}))})),cs(Pr(),(e=>{Bc(e.element).fold((()=>{es(e,Iv)}),O)})),cs(pr(),(n=>{lo(n.element,"[data-mce-tooltip]:hover").each((o=>{t.getTooltip().fold((()=>{es(n,Mv)}),(o=>{t.isShowing()&&(e.onShow(n,o),i(n))}))}))})),cs(hr(),(e=>{lo(e.element,"[data-mce-tooltip]:hover").fold((()=>{es(e,Dv)}),O)}))];default:return[cs(mr(),((n,o)=>{Bc(n.element).each((r=>{Fe(o.event.target,"[data-mce-tooltip]")&&t.getTooltip().fold((()=>{es(n,Rv)}),(o=>{t.isShowing()&&(e.onShow(n,o),i(n))}))}))})),cs(Pr(),(e=>{Bc(e.element).fold((()=>{es(e,Iv)}),O)}))]}})()]))}}),jv=[xi("lazySink"),xi("tooltipDom"),Ni("exclusive",!0),Ni("tooltipComponents",[]),Xi("delayForShow",y(300)),Xi("delayForHide",y(100)),Xi("onSetup",O),Bi("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ni("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:y([kc,_c,yc,wc,xc,Sc]),onRtl:y([kc,_c,yc,wc,xc,Sc])},bubble:xu(0,-2,{})}))),Ua("onHide"),Ua("onShow")];var Vv=Object.freeze({__proto__:null,init:()=>{const e=Gn(!0),t=eo(),n=eo(),o=()=>{t.on(clearTimeout)},i=y("not-implemented");return Ps({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:o,resetTimer:(e,n)=>{o(),t.set(setTimeout(e,n))},readState:i,isEnabled:()=>e.get(),setEnabled:t=>e.set(t)})}});const Bv=Es({fields:jv,name:"tooltipping",active:Lv,state:Vv,apis:Nv}),{entries:Zv,setPrototypeOf:Xv,isFrozen:Wv,getPrototypeOf:Uv,getOwnPropertyDescriptor:Yv}=Object;let{freeze:Fv,seal:qv,create:Hv}=Object,{apply:Gv,construct:Kv}="undefined"!=typeof Reflect&&Reflect;Fv||(Fv=function(e){return e}),qv||(qv=function(e){return e}),Gv||(Gv=function(e,t,n){return e.apply(t,n)}),Kv||(Kv=function(e,t){return new e(...t)});const Jv=pb(Array.prototype.forEach),eb=pb(Array.prototype.lastIndexOf),tb=pb(Array.prototype.pop),nb=pb(Array.prototype.push),ob=pb(Array.prototype.splice),ib=pb(String.prototype.toLowerCase),rb=pb(String.prototype.toString),sb=pb(String.prototype.match),ab=pb(String.prototype.replace),lb=pb(String.prototype.indexOf),cb=pb(String.prototype.trim),ub=pb(Object.prototype.hasOwnProperty),db=pb(RegExp.prototype.test),hb=(fb=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kv(fb,t)});var fb;function pb(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return Gv(e,t,o)}}function mb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ib;Xv&&Xv(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(Wv(t)||(t[o]=e),i=e)}e[i]=!0}return e}function gb(e){for(let t=0;t<e.length;t++){ub(e,t)||(e[t]=null)}return e}function Ob(e){const t=Hv(null);for(const[n,o]of Zv(e)){ub(e,n)&&(Array.isArray(o)?t[n]=gb(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=Ob(o):t[n]=o)}return t}function vb(e,t){for(;null!==e;){const n=Yv(e,t);if(n){if(n.get)return pb(n.get);if("function"==typeof n.value)return pb(n.value)}e=Uv(e)}return function(){return null}}const bb=Fv(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yb=Fv(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xb=Fv(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wb=Fv(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Sb=Fv(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_b=Fv(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),kb=Fv(["#text"]),Cb=Fv(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Tb=Fv(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$b=Fv(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pb=Fv(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ab=qv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Qb=qv(/<%[\w\W]*|[\w\W]*%>/gm),Eb=qv(/\$\{[\w\W]*/gm),Mb=qv(/^data-[\-\w.\u00B7-\uFFFF]+$/),Db=qv(/^aria-[\-\w]+$/),Ib=qv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rb=qv(/^(?:\w+script|data):/i),zb=qv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nb=qv(/^html$/i),Lb=qv(/^[a-z][.\w]*(-[.\w]+)+$/i);var jb=Object.freeze({__proto__:null,ARIA_ATTR:Db,ATTR_WHITESPACE:zb,CUSTOM_ELEMENT:Lb,DATA_ATTR:Mb,DOCTYPE_NAME:Nb,ERB_EXPR:Qb,IS_ALLOWED_URI:Ib,IS_SCRIPT_OR_DATA:Rb,MUSTACHE_EXPR:Ab,TMPLIT_EXPR:Eb});const Vb=1,Bb=3,Zb=7,Xb=8,Wb=9,Ub=function(){return"undefined"==typeof window?null:window};var Yb=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ub();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==Wb||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const i=o,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:p}=t,m=c.prototype,g=vb(m,"cloneNode"),O=vb(m,"remove"),v=vb(m,"nextSibling"),b=vb(m,"childNodes"),y=vb(m,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let x,w="";const{implementation:S,createNodeIterator:_,createDocumentFragment:k,getElementsByTagName:C}=o,{importNode:T}=i;let $={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Zv&&"function"==typeof y&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:P,ERB_EXPR:A,TMPLIT_EXPR:Q,DATA_ATTR:E,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:R}=jb;let{IS_ALLOWED_URI:z}=jb,N=null;const L=mb({},[...bb,...yb,...xb,...Sb,...kb]);let j=null;const V=mb({},[...Cb,...Tb,...$b,...Pb]);let B=Object.seal(Hv(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Z=null,X=null,W=!0,U=!0,Y=!1,F=!0,q=!1,H=!0,G=!1,K=!1,J=!1,ee=!1,te=!1,ne=!1,oe=!0,ie=!1,re=!0,se=!1,ae={},le=null;const ce=mb({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=mb({},["audio","video","img","source","image","track"]);let he=null;const fe=mb({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let Oe=ge,ve=!1,be=null;const ye=mb({},[pe,me,ge],rb);let xe=mb({},["mi","mo","mn","ms","mtext"]),we=mb({},["annotation-xml"]);const Se=mb({},["title","style","font","a","script"]);let _e=null;const ke=["application/xhtml+xml","text/html"];let Ce=null,Te=null;const $e=o.createElement("form"),Pe=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Te||Te!==e){if(e&&"object"==typeof e||(e={}),e=Ob(e),_e=-1===ke.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ce="application/xhtml+xml"===_e?rb:ib,N=ub(e,"ALLOWED_TAGS")?mb({},e.ALLOWED_TAGS,Ce):L,j=ub(e,"ALLOWED_ATTR")?mb({},e.ALLOWED_ATTR,Ce):V,be=ub(e,"ALLOWED_NAMESPACES")?mb({},e.ALLOWED_NAMESPACES,rb):ye,he=ub(e,"ADD_URI_SAFE_ATTR")?mb(Ob(fe),e.ADD_URI_SAFE_ATTR,Ce):fe,ue=ub(e,"ADD_DATA_URI_TAGS")?mb(Ob(de),e.ADD_DATA_URI_TAGS,Ce):de,le=ub(e,"FORBID_CONTENTS")?mb({},e.FORBID_CONTENTS,Ce):ce,Z=ub(e,"FORBID_TAGS")?mb({},e.FORBID_TAGS,Ce):{},X=ub(e,"FORBID_ATTR")?mb({},e.FORBID_ATTR,Ce):{},ae=!!ub(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,U=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,F=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,q=e.SAFE_FOR_TEMPLATES||!1,H=!1!==e.SAFE_FOR_XML,G=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,re=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,z=e.ALLOWED_URI_REGEXP||Ib,Oe=e.NAMESPACE||ge,xe=e.MATHML_TEXT_INTEGRATION_POINTS||xe,we=e.HTML_INTEGRATION_POINTS||we,B=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(B.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(U=!1),te&&(ee=!0),ae&&(N=mb({},kb),j=[],!0===ae.html&&(mb(N,bb),mb(j,Cb)),!0===ae.svg&&(mb(N,yb),mb(j,Tb),mb(j,Pb)),!0===ae.svgFilters&&(mb(N,xb),mb(j,Tb),mb(j,Pb)),!0===ae.mathMl&&(mb(N,Sb),mb(j,$b),mb(j,Pb))),e.ADD_TAGS&&(N===L&&(N=Ob(N)),mb(N,e.ADD_TAGS,Ce)),e.ADD_ATTR&&(j===V&&(j=Ob(j)),mb(j,e.ADD_ATTR,Ce)),e.ADD_URI_SAFE_ATTR&&mb(he,e.ADD_URI_SAFE_ATTR,Ce),e.FORBID_CONTENTS&&(le===ce&&(le=Ob(le)),mb(le,e.FORBID_CONTENTS,Ce)),re&&(N["#text"]=!0),G&&mb(N,["html","head","body"]),N.table&&(mb(N,["tbody"]),delete Z.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw hb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw hb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=e.TRUSTED_TYPES_POLICY,w=x.createHTML("")}else void 0===x&&(x=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(p,r)),null!==x&&"string"==typeof w&&(w=x.createHTML(""));Fv&&Fv(e),Te=e}},Qe=mb({},[...yb,...xb,...wb]),Ee=mb({},[...Sb,..._b]),Me=function(e){nb(n.removed,{element:e});try{y(e).removeChild(e)}catch(t){O(e)}},De=function(e,t){try{nb(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){nb(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Me(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ie=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=sb(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===_e&&Oe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=x?x.createHTML(e):e;if(Oe===ge)try{t=(new f).parseFromString(i,_e)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(Oe,"template",null);try{t.documentElement.innerHTML=ve?w:i}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),Oe===ge?C.call(t,G?"html":"body")[0]:G?t.documentElement:r},Re=function(e){return _.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ze=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ne=function(e){return"function"==typeof l&&e instanceof l};function Le(e,t,o){Jv(e,(e=>{e.call(n,t,o,Te)}))}const je=function(e){let t=null;if(Le($.beforeSanitizeElements,e,null),ze(e))return Me(e),!0;const o=Ce(e.nodeName);if(Le($.uponSanitizeElement,e,{tagName:o,allowedTags:N}),e.hasChildNodes()&&!Ne(e.firstElementChild)&&db(/<[/\w]/g,e.innerHTML)&&db(/<[/\w]/g,e.textContent))return Me(e),!0;if(e.nodeType===Zb)return Me(e),!0;if(H&&e.nodeType===Xb&&db(/<[/\w]/g,e.data))return Me(e),!0;if(!N[o]||Z[o]){if(!Z[o]&&Be(o)){if(B.tagNameCheck instanceof RegExp&&db(B.tagNameCheck,o))return!1;if(B.tagNameCheck instanceof Function&&B.tagNameCheck(o))return!1}if(re&&!le[o]){const t=y(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=g(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,v(e))}}}return Me(e),!0}return e instanceof c&&!function(e){let t=y(e);t&&t.tagName||(t={namespaceURI:Oe,tagName:"template"});const n=ib(e.tagName),o=ib(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===n:t.namespaceURI===pe?"svg"===n&&("annotation-xml"===o||xe[o]):Boolean(Qe[n]):e.namespaceURI===pe?t.namespaceURI===ge?"math"===n:t.namespaceURI===me?"math"===n&&we[o]:Boolean(Ee[n]):e.namespaceURI===ge?!(t.namespaceURI===me&&!we[o])&&!(t.namespaceURI===pe&&!xe[o])&&!Ee[n]&&(Se[n]||!Qe[n]):!("application/xhtml+xml"!==_e||!be[e.namespaceURI]))}(e)?(Me(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!db(/<\/no(script|embed|frames)/i,e.innerHTML)?(q&&e.nodeType===Bb&&(t=e.textContent,Jv([P,A,Q],(e=>{t=ab(t,e," ")})),e.textContent!==t&&(nb(n.removed,{element:e.cloneNode()}),e.textContent=t)),Le($.afterSanitizeElements,e,null),!1):(Me(e),!0)},Ve=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in o||n in $e))return!1;if(U&&!X[t]&&db(E,t));else if(W&&db(M,t));else if(!j[t]||X[t]){if(!(Be(e)&&(B.tagNameCheck instanceof RegExp&&db(B.tagNameCheck,e)||B.tagNameCheck instanceof Function&&B.tagNameCheck(e))&&(B.attributeNameCheck instanceof RegExp&&db(B.attributeNameCheck,t)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(t))||"is"===t&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&db(B.tagNameCheck,n)||B.tagNameCheck instanceof Function&&B.tagNameCheck(n))))return!1}else if(he[t]);else if(db(z,ab(n,I,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==lb(n,"data:")||!ue[e]){if(Y&&!db(D,ab(n,I,"")));else if(n)return!1}else;return!0},Be=function(e){return"annotation-xml"!==e&&sb(e,R)},Ze=function(e){Le($.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||ze(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j,forceKeepAttr:void 0};let i=t.length;for(;i--;){const r=t[i],{name:s,namespaceURI:a,value:l}=r,c=Ce(s);let u="value"===s?l:cb(l);const d=u;if(o.attrName=c,o.attrValue=u,o.keepAttr=!0,o.forceKeepAttr=void 0,Le($.uponSanitizeAttribute,e,o),u=o.attrValue,!ie||"id"!==c&&"name"!==c||(De(s,e),u="user-content-"+u),H&&db(/((--!?|])>)|<\/(style|title)/i,u)){De(s,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){De(s,e);continue}if(!F&&db(/\/>/i,u)){De(s,e);continue}q&&Jv([P,A,Q],(e=>{u=ab(u,e," ")}));const h=Ce(e.nodeName);if(Ve(h,c,u)){if(x&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(a);else switch(p.getAttributeType(h,c)){case"TrustedHTML":u=x.createHTML(u);break;case"TrustedScriptURL":u=x.createScriptURL(u)}if(u!==d)try{a?e.setAttributeNS(a,s,u):e.setAttribute(s,u),ze(e)?Me(e):tb(n.removed)}catch(e){}}else De(s,e)}Le($.afterSanitizeAttributes,e,null)},Xe=function e(t){let n=null;const o=Re(t);for(Le($.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Le($.uponSanitizeShadowNode,n,null),je(n),Ze(n),n.content instanceof s&&e(n.content);Le($.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,r=null,a=null,c=null;if(ve=!e,ve&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ne(e)){if("function"!=typeof e.toString)throw hb("toString is not a function");if("string"!=typeof(e=e.toString()))throw hb("dirty is not a string, aborting")}if(!n.isSupported)return e;if(K||Ae(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Ce(e.nodeName);if(!N[t]||Z[t])throw hb("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=Ie("\x3c!----\x3e"),r=o.ownerDocument.importNode(e,!0),r.nodeType===Vb&&"BODY"===r.nodeName||"HTML"===r.nodeName?o=r:o.appendChild(r);else{if(!ee&&!q&&!G&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(o=Ie(e),!o)return ee?null:ne?w:""}o&&J&&Me(o.firstChild);const u=Re(se?e:o);for(;a=u.nextNode();)je(a),Ze(a),a.content instanceof s&&Xe(a.content);if(se)return e;if(ee){if(te)for(c=k.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(j.shadowroot||j.shadowrootmode)&&(c=T.call(i,c,!0)),c}let d=G?o.outerHTML:o.innerHTML;return G&&N["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&db(Nb,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),q&&Jv([P,A,Q],(e=>{d=ab(d,e," ")})),x&&ne?x.createHTML(d):d},n.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),K=!0},n.clearConfig=function(){Te=null,K=!1},n.isValidAttribute=function(e,t,n){Te||Ae({});const o=Ce(e),i=Ce(t);return Ve(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&nb($[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=eb($[e],t);return-1===n?void 0:ob($[e],n,1)[0]}return tb($[e])},n.removeHooks=function(e){$[e]=[]},n.removeAllHooks=function(){$={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Fb=e=>Yb().sanitize(e);var qb=tinymce.util.Tools.resolve("tinymce.util.I18n");const Hb={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Gb="temporary-placeholder",Kb=e=>()=>ge(e,Gb).getOr("!not found!"),Jb=(e,t)=>{const n=e.toLowerCase();if(qb.isRtl()){const e=((e,t)=>$e(e,t)?e:((e,t)=>e+t)(e,t))(n,"-rtl");return Oe(t,e)?e:n}return n},ey=(e,t)=>ge(t,Jb(e,t)),ty=(e,t)=>{const n=t();return ey(e,n).getOrThunk(Kb(n))},ny=()=>gg("add-focusable",[Os((e=>{ao(e.element,"svg").each((e=>xt(e,"focusable","false")))}))]),oy=(e,t,n,o)=>{var i,r;const s=(e=>!!qb.isRtl()&&Oe(Hb,e))(t)?["tox-icon--flip"]:[],a=ge(n,Jb(t,n)).or(o).getOrThunk(Kb(n));return{dom:{tag:e.tag,attributes:null!==(i=e.attributes)&&void 0!==i?i:{},classes:e.classes.concat(s),innerHtml:a},behaviours:As([...null!==(r=e.behaviours)&&void 0!==r?r:[],ny()])}},iy=(e,t,n,o=P.none())=>oy(t,e,n(),o),ry={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},sy=Df({name:"Notification",factory:e=>{const t=sl("notification-text"),n=$v({dom:Tv(`<p id=${t}>${Fb(e.backstageProvider.translate(e.text))}</p>`),behaviours:As([mg.config({})])}),o=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),i=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),r=$v({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},i(0)],behaviours:As([mg.config({})])}),s={updateProgress:(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{mg.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(t)]},i(t)])}))},updateText:(e,t)=>{if(e.getSystem().isConnected()){const o=n.get(e);mg.set(o,[Wl(t)])}}},a=U([e.icon.toArray(),[e.level],P.from(ry[e.level]).toArray()]),l=$v(Cv.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":e.backstageProvider.translate("Close")}},components:[iy("close",{tag:"span",classes:["tox-icon"]},e.iconProvider)],buttonBehaviours:As([Qv.config({}),Bv.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate("Close")})})]),action:t=>{e.onAction(t)}})),c=((e,t,n)=>{const o=n(),i=X(e,(e=>Oe(o,Jb(e,o))));return oy(t,i.getOr(Gb),o,P.none())})(a,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),u=[c,{dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:As([mg.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":t},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},behaviours:As([Qv.config({}),xg.config({}),sg.config({mode:"special",onEscape:t=>(e.onAction(t),P.some(!0))})]),components:u.concat(e.progress?[r.asSpec()]:[]).concat([l.asSpec()]),apis:s}},configFields:[Bi("level","info",["success","error","warning","warn","info"]),xi("progress"),Ai("icon"),xi("onAction"),xi("text"),xi("iconProvider"),xi("backstageProvider")],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var ay=(e,t,n,o)=>{const i=t.backstage.shared,r=()=>De.fromDom(""===e.queryCommandValue("ToggleView")?e.getContentAreaContainer():e.getContainer()),s=()=>{const e=Yn(r());return P.some(e)},a=e=>{s().each((t=>{L(e,(e=>{zt(e.element,"width"),qt(e.element)>t.width&&Pt(e.element,"width",t.width+"px")}))}))};return{open:(t,l,c)=>{const u=()=>{const t=(t,n)=>{lO.hide(t),o.clear(),n&&e.focus()},n=(e,t)=>{t&&sg.focusIn(e)};o.on((e=>{l();const o=c();(e=>{mg.remove(e,d),h()})(e),((e,o)=>{0===st(e.element).length?t(e,o):n(e,o)})(e,o)}))},d=ql(sy.sketch({text:t.text,level:D(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,onAction:u,iconProvider:i.providers.icons,backstageProvider:i.providers}));if(o.isSet()){const e=Hl(d);o.on((t=>{mg.append(t,e),lO.reposition(t),d.hasConfigured(el)&&el.refresh(t),a(t.components())}))}else{const t=ql(lO.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:i.getSink,fireDismissalEventInstead:{},...i.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:As([sg.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),mg.config({}),...gv(e)&&i.header.isPositionedAtTop()?[]:[el.config({contextual:{lazyContext:()=>P.some(Yn(r())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:t=>_v(e,t.element).map((e=>({bounds:kv(e),optScrollEnv:P.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Ut(e.element).top})}))).getOrThunk((()=>({bounds:Hn(),optScrollEnv:P.none()})))})]])})),a=Hl(d),l={maxHeightFunction:Ou()},c={...i.anchors.banner(),overrides:l};o.set(t),n.add(t),lO.showWithinBounds(t,a,{anchor:c},s)}m(t.timeout)&&t.timeout>0&&dO.setEditorTimeout(e,(()=>{u()}),t.timeout);const h=()=>{o.on((e=>{lO.reposition(e),e.hasConfigured(el)&&el.refresh(e),a(e.components())}))};return{close:u,reposition:h,text:e=>{sy.updateText(d,e)},settings:t,getEl:()=>d.element.dom,progressBar:{value:e=>{sy.updateProgress(d,e)}}}},close:e=>{e.close()},getArgs:e=>e.settings}};const ly=(e,t)=>{const n=(e,t)=>{ts(e,Or(),{raw:t})},o=()=>e.getMenu().bind(up.getHighlighted);t.on("keydown",(t=>{const i=t.which;e.isActive()&&(e.isMenuOpen()?13===i?(o().each(ns),t.preventDefault()):40===i?(o().fold((()=>{e.getMenu().each(up.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==i&&38!==i&&39!==i||o().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==i&&38!==i&&40!==i||e.cancelIfNecessary())})),t.on("NodeChange",(()=>{!e.isActive()||e.isProcessingAction()||t.queryCommandState("mceAutoCompleterInRange")||e.cancelIfNecessary()}))};var cy;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(cy||(cy={}));var uy=cy;const dy="tox-menu-nav__js",hy="tox-collection__item",fy="tox-swatch",py={normal:dy,color:fy},my="tox-collection__item--enabled",gy="tox-collection__item-icon",Oy="tox-collection__item-label",vy="tox-collection__item-caret",by="tox-collection__item--active",yy="tox-collection__item-container",xy="tox-collection__item-container--row",wy=e=>ge(py,e).getOr(dy),Sy=e=>"color"===e?"tox-swatches":"tox-menu",_y=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Sy(e),tieredMenu:"tox-tiered-menu"}),ky=e=>{const t=_y(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:wy(e)}},Cy=(e,t,n)=>{const o=_y(n);return{tag:"div",classes:U([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},Ty=[Kg.parts.items({})],$y=(e,t,n)=>{const o=_y(n);return{dom:{tag:"div",classes:U([[o.tieredMenu]])},markers:ky(n)}},Py=y([Vi("type","text"),Ai("data"),Ni("inputAttributes",{}),Ni("inputStyles",{}),Ni("tag","input"),Ni("inputClasses",[]),Ua("onSetValue"),Xi("fromInputValue",x),Xi("toInputValue",x),Ni("styles",{}),Ni("eventOrder",{}),Ah("inputBehaviours",[Ph,xg]),Ni("selectOnFocus",!0)]),Ay=e=>As([xg.config({onFocus:e.selectOnFocus?t=>{const n=t.element,o=El(n);"range"!==e.type&&n.dom.setSelectionRange(0,o.length)}:O})]),Qy=e=>({...Ay(e),...Eh(e.inputBehaviours,[Ph.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:t=>e.fromInputValue(El(t.element)),setValue:(t,n)=>{El(t.element)!==n&&Ml(t.element,e.toInputValue(n))}},onSetValue:e.onSetValue})])}),Ey=e=>({tag:e.tag,attributes:{type:e.type,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),My=Df({name:"Input",configFields:Py(),factory:(e,t)=>({uid:e.uid,dom:Ey(e),components:[],behaviours:Qy(e),eventOrder:e.eventOrder})}),Dy=sl("refetch-trigger-event"),Iy=sl("redirect-menu-item-interaction"),Ry="tox-menu__searcher",zy=e=>lo(e.element,`.${Ry}`).bind((t=>e.getSystem().getByDom(t).toOptional())),Ny=zy,Ly=e=>({fetchPattern:Ph.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),jy=e=>{const t=(e,t)=>(t.cut(),P.none()),n=(e,t)=>{const n={interactionEvent:t.event,eventType:t.event.raw.type};return ts(e,Iy,n),P.some(!0)},o="searcher-events";return{dom:{tag:"div",classes:[hy]},components:[My.sketch({inputClasses:[Ry,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:As([gg(o,[cs(br(),(e=>{es(e,Dy)})),cs(Or(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),sg.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[o,sg.name()]}})]}},Vy="tox-collection--results__js",By=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:sl("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Zy=(e,t)=>n=>{const o=z(n,t);return N(o,(t=>({dom:e,components:t})))},Xy=(e,t)=>{const n=[];let o=[];return L(e,((e,i)=>{t(e,i)?(o.length>0&&n.push(o),o=[],(Oe(e.dom,"innerHtml")||e.components&&e.components.length>0)&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),N(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Wy=(e,t,n)=>Kg.parts.items({preprocess:o=>{const i=N(o,n);return"auto"!==e&&e>1?Zy({tag:"div",classes:["tox-collection__group"]},e)(i):Xy(i,((e,n)=>"separator"===t[n].type))}}),Uy=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Wy(e,t,x)]}),Yy=e=>I(e,(e=>"icon"in e&&void 0!==e.icon)),Fy=e=>(console.error(mi(e)),console.log(e),P.none()),qy=(e,t,n,o,i)=>{const r=(s=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Kg.parts.items({preprocess:e=>Xy(e,((e,t)=>"separator"===s[t].type))})]});var s;return{value:e,dom:r.dom,components:r.components,items:n}},Hy=(e,t,n,o,i)=>{const r=()=>"searchable"!==i.menuType?Uy(o,n):"search-with-field"===i.searchMode.searchMode?((e,t,n)=>{const o=sl("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[jy({i18n:qb.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],Vy],attributes:{id:o}},components:[Wy(e,t,By)]}]}})(o,n,i.searchMode):((e,t)=>{const n=sl("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Vy].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[Wy(e,t,By)]}})(o,n);if("color"===i.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Kg.parts.items({preprocess:"auto"!==e?Zy({tag:"div",classes:["tox-swatches__row"]},e):x})]}]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}if("imageselector"===i.menuType&&"auto"!==o){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Kg.parts.items({preprocess:"auto"!==e?Zy({tag:"div",classes:["tox-image-selector__row"]},e):x})]}]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===i.menuType&&"auto"===o){const t=Uy(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===i.menuType||"searchable"===i.menuType){const t=r();return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===i.menuType&&"auto"!==o){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Kg.parts.items({preprocess:Zy({tag:"div",classes:["tox-collection__group"]},e)})]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:Cy(t,o,i.menuType),components:Ty,items:n}},Gy=_i("type"),Ky=_i("name"),Jy=_i("label"),ex=_i("text"),tx=_i("title"),nx=_i("icon"),ox=_i("url"),ix=_i("value"),rx=Ci("fetch"),sx=Ci("getSubmenuItems"),ax=Ci("onAction"),lx=Ci("onItemAction"),cx=Xi("onSetup",(()=>O)),ux=Mi("name"),dx=Mi("text"),hx=Mi("role"),fx=Mi("icon"),px=Mi("tooltip"),mx=Mi("label"),gx=Mi("shortcut"),Ox=Ii("select"),vx=Zi("active",!1),bx=Zi("borderless",!1),yx=Zi("enabled",!0),xx=Zi("primary",!1),wx=e=>Ni("columns",e),Sx=Ni("meta",{}),_x=Xi("onAction",O),kx=e=>Vi("type",e),Cx=e=>vi("name","name",Do((()=>sl(`${e}-name`))),oi),Tx=qo([Gy,dx]),$x=qo([kx("autocompleteitem"),vx,yx,Sx,ix,dx,fx]),Px=[yx,px,fx,dx,cx,Vi("context","mode:design")],Ax=qo([Gy,ax,gx].concat(Px)),Qx=e=>hi("toolbarbutton",Ax,e),Ex=[vx].concat(Px),Mx=qo(Ex.concat([Gy,ax,gx])),Dx=e=>hi("ToggleButton",Mx,e),Ix=[Xi("predicate",T),Bi("scope","node",["node","editor"]),Bi("position","selection",["node","selection","line"])],Rx=Px.concat([kx("contextformbutton"),Vi("align","end"),xx,ax,bi("original",x)]),zx=Ex.concat([kx("contextformbutton"),Vi("align","end"),xx,ax,bi("original",x)]),Nx=Px.concat([kx("contextformbutton")]),Lx=Ex.concat([kx("contextformtogglebutton")]),jx=[mx,Pi("commands",gi("type",{contextformbutton:Rx,contextformtogglebutton:zx})),Qi("launch",gi("type",{contextformbutton:Nx,contextformtogglebutton:Lx})),Xi("onInput",O),Xi("onSetup",O)],Vx=[...Ix,...jx,ki("type",["contextform"]),Xi("initValue",y("")),Mi("placeholder")],Bx=[...Ix,...jx,ki("type",["contextsliderform"]),Xi("initValue",y(0)),Xi("min",y(0)),Xi("max",y(100))],Zx=[...Ix,...jx,ki("type",["contextsizeinputform"]),Xi("initValue",y({width:"",height:""}))],Xx=gi("type",{contextform:Vx,contextsliderform:Bx,contextsizeinputform:Zx}),Wx=Px.concat([kx("contexttoolbarbutton")]),Ux=qo([kx("contexttoolbar"),zi("launch",Wx),wi("items",Go([oi,Jo([Mi("name"),Mi("label"),Pi("items",oi)])]))].concat(Ix)),Yx=e=>({name:e.name.getOrUndefined(),label:e.label.getOrUndefined(),items:e.items}),Fx=[Gy,_i("src"),Mi("alt"),Wi("classes",[],oi)],qx=qo(Fx),Hx=[Gy,ex,ux,Wi("classes",["tox-collection__item-label"],oi)],Gx=qo(Hx),Kx=Uo((()=>ci("type",{cardimage:qx,cardtext:Gx,cardcontainer:Jx}))),Jx=qo([Gy,Vi("direction","horizontal"),Vi("align","left"),Vi("valign","middle"),Pi("items",Kx)]),ew=[yx,dx,hx,gx,(tw="menuitem",vi("value","value",Do((()=>sl(`${tw}-value`))),ei())),Sx,Vi("context","mode:design")];var tw;const nw=qo([Gy,mx,Pi("items",Kx),cx,_x].concat(ew)),ow=qo([Gy,vx,fx,mx].concat(ew)),iw=[Gy,_i("fancytype"),_x],rw=[Ni("initData",{})].concat(iw),sw=[Ii("select"),Ui("initData",{},[Zi("allowCustomColors",!0),Vi("storageKey","default"),Ri("colors",ei())])].concat(iw),aw=[Ii("select"),Ti("initData",[Si("columns"),Wi("items",[],ei())])].concat(iw),lw=gi("fancytype",{inserttable:rw,colorswatch:sw,imageselect:aw}),cw=qo([Gy,vx,ox,mx,px].concat(ew)),uw=qo([Gy,vx,nx,Jy,px,ix].concat(ew)),dw=qo([Gy,cx,_x,fx].concat(ew)),hw=qo([Gy,sx,cx,fx].concat(ew)),fw=qo([Gy,fx,vx,cx,ax].concat(ew)),pw=(e,t,n)=>{const o=od(e.element,"."+n);if(o.length>0){const e=W(o,(e=>{const n=e.dom.getBoundingClientRect().top,i=o[0].dom.getBoundingClientRect().top;return Math.abs(n-i)>t})).getOr(o.length);return P.some({numColumns:e,numRows:Math.ceil(o.length/e)})}return P.none()},mw=(e,t)=>As([gg(e,t)]),gw=e=>mw(sl("unnamed-events"),e),Ow=e=>Jf.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),vw=e=>Jf.config({disabled:e}),bw=e=>Jf.config({disabled:e,disableClass:"tox-tbtn--disabled"}),yw=e=>Jf.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),xw=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},ww=(e,t)=>Os((n=>{p(e.onBeforeSetup)&&e.onBeforeSetup(n);xw(e,n)((n=>{const o=e.onSetup(n);p(o)&&t.set(o)}))})),Sw=(e,t)=>vs((n=>xw(e,n)(t.get()))),_w=(e,t,n)=>vs((o=>(n.set(Ph.getValue(o)),xw(e,o)(t.get())))),kw="silver.uistate",Cw="setDisabled",Tw="init",$w=["switchmode",Tw],Pw=(e,t)=>{const n=e.mainUi.outerContainer,o=[e.mainUi.mothership,...e.uiMotherships];t===Cw&&L(o,(e=>{e.broadcastOn([uh()],{target:n.element})})),L(o,(e=>{e.broadcastOn([kw],t)}))},Aw=(e,t)=>{e.on("init SwitchMode",(e=>{Pw(t,e.type)})),e.on("DisabledStateChange",(n=>{if(!n.isDefaultPrevented()){const o=n.state?Cw:Tw;Pw(t,o),n.state||e.nodeChanged()}})),e.on("NodeChange",(n=>{const o=e.ui.isEnabled()?n.type:Cw;Pw(t,o)})),vO(e)&&e.mode.set("readonly")},Qw=e=>Rc.config({channels:{[kw]:{onReceive:(t,n)=>{if(n===Cw||"setEnabled"===n)return void Jf.set(t,n===Cw);const{contextType:o,shouldDisable:i}=e();("mode"!==o||D($w,n))&&Jf.set(t,i)}}}}),Ew=(e,t)=>ys(((n,o)=>{xw(e,n)(e.onAction),e.triggersSubmenu||t!==uy.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&es(n,Rr()),o.stop())})),Mw={[Er()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Dw=ye,Iw=(e,t,n,o)=>{const i=Gn(O);return{type:"item",dom:t.dom,components:Dw(t.optComponents),data:e.data,eventOrder:Mw,hasSubmenu:e.triggersSubmenu,itemBehaviours:As([gg("item-events",[Ew(e,n),ww(e,i),Sw(e,i)]),Ow((()=>!e.enabled||o.checkUiComponentContext(e.context).shouldDisable)),Qw((()=>o.checkUiComponentContext(e.context))),mg.config({})].concat(e.itemBehaviours))}},Rw=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),zw=e=>new Promise(((t,n)=>{const o=()=>{r(),t(e)},i=[iu(e,"load",o),iu(e,"error",(()=>{r(),n("Unable to load data from image: "+e.dom.src)}))],r=()=>L(i,(e=>e.unbind()));e.dom.complete&&o()})),Nw=(e,t)=>{var n,o;const i=De.fromTag("div");Vs(i,"tox-image-selector-loading-spinner");return{dom:{tag:e.tag,attributes:null!==(n=e.attributes)&&void 0!==n?n:{},classes:e.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:t},classes:["tox-image-selector-image-img"]}}]},...e.checkMark.toArray()],behaviours:As([...null!==(o=e.behaviours)&&void 0!==o?o:[],gg("render-image-events",[Os((e=>{var t;t=e.element,Vs(t,"tox-image-selector-loading-spinner-wrapper"),Dn(t,i),lo(e.element,"img").each((t=>{zw(t).catch((e=>{console.error(e)})).finally((()=>{(e=>{Zs(e,"tox-image-selector-loading-spinner-wrapper"),zn(i)})(e.element)}))}))}))])])}},Lw=e=>{const t=pO.os.isMacOS()||pO.os.isiOS(),n=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},o=e.split("+"),i=N(o,(e=>{const t=e.toLowerCase().trim();return Oe(n,t)?n[t]:e}));return t?i.join(""):i.join("+")},jw=(e,t,n=[gy])=>iy(e,{tag:"div",classes:n},t),Vw=e=>({dom:{tag:"div",classes:[Oy]},components:[Wl(qb.translate(e))]}),Bw=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),Zw=(e,t)=>({dom:{tag:"div",classes:[Oy]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Wl(qb.translate(t))]}]}),Xw=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Wl(Lw(e))]}),Ww=e=>jw("checkmark",e,["tox-collection__item-checkmark"]),Uw=(e,t,n)=>{const o=e.value,i=e.iconContent.map((e=>((e,t,n)=>{const o=t();return ey(e,o).or(n).getOrThunk(Kb(o))})(e,t.icons,n))),r=e.ariaLabel.map((e=>({"aria-label":t.translate(e),"data-mce-name":e}))).getOr({});return{dom:(()=>{const e=fy,t=i.getOr(""),n={tag:"div",attributes:r,classes:[e]};return"custom"===o?{...n,tag:"button",classes:[...n.classes,"tox-swatches__picker-btn"],innerHtml:t}:"remove"===o?{...n,classes:[...n.classes,"tox-swatch--remove"],innerHtml:t}:f(o)?{...n,attributes:{...n.attributes,"data-mce-color":o},styles:{"background-color":o},innerHtml:t}:n})(),optComponents:[]}},Yw=(e,t)=>{const n=e.map((e=>({attributes:{id:sl("menu-item"),"aria-label":qb.translate(e)}}))).getOr({});return{tag:"div",classes:[dy,hy].concat(t),...n}},Fw=e=>({dom:{tag:"label"},components:[Wl(e)]}),qw=(e,t,n,o=P.none())=>"color"===e.presets?Uw(e,t,o):"img"===e.presets?(e=>{var t,n;return{dom:Yw(e.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[P.some((t=e.iconContent.getOrDie(),n={tag:"div",classes:["tox-collection__item-image"],checkMark:e.checkMark},Nw(n,t))),e.labelContent.map(Fw)]}})(e):((e,t,n,o)=>{const i={tag:"div",classes:[gy]},r=n?e.iconContent.map((e=>iy(e,i,t.icons,o))).orThunk((()=>P.some({dom:i}))):P.none(),s=e.checkMark,a=P.from(e.meta).fold((()=>Vw),(e=>Oe(e,"style")?S(Zw,e.style):Vw)),l=e.htmlContent.fold((()=>e.textContent.map(a)),(e=>P.some(Bw(e,[Oy]))));return{dom:Yw(e.ariaLabel,[]),optComponents:[r,l,e.shortcutContent.map(Xw),s,e.caret,e.labelContent.map(Fw)]}})(e,t,n,o),Hw=(e,t,n)=>ge(e,"tooltipWorker").map((e=>[Bv.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Ou}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{Bv.setComponents(t,[Ul({element:De.fromDom(e)})])}))}})])).getOrThunk((()=>n.map((e=>[Bv.config({...t.providers.tooltips.getConfig({tooltipText:e}),mode:"follow-highlight"})])).getOr([]))),Gw=(e,t)=>{const n=(e=>hO.DOM.encode(e))(qb.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return n},Kw=(e,t)=>N(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const n="vertical"===e.direction?"tox-collection__item-container--column":xy,o="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[yy,n,o,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,Kw(e.items,t));case"cardimage":return((e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>D(t.cardText.highlightOn,e))),o=n?P.from(t.cardText.matchText).getOr(""):"";return Bw(Gw(e.text,o),e.classes)}})),Jw=(e,t,n,o,i,r,s,a=!0)=>{const l=qw({presets:n,textContent:t?e.text:P.none(),htmlContent:P.none(),labelContent:e.label,ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:P.none(),checkMark:t?P.some(Ww(s.icons)):P.none(),caret:P.none(),value:e.value},s,a),c=e.text.filter(y(!t)).map((e=>Bv.config(s.tooltips.getConfig({tooltipText:s.translate(e)}))));return Eo(Iw({context:e.context,data:Rw(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Pg.set(e,t)},isActive:()=>Pg.isOn(e),isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t)}),onAction:t=>o(e.value),onSetup:e=>(e.setActive(i),O),triggersSubmenu:!1,itemBehaviours:[...c.toArray()]},l,r,s),{toggling:{toggleClass:my,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},eS=ff(Wg(),Ug()),tS=e=>({value:rS(e)}),nS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,oS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,iS=e=>nS.test(e)||oS.test(e),rS=e=>ke(e,"#").toUpperCase(),sS=e=>{const t=(e=>{const t=e.value.replace(nS,((e,t,n,o)=>t+t+n+n+o+o));return{value:t}})(e),n=oS.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},aS=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},lS=e=>{const t=aS(e.red)+aS(e.green)+aS(e.blue);return tS(t)},cS=Math.min,uS=Math.max,dS=Math.round,hS=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,fS=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,pS=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),mS=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},gS=e=>{let t,n,o;const i=(e.hue||0)%360;let r=e.saturation/100,s=e.value/100;if(r=uS(0,cS(r,1)),s=uS(0,cS(s,1)),0===r)return t=n=o=dS(255*s),pS(t,n,o,1);const a=i/60,l=s*r,c=l*(1-Math.abs(a%2-1)),u=s-l;switch(Math.floor(a)){case 0:t=l,n=c,o=0;break;case 1:t=c,n=l,o=0;break;case 2:t=0,n=l,o=c;break;case 3:t=0,n=c,o=l;break;case 4:t=c,n=0,o=l;break;case 5:t=l,n=0,o=c;break;default:t=n=o=0}return t=dS(255*(t+u)),n=dS(255*(n+u)),o=dS(255*(o+u)),pS(t,n,o,1)},OS=e=>{const t=sS(e),n=parseInt(t[1],16),o=parseInt(t[2],16),i=parseInt(t[3],16);return pS(n,o,i,1)},vS=(e,t,n,o)=>{const i=parseInt(e,10),r=parseInt(t,10),s=parseInt(n,10),a=parseFloat(o);return pS(i,r,s,a)},bS=e=>{const t=hS.exec(e);if(null!==t)return P.some(vS(t[1],t[2],t[3],"1"));const n=fS.exec(e);return null!==n?P.some(vS(n[1],n[2],n[3],n[4])):P.none()},yS=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,xS=pS(255,0,0,1),wS=(e,t)=>{e.dispatch("ResizeContent",t)},SS=(e,t)=>{e.dispatch("TextColorChange",t)},_S=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),kS=e=>{e.dispatch("ContextToolbarClose")},CS=(e,t)=>()=>{e(),t()},TS=e=>PS(e,"NodeChange",(t=>{t.setEnabled(e.selection.isEditable())})),$S=(e,t)=>n=>{const o=TS(e)(n),i=((e,t)=>n=>{const o=Jn(),i=()=>{n.setActive(e.formatter.match(t));const i=e.formatter.formatChanged(t,n.setActive);o.set(i)};return e.initialized?i():e.once("init",i),()=>{e.off("init",i),o.clear()}})(e,t)(n);return()=>{o(),i()}},PS=(e,t,n)=>o=>{const i=()=>n(o),r=()=>{n(o),e.on(t,i)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),e.off(t,i)}},AS=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},QS=(e,t)=>()=>e.execCommand(t);var ES=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const MS={},DS=(e,t=10)=>{const n=ES.getItem(e),o=r(n)?JSON.parse(n):[],i=t-(s=o).length<0?s.slice(0,t):s;var s;const a=e=>{i.splice(e,1)};return{add:n=>{((e,t)=>{const n=M(e,t);return-1===n?P.none():P.some(n)})(i,n).each(a),i.unshift(n),i.length>t&&i.pop(),ES.setItem(e,JSON.stringify(i))},state:()=>i.slice(0)}},IS=e=>ge(MS,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,n=ES.getItem(t);if(h(n)){const e=ES.getItem("tinymce-custom-colors");ES.setItem(t,f(e)?e:"[]")}const o=DS(t,10);return MS[e]=o,o})),RS=(e,t)=>{IS(e).add(t)},zS=(e,t,n)=>({hue:e,saturation:t,value:n}),NS=e=>{let t=0,n=0,o=0;const i=e.red/255,r=e.green/255,s=e.blue/255,a=Math.min(i,Math.min(r,s)),l=Math.max(i,Math.max(r,s));if(a===l)return o=a,zS(0,0,100*o);return t=i===a?3:s===a?1:5,t=60*(t-(i===a?r-s:s===a?i-r:s-i)/(l-a)),n=(l-a)/l,o=l,zS(Math.round(t),Math.round(100*n),Math.round(100*o))},LS=e=>lS(gS(e)),jS=e=>{return(t=e,iS(t)?P.some({value:rS(t)}):P.none()).orThunk((()=>bS(e).map(lS))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,i=o[0],r=o[1],s=o[2],a=o[3];return lS(pS(i,r,s,a))}));var t},VS="forecolor",BS="hilitecolor",ZS=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:e[n],icon:"checkmark",type:"choiceitem"});return t},XS=e=>t=>t.options.get(e),WS="#000000",US=(e,t)=>t===VS&&e.options.isSet("color_map_foreground")?XS("color_map_foreground")(e):t===BS&&e.options.isSet("color_map_background")?XS("color_map_background")(e):e.options.isSet("color_map_raw")?XS("color_map_raw")(e):XS("color_map")(e),YS=(e,t="default")=>Math.max(5,Math.ceil(Math.sqrt(US(e,t).length))),FS=(e,t)=>{const n=XS("color_cols")(e),o=YS(e,t);return n===YS(e)?o:n},qS=(e,t="default")=>Math.round(t===VS?XS("color_cols_foreground")(e):t===BS?XS("color_cols_background")(e):XS("color_cols")(e)),HS=XS("custom_colors"),GS=XS("color_default_foreground"),KS=XS("color_default_background"),JS=e=>er(e,(e=>{if(Ze(e)){const t=Et(e,"background-color");return Se((e=>bS(e).exists((e=>0!==e.alpha)))(t),t)}return P.none()})).getOr("rgba(0, 0, 0, 0)"),e_=(e,t)=>{const n=De.fromDom(e.selection.getStart()),o="hilitecolor"===t?JS(n):Et(n,"color");return bS(o).map((e=>"#"+lS(e).value))},t_=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},n_=(e,t,n,o)=>{if("custom"===n){d_(e)((n=>{n.each((n=>{RS(t,n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),e_(e,t).getOr(WS))}else"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},o_=(e,t,n)=>e.concat((e=>N(IS(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat(t_(n))),i_=(e,t,n)=>o=>{o(o_(e,t,n))},r_=(e,t,n)=>{const o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},s_=(e,t)=>{e.setTooltip(t)},a_=(e,t)=>n=>{const o=e_(e,t);return be(o,n.toUpperCase())},l_=(e,t,n)=>{if(Qe(n))return"forecolor"===t?"Text color":"Background color";const o="forecolor"===t?"Text color {0}":"Background color {0}",i=o_(US(e,t),t,!1),r=X(i,(e=>e.value===n)).getOr({text:""}).text;return e.translate([o,e.translate(r)])},c_=(e,t,n,o)=>{e.ui.registry.addSplitButton(t,{tooltip:l_(e,n,o.get()),presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:a_(e,n),columns:qS(e,n),fetch:i_(US(e,n),n,HS(e)),onAction:t=>{n_(e,n,o.get(),O)},onItemAction:(i,r)=>{n_(e,n,r,(n=>{o.set(n),SS(e,{name:t,color:n})}))},onSetup:i=>{r_(i,t,o.get());const r=o=>{o.name===t&&(r_(i,o.name,o.color),s_(i,l_(e,n,o.color)))};return e.on("TextColorChange",r),CS(TS(e)(i),(()=>{e.off("TextColorChange",r)}))}})},u_=(e,t,n,o,i)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:o=>(s_(o,l_(e,n,i.get())),r_(o,t,i.get()),TS(e)(o)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:a_(e,n),initData:{storageKey:n},onAction:o=>{n_(e,n,o.value,(n=>{i.set(n),SS(e,{name:t,color:n})}))}}]})},d_=e=>(t,n)=>{let o=!1;const i={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onAction:(e,t)=>{"hex-valid"===t.name&&(o=t.value)},onSubmit:n=>{const i=n.getData().colorpicker;o?(t(P.from(i)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",i]))},onClose:O,onCancel:()=>{t(P.none())}})},h_=(e,t,n,o,i,r,s,a)=>{const l=Yy(t),c=f_(t,n,o,"color"!==i?"normal":"color",r,s,a);return Hy(e,l,c,o,{menuType:i})},f_=(e,t,n,o,i,r,s)=>ye(N(e,(a=>{return"choiceitem"===a.type?(l=a,hi("choicemenuitem",ow,l)).fold(Fy,(a=>P.some(Jw(a,1===n,o,t,r(a.value),i,s,Yy(e))))):"imageitem"===a.type?(e=>hi("imagemenuitem",cw,e))(a).fold(Fy,(e=>P.some(((e,t,n,o,i)=>{const r=qw({presets:"img",textContent:P.none(),htmlContent:P.none(),ariaLabel:e.tooltip,iconContent:P.some(e.url),labelContent:e.label,shortcutContent:P.none(),checkMark:P.some(Ww(i.icons)),caret:P.none(),value:e.value},i,!0),s=e.tooltip.map((e=>Bv.config(i.tooltips.getConfig({tooltipText:i.translate(e)}))));return Eo(Iw({context:e.context,data:Rw(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Pg.set(e,t)},isActive:()=>Pg.isOn(e),isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t)}),onAction:n=>{t(e.value),n.setActive(!0)},onSetup:e=>(e.setActive(n),O),triggersSubmenu:!1,itemBehaviours:[...s.toArray()]},r,o,i),{toggling:{toggleClass:my,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(e,t,r(e.value),i,s)))):"resetimage"===a.type?(e=>hi("resetimageitem",uw,e))(a).fold(Fy,(a=>P.some(Jw({...a,type:"choiceitem",text:a.tooltip,icon:P.some(a.icon),label:P.some(a.label)},1===n,o,t,r(a.value),i,s,Yy(e))))):P.none();var l}))),p_=(e,t)=>{const n=ky(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};return{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[t],previousSelector:e=>"color"===t?lo(e.element,"[aria-checked=true]"):P.none()}},m_=(e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>o_(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n)),(e=>e.concat(t_(n))))},g_=sl("cell-over"),O_=sl("cell-execute"),v_=(e,t,n)=>{const o=n=>ts(n,O_,{row:e,col:t}),i=(e,t)=>{t.stop(),o(e)};return ql({dom:{tag:"div",attributes:{role:"button","aria-label":n}},behaviours:As([gg("insert-table-picker-cell",[cs(pr(),xg.focus),cs(Er(),o),cs(xr(),i),cs(Dr(),i)]),Pg.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),xg.config({onFocus:n=>ts(n,g_,{row:e,col:t})})])})},b_=e=>Y(e,(e=>N(e,Hl))),y_=(e,t)=>Wl(`${t}x${e}`),x_={inserttable:(e,t)=>{const n=(e=>(t,n)=>e.shared.providers.translate(["{0} columns, {1} rows",n,t]))(t),o=((e,t,n)=>{const o=[];for(let i=0;i<t;i++){const t=[];for(let o=0;o<n;o++){const n=e(i+1,o+1);t.push(v_(i,o,n))}o.push(t)}return o})(n,10,10),i=y_(0,0),r=$v({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[i],behaviours:As([mg.config({})])});return{type:"widget",data:{value:sl("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[eS.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:b_(o).concat(r.asSpec()),behaviours:As([gg("insert-table-picker",[Os((e=>{mg.set(r.get(e),[i])})),fs(g_,((e,t,n)=>{const{row:i,col:s}=n.event;((e,t,n,o,i)=>{for(let r=0;r<o;r++)for(let o=0;o<i;o++)Pg.set(e[r][o],r<=t&&o<=n)})(o,i,s,10,10),mg.set(r.get(e),[y_(i+1,s+1)])})),fs(O_,((t,n,o)=>{const{row:i,col:r}=o.event;es(t,Rr()),e.onAction({numRows:i+1,numColumns:r+1})}))]),sg.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const n=m_(e,t),o=t.colorinput.getColorCols(e.initData.storageKey),i="color",r=h_(sl("menu-value"),n,(t=>{e.onAction({value:t})}),o,i,uy.CLOSE_ON_EXECUTE,e.select.getOr(T),t.shared.providers),s={...r,markers:ky(i),movement:p_(o,i),showMenuRole:!1};return{type:"widget",data:{value:sl("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[eS.widget(Kg.sketch(s))]}},imageselect:(e,t)=>{const n="imageselector",o=e.initData.columns,i=h_(sl("menu-value"),e.initData.items,(t=>{e.onAction({value:t})}),o,n,uy.CLOSE_ON_EXECUTE,e.select.getOr(T),t.shared.providers),r={...i,markers:ky(n),movement:p_(o,n),showMenuRole:!1};return{type:"widget",data:{value:sl("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[eS.widget(Kg.sketch(r))]}}},w_=(e,t,n,o,i,r,s,a=!0)=>{const l=qw({presets:o,textContent:P.none(),htmlContent:n?e.text.map((e=>Gw(e,t))):P.none(),ariaLabel:e.text,labelContent:P.none(),iconContent:e.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:e.value},s.providers,a,e.icon),c=e.text.filter((e=>!n&&""!==e));return Iw({context:"mode:design",data:Rw(e),enabled:e.enabled,getApi:y({}),onAction:t=>i(e.value,e.meta),onSetup:y(O),triggersSubmenu:!1,itemBehaviours:Hw(e,s,c)},l,r,s.providers)},S_=e=>({type:"separator",dom:{tag:"div",classes:[hy,"tox-collection__group-heading"]},components:e.text.map(Wl).toArray()}),__=(e,t,n,o=!0)=>{const i=qw({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),labelContent:P.none(),ariaLabel:e.text,caret:P.none(),checkMark:P.none(),shortcutContent:e.shortcut},n,o);return Iw({context:e.context,data:Rw(e),getApi:e=>({isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)},k_=(e,t,n,o=!0,i=!1)=>{const r=i?(s=n.icons,jw("chevron-down",s,[vy])):(e=>jw("chevron-right",e,[vy]))(n.icons);var s;const a=qw({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,labelContent:P.none(),caret:P.some(r),checkMark:P.none(),shortcutContent:e.shortcut},n,o);return Iw({context:e.context,data:Rw(e),getApi:e=>({isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t),setIconFill:(t,n)=>{lo(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{xt(e,"fill",n)}))},setTooltip:t=>{const o=n.translate(t);xt(e.element,"aria-label",o)}}),enabled:e.enabled,onAction:O,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t,n)},C_=(e,t,n,o=!0)=>{const i=qw({iconContent:e.icon,textContent:e.text,htmlContent:P.none(),labelContent:P.none(),ariaLabel:e.text,checkMark:P.some(Ww(n.icons)),caret:P.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return Eo(Iw({context:e.context,data:Rw(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Pg.set(e,t)},isActive:()=>Pg.isOn(e),isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:my,toggleOnExecute:!1,selected:e.active},role:e.role.getOrUndefined()})},T_=(e,t)=>ge(x_,e.fancytype).map((n=>n(e,t))),$_=(e,t,n,o)=>{const i={dom:Yw(e.label,[]),optComponents:[P.some({dom:{tag:"div",classes:[yy,xy]},components:Kw(e.items,o)})]};return Iw({context:"mode:design",data:Rw({text:P.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>{Jf.set(e,!t),L(od(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(Jf)&&Jf.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(o.itemBehaviours).getOr([])},i,t,n.providers)};var P_=Object.freeze({__proto__:null,getCoupled:(e,t,n,o)=>n.getOrCreate(e,t,o),getExistingCoupled:(e,t,n,o)=>n.getExisting(e,t,o)}),A_=[wi("others",di(po.value,ei()))];var Q_=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,n)=>{if(0===re(t.others).length)throw new Error("Cannot find any known coupled components");return ge(e,n)},n=y({});return Ps({readState:n,getExisting:(e,n,o)=>t(n,o).orThunk((()=>(ge(n.others,o).getOrDie("No information found for coupled component: "+o),P.none()))),getOrCreate:(n,o,i)=>t(o,i).getOrThunk((()=>{const t=ge(o.others,i).getOrDie("No information found for coupled component: "+i)(n),r=n.getSystem().build(t);return e[i]=r,r}))})}});const E_=Es({fields:A_,name:"coupling",apis:P_,state:Q_}),M_=e=>{let t=P.none(),n=[];const o=e=>{i()?s(e):n.push(e)},i=()=>t.isSome(),r=e=>{L(e,s)},s=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{i()||(t=P.some(e),r(n),n=[])})),{get:o,map:e=>M_((t=>{o((n=>{t(e(n))}))})),isReady:i}},D_={nu:M_,pure:e=>M_((t=>{t(e)}))},I_=e=>{setTimeout((()=>{throw e}),0)},R_=e=>{const t=t=>{e().then(t,I_)};return{map:t=>R_((()=>e().then(t))),bind:t=>R_((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>R_((()=>e().then((()=>t.toPromise())))),toLazy:()=>D_.nu(t),toCached:()=>{let t=null;return R_((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},z_=e=>R_((()=>new Promise(e))),N_=e=>R_((()=>Promise.resolve(e))),L_=y("sink"),j_=y(lf({name:L_(),overrides:y({dom:{tag:"div"},behaviours:As([Rd.config({useFixed:$})]),events:ss([ps(Or()),ps(ur()),ps(xr())])})})),V_=(e,t)=>{const n=e.getHotspot(t).getOr(t),o="hotspot",i=e.getAnchorOverrides();return e.layouts.fold((()=>({type:o,hotspot:n,overrides:i})),(e=>({type:o,hotspot:n,overrides:i,layouts:e})))},B_=(e,t,n,o,i,r,s)=>{const a=((e,t,n,o,i,r,s)=>{const a=((e,t,n)=>(0,e.fetch)(n).map(t))(e,t,o),l=U_(o,e);return a.map((t=>t.bind((t=>{const a=t.menus[t.primary];return P.from(a).each((t=>{e.listRole.each((e=>{t.role=e}))})),P.from(aO.sketch({...r.menu(),uid:fl(""),data:t,highlightOnOpen:s,onOpenMenu:(e,t)=>{const o=l().getOrDie();Rd.position(o,t,{anchor:n}),ch.decloak(i)},onOpenSubmenu:(e,t,n)=>{const o=l().getOrDie();Rd.position(o,n,{anchor:{type:"submenu",item:t}}),ch.decloak(i)},onRepositionMenu:(e,t,o)=>{const i=l().getOrDie();Rd.position(i,t,{anchor:n}),L(o,(e=>{Rd.position(i,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(xg.focus(o),ch.close(i),P.some(!0))}))}))))})(e,t,V_(e,n),n,o,i,s);return a.map((e=>(e.fold((()=>{ch.isOpen(o)&&ch.close(o)}),(e=>{ch.cloak(o),ch.open(o,e),r(o)})),o)))},Z_=(e,t,n,o,i,r,s)=>(ch.close(o),N_(o)),X_=(e,t,n,o,i,r)=>{const s=E_.getCoupled(n,"sandbox");return(ch.isOpen(s)?Z_:B_)(e,t,n,s,o,i,r)},W_=(e,t,n)=>{const o=Lf.getCurrent(t).getOr(t),i=qt(e.element);n?Pt(o.element,"min-width",i+"px"):((e,t)=>{Ft.set(e,t)})(o.element,i)},U_=(e,t)=>e.getSystem().getByUid(t.uid+"-"+L_()).map((e=>()=>po.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>po.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),Y_=e=>{ch.getState(e).each((e=>{aO.repositionMenus(e)}))},F_=(e,t,n)=>{const o=Jl(),i=U_(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id}},behaviours:Dh(e.sandboxBehaviours,[Ph.config({store:{mode:"memory",initialValue:t}}),ch.config({onOpen:(i,r)=>{const s=V_(e,t);o.link(t.element),e.matchWidth&&W_(s.hotspot,r,e.useMinWidth),e.onOpen(s,i,r),void 0!==n&&void 0!==n.onOpen&&n.onOpen(i,r)},onClose:(e,r)=>{o.unlink(t.element),i().getOr(r).element.dom.dispatchEvent(new window.FocusEvent("focusout")),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:(e,n,o)=>tc(n,o)||tc(t,o),getAttachPoint:()=>i().getOrDie()}),Lf.config({find:e=>ch.getState(e).bind((e=>Lf.getCurrent(e)))}),Rc.config({channels:{...ph({isExtraPart:T}),...gh({doReposition:Y_})}})])}},q_=e=>{const t=E_.getCoupled(e,"sandbox");Y_(t)},H_=()=>[Ni("sandboxClasses",[]),Mh("sandboxBehaviours",[Lf,Rc,ch,Ph])],G_=y([xi("dom"),xi("fetch"),Ua("onOpen"),Ya("onExecute"),Ni("getHotspot",P.some),Ni("getAnchorOverrides",y({})),Pu(),Ah("dropdownBehaviours",[Pg,E_,sg,xg]),xi("toggleClass"),Ni("eventOrder",{}),Ai("lazySink"),Ni("matchWidth",!1),Ni("useMinWidth",!1),Ai("role"),Ai("listRole")].concat(H_())),K_=y([af({schema:[Za(),Ni("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),j_()]),J_=If({name:"Dropdown",configFields:G_(),partFields:K_(),factory:(e,t,n,o)=>{const i=e=>{ch.getState(e).each((e=>{aO.highlightPrimary(e)}))},r=(t,n,i)=>X_(e,x,t,o,n,i),s={expand:e=>{Pg.isOn(e)||r(e,O,rO.HighlightNone).get(O)},open:e=>{Pg.isOn(e)||r(e,O,rO.HighlightMenuAndItem).get(O)},refetch:t=>E_.getExistingCoupled(t,"sandbox").fold((()=>r(t,O,rO.HighlightMenuAndItem).map(O)),(n=>B_(e,x,t,n,o,O,rO.HighlightMenuAndItem).map(O))),isOpen:Pg.isOn,close:e=>{Pg.isOn(e)&&r(e,O,rO.HighlightMenuAndItem).get(O)},repositionMenus:e=>{Pg.isOn(e)&&q_(e)}},a=(e,t)=>(ns(e),P.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:Eh(e.dropdownBehaviours,[Pg.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),E_.config({others:{sandbox:t=>F_(e,t,{onOpen:()=>Pg.on(t),onClose:()=>Pg.off(t)})}}),sg.config({mode:"special",onSpace:a,onEnter:a,onDown:(e,t)=>{if(J_.isOpen(e)){const t=E_.getCoupled(e,"sandbox");i(t)}else J_.open(e);return P.some(!0)},onEscape:(e,t)=>J_.isOpen(e)?(J_.close(e),P.some(!0)):P.none()}),xg.config({})]),events:Eg(P.some((e=>{r(e,i,rO.HighlightMenuAndItem).get(O)}))),eventOrder:{...e.eventOrder,[Er()]:["disabling","toggling","alloy.base.behaviour"]},apis:s,domModification:{attributes:{"aria-haspopup":e.listRole.getOr("true"),...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:(l="type",ge(e.dom,"attributes").bind((e=>ge(e,l)))).getOr("button")}:{}}}};var l},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),ek=e=>{const t=Ph.getValue(e),n=zy(e).map(Ly);J_.refetch(t).get((()=>{const e=E_.getCoupled(t,"sandbox");n.each((t=>zy(e).each((e=>((e,t)=>{Ph.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))},tk=e=>ch.getState(e).bind(up.getHighlighted).bind(up.getHighlighted),nk=(e,t,n)=>{Ny(e).each((e=>{((e,t)=>{_t(t.element,"id").each((t=>xt(e.element,"aria-activedescendant",t)))})(e,n);var o;(Ws((o=t).element,Vy)?P.some(o.element):lo(o.element,"."+Vy)).each((t=>{_t(t,"id").each((t=>xt(e.element,"aria-controls",t)))}))})),xt(n.element,"aria-selected","true")},ok=(e,t,n)=>{xt(n.element,"aria-selected","false")},ik=e=>E_.getExistingCoupled(e,"sandbox").bind(zy).map(Ly).map((e=>e.fetchPattern)).getOr("");var rk;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(rk||(rk={}));const sk=(e,t,n,o,i)=>{const r=n.shared.providers,s=e=>i?{...e,shortcut:P.none(),icon:e.text.isSome()?P.none():e.icon}:e;switch(e.type){case"menuitem":return(a=e,hi("menuitem",dw,a)).fold(Fy,(e=>P.some(__(s(e),t,r,o))));case"nestedmenuitem":return(e=>hi("nestedmenuitem",hw,e))(e).fold(Fy,(e=>P.some(k_(s(e),t,r,o,i))));case"togglemenuitem":return(e=>hi("togglemenuitem",fw,e))(e).fold(Fy,(e=>P.some(C_(s(e),t,r,o))));case"separator":return(e=>hi("separatormenuitem",Tx,e))(e).fold(Fy,(e=>P.some(S_(e))));case"fancymenuitem":return(e=>hi("fancymenuitem",lw,e))(e).fold(Fy,(e=>T_(e,n)));default:return console.error("Unknown item in general menu",e),P.none()}var a},ak=(e,t,n,o,i,r,s)=>{const a=1===o,l=!a||Yy(e);return ye(N(e,(e=>{switch(e.type){case"separator":return(o=e,hi("Autocompleter.Separator",Tx,o)).fold(Fy,(e=>P.some(S_(e))));case"cardmenuitem":return(e=>hi("cardmenuitem",nw,e))(e).fold(Fy,(e=>P.some($_({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},i,r,{itemBehaviours:Hw(e.meta,r,P.none()),cardText:{matchText:t,highlightOn:s}}))));default:return(e=>hi("Autocompleter.Item",$x,e))(e).fold(Fy,(e=>P.some(w_(e,t,a,"normal",n,i,r,l))))}var o})))},lk=(e,t,n,o,i,r)=>{const s=Yy(t),a=ye(N(t,(e=>{const t=e=>sk(e,n,o,(e=>i?!Oe(e,"text"):s)(e),i);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(r);return(i?qy:Hy)(e,s,a,1,l)},ck=e=>aO.singleData(e.value,e),uk=e=>Xu(De.fromDom(e.startContainer),e.startOffset,De.fromDom(e.endContainer),e.endOffset),dk=(e,t)=>{const n=sl("autocompleter"),o=Gn(!1),i=Gn(!1),r=eo(),s=ql(lO.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:n}},components:[],fireDismissalEventInstead:{},inlineBehaviours:As([gg("dismissAutocompleter",[cs(Wr(),(()=>d())),cs(Kr(),((t,n)=>{_t(n.event.target,"id").each((t=>xt(De.fromDom(e.getBody()),"aria-activedescendant",t)))}))])]),lazySink:t.getSink})),a=()=>lO.isOpen(s),l=i.get,c=()=>{if(a()){lO.hide(s),e.dom.remove(n,!1);const t=De.fromDom(e.getBody());_t(t,"aria-owns").filter((e=>e===n)).each((()=>{Ct(t,"aria-owns"),Ct(t,"aria-activedescendant")}))}},u=()=>lO.getContent(s).bind((e=>ee(e.components(),0))),d=()=>e.execCommand("mceAutocompleterClose"),h=(t,n)=>{const o=ie(t,(e=>P.from(e.columns))).getOr(1);lO.showMenuAt(s,{anchor:{type:"selection",getSelection:()=>r.get().map(uk),root:De.fromDom(e.getBody())}},((e,t,n,o)=>{const i=p_(t,o),r=ky(o);return{data:ck({...e,movement:i,menuBehaviours:gw("auto"!==t?[]:[Os(((e,t)=>{pw(e,4,r.item).each((({numColumns:t,numRows:n})=>{sg.setGridSize(e,n,t)}))}))])}),menu:{markers:ky(o),fakeFocus:n===rk.ContentFocus}}})(Hy("autocompleter-value",!0,n,o,{menuType:"normal"}),o,rk.ContentFocus,"normal")),u().each(up.highlightFirst)},f=i=>{const s=(n=>{const i=ie(n,(e=>P.from(e.columns))).getOr(1);return Y(n,(n=>{const s=n.items;return ak(s,n.matchText,((t,i)=>{const s={hide:()=>d(),reload:t=>{c(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};e.execCommand("mceAutocompleterRefreshActiveRange"),r.get().each((e=>{o.set(!0),n.onAction(s,e,t,i),o.set(!1)}))}),i,uy.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))})(i);s.length>0?(h(i,s),xt(De.fromDom(e.getBody()),"aria-owns",n),e.inline||p()):c()},p=()=>{e.dom.get(n)&&e.dom.remove(n,!1);const t=e.getDoc().documentElement,o=e.selection.getNode(),i=(e=>Pa(e,!0))(s.element);At(i,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${o.offsetTop}px`,left:`${o.offsetLeft}px`}),e.dom.add(t,i.dom),lo(i,'[role="menu"]').each((e=>{zt(e,"position"),zt(e,"max-height")}))};e.on("AutocompleterStart",(({lookupData:e})=>{i.set(!0),o.set(!1),f(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>f(e))),e.on("AutocompleterUpdateActiveRange",(({range:e})=>r.set(e))),e.on("AutocompleterEnd",(()=>{c(),i.set(!1),o.set(!1),r.clear()}));const m={cancelIfNecessary:d,isMenuOpen:a,isActive:l,isProcessingAction:o.get,getMenu:u};ly(m,e)},hk=(e,t,n)=>co(e,t,n).isSome(),fk=(e,t)=>{let n=null;return{cancel:()=>{null!==n&&(clearTimeout(n),n=null)},schedule:(...o)=>{n=setTimeout((()=>{e.apply(null,o),n=null}),t)}}},pk=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?P.none():P.some(t.touches[0])},mk=e=>{const t=eo(),n=Gn(!1),o=fk((t=>{e.triggerEvent(Ir(),t),n.set(!0)}),400),i=Hi([{key:sr(),value:e=>(pk(e).each((i=>{o.cancel();const r={x:i.clientX,y:i.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(r)})),P.none())},{key:ar(),value:e=>(o.cancel(),pk(e).each((e=>{t.on((n=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(e,n)&&t.clear()}))})),P.none())},{key:lr(),value:i=>{o.cancel();return t.get().filter((e=>Ge(e.target,i.target))).map((t=>n.get()?(i.prevent(),!1):e.triggerEvent(Dr(),i)))}}]);return{fireIfReady:(e,t)=>ge(i,t).bind((t=>t(e)))}},gk=(e,t)=>{const n={stopBackspace:!0,...t},o=mk(n),i=N(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>iu(e,t,(e=>{o.fireIfReady(e,t).each((t=>{t&&e.kill()}));n.triggerEvent(t,e)&&e.kill()})))),r=eo(),s=iu(e,"paste",(e=>{o.fireIfReady(e,"paste").each((t=>{t&&e.kill()}));n.triggerEvent("paste",e)&&e.kill(),r.set(setTimeout((()=>{n.triggerEvent(Ar(),e)}),0))})),a=iu(e,"keydown",(e=>{n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&(e=>e.raw.which===dp[0]&&!D(["input","textarea"],je(e.target))&&!hk(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=iu(e,"focusin",(e=>{n.triggerEvent("focusin",e)&&e.kill()})),c=eo(),u=iu(e,"focusout",(e=>{n.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((()=>{n.triggerEvent(Pr(),e)}),0))}));return{unbind:()=>{L(i,(e=>{e.unbind()})),a.unbind(),l.unbind(),u.unbind(),s.unbind(),r.on(clearTimeout),c.on(clearTimeout)}}},Ok=(e,t)=>{const n=ge(e,"target").getOr(t);return Gn(n)},vk=Yi([{stopped:[]},{resume:["element"]},{complete:[]}]),bk=(e,t,n,o,i,r)=>{const s=e(t,o),a=((e,t)=>{const n=Gn(!1),o=Gn(!1);return{stop:()=>{n.set(!0)},cut:()=>{o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}})(n,i);return s.fold((()=>(r.logEventNoHandlers(t,o),vk.complete())),(e=>{const n=e.descHandler;return wl(n)(a),a.isStopped()?(r.logEventStopped(t,e.element,n.purpose),vk.stopped()):a.isCut()?(r.logEventCut(t,e.element,n.purpose),vk.complete()):ot(e.element).fold((()=>(r.logNoParent(t,e.element,n.purpose),vk.complete())),(o=>(r.logEventResponse(t,e.element,n.purpose),vk.resume(o))))}))},yk=(e,t,n,o,i,r)=>bk(e,t,n,o,i,r).fold($,(o=>yk(e,t,n,o,i,r)),T),xk=(e,t,n)=>{const o=(e=>{const t=Gn(!1);return{stop:()=>{t.set(!0)},cut:O,isStopped:t.get,isCut:T,event:e,setSource:k("Cannot set source of a broadcasted event"),getSource:k("Cannot get source of a broadcasted event")}})(t);return L(e,(e=>{const t=e.descHandler;wl(t)(o)})),o.isStopped()},wk=(e,t,n,o,i)=>{const r=Ok(n,o);return yk(e,t,n,o,r,i)},Sk=()=>{const e={};return{registerId:(t,n,o)=>{ae(o,((o,i)=>{const r=void 0!==e[i]?e[i]:{};r[n]=((e,t)=>{return n=S.apply(void 0,[e.handler].concat(t)),o=e.purpose,{cHandler:n,purpose:o};var n,o})(o,t),e[i]=r}))},unregisterId:t=>{ae(e,((e,n)=>{Oe(e,t)&&delete e[t]}))},filterByType:t=>ge(e,t).map((e=>fe(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,n,o)=>ge(e,n).bind((e=>er(o,(t=>((e,t)=>hl(t).bind((t=>ge(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}},_k=()=>{const e=Sk(),t={},n=e=>{const t=e.element;return hl(t).getOrThunk((()=>((e,t)=>{const n=sl(cl+e);return dl(t,n),n})("uid-",e.element)))},o=n=>{hl(n.element).each((n=>{delete t[n],e.unregisterId(n)}))};return{find:(t,n,o)=>e.find(t,n,o),filter:t=>e.filterByType(t),register:i=>{const r=n(i);ve(t,r)&&((e,n)=>{const i=t[n];if(i!==e)throw new Error('The tagId "'+n+'" is already used by: '+Qa(i.element)+"\nCannot use it for: "+Qa(e.element)+"\nThe conflicting element is"+(Ot(i.element)?" ":" not ")+"already in the DOM");o(e)})(i,r);const s=[i];e.registerId(s,r,i.events),t[r]=i},unregister:o,getById:e=>ge(t,e)}},kk=Df({name:"Container",factory:e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:Qh(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[Ni("components",[]),Ah("containerBehaviours",[]),Ni("events",{}),Ni("domModification",{}),Ni("eventOrder",{})]}),Ck=e=>{const t=t=>ot(e.element).fold($,(e=>Ge(t,e))),n=_k(),o=(e,o)=>n.find(t,e,o),i=gk(e.element,{triggerEvent:(e,t)=>za(e,t.target,(n=>((e,t,n,o)=>wk(e,t,n,n.target,o))(o,e,t,n)))}),r={debugInfo:y("real"),triggerEvent:(e,t,n)=>{za(e,t,(i=>wk(o,e,n,t,i)))},triggerFocus:(e,t)=>{hl(e).fold((()=>{Nc(e)}),(n=>{za($r(),e,(n=>(((e,t,n,o,i)=>{const r=Ok(n,o);bk(e,t,n,o,r,i)})(o,$r(),{originator:t,kill:O,prevent:O,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{r.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>m(e),build:ql,buildOrPatch:Fl,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{s(e)},removeFromWorld:e=>{a(e)},broadcast:e=>{d(e)},broadcastOn:(e,t)=>{h(e,t)},broadcastEvent:(e,t)=>{f(e,t)},isConnected:$},s=e=>{e.connect(r),Xe(e.element)||(n.register(e),L(e.components(),s),r.triggerEvent(Nr(),e.element,{target:e.element}))},a=e=>{Xe(e.element)||(L(e.components(),a),n.unregister(e)),e.disconnect()},l=t=>{Xd(e,t)},c=e=>{Yd(e)},u=e=>{const t=n.filter(Qr());L(t,(t=>{const n=t.descHandler;wl(n)(e)}))},d=e=>{u({universal:!0,data:e})},h=(e,t)=>{u({universal:!1,channels:e,data:t})},f=(e,t)=>{const o=n.filter(e);return xk(o,t)},p=e=>n.getById(e).fold((()=>po.error(new Error('Could not find component with uid: "'+e+'" in system.'))),po.value),m=e=>{const t=hl(e).getOr("not found");return p(t)};return s(e),{root:e,element:e.element,destroy:()=>{i.unbind(),zn(e.element)},add:l,remove:c,getByUid:p,getByDom:m,addToWorld:s,removeFromWorld:a,broadcast:d,broadcastOn:h,broadcastEvent:f}},Tk=y([Ni("prefix","form-field"),Ah("fieldBehaviours",[Lf,Ph])]),$k=y([lf({schema:[xi("dom")],name:"label"}),lf({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[xi("text")],name:"aria-descriptor"}),sf({factory:{sketch:e=>{const t=Fi(e,["factory"]);return e.factory.sketch(t)}},schema:[xi("factory")],name:"field"})]),Pk=If({name:"FormField",configFields:Tk(),partFields:$k(),factory:(e,t,n,o)=>{const i=Eh(e.fieldBehaviours,[Lf.config({find:t=>yf(t,e,"field")}),Ph.config({store:{mode:"manual",getValue:e=>Lf.getCurrent(e).bind(Ph.getValue),setValue:(e,t)=>{Lf.getCurrent(e).each((e=>{Ph.setValue(e,t)}))}}})]),r=ss([Os(((t,n)=>{const o=wf(t,e,["label","field","aria-descriptor"]);o.field().each((t=>{const n=sl(e.prefix);o.label().each((e=>{xt(e.element,"for",n),xt(t.element,"id",n)})),o["aria-descriptor"]().each((n=>{const o=sl(e.prefix);xt(n.element,"id",o),xt(t.element,"aria-describedby",o)}))}))}))]),s={getField:t=>yf(t,e,"field"),getLabel:t=>yf(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:i,events:r,apis:s}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var Ak=tinymce.util.Tools.resolve("tinymce.html.Entities");const Qk=(e,t,n,o)=>{const i=Ek(e,t,n,o);return Pk.sketch(i)},Ek=(e,t,n,o)=>({dom:Mk(n),components:e.toArray().concat([t]),fieldBehaviours:As(o)}),Mk=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Dk=(e,t)=>Pk.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Wl(t.translate(e))]}),Ik=sl("form-component-change"),Rk=sl("form-component-input"),zk=sl("form-close"),Nk=sl("form-cancel"),Lk=sl("form-action"),jk=sl("form-submit"),Vk=sl("form-block"),Bk=sl("form-unblock"),Zk=sl("form-tabchange"),Xk=sl("form-resize"),Wk=(e,t,n)=>{const o=e.label.map((e=>Dk(e,t))),i=t.icons(),r=e=>(t,n)=>{co(n.event.target,"[data-collection-item-value]").each((o=>{e(t,n,o,St(o,"data-collection-item-value"))}))},s=(n,o)=>{const r=t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled()?" tox-collection__item--state-disabled":"",s=N(o,(t=>{const n=qb.translate(t.text),o=1===e.columns?`<div class="tox-collection__item-label">${n}</div>`:"",s=`<div class="tox-collection__item-icon">${(e=>{var t;return null!==(t=i[e])&&void 0!==t?t:e})(t.icon)}</div>`,a={_:" "," - ":" ","-":" "},l=n.replace(/\_| \- |\-/g,(e=>a[e]));return`<div data-mce-tooltip="${l}" class="tox-collection__item${r}" tabindex="-1" data-collection-item-value="${Ak.encodeAllRaw(t.value)}" aria-label="${l}">${s}${o}</div>`})),a="auto"!==e.columns&&e.columns>1?z(s,e.columns):[s],l=N(a,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));$a(n.element,l.join(""))},a=r(((n,o,i,r)=>{o.stop(),t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled()||ts(n,Lk,{name:e.name,value:r})})),l=[cs(pr(),r(((e,t,n)=>{Nc(n,!0)}))),cs(xr(),a),cs(Dr(),a),cs(mr(),r(((e,t,n)=>{lo(e.element,"."+by).each((e=>{Zs(e,by)})),Vs(n,by)}))),cs(gr(),r((e=>{lo(e.element,"."+by).each((e=>{Zs(e,by),Lc(e)}))}))),ys(r(((t,n,o,i)=>{ts(t,Lk,{name:e.name,value:i})})))],c=(e,t)=>N(od(e.element,".tox-collection__item"),t),u=Pk.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:x},behaviours:As([Jf.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{c(e,(e=>{Vs(e,"tox-collection__item--state-disabled"),xt(e,"aria-disabled",!0)}))},onEnabled:e=>{c(e,(e=>{Zs(e,"tox-collection__item--state-disabled"),Ct(e,"aria-disabled")}))}}),Qw((()=>t.checkUiComponentContext(e.context))),mg.config({}),Bv.config({...t.tooltips.getConfig({tooltipText:"",onShow:e=>{lo(e.element,"."+by+"[data-mce-tooltip]").each((n=>{_t(n,"data-mce-tooltip").each((n=>{Bv.setComponents(e,t.tooltips.getComponents({tooltipText:n}))}))}))}}),mode:"children-keyboard-focus",anchor:e=>({type:"node",node:lo(e.element,"."+by).orThunk((()=>He(".tox-collection__item"))),root:e.element,layouts:{onLtr:y([kc,_c,yc,wc,xc,Sc]),onRtl:y([kc,_c,yc,wc,xc,Sc])},bubble:xu(0,-2,{})})}),Ph.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(t,n)=>{s(t,n),"auto"===e.columns&&pw(t,5,"tox-collection__item").each((({numRows:e,numColumns:n})=>{sg.setGridSize(t,e,n)})),es(t,Xk)}}),Qv.config({}),sg.config((d=e.columns,h="normal",1===d?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===d?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===h?".tox-swatches__row":".tox-collection__group",cell:"color"===h?`.${fy}`:`.${hy}`}})),gg("collection-events",l)]),eventOrder:{[Er()]:["disabling","alloy.base.behaviour","collection-events"],[mr()]:["collection-events","tooltipping"]}});var d,h;return Qk(o,u,["tox-form__group--collection"],[])},Uk=["input","textarea"],Yk=e=>{const t=je(e);return D(Uk,t)},Fk=(e,t)=>{const n=t.getRoot(e).getOr(e.element);Zs(n,t.invalidClass),t.notify.each((t=>{Yk(e.element)&&xt(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{$a(e,t.validHtml)})),t.onValid(e)}))},qk=(e,t,n,o)=>{const i=t.getRoot(e).getOr(e.element);Vs(i,t.invalidClass),t.notify.each((t=>{Yk(e.element)&&xt(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{$a(e,o)})),t.onInvalid(e,o)}))},Hk=(e,t,n)=>t.validator.fold((()=>N_(po.value(!0))),(t=>t.validate(e))),Gk=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),Hk(e,t).map((n=>e.getSystem().isConnected()?n.fold((n=>(qk(e,t,0,n),po.error(n))),(n=>(Fk(e,t),po.value(n)))):po.error("No longer in system"))));var Kk=Object.freeze({__proto__:null,markValid:Fk,markInvalid:qk,query:Hk,run:Gk,isInvalid:(e,t)=>{const n=t.getRoot(e).getOr(e.element);return Ws(n,t.invalidClass)}});var Jk=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>ss([cs(t.onEvent,(t=>{Gk(t,e).get(x)}))].concat(t.validateOnLoad?[Os((t=>{Gk(t,e).get(O)}))]:[])))).getOr({})}),eC=[xi("invalidClass"),Ni("getRoot",P.none),zi("notify",[Ni("aria","alert"),Ni("getContainer",P.none),Ni("validHtml",""),Ua("onValid"),Ua("onInvalid"),Ua("onValidate")]),zi("validator",[xi("validate"),Ni("onEvent","input"),Ni("validateOnLoad",!0)])];const tC=Es({fields:eC,name:"invalidating",active:Jk,apis:Kk,extra:{validation:e=>t=>{const n=Ph.getValue(t);return N_(e(n))}}});const nC=Es({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>ss([as(kr(),$)]),exhibit:()=>Ss({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),oC=sl("color-input-change"),iC=sl("color-swatch-change"),rC=sl("color-picker-cancel"),sC=(e,t,n,o)=>{const i=Pk.parts.field({factory:My,inputClasses:["tox-textfield"],data:o,onSetValue:e=>tC.run(e).get(O),inputBehaviours:As([Jf.config({disabled:()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable}),Qw((()=>t.providers.checkUiComponentContext(e.context))),Qv.config({}),tC.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>it(e.element),notify:{onValid:e=>{const t=Ph.getValue(e);ts(e,oC,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=Ph.getValue(e);if(0===t.length)return N_(po.value(!0));{const e=De.fromTag("span");Pt(e,"background-color",t);const n=Dt(e,"background-color").fold((()=>po.error("blah")),(e=>po.value(t)));return N_(n)}}}})]),selectOnFocus:!1}),r=e.label.map((e=>Dk(e,t.providers))),s=(e,t)=>{ts(e,iC,{value:t})},a=$v(((e,t)=>J_.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:As([vw((()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable)),Qw((()=>t.providers.checkUiComponentContext(e.context))),nC.config({}),Qv.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>z_((t=>e.fetch(t))).map((o=>P.from(ck(Eo(h_(sl("menu-value"),o,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,uy.CLOSE_ON_EXECUTE,T,t.providers),{movement:p_(e.columns,e.presets)}))))),parts:{menu:$y(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[xc,yc,kc],onLtr:()=>[yc,xc,kc]},components:[],fetch:i_(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:"color",onItemAction:(t,o)=>{a.getOpt(t).each((t=>{"custom"===o?n.colorPicker((n=>{n.fold((()=>es(t,rC)),(n=>{s(t,n),RS(e.storageKey,n)}))}),"#ffffff"):s(t,"remove"===o?"":o)}))},context:e.context},t));return Pk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[i,a.asSpec()]}]),fieldBehaviours:As([gg("form-field-events",[cs(oC,((t,n)=>{a.getOpt(t).each((e=>{Pt(e.element,"background-color",n.event.color)})),ts(t,Ik,{name:e.name})})),cs(iC,((e,t)=>{Pk.getField(e).each((n=>{Ph.setValue(n,t.event.value),Lf.getCurrent(e).each(xg.focus)}))})),cs(rC,((e,t)=>{Pk.getField(e).each((t=>{Lf.getCurrent(e).each(xg.focus)}))}))])])})},aC=lf({schema:[xi("dom")],name:"label"}),lC=e=>lf({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:ss([us(sr(),((t,n,o)=>e(t,o)),[t]),us(ur(),((t,n,o)=>e(t,o)),[t]),us(dr(),((t,n,o)=>{o.mouseIsDown.get()&&e(t,o)}),[t])])})))}),cC=lC("top-left"),uC=lC("top"),dC=lC("top-right"),hC=lC("right"),fC=lC("bottom-right"),pC=lC("bottom"),mC=lC("bottom-left"),gC=lC("left"),OC=sf({name:"thumb",defaults:y({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:ss([hs(sr(),e,"spectrum"),hs(ar(),e,"spectrum"),hs(lr(),e,"spectrum"),hs(ur(),e,"spectrum"),hs(dr(),e,"spectrum"),hs(fr(),e,"spectrum")])})}),vC=e=>Cp(e.event),bC=sf({schema:[bi("mouseIsDown",(()=>Gn(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,n=(n,o)=>t.getValueFromEvent(o).map((o=>t.setValueFrom(n,e,o)));return{behaviours:As([sg.config({mode:"special",onLeft:(n,o)=>t.onLeft(n,e,vC(o)),onRight:(n,o)=>t.onRight(n,e,vC(o)),onUp:(n,o)=>t.onUp(n,e,vC(o)),onDown:(n,o)=>t.onDown(n,e,vC(o))}),Qv.config({}),xg.config({})]),events:ss([cs(sr(),n),cs(ar(),n),cs(ur(),n),cs(dr(),((t,o)=>{e.mouseIsDown.get()&&n(t,o)}))])}}});var yC=[aC,gC,hC,uC,pC,cC,dC,mC,fC,OC,bC];const xC=y("slider.change.value"),wC=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?P.some(e.touches[0]).map((e=>Xt(e.clientX,e.clientY))):P.none()}{const e=t;return void 0!==e.clientX?P.some(e).map((e=>Xt(e.clientX,e.clientY))):P.none()}},SC=e=>e.model.minX,_C=e=>e.model.minY,kC=e=>e.model.minX-1,CC=e=>e.model.minY-1,TC=e=>e.model.maxX,$C=e=>e.model.maxY,PC=e=>e.model.maxX+1,AC=e=>e.model.maxY+1,QC=(e,t,n)=>t(e)-n(e),EC=e=>QC(e,TC,SC),MC=e=>QC(e,$C,_C),DC=e=>EC(e)/2,IC=e=>MC(e)/2,RC=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,zC=e=>e.snapToGrid,NC=e=>e.snapStart,LC=e=>e.rounded,jC=(e,t)=>void 0!==e[t+"-edge"],VC=e=>jC(e,"left"),BC=e=>jC(e,"right"),ZC=e=>jC(e,"top"),XC=e=>jC(e,"bottom"),WC=e=>e.model.value.get(),UC=(e,t)=>({x:e,y:t}),YC=(e,t)=>{ts(e,xC(),{value:t})},FC=(e,t,n,o)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o),qC=(e,t,n,o)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o),HC=(e,t,n)=>Math.max(t,Math.min(n,e)),GC=e=>{const{min:t,max:n,range:o,value:i,step:r,snap:s,snapStart:a,rounded:l,hasMinEdge:c,hasMaxEdge:u,minBound:d,maxBound:h,screenRange:f}=e,p=c?t-1:t,m=u?n+1:n;if(i<d)return p;if(i>h)return m;{const e=((e,t,n)=>Math.min(n,Math.max(e,t))-t)(i,d,h),c=HC(e/f*o+t,p,m);return s&&c>=t&&c<=n?((e,t,n,o,i)=>i.fold((()=>{const i=e-t,r=Math.round(i/o)*o;return HC(t+r,t-1,n+1)}),(t=>{const i=(e-t)%o,r=Math.round(i/o),s=Math.floor((e-t)/o),a=Math.floor((n-t)/o),l=t+Math.min(a,s+r)*o;return Math.max(t,l)})))(c,t,n,r,a):l?Math.round(c):c}},KC=e=>{const{min:t,max:n,range:o,value:i,hasMinEdge:r,hasMaxEdge:s,maxBound:a,maxOffset:l,centerMinEdge:c,centerMaxEdge:u}=e;return i<t?r?0:c:i>n?s?a:u:(i-t)/o*l},JC="top",eT="right",tT="bottom",nT="left",oT=e=>e.element.dom.getBoundingClientRect(),iT=(e,t)=>e[t],rT=e=>{const t=oT(e);return iT(t,nT)},sT=e=>{const t=oT(e);return iT(t,eT)},aT=e=>{const t=oT(e);return iT(t,JC)},lT=e=>{const t=oT(e);return iT(t,tT)},cT=e=>{const t=oT(e);return iT(t,"width")},uT=e=>{const t=oT(e);return iT(t,"height")},dT=(e,t,n)=>(e+t)/2-n,hT=(e,t)=>{const n=oT(e),o=oT(t),i=iT(n,nT),r=iT(n,eT),s=iT(o,nT);return dT(i,r,s)},fT=(e,t)=>{const n=oT(e),o=oT(t),i=iT(n,JC),r=iT(n,tT),s=iT(o,JC);return dT(i,r,s)},pT=(e,t)=>{ts(e,xC(),{value:t})},mT=(e,t,n)=>{const o={min:SC(t),max:TC(t),range:EC(t),value:n,step:RC(t),snap:zC(t),snapStart:NC(t),rounded:LC(t),hasMinEdge:VC(t),hasMaxEdge:BC(t),minBound:rT(e),maxBound:sT(e),screenRange:cT(e)};return GC(o)},gT=e=>(t,n,o)=>((e,t,n,o)=>{const i=(e>0?qC:FC)(WC(n),SC(n),TC(n),RC(n,o));return pT(t,i),P.some(i)})(e,t,n,o).map($),OT=(e,t,n,o,i,r)=>{const s=((e,t,n,o,i)=>{const r=cT(e),s=o.bind((t=>P.some(hT(t,e)))).getOr(0),a=i.bind((t=>P.some(hT(t,e)))).getOr(r),l={min:SC(t),max:TC(t),range:EC(t),value:n,hasMinEdge:VC(t),hasMaxEdge:BC(t),minBound:rT(e),minOffset:0,maxBound:sT(e),maxOffset:r,centerMinEdge:s,centerMaxEdge:a};return KC(l)})(t,r,n,o,i);return rT(t)-rT(e)+s},vT=gT(-1),bT=gT(1),yT=P.none,xT=P.none,wT={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(((e,t)=>{YC(e,PC(t))})),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(((e,t)=>{YC(e,kC(t))}))};var ST=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=mT(e,t,n);return pT(e,o),o},setToMin:(e,t)=>{const n=SC(t);pT(e,n)},setToMax:(e,t)=>{const n=TC(t);pT(e,n)},findValueOfOffset:mT,getValueFromEvent:e=>wC(e).map((e=>e.left)),findPositionOfValue:OT,setPositionFromValue:(e,t,n,o)=>{const i=WC(n),r=OT(e,o.getSpectrum(e),i,o.getLeftEdge(e),o.getRightEdge(e),n),s=qt(t.element)/2;Pt(t.element,"left",r-s+"px")},onLeft:vT,onRight:bT,onUp:yT,onDown:xT,edgeActions:wT});const _T=(e,t)=>{ts(e,xC(),{value:t})},kT=(e,t,n)=>{const o={min:_C(t),max:$C(t),range:MC(t),value:n,step:RC(t),snap:zC(t),snapStart:NC(t),rounded:LC(t),hasMinEdge:ZC(t),hasMaxEdge:XC(t),minBound:aT(e),maxBound:lT(e),screenRange:uT(e)};return GC(o)},CT=e=>(t,n,o)=>((e,t,n,o)=>{const i=(e>0?qC:FC)(WC(n),_C(n),$C(n),RC(n,o));return _T(t,i),P.some(i)})(e,t,n,o).map($),TT=(e,t,n,o,i,r)=>{const s=((e,t,n,o,i)=>{const r=uT(e),s=o.bind((t=>P.some(fT(t,e)))).getOr(0),a=i.bind((t=>P.some(fT(t,e)))).getOr(r),l={min:_C(t),max:$C(t),range:MC(t),value:n,hasMinEdge:ZC(t),hasMaxEdge:XC(t),minBound:aT(e),minOffset:0,maxBound:lT(e),maxOffset:r,centerMinEdge:s,centerMaxEdge:a};return KC(l)})(t,r,n,o,i);return aT(t)-aT(e)+s},$T=P.none,PT=P.none,AT=CT(-1),QT=CT(1),ET={"top-left":P.none(),top:P.some(((e,t)=>{YC(e,CC(t))})),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(((e,t)=>{YC(e,AC(t))})),"bottom-left":P.none(),left:P.none()};var MT=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=kT(e,t,n);return _T(e,o),o},setToMin:(e,t)=>{const n=_C(t);_T(e,n)},setToMax:(e,t)=>{const n=$C(t);_T(e,n)},findValueOfOffset:kT,getValueFromEvent:e=>wC(e).map((e=>e.top)),findPositionOfValue:TT,setPositionFromValue:(e,t,n,o)=>{const i=WC(n),r=TT(e,o.getSpectrum(e),i,o.getTopEdge(e),o.getBottomEdge(e),n),s=Vt(t.element)/2;Pt(t.element,"top",r-s+"px")},onLeft:$T,onRight:PT,onUp:AT,onDown:QT,edgeActions:ET});const DT=(e,t)=>{ts(e,xC(),{value:t})},IT=(e,t)=>({x:e,y:t}),RT=(e,t)=>(n,o,i)=>((e,t,n,o,i)=>{const r=e>0?qC:FC,s=t?WC(o).x:r(WC(o).x,SC(o),TC(o),RC(o,i)),a=t?r(WC(o).y,_C(o),$C(o),RC(o,i)):WC(o).y;return DT(n,IT(s,a)),P.some(s)})(e,t,n,o,i).map($),zT=RT(-1,!1),NT=RT(1,!1),LT=RT(-1,!0),jT=RT(1,!0),VT={"top-left":P.some(((e,t)=>{YC(e,UC(kC(t),CC(t)))})),top:P.some(((e,t)=>{YC(e,UC(DC(t),CC(t)))})),"top-right":P.some(((e,t)=>{YC(e,UC(PC(t),CC(t)))})),right:P.some(((e,t)=>{YC(e,UC(PC(t),IC(t)))})),"bottom-right":P.some(((e,t)=>{YC(e,UC(PC(t),AC(t)))})),bottom:P.some(((e,t)=>{YC(e,UC(DC(t),AC(t)))})),"bottom-left":P.some(((e,t)=>{YC(e,UC(kC(t),AC(t)))})),left:P.some(((e,t)=>{YC(e,UC(kC(t),IC(t)))}))};var BT=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=mT(e,t,n.left),i=kT(e,t,n.top),r=IT(o,i);return DT(e,r),r},setToMin:(e,t)=>{const n=SC(t),o=_C(t);DT(e,IT(n,o))},setToMax:(e,t)=>{const n=TC(t),o=$C(t);DT(e,IT(n,o))},getValueFromEvent:e=>wC(e),setPositionFromValue:(e,t,n,o)=>{const i=WC(n),r=OT(e,o.getSpectrum(e),i.x,o.getLeftEdge(e),o.getRightEdge(e),n),s=TT(e,o.getSpectrum(e),i.y,o.getTopEdge(e),o.getBottomEdge(e),n),a=qt(t.element)/2,l=Vt(t.element)/2;Pt(t.element,"left",r-a+"px"),Pt(t.element,"top",s-l+"px")},onLeft:zT,onRight:NT,onUp:LT,onDown:jT,edgeActions:VT});const ZT=If({name:"Slider",configFields:[Ni("stepSize",1),Ni("speedMultiplier",10),Ni("onChange",O),Ni("onChoose",O),Ni("onInit",O),Ni("onDragStart",O),Ni("onDragEnd",O),Ni("snapToGrid",!1),Ni("rounded",!0),Ai("snapStart"),wi("model",gi("mode",{x:[Ni("minX",0),Ni("maxX",100),bi("value",(e=>Gn(e.mode.minX))),xi("getInitialValue"),Ha("manager",ST)],y:[Ni("minY",0),Ni("maxY",100),bi("value",(e=>Gn(e.mode.minY))),xi("getInitialValue"),Ha("manager",MT)],xy:[Ni("minX",0),Ni("maxX",100),Ni("minY",0),Ni("maxY",100),bi("value",(e=>Gn({x:e.mode.minX,y:e.mode.minY}))),xi("getInitialValue"),Ha("manager",BT)]})),Ah("sliderBehaviours",[sg,Ph]),bi("mouseIsDown",(()=>Gn(!1)))],partFields:yC,factory:(e,t,n,o)=>{const i=t=>xf(t,e,"thumb"),r=t=>xf(t,e,"spectrum"),s=t=>yf(t,e,"left-edge"),a=t=>yf(t,e,"right-edge"),l=t=>yf(t,e,"top-edge"),c=t=>yf(t,e,"bottom-edge"),u=e.model,d=u.manager,h=(t,n)=>{d.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:a,getTopEdge:l,getBottomEdge:c,getSpectrum:r})},f=(e,t)=>{u.value.set(t);const n=i(e);h(e,n)},p=t=>{const n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&yf(t,e,"thumb").each((n=>{const o=u.value.get();e.onChoose(t,n,o)}))},m=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},g=(t,n)=>{n.stop(),e.onDragEnd(t,i(t)),p(t)},O=t=>{yf(t,e,"spectrum").map(sg.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Eh(e.sliderBehaviours,[sg.config({mode:"special",focusIn:O}),Ph.config({store:{mode:"manual",getValue:e=>u.value.get(),setValue:f}}),Rc.config({channels:{[hh()]:{onReceive:p}}})]),events:ss([cs(xC(),((t,n)=>{((t,n)=>{f(t,n);const o=i(t);e.onChange(t,o,n),P.some(!0)})(t,n.event.value)})),Os(((t,n)=>{const o=u.getInitialValue();u.value.set(o);const s=i(t);h(t,s);const a=r(t);e.onInit(t,s,a,u.value.get())})),cs(sr(),m),cs(lr(),g),cs(ur(),((e,t)=>{O(e),m(e,t)})),cs(fr(),g)]),apis:{resetToMin:t=>{d.setToMin(t,e)},resetToMax:t=>{d.setToMax(t,e)},setValue:f,refresh:h},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),XT=sl("rgb-hex-update"),WT=sl("slider-update"),UT=sl("palette-update"),YT="form",FT=[Ah("formBehaviours",[Ph])],qT=e=>"<alloy.field."+e+">",HT=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Eh(e.formBehaviours,[Ph.config({store:{mode:"manual",getValue:t=>{const n=Sf(t,e);return le(n,((e,t)=>e().bind((e=>{const n=Lf.getCurrent(e);return o=n,i=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+Qa(e.element)),o.fold((()=>po.error(i)),po.value);var o,i})).map(Ph.getValue)))},setValue:(t,n)=>{ae(n,((n,o)=>{yf(t,e,o).each((e=>{Lf.getCurrent(e).each((e=>{Ph.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>yf(t,e,n).bind(Lf.getCurrent)}}),GT={getField:yl(((e,t,n)=>e.getField(t,n))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,n)=>(e.push(t),mf(YT,qT(t),n)),record:y(e)}})(),n=e(t),o=t.record(),i=N(o,(e=>sf({name:e,pname:qT(e)})));return Af(YT,FT,i,HT,n)}},KT=sl("valid-input"),JT=sl("invalid-input"),e$=sl("validating-input"),t$="colorcustom.rgb.",n$={isEnabled:$,setEnabled:O,immediatelyShow:O,immediatelyHide:O},o$=(e,t,n,o,i,r)=>{const s=(e,t)=>{const n=t.get();e!==n.isEnabled()&&(n.setEnabled(e),e?n.immediatelyShow():n.immediatelyHide())},a=(n,o,i)=>tC.config({invalidClass:t("invalid"),notify:{onValidate:e=>{ts(e,e$,{type:n})},onValid:e=>{s(!1,i),ts(e,KT,{type:n,value:Ph.getValue(e)})},onInvalid:e=>{s(!0,i),ts(e,JT,{type:n,value:Ph.getValue(e)})}},validator:{validate:t=>{const n=Ph.getValue(t),i=o(n)?po.value(!0):po.error(e("aria.input.invalid"));return N_(i)},validateOnLoad:!1}}),l=(n,o,s,l,c)=>{const u=Gn(n$),d=e(t$+"range"),h=Pk.parts.label({dom:{tag:"label"},components:[Wl(s)]}),f=Pk.parts.field({data:c,factory:My,inputAttributes:{type:"text","aria-label":l,..."hex"===o?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:As([a(o,n,u),Qv.config({}),Bv.config({...i({tooltipText:"",onSetup:e=>{u.set({isEnabled:()=>Bv.isEnabled(e),setEnabled:t=>Bv.setEnabled(e,t),immediatelyShow:()=>Bv.immediateOpenClose(e,!0),immediatelyHide:()=>Bv.immediateOpenClose(e,!1)}),Bv.setEnabled(e,!1)},onShow:(n,i)=>{Bv.setComponents(n,[{dom:{tag:"p",classes:[t("rgb-warning-note")]},components:[Wl(e("hex"===o?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:e=>{if(tC.isInvalid(e)){tC.run(e).get(O)}}}),p=sl("aria-invalid"),m=$v(r("invalid",P.some(p),"warning")),g=[h,f,$v({dom:{tag:"div",classes:[t("invalid-icon")]},components:[m.asSpec()]}).asSpec()],v="hex"!==o?[Pk.parts["aria-descriptor"]({text:d})]:[],b=g.concat(v);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[t("rgb-container")]},components:b}},c=(e,t)=>{const n=t.red,o=t.green,i=t.blue;Ph.setValue(e,{red:n,green:o,blue:i})},u=$v({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),d=(e,t)=>{u.getOpt(e).each((e=>{Pt(e.element,"background-color","#"+t.value)}))},h=Df({factory:()=>{const i={red:Gn(P.some(255)),green:Gn(P.some(255)),blue:Gn(P.some(255)),hex:Gn(P.some("ffffff"))},r=e=>i[e].get(),s=(e,t)=>{i[e].set(t)},a=e=>{const t=e.red,n=e.green,o=e.blue;s("red",P.some(t)),s("green",P.some(n)),s("blue",P.some(o))},h=(e,t)=>{const n=t.event;"hex"!==n.type?s(n.type,P.none()):o(e)},f=(e,t,n)=>{const o=parseInt(n,10);s(t,P.some(o)),r("red").bind((e=>r("green").bind((t=>r("blue").map((n=>pS(e,t,n,1))))))).each((t=>{const n=((e,t)=>{const n=lS(t);return GT.getField(e,"hex").each((t=>{xg.isFocused(t)||Ph.setValue(e,{hex:n.value})})),n})(e,t);ts(e,XT,{hex:n}),d(e,n)}))},p=(e,t)=>{const o=t.event;(e=>"hex"===e.type)(o)?((e,t)=>{n(e);const o=tS(t);s("hex",P.some(o.value));const i=OS(o);c(e,i),a(i),ts(e,XT,{hex:o}),d(e,o)})(e,o.value):f(e,o.type,o.value)},m=t=>({label:e(t$+t+".label"),description:e(t$+t+".description")}),g=m("red"),O=m("green"),v=m("blue"),b=m("hex");return Eo(GT.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",Pk.sketch(l(mS,"red",g.label,g.description,255))),n.field("green",Pk.sketch(l(mS,"green",O.label,O.description,255))),n.field("blue",Pk.sketch(l(mS,"blue",v.label,v.description,255))),n.field("hex",Pk.sketch(l(iS,"hex",b.label,b.description,"ffffff"))),u.asSpec()],formBehaviours:As([tC.config({invalidClass:t("form-invalid")}),gg("rgb-form-events",[cs(KT,p),cs(JT,h),cs(e$,h)])])}))),{apis:{updateHex:(e,t)=>{Ph.setValue(e,{hex:t.value}),((e,t)=>{const n=OS(t);c(e,n),a(n)})(e,t),d(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return h},i$=(e,t)=>{const n=ZT.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=ZT.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),i=(e,t)=>{const{width:n,height:o}=e,i=e.getContext("2d");if(null===i)return;i.fillStyle=t,i.fillRect(0,0,n,o);const r=i.createLinearGradient(0,0,n,0);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=r,i.fillRect(0,0,n,o);const s=i.createLinearGradient(0,0,0,o);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=s,i.fillRect(0,0,n,o)},r=Df({factory:r=>{const s=y({x:0,y:0}),a=As([Lf.config({find:P.some}),xg.config({})]);return ZT.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:s},rounded:!1,components:[n,o],onChange:(t,n,o)=>{m(o)||xt(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Math.floor(o.x),Math.floor(100-o.y)])),ts(t,UT,{value:o})},onInit:(e,t,n,o)=>{i(n.element.dom,yS(xS))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{((e,t)=>{const n=e.components()[0].element.dom,o=zS(t,100,100),r=gS(o);i(n,yS(r))})(t,n)},setThumb:(t,n,o)=>{((t,n)=>{const o=NS(OS(n));ZT.setValue(t,{x:o.saturation,y:100-o.value}),xt(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",o.saturation,o.value]))})(n,o)}},extraApis:{}});return r},r$=(e,t,n,o)=>{const i=Df({name:"ColourPicker",configFields:[xi("dom"),Ni("onValidHex",O),Ni("onInvalidHex",O)],factory:i=>{const r=o$(e,t,i.onValidHex,i.onInvalidHex,n,o),s=i$(e,t),a={paletteRgba:Gn(xS),paletteHue:Gn(0)},l=$v(((e,t)=>{const n=ZT.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=ZT.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return ZT.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:y(0)},components:[n,o],sliderBehaviours:As([xg.config({})]),onChange:(e,t,n)=>{xt(e.element,"aria-valuenow",Math.floor(360-3.6*n)),ts(e,WT,{value:n})}})})(0,t)),c=$v(s.sketch({})),u=$v(r.sketch({})),d=(e,t,n)=>{c.getOpt(e).each((e=>{s.setHue(e,n)}))},h=(e,t)=>{u.getOpt(e).each((e=>{r.updateHex(e,t)}))},f=(e,t,n)=>{l.getOpt(e).each((e=>{ZT.setValue(e,(e=>100-e/360*100)(n))}))},p=(e,t)=>{c.getOpt(e).each((e=>{s.setThumb(e,t)}))},m=(e,t,n,o)=>{((e,t)=>{const n=OS(e);a.paletteRgba.set(n),a.paletteHue.set(t)})(t,n),L(o,(o=>{o(e,t,n)}))};return{uid:i.uid,dom:i.dom,components:[c.asSpec(),l.asSpec(),u.asSpec()],behaviours:As([gg("colour-picker-events",[cs(XT,(()=>{const e=[d,f,p];return(t,n)=>{const o=n.event.hex,i=(e=>NS(OS(e)))(o);m(t,o,i.hue,e)}})()),cs(UT,(()=>{const e=[h];return(t,n)=>{const o=n.event.value,i=a.paletteHue.get(),r=zS(i,o.x,100-o.y),s=LS(r);m(t,s,i,e)}})()),cs(WT,(()=>{const e=[d,h];return(t,n)=>{const o=(e=>(100-e)/100*360)(n.event.value),i=a.paletteRgba.get(),r=NS(i),s=zS(o,r.saturation,r.value),l=LS(s);m(t,l,o,e)}})())]),Lf.config({find:e=>u.getOpt(e)}),sg.config({mode:"acyclic"})])}}});return i},s$=()=>Lf.config({find:P.some}),a$=e=>Lf.config({find:e.getOpt}),l$=e=>Lf.config({find:t=>at(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),c$=qo([Ni("preprocess",x),Ni("postprocess",x)]),u$=(e,t)=>{const n=pi("RepresentingConfigs.memento processors",c$,t);return Ph.config({store:{mode:"manual",getValue:t=>{const o=e.get(t),i=Ph.getValue(o);return n.postprocess(i)},setValue:(t,o)=>{const i=n.preprocess(o),r=e.get(t);Ph.setValue(r,i)}}})},d$=(e,t,n)=>Ph.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),h$=(e,t,n)=>d$(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),f$=e=>Ph.config({store:{mode:"memory",initialValue:e}}),p$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},m$=(e,t,n)=>{const o=e=>"tox-"+e,i=r$((e=>t=>r(t)?e.translate(p$[t]):e.translate(t))(t),o,t.tooltips.getConfig,((e,n,o=e,i=e)=>iy(o,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:t.translate(i),"aria-live":"polite",...n.fold((()=>({})),(e=>({id:e})))}},t.icons))),s=$v(i.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{ts(e,Lk,{name:"hex-valid",value:!0})},onInvalidHex:e=>{ts(e,Lk,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[s.asSpec()],behaviours:As([d$(n,(e=>{const t=s.get(e);return Lf.getCurrent(t).bind((e=>Ph.getValue(e).hex)).map((e=>"#"+ke(e,"#"))).getOr("")}),((e,t)=>{const n=P.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>ee(e,1))),o=s.get(e);Lf.getCurrent(o).fold((()=>{console.log("Can not find form")}),(e=>{Ph.setValue(e,{hex:n.getOr("")}),GT.getField(e,"hex").each((e=>{es(e,br())}))}))})),s$()])}};var g$=tinymce.util.Tools.resolve("tinymce.Resource");const O$=e=>Oe(e,"init");var v$=tinymce.util.Tools.resolve("tinymce.util.Tools");const b$=sl("browse.files.event"),y$=(e,t,n)=>{const o=(e,t)=>{t.stop()},i=e=>(t,n)=>{L(e,(e=>{e(t,n)}))},r=(n,o)=>{o&&(Ph.setValue(n,((e,t)=>{const n=v$.explode(t.getOption("images_file_types"));return V(oe(e),(e=>I(n,(t=>$e(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(o,t)),ts(n,Ik,{name:e.name}))},s=$v({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:As([gg("input-file-events",[ps(xr()),ps(Dr())])])}),a=e.label.map((e=>Dk(e,t))),l=Pk.parts.field({factory:Cv,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Wl(t.translate("Browse for an image")),s.asSpec()],action:e=>{s.get(e).element.dom.click()},buttonBehaviours:As([s$(),f$(n.getOr([])),Qv.config({}),vw((()=>t.checkUiComponentContext(e.context).shouldDisable)),Qw((()=>t.checkUiComponentContext(e.context)))])}),c={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:As([Jf.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable}),Qw((()=>t.checkUiComponentContext(e.context))),Pg.config({toggleClass:"dragenter",toggleOnExecute:!1}),gg("dropzone-events",[cs("dragenter",i([o,Pg.toggle])),cs("dragleave",i([o,Pg.toggle])),cs("dragover",o),cs("drop",i([o,(e,t)=>{var n;if(!Jf.isDisabled(e)){const o=t.event.raw;ts(e,b$,{files:null===(n=o.dataTransfer)||void 0===n?void 0:n.files})}}])),cs(yr(),((e,t)=>{const n=t.event.raw.target;ts(e,b$,{files:n.files})}))])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Wl(t.translate("Drop an image here"))]},l]}]};return Qk(a,c,["tox-form__group--stretched"],[gg("handle-files",[cs(b$,((e,t)=>{Pk.getField(e).each((e=>{r(e,t.event.files)}))}))])])},x$=(e,t)=>{let n=null;const o=()=>{c(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...i)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,i)}),t)}}},w$=sl("alloy-fake-before-tabstop"),S$=sl("alloy-fake-after-tabstop"),_$=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:As([xg.config({ignore:!0}),Qv.config({})])}),k$=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[_$([w$]),t,_$([S$])],behaviours:As([l$(1)])}),C$=(e,t)=>{ts(e,Or(),{raw:{which:9,shiftKey:t}})},T$=(e,t)=>{const n=t.element;Ws(n,w$)?C$(e,!0):Ws(n,S$)&&C$(e,!1)},$$=e=>hk(e,["."+w$,"."+S$].join(","),T),P$=sl("update-dialog"),A$=sl("update-title"),Q$=sl("update-body"),E$=sl("update-footer"),M$=sl("body-send-message"),D$=sl("dialog-focus-shifted"),I$=Tn().browser,R$=I$.isSafari(),z$=I$.isFirefox(),N$=R$||z$,L$=I$.isChromium(),j$=({scrollTop:e,scrollHeight:t,clientHeight:n})=>Math.ceil(e)+n>=t,V$=(e,t)=>e.scrollTo(0,"bottom"===t?99999999:t),B$=(e,t,n)=>{const o=e.dom;P.from(o.contentDocument).fold(n,(e=>{let n=0;const i=((e,t)=>{const n=e.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!L$&&!R$||f(n)&&(0!==n.scrollTop||Math.abs(n.scrollHeight-n.clientHeight)>1))?n:e.documentElement)})(e,t).map((e=>(n=e.scrollTop,e))).forall(j$),r=()=>{const e=o.contentWindow;f(e)&&(i?V$(e,"bottom"):!i&&N$&&0!==n&&V$(e,n))};R$&&o.addEventListener("load",r,{once:!0}),e.open(),e.write(t),e.close(),R$||r()}))},Z$=Se(N$,R$?500:200).map((e=>((e,t)=>{let n=null,o=null;return{cancel:()=>{c(n)||(clearTimeout(n),n=null,o=null)},throttle:(...i)=>{o=i,c(n)&&(n=setTimeout((()=>{const t=o;n=null,o=null,e.apply(null,t)}),t))}}})(B$,e))),X$=(e,t,n)=>{const o="tox-dialog__iframe",i=e.transparent?[]:[`${o}--opaque`],r=e.border?["tox-navobj-bordered"]:[],s={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},a=((e,t)=>{const n=Gn(e.getOr(""));return{getValue:e=>n.get(),setValue:(e,o)=>{if(n.get()!==o){const n=e.element,i=()=>xt(n,"srcdoc",o);t?Z$.fold(y(B$),(e=>e.throttle))(n,o,i):i()}n.set(o)}}})(n,e.streamContent),l=e.label.map((e=>Dk(e,t))),c=Pk.parts.field({factory:{sketch:e=>k$(P.from(r),{uid:e.uid,dom:{tag:"iframe",attributes:s,classes:[o,...i]},behaviours:As([Qv.config({}),xg.config({}),d$(n,a.getValue,a.setValue),Rc.config({channels:{[D$]:{onReceive:(e,t)=>{t.newFocus.each((t=>{it(e.element).each((n=>{(Ge(e.element,t)?Vs:Zs)(n,"tox-navobj-bordered-focus")}))}))}}}})])})}});return Qk(l,c,["tox-form__group--stretched"],[])},W$=(e,t)=>{const n=Gn(t.getOr({url:""})),o=$v({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),i=$v({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),r={};e.height.each((e=>r.height=e));const s=t.map((e=>({url:e.url,zoom:P.from(e.zoom),cachedWidth:P.from(e.cachedWidth),cachedHeight:P.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:r,attributes:{role:"presentation"}},components:[i.asSpec()],behaviours:As([s$(),d$(s,(()=>n.get()),((e,t)=>{const r={url:t.url};t.zoom.each((e=>r.zoom=e)),t.cachedWidth.each((e=>r.cachedWidth=e)),t.cachedHeight.each((e=>r.cachedHeight=e)),n.set(r);const s=()=>{const{cachedWidth:t,cachedHeight:n,zoom:o}=r;if(!d(t)&&!d(n)){if(d(o)){const o=((e,t,n)=>{const o=qt(e),i=Vt(e);return Math.min(o/t,i/n,1)})(e.element,t,n);r.zoom=o}const s=((e,t,n,o,i)=>{const r=n*i,s=o*i,a=Math.max(0,e/2-r/2),l=Math.max(0,t/2-s/2);return{left:a.toString()+"px",top:l.toString()+"px",width:r.toString()+"px",height:s.toString()+"px"}})(qt(e.element),Vt(e.element),t,n,r.zoom);i.getOpt(e).each((e=>{At(e.element,s)}))}};o.getOpt(e).each((n=>{const o=n.element;t.url!==St(o,"src")&&(xt(o,"src",t.url),Zs(e.element,"tox-imagepreview__loaded")),s(),zw(o).then((t=>{e.getSystem().isConnected()&&(Vs(e.element,"tox-imagepreview__loaded"),r.cachedWidth=t.dom.naturalWidth,r.cachedHeight=t.dom.naturalHeight,s())}))}))}))])}},U$=sl("toolbar.button.execute"),Y$=sl("common-button-display-events"),F$={[Er()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Zr()]:["toolbar-button-events",Y$],[Xr()]:["toolbar-button-events","dropdown-events","tooltipping"],[ur()]:["focusing","alloy.base.behaviour",Y$]},q$=e=>Pt(e.element,"width",Et(e.element,"width")),H$=(e,t,n)=>iy(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),G$=(e,t)=>H$(e,t,[]),K$=(e,t)=>H$(e,t,[mg.config({})]),J$=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[Wl(n.translate(e))],behaviours:As([mg.config({})])}),eP=sl("update-menu-text"),tP=sl("update-menu-icon"),nP=sl("update-tooltip-text"),oP=(e,t,n,o)=>{const i=Gn(O),r=Gn(e.tooltip),s=e.text.map((e=>$v(J$(e,t,n.providers)))),a=e.icon.map((e=>$v(K$(e,n.providers.icons)))),l=(e,t)=>{const n=Ph.getValue(e);return xg.focus(n),ts(n,"keydown",{raw:t.event.raw}),J_.close(n),P.some(!0)},c=e.role.fold((()=>({})),(e=>({role:e}))),u=P.from(e.listRole).map((e=>({listRole:e}))).getOr({}),d=e.ariaLabel.fold((()=>({})),(e=>({"aria-label":n.providers.translate(e)}))),h=iy("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),p=sl("common-button-display-events"),m="dropdown-events",g=$v(J_.sketch({...e.uid?{uid:e.uid}:{},...c,...u,dom:{tag:"button",classes:[t,`${t}--select`].concat(N(e.classes,(e=>`${t}--${e}`))),attributes:{...d,...f(o)?{"data-mce-name":o}:{}}},components:Dw([a.map((e=>e.asSpec())),s.map((e=>e.asSpec())),P.some(h)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,o)=>{e.searchable&&(e=>{Ny(e).each((e=>xg.focus(e)))})(o)},dropdownBehaviours:As([...e.dropdownBehaviours,vw((()=>e.disabled||n.providers.checkUiComponentContext(e.context).shouldDisable)),Qw((()=>n.providers.checkUiComponentContext(e.context))),nC.config({}),mg.config({}),...e.tooltip.map((t=>Bv.config(n.providers.tooltips.getConfig({tooltipText:n.providers.translate(t),onShow:t=>{if(xe(r.get(),e.tooltip,((e,t)=>t!==e)).getOr(!1)){const e=n.providers.translate(r.get().getOr(""));Bv.setComponents(t,n.providers.tooltips.getComponents({tooltipText:e}))}}})))).toArray(),gg(m,[ww(e,i),Sw(e,i)]),gg(p,[Os(((t,n)=>{"listbox"!==e.listRole&&q$(t)}))]),gg("update-dropdown-width-variable",[cs(Br(),((e,t)=>J_.close(e)))]),gg("menubutton-update-display-text",[cs(eP,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{mg.set(e,[Wl(n.providers.translate(t.event.text))])}))})),cs(tP,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{mg.set(e,[K$(t.event.icon,n.providers.icons)])}))})),cs(nP,((e,t)=>{const o=n.providers.translate(t.event.text);xt(e.element,"aria-label",o),r.set(P.some(t.event.text))}))])]),eventOrder:Eo(F$,{[ur()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Zr()]:["toolbar-button-events",Bv.name(),m,p]}),sandboxBehaviours:As([sg.config({mode:"special",onLeft:l,onRight:l}),gg("dropdown-sandbox-events",[cs(Dy,((e,t)=>{ek(e),t.stop()})),cs(Iy,((e,t)=>{((e,t)=>{tk(e).each((n=>{((e,t,n,o)=>{const i={...o,target:t};e.getSystem().triggerEvent(n,t,i)})(e,n.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...$y(0,e.columns,e.presets),fakeFocus:e.searchable,..."listbox"===e.listRole?{}:{onHighlightItem:nk,onCollapseMenu:(e,t,n)=>{up.getHighlighted(n).each((t=>{nk(e,n,t)}))},onDehighlightItem:ok}}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{gu()(e,t-10)}}),fetch:t=>z_(S(e.fetch,t))}));return g.asSpec()},iP=e=>"separator"===e.type,rP={type:"separator"},sP=(e,t)=>{const n=Z(e,((e,n)=>(e=>r(e))(n)?""===n?e:"|"===n?e.length>0&&!iP(e[e.length-1])?e.concat([rP]):e:Oe(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&iP(n[n.length-1])&&n.pop(),n},aP=(e,t)=>{const n=sP(r(e)?e.split(" "):e,t);return B(n,((e,n)=>{if((e=>Oe(e,"getSubmenuItems"))(n)){const o=(e=>{const t=ge(e,"value").getOrThunk((()=>sl("generated-menu-item")));return Eo({value:t},e)})(n),i=((e,t)=>{const n=e.getSubmenuItems(),o=aP(n,t);return{item:e,menus:Eo(o.menus,{[e.value]:o.items}),expansions:Eo(o.expansions,{[e.value]:e.value})}})(o,t);return{menus:Eo(e.menus,i.menus),items:[i.item,...e.items],expansions:Eo(e.expansions,i.expansions)}}return{...e,items:[n,...e.items]}}),{menus:{},expansions:{},items:[]})},lP=(e,t,n,o)=>{const i=sl("primary-menu"),r=aP(e,n.shared.providers.menuItems());if(0===r.items.length)return P.none();const s=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(o),a=lk(i,r.items,t,n,o.isHorizontalMenu,s),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(o),c=le(r.menus,((e,o)=>lk(o,e,t,n,!1,l))),u=Eo(c,qi(i,a));return P.from(aO.tieredData(i,u,r.expansions))},cP=e=>!Oe(e,"items"),uP="data-value",dP=(e,t,n,o,i)=>N(n,(n=>cP(n)?{type:"togglemenuitem",...i?{}:{role:"option"},text:n.text,value:n.value,active:n.value===o,onAction:()=>{Ph.setValue(e,n.value),ts(e,Ik,{name:t}),xg.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>dP(e,t,n.items,o,i)})),hP=(e,t)=>ie(e,(e=>cP(e)?Se(e.value===t,e):hP(e.items,t))),fP=Df({name:"HtmlSelect",configFields:[xi("options"),Ah("selectBehaviours",[xg,Ph]),Ni("selectClasses",[]),Ni("selectAttributes",{}),Ai("data")],factory:(e,t)=>{const n=N(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),o=e.data.map((e=>qi("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Eh(e.selectBehaviours,[xg.config({}),Ph.config({store:{mode:"manual",getValue:e=>El(e.element),setValue:(t,n)=>{const o=te(e.options);X(e.options,(e=>e.value===n)).isSome()?Ml(t.element,n):-1===t.element.dom.selectedIndex&&""===n&&o.each((e=>Ml(t.element,e.value)))},...o}})])}}}),pP=y([Ni("field1Name","field1"),Ni("field2Name","field2"),Fa("onLockedChange"),Xa(["lockClass"]),Ni("locked",!1),Mh("coupledFieldBehaviours",[Lf,Ph]),Xi("onInput",O)]),mP=(e,t)=>sf({factory:Pk,name:e,overrides:e=>({fieldBehaviours:As([gg("coupled-input-behaviour",[cs(br(),(n=>{((e,t,n)=>yf(e,t,n).bind(Lf.getCurrent))(n,e,t).each((t=>{yf(n,e,"lock").each((o=>{Pg.isOn(o)&&e.onLockedChange(n,t,o),e.onInput(n)}))}))}))])])})}),gP=y([mP("field1","field2"),mP("field2","field1"),sf({factory:Cv,schema:[xi("dom")],name:"lock",overrides:e=>({buttonBehaviours:As([Pg.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),OP=If({name:"FormCoupledInputs",configFields:pP(),partFields:gP(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Dh(e.coupledFieldBehaviours,[Lf.config({find:P.some}),Ph.config({store:{mode:"manual",getValue:t=>{const n=kf(t,e,["field1","field2"]);return{[e.field1Name]:Ph.getValue(n.field1()),[e.field2Name]:Ph.getValue(n.field2())}},setValue:(t,n)=>{const o=kf(t,e,["field1","field2"]);ve(n,e.field1Name)&&Ph.setValue(o.field1(),n[e.field1Name]),ve(n,e.field2Name)&&Ph.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>yf(t,e,"field1"),getField2:t=>yf(t,e,"field2"),getLock:t=>yf(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),vP=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let n=e.value.toFixed((o=e.unit)in t?t[o]:1);var o;return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit},bP=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),n=t[2];return po.value({value:e,unit:n})}return po.error(e)},yP=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=e=>Oe(n,e);return e.unit===t?P.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?P.some(e.value):P.some(e.value/n[e.unit]*n[t]):P.none()},xP=e=>P.none(),wP=(e,t)=>{const n=bP(e).toOptional(),o=bP(t).toOptional();return xe(n,o,((e,t)=>yP(e,t.unit).map((e=>t.value/e)).map((e=>{return n=e,o=t.unit,e=>yP(e,o).map((e=>({value:e*n,unit:o})));var n,o})).getOr(xP))).getOr(xP)},SP=(e,t)=>{const n=e.label.map((e=>Dk(e,t))),o=[Jf.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable}),Qw((()=>t.checkUiComponentContext(e.context))),sg.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(es(e,jk),P.some(!0))}),gg("textfield-change",[cs(br(),((t,n)=>{ts(t,Ik,{name:e.name})})),cs(Ar(),((t,n)=>{ts(t,Ik,{name:e.name})}))]),Qv.config({})],i=e.validation.map((e=>tC.config({getRoot:e=>it(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=Ph.getValue(t),o=e.validator(n);return N_(!0===o?po.value(n):po.error(o))},validateOnLoad:e.validateOnLoad}}))).toArray(),r={...e.placeholder.fold(y({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(y({}),(e=>({inputmode:e}))),"data-mce-name":e.name},s=Pk.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:r,inputClasses:[e.classname],inputBehaviours:As(U([o,i])),selectOnFocus:!1,factory:My}),a=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[Jf.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{Pk.getField(e).each(Jf.disable)},onEnabled:e=>{Pk.getField(e).each(Jf.enable)}}),Qw((()=>t.checkUiComponentContext(e.context)))];return Qk(n,a,l,c)},_P=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),kP=e=>e.dimension.property,CP=(e,t)=>e.dimension.getDimension(t),TP=(e,t)=>{const n=_P(e,t);Ys(n,[t.shrinkingClass,t.growingClass])},$P=(e,t)=>{Zs(e.element,t.openClass),Vs(e.element,t.closedClass),Pt(e.element,kP(t),"0px"),Nt(e.element)},PP=(e,t)=>{Zs(e.element,t.closedClass),Vs(e.element,t.openClass),zt(e.element,kP(t))},AP=(e,t,n,o)=>{n.setCollapsed(),Pt(e.element,kP(t),CP(t,e.element)),TP(e,t),$P(e,t),t.onStartShrink(e),t.onShrunk(e)},QP=(e,t,n,o)=>{const i=o.getOrThunk((()=>CP(t,e.element)));n.setCollapsed(),Pt(e.element,kP(t),i),Nt(e.element);const r=_P(e,t);Zs(r,t.growingClass),Vs(r,t.shrinkingClass),$P(e,t),t.onStartShrink(e)},EP=(e,t,n)=>{const o=CP(t,e.element);("0px"===o?AP:QP)(e,t,n,P.some(o))},MP=(e,t,n)=>{const o=_P(e,t),i=Ws(o,t.shrinkingClass),r=CP(t,e.element);PP(e,t);const s=CP(t,e.element);(i?()=>{Pt(e.element,kP(t),r),Nt(e.element)}:()=>{$P(e,t)})(),Zs(o,t.shrinkingClass),Vs(o,t.growingClass),PP(e,t),Pt(e.element,kP(t),s),n.setExpanded(),t.onStartGrow(e)},DP=(e,t,n)=>{const o=_P(e,t);return!0===Ws(o,t.growingClass)},IP=(e,t,n)=>{const o=_P(e,t);return!0===Ws(o,t.shrinkingClass)};var RP=Object.freeze({__proto__:null,refresh:(e,t,n)=>{if(n.isExpanded()){zt(e.element,kP(t));const n=CP(t,e.element);Pt(e.element,kP(t),n)}},grow:(e,t,n)=>{n.isExpanded()||MP(e,t,n)},shrink:(e,t,n)=>{n.isExpanded()&&EP(e,t,n)},immediateShrink:(e,t,n)=>{n.isExpanded()&&AP(e,t,n)},hasGrown:(e,t,n)=>n.isExpanded(),hasShrunk:(e,t,n)=>n.isCollapsed(),isGrowing:DP,isShrinking:IP,isTransitioning:(e,t,n)=>DP(e,t)||IP(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?EP:MP)(e,t,n)},disableTransitions:TP,immediateGrow:(e,t,n)=>{n.isExpanded()||(PP(e,t),Pt(e.element,kP(t),CP(t,e.element)),TP(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}});var zP=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{const o=t.expanded;return Ss(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:qi(t.dimension.property,"0px")})},events:(e,t)=>ss([gs(Sr(),((n,o)=>{if(o.event.raw.propertyName===e.dimension.property){TP(n,e),t.isExpanded()&&zt(n.element,e.dimension.property);(t.isExpanded()?e.onGrown:e.onShrunk)(n)}}))])}),NP=[xi("closedClass"),xi("openClass"),xi("shrinkingClass"),xi("growingClass"),Ai("getAnimationRoot"),Ua("onShrunk"),Ua("onStartShrink"),Ua("onGrown"),Ua("onStartGrow"),Ni("expanded",!1),wi("dimension",gi("property",{width:[Ha("property","width"),Ha("getDimension",(e=>qt(e)+"px"))],height:[Ha("property","height"),Ha("getDimension",(e=>Vt(e)+"px"))]}))];const LP=Es({fields:NP,name:"sliding",active:zP,apis:RP,state:Object.freeze({__proto__:null,init:e=>{const t=Gn(e.expanded);return Ps({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:S(t.set,!1),setExpanded:S(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),jP=e=>({isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t),setActive:t=>{const n=e.element;t?(Vs(n,"tox-tbtn--enabled"),xt(n,"aria-pressed",!0)):(Zs(n,"tox-tbtn--enabled"),Ct(n,"aria-pressed"))},isActive:()=>Ws(e.element,"tox-tbtn--enabled"),setTooltip:t=>{ts(e,nP,{text:t})},setText:t=>{ts(e,eP,{text:t})},setIcon:t=>ts(e,tP,{icon:t})}),VP=(e,t,n,o,i=!0,r)=>{const s="bordered"===e.buttonType?["bordered"]:[];return oP({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:o,fetch:(t,o)=>{const i={pattern:e.search.isSome()?ik(t):""};e.fetch((t=>{o(lP(t,uy.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))}),i,jP(t))},onSetup:e.onSetup,getApi:e=>jP(e),columns:1,presets:"normal",classes:s,dropdownBehaviours:[...i?[Qv.config({})]:[]],context:e.context},t,n.shared,r)},BP=(e,t,n)=>{const o=e=>o=>{const i=!o.isActive();o.setActive(i),e.storage.set(i),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{Nc(t.element),ts(t,Lk,{name:e.name,value:e.storage.get()})}))}))},i=e=>t=>{t.setActive(e.storage.get())};return t=>{t(N(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,context:e.context,onAction:o(e),onSetup:i(e)}})))}},ZP=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[Wl(e)]}),XP=(e,t,n)=>{e.customStateIcon.each((o=>t.push(YP(o,n.shared.providers.icons,e.customStateIconTooltip.fold((()=>[]),(e=>[Bv.config(n.shared.providers.tooltips.getConfig({tooltipText:e}))])),["tox-icon-custom-state"]))))},WP=sl("leaf-label-event-id"),UP=({leaf:e,onLeafAction:t,visible:n,treeId:o,selectedId:i,backstage:r})=>{const s=e.menu.map((e=>VP(e,"tox-mbtn",r,P.none(),n))),a=[ZP(e.title)];return XP(e,a,r),s.each((e=>a.push(e))),Cv.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:a,role:"treeitem",action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${o}`],{value:e.id})},eventOrder:{[Or()]:[WP,"keying"]},buttonBehaviours:As([...n?[Qv.config({})]:[],Pg.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Rc.config({channels:{[`update-active-item-${o}`]:{onReceive:(t,n)=>{(n.value===e.id?Pg.on:Pg.off)(t)}}}}),gg(WP,[Os(((t,n)=>{i.each((n=>{(n===e.id?Pg.on:Pg.off)(t)}))})),cs(Or(),((e,t)=>{const n="ArrowLeft"===t.event.raw.code,o="ArrowRight"===t.event.raw.code;n?(ro(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{ao(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(xg.focus)}))}))})),t.stop()):o&&t.stop()}))])])})},YP=(e,t,n,o,i)=>iy(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(o||[]),behaviours:n,attributes:i},t),FP=sl("directory-label-event-id"),qP=({directory:e,visible:t,noChildren:n,backstage:o})=>{const i=e.menu.map((e=>VP(e,"tox-mbtn",o,P.none()))),r=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(s="chevron-right",a=o.shared.providers.icons,YP(s,a,[]))]},ZP(e.title)];var s,a;XP(e,r,o),i.each((e=>{r.push(e)}));const l=t=>{ro(t.element,".tox-tree--directory").each((n=>{t.getSystem().getByDom(n).each((n=>{const o=!Pg.isOn(n);Pg.toggle(n),ts(t,"expand-tree-node",{expanded:o,node:e.id})}))}))};return Cv.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:r,action:l,eventOrder:{[Or()]:[FP,"keying"]},buttonBehaviours:As([...t?[Qv.config({})]:[],gg(FP,[cs(Or(),((e,t)=>{const o="ArrowRight"===t.event.raw.code,i="ArrowLeft"===t.event.raw.code;o&&n&&t.stop(),(o||i)&&ro(e.element,".tox-tree--directory").each((n=>{e.getSystem().getByDom(n).each((n=>{!Pg.isOn(n)&&o||Pg.isOn(n)&&i?(l(e),t.stop()):i&&!Pg.isOn(n)&&(ro(n.element,".tox-tree--directory").each((e=>{ao(e,".tox-tree--directory__label").each((e=>{n.getSystem().getByDom(e).each(xg.focus)}))})),t.stop())}))}))}))])])})},HP=({children:e,onLeafAction:t,visible:n,treeId:o,expandedIds:i,selectedId:r,backstage:s})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?UP({leaf:e,selectedId:r,onLeafAction:t,visible:n,treeId:o,backstage:s}):KP({directory:e,expandedIds:i,selectedId:r,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:s}))),behaviours:As([LP.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:n}),mg.config({})])}),GP=sl("directory-event-id"),KP=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:i,expandedIds:r,selectedId:s})=>{const{children:a}=e,l=Gn(r),c=r.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[qP({directory:e,visible:n,noChildren:0===e.children.length,backstage:i}),HP({children:a,expandedIds:r,selectedId:s,onLeafAction:t,visible:c,treeId:o,backstage:i})],behaviours:As([gg(GP,[Os(((e,t)=>{Pg.set(e,c)})),cs("expand-tree-node",((e,t)=>{const{expanded:n,node:o}=t.event;l.set(n?[...l.get(),o]:l.get().filter((e=>e!==o)))}))]),Pg.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,n)=>{const r=e.components()[1],c=(u=n,a.map((e=>"leaf"===e.type?UP({leaf:e,selectedId:s,onLeafAction:t,visible:u,treeId:o,backstage:i}):KP({directory:e,expandedIds:l.get(),selectedId:s,onLeafAction:t,labelTabstopping:u,treeId:o,backstage:i}))));var u;n?LP.grow(r):LP.shrink(r),mg.set(r,c)}})])}},JP=sl("tree-event-id");var eA=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.stream.streams.setup(e,t);return ss([cs(e.event,n),vs((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[cs(e,(()=>t.cancel()))])).getOr([])))}});const tA=e=>{const t=Gn(null);return Ps({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var nA=Object.freeze({__proto__:null,throttle:tA,init:e=>e.stream.streams.state(e)});var oA=[wi("stream",gi("mode",{throttle:[xi("delay"),Ni("stopEvent",!0),Ha("streams",{setup:(e,t)=>{const n=e.stream,o=x$(e.onStream,n.delay);return t.setTimer(o),(e,t)=>{o.throttle(e,t),n.stopEvent&&t.stop()}},state:tA})]})),Ni("event","input"),Ai("cancelEvent"),Fa("onStream")];const iA=Es({fields:oA,name:"streaming",active:eA,state:nA}),rA=(e,t,n)=>{const o=Ph.getValue(n);Ph.setValue(t,o),aA(t)},sA=(e,t)=>{const n=e.element,o=El(n),i=n.dom;"number"!==St(n,"type")&&t(i,o)},aA=e=>{sA(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},lA=(e,t,n)=>{if(e.selectsOver){const o=Ph.getValue(t),i=e.getDisplayText(o),r=Ph.getValue(n);return 0===e.getDisplayText(r).indexOf(i)?P.some((()=>{rA(0,t,n),((e,t)=>{sA(e,((e,n)=>e.setSelectionRange(t,n.length)))})(t,i.length)})):P.none()}return P.none()},cA=y("alloy.typeahead.itemexecute"),uA=y([Ai("lazySink"),xi("fetch"),Ni("minChars",5),Ni("responseTime",1e3),Ua("onOpen"),Ni("getHotspot",P.some),Ni("getAnchorOverrides",y({})),Ni("layouts",P.none()),Ni("eventOrder",{}),Ui("model",{},[Ni("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),Ni("selectsOver",!0),Ni("populateFromBrowse",!0)]),Ua("onSetValue"),Ya("onExecute"),Ua("onItemExecute"),Ni("inputClasses",[]),Ni("inputAttributes",{}),Ni("inputStyles",{}),Ni("matchWidth",!0),Ni("useMinWidth",!1),Ni("dismissOnBlur",!0),Xa(["openClass"]),Ai("initialData"),Ai("listRole"),Ah("typeaheadBehaviours",[xg,Ph,iA,sg,Pg,E_]),bi("lazyTypeaheadComp",(()=>Gn(P.none))),bi("previewing",(()=>Gn(!0)))].concat(Py()).concat(H_())),dA=y([af({schema:[Za()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,o)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{lA(e.model,t,o).fold((()=>{e.model.selectsOver?(up.dehighlight(n,o),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&rA(e.model,t,o),_t(o.element,"id").each((e=>xt(t.element,"aria-activedescendant",e)))}))},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map((e=>(ts(e,cA(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&rA(e.model,t,n)}))}})})]),hA=If({name:"Typeahead",configFields:uA(),partFields:dA(),factory:(e,t,n,o)=>{const i=(t,n,i)=>{e.previewing.set(!1);const r=E_.getCoupled(t,"sandbox");if(ch.isOpen(r))Lf.getCurrent(r).each((e=>{up.getHighlighted(e).fold((()=>{i(e)}),(()=>{rs(r,e.element,"keydown",n)}))}));else{const n=e=>{Lf.getCurrent(e).each(i)};B_(e,s(t),t,r,o,n,rO.HighlightMenuAndItem).get(O)}},r=Ay(e),s=e=>t=>t.map((t=>{const n=me(t.menus),o=Y(n,(e=>V(e.items,(e=>"item"===e.type))));return Ph.getState(e).update(N(o,(e=>e.data))),t})),a=e=>Lf.getCurrent(e),l="typeaheadevents",c=[xg.config({}),Ph.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>El(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{Ml(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>qi("initialValue",e))).getOr({})}}),iA.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const i=E_.getCoupled(t,"sandbox");if(xg.isFocused(t)&&El(t.element).length>=e.minChars){const n=a(i).bind((e=>up.getHighlighted(e).map(Ph.getValue)));e.previewing.set(!0);const r=t=>{a(i).each((t=>{n.fold((()=>{e.model.selectsOver&&up.highlightFirst(t)}),(e=>{up.highlightBy(t,(t=>Ph.getValue(t).value===e.value)),up.getHighlighted(t).orThunk((()=>(up.highlightFirst(t),P.none())))}))}))};B_(e,s(t),t,i,o,r,rO.HighlightJustMenu).get(O)}},cancelEvent:zr()}),sg.config({mode:"special",onDown:(e,t)=>(i(e,t,up.highlightFirst),P.some(!0)),onEscape:e=>{const t=E_.getCoupled(e,"sandbox");return ch.isOpen(t)?(ch.close(t),P.some(!0)):P.none()},onUp:(e,t)=>(i(e,t,up.highlightLast),P.some(!0)),onEnter:t=>{const n=E_.getCoupled(t,"sandbox"),o=ch.isOpen(n);if(o&&!e.previewing.get())return a(n).bind((e=>up.getHighlighted(e))).map((e=>(ts(t,cA(),{item:e}),!0)));{const i=Ph.getValue(t);return es(t,zr()),e.onExecute(n,t,i),o&&ch.close(n),P.some(!0)}}}),Pg.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),E_.config({others:{sandbox:t=>F_(e,t,{onOpen:()=>Pg.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each((e=>Ct(e.element,"aria-activedescendant"))),Pg.off(t)}})}}),gg(l,[Os((t=>{e.lazyTypeaheadComp.set(P.some(t))})),vs((t=>{e.lazyTypeaheadComp.set(P.none())})),ys((t=>{const n=O;X_(e,s(t),t,o,n,rO.HighlightMenuAndItem).get(O)})),cs(cA(),((t,n)=>{const o=E_.getCoupled(t,"sandbox");rA(e.model,t,n.event.item),es(t,zr()),e.onItemExecute(t,o,n.event.item,Ph.getValue(t)),ch.close(o),aA(t)}))].concat(e.dismissOnBlur?[cs(Pr(),(e=>{const t=E_.getCoupled(e,"sandbox");Bc(t.element).isNone()&&ch.close(t)}))]:[]))],u={[Xr()]:[Ph.name(),iA.name(),l],...e.eventOrder};return{uid:e.uid,dom:Ey(Eo(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...Eh(e.typeaheadBehaviours,c)},eventOrder:u}}}),fA=e=>({...e,toCached:()=>fA(e.toCached()),bindFuture:t=>fA(e.bind((e=>e.fold((e=>N_(po.error(e))),(e=>t(e)))))),bindResult:t=>fA(e.map((e=>e.bind(t)))),mapResult:t=>fA(e.map((e=>e.map(t)))),mapError:t=>fA(e.map((e=>e.mapError(t)))),foldResult:(t,n)=>e.map((e=>e.fold(t,n))),withTimeout:(t,n)=>fA(z_((o=>{let i=!1;const r=setTimeout((()=>{i=!0,o(po.error(n()))}),t);e.get((e=>{i||(clearTimeout(r),o(e))}))})))}),pA=e=>fA(z_(e)),mA=pA,gA=(e,t,n=[],o,i,r,s)=>{const a=t.fold((()=>({})),(e=>({action:e}))),l={buttonBehaviours:As([Ow((()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable)),Qw((()=>s.checkUiComponentContext(e.context))),Qv.config({}),...r.map((e=>Bv.config(s.tooltips.getConfig({tooltipText:s.translate(e)})))).toArray(),gg("button press",[ls("click")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...a},c=Eo(l,{dom:o});return Eo(c,{components:i})},OA=(e,t,n,o=[],i)=>{const r={tag:"button",classes:["tox-tbtn"],attributes:{...e.tooltip.map((e=>({"aria-label":n.translate(e)}))).getOr({}),"data-mce-name":i}},s=e.icon.map((e=>G$(e,n.icons))),a=Dw([s]);return gA(e,t,o,r,a,e.tooltip,n)},vA=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},bA=(e,t,n,o=[],i=[])=>{const r=n.translate(e.text),s=e.icon.map((e=>G$(e,n.icons))),a=[s.getOrThunk((()=>Wl(r)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),c={tag:"button",classes:[...vA(l),...s.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...i],attributes:{"aria-label":r,"data-mce-name":e.text}},u=e.icon.map(y(r));return gA(e,t,o,c,a,u,n)},yA=(e,t,n,o=[],i=[])=>{const r=bA(e,P.some(t),n,o,i);return Cv.sketch(r)},xA=(e,t)=>n=>{"custom"===t?ts(n,Lk,{name:e,value:{}}):"submit"===t?es(n,jk):"cancel"===t?es(n,Nk):console.error("Unknown button type: ",t)},wA=(e,t,n)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>r,o=e,i={...e,buttonType:"default",type:"menubutton",search:P.none(),onSetup:t=>(t.setEnabled(e.enabled),O),fetch:BP(o.items,t,n)},r=$v(VP(i,"tox-tbtn",n,P.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return r.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const o=xA(e.name,t),i={...e,context:"cancel"===t?"any":e.context,borderless:!1};return yA(i,o,n.shared.providers,[])}if(((e,t)=>"togglebutton"===t)(0,t))return((e,t,n)=>{var o,i;const r=e.icon.map((e=>K$(e,t.icons))).map($v),s=e.buttonType.getOr(e.primary?"primary":"secondary"),a={...e,name:null!==(o=e.name)&&void 0!==o?o:"",primary:"primary"===s,tooltip:e.tooltip,enabled:null!==(i=e.enabled)&&void 0!==i&&i,borderless:!1},l=a.tooltip.or(e.text).map((e=>({"aria-label":t.translate(e)}))).getOr({}),c=vA(null!=s?s:"secondary"),u=e.icon.isSome()&&e.text.isSome(),d={tag:"button",classes:[...c.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...u?["tox-button--icon-and-text"]:[]],attributes:{...l,...f(n)?{"data-mce-name":n}:{}}},h=t.translate(e.text.getOr("")),p=Wl(h),m=[...Dw([r.map((e=>e.asSpec()))]),...e.text.isSome()?[p]:[]],g=gA(a,P.some((n=>{ts(n,Lk,{name:e.name,value:{setIcon:e=>{r.map((o=>o.getOpt(n).each((n=>{mg.set(n,[K$(e,t.icons)])}))))}}})})),[],d,m,e.tooltip,t);return Cv.sketch(g)})(e,n.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},SA=(e,t)=>{const n=xA(e.name,"custom");return o=P.none(),i=Pk.parts.field({factory:Cv,...bA(e,P.some(n),t,[f$(""),s$()])}),Qk(o,i,[],[]);var o,i},_A={type:"separator"},kA=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:O}),CA=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:O}),TA=(e,t)=>(e=>N(e,kA))(((e,t)=>V(t,(t=>t.type===e)))(e,t)),$A=e=>TA("header",e.targets),PA=e=>TA("anchor",e.targets),AA=e=>P.from(e.anchorTop).map((e=>CA("<top>",e))).toArray(),QA=e=>P.from(e.anchorBottom).map((e=>CA("<bottom>",e))).toArray(),EA=(e,t)=>{const n=e.toLowerCase();return V(t,(e=>{var t;const o=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,i=null!==(t=e.value)&&void 0!==t?t:"";return Ce(o.toLowerCase(),n)||Ce(i.toLowerCase(),n)}))},MA=(e,t,n)=>{var o,i;const r=Ph.getValue(t),s=null!==(i=null===(o=null==r?void 0:r.meta)||void 0===o?void 0:o.text)&&void 0!==i?i:r.value;return n.getLinkInformation().fold((()=>[]),(t=>{const o=EA(s,(e=>N(e,(e=>CA(e,e))))(n.getHistory(e)));return"file"===e?(i=[o,EA(s,$A(t)),EA(s,U([AA(t),PA(t),QA(t)]))],Z(i,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(_A,t)),[])):o;var i}))},DA=sl("aria-invalid"),IA=(e,t)=>{e.dom.checked=t},RA=e=>e.dom.checked,zA=e=>(t,n,o,i,r)=>ge(n,"name").fold((()=>e(n,i,P.none(),r)),(s=>t.field(s,e(n,i,ge(o,s),r)))),NA={bar:zA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:N(e.items,t.interpreter)}))(e,t.shared))),collection:zA(((e,t,n)=>Wk(e,t.shared.providers,n))),alertbanner:zA(((e,t)=>((e,t)=>{const n=ty(e.icon,t.icons);return kk.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:e.url?void 0:n},components:e.url?[Cv.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:n,attributes:{title:t.translate(e.iconTooltip)}},action:t=>ts(t,Lk,{name:"alert-banner",value:e.url}),buttonBehaviours:As([ny()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})})(e,t.shared.providers))),input:zA(((e,t,n)=>((e,t,n)=>SP({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:P.none(),maximized:e.maximized,data:n,context:e.context},t))(e,t.shared.providers,n))),textarea:zA(((e,t,n)=>((e,t,n)=>SP({name:e.name,multiline:!0,label:e.label,inputMode:P.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:P.none(),maximized:e.maximized,data:n,context:e.context},t))(e,t.shared.providers,n))),label:zA(((e,t,n,o)=>((e,t,n)=>{const o="tox-label",i="center"===e.align?[`${o}--center`]:[],r="end"===e.align?[`${o}--end`]:[],s=$v({dom:{tag:"label",classes:[o,...i,...r]},components:[Wl(t.providers.translate(e.label))]}),a=N(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[s.asSpec(),...a],behaviours:As([s$(),mg.config({}),(l=P.none(),h$(l,Ta,$a)),sg.config({mode:"acyclic"}),gg("label",[Os((t=>{e.for.each((e=>{n(e).each((e=>{s.getOpt(t).each((t=>{var n;const o=null!==(n=St(e.element,"id"))&&void 0!==n?n:sl("form-field");xt(e.element,"id",o),xt(t.element,"for",o)}))}))}))}))])])};var l})(e,t.shared,o))),iframe:(e=>(t,n,o,i,r)=>{const s=Eo(n,{source:"dynamic"});return zA(e)(t,s,o,i,r)})(((e,t,n)=>X$(e,t.shared.providers,n))),button:zA(((e,t)=>SA(e,t.shared.providers))),checkbox:zA(((e,t,n)=>((e,t,n)=>{const o=e=>(e.element.dom.click(),P.some(!0)),i=Pk.parts.field({factory:{sketch:x},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:As([s$(),Jf.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{it(e.element).each((e=>Vs(e,"tox-checkbox--disabled")))},onEnabled:e=>{it(e.element).each((e=>Zs(e,"tox-checkbox--disabled")))}}),Qv.config({}),xg.config({}),h$(n,RA,IA),sg.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),gg("checkbox-events",[cs(yr(),((t,n)=>{ts(t,Ik,{name:e.name})}))])])}),r=Pk.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Wl(t.translate(e.label))],behaviours:As([nC.config({})])}),s=e=>iy("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),a=$v({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return Pk.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[i,a.asSpec(),r],fieldBehaviours:As([Jf.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),Qw((()=>t.checkUiComponentContext(e.context)))])})})(e,t.shared.providers,n))),colorinput:zA(((e,t,n)=>sC(e,t.shared,t.colorinput,n))),colorpicker:zA(((e,t,n)=>m$(0,t.shared.providers,n))),dropzone:zA(((e,t,n)=>y$(e,t.shared.providers,n))),grid:zA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:N(e.items,t.interpreter)}))(e,t.shared))),listbox:zA(((e,t,n)=>((e,t,n)=>{const o=I(e.items,(e=>!cP(e))),i=t.shared.providers,r=n.bind((t=>hP(e.items,t))).orThunk((()=>te(e.items).filter(cP))),s=e.label.map((e=>Dk(e,i))),a=Pk.parts.field({dom:{},factory:{sketch:n=>oP({context:e.context,uid:n.uid,text:r.map((e=>e.text)),icon:P.none(),tooltip:P.none(),role:Se(!o,"combobox"),...o?{}:{listRole:"listbox"},ariaLabel:e.label,fetch:(n,i)=>{const r=dP(n,e.name,e.items,Ph.getValue(n),o);i(lP(r,uy.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:P.none()}))},onSetup:y(O),getApi:y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Qv.config({}),d$(r.map((e=>e.value)),(e=>St(e.element,uP)),((t,n)=>{hP(e.items,n).each((e=>{xt(t.element,uP,e.value),ts(t,eP,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),l={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return Pk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:U([s.toArray(),[l]]),fieldBehaviours:As([Jf.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{Pk.getField(e).each(Jf.disable)},onEnabled:e=>{Pk.getField(e).each(Jf.enable)}})])})})(e,t,n))),selectbox:zA(((e,t,n)=>((e,t,n)=>{const o=N(e.items,(e=>({text:t.translate(e.text),value:e.value}))),i=e.label.map((e=>Dk(e,t))),r=Pk.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:o,factory:fP,selectBehaviours:As([Jf.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),Qv.config({}),gg("selectbox-change",[cs(yr(),((t,n)=>{ts(t,Ik,{name:e.name})}))])])}),s=e.size>1?P.none():P.some(iy("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:U([[r],s.toArray()])};return Pk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:U([i.toArray(),[a]]),fieldBehaviours:As([Jf.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{Pk.getField(e).each(Jf.disable)},onEnabled:e=>{Pk.getField(e).each(Jf.enable)}}),Qw((()=>t.checkUiComponentContext(e.context)))])})})(e,t.shared.providers,n))),sizeinput:zA(((e,t)=>((e,t)=>{let n=xP;const o=sl("ratio-event"),i=e=>iy(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),r=()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,s=Qw((()=>t.checkUiComponentContext(e.context))),a=e.label.getOr("Constrain proportions"),l=t.translate(a),c=OP.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":l,"data-mce-name":a}},components:[i("lock"),i("unlock")],buttonBehaviours:As([Jf.config({disabled:r}),s,Qv.config({}),Bv.config(t.tooltips.getConfig({tooltipText:l}))])}),u=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),d=t=>Pk.parts.field({factory:My,inputClasses:["tox-textfield"],inputBehaviours:As([Jf.config({disabled:r}),s,Qv.config({}),gg("size-input-events",[cs(mr(),((e,n)=>{ts(e,o,{isField1:t})})),cs(yr(),((t,n)=>{ts(t,Ik,{name:e.name})}))])]),selectOnFocus:!1}),h=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Wl(t.translate(e))]}),f=OP.parts.field1(u([Pk.parts.label(h("Width")),d(!0)])),p=OP.parts.field2(u([Pk.parts.label(h("Height")),d(!1)]));return OP.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[f,p,u([h(" "),c])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{bP(Ph.getValue(e)).each((e=>{n(e).each((e=>{Ph.setValue(t,vP(e))}))}))},coupledFieldBehaviours:As([Jf.config({disabled:r,onDisabled:e=>{OP.getField1(e).bind(Pk.getField).each(Jf.disable),OP.getField2(e).bind(Pk.getField).each(Jf.disable),OP.getLock(e).each(Jf.disable)},onEnabled:e=>{OP.getField1(e).bind(Pk.getField).each(Jf.enable),OP.getField2(e).bind(Pk.getField).each(Jf.enable),OP.getLock(e).each(Jf.enable)}}),Qw((()=>t.checkUiComponentContext("mode:design"))),gg("size-input-events2",[cs(o,((e,t)=>{const o=t.event.isField1,i=o?OP.getField1(e):OP.getField2(e),r=o?OP.getField2(e):OP.getField1(e),s=i.map(Ph.getValue).getOr(""),a=r.map(Ph.getValue).getOr("");n=wP(s,a)}))])])})})(e,t.shared.providers))),slider:zA(((e,t,n)=>((e,t,n)=>{const o=ZT.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Wl(t.translate(e.label))]}),i=ZT.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),r=ZT.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ZT.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:y(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[o,i,r],sliderBehaviours:As([s$(),xg.config({})]),onChoose:(t,n,o)=>{ts(t,Ik,{name:e.name,value:o})},onChange:(t,n,o)=>{ts(t,Ik,{name:e.name,value:o})}})})(e,t.shared.providers,n))),urlinput:zA(((e,t,n)=>((e,t,n,o)=>{const i=t.shared.providers,r=t=>{const o=Ph.getValue(t);n.addToHistory(o.value,e.filetype)},s={...o.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":DA,type:"url"},minChars:0,responseTime:0,fetch:o=>{const i=MA(e.filetype,o,n),r=lP(i,uy.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:P.none()});return N_(r)},getHotspot:e=>f.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(tC)&&tC.run(e).get(O)},typeaheadBehaviours:As([...n.getValidationHandler().map((t=>tC.config({getRoot:e=>it(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{xt(e.element,"title",i.translate(t))}))}},validator:{validate:n=>{const o=Ph.getValue(n);return mA((n=>{t({type:e.filetype,url:o.value},(e=>{if("invalid"===e.status){const t=po.error(e.message);n(t)}else{const t=po.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),Jf.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable}),Qv.config({}),gg("urlinput-events",[cs(br(),(t=>{const n=El(t.element),o=n.trim();o!==n&&Ml(t.element,o),"file"===e.filetype&&ts(t,Ik,{name:e.name})})),cs(yr(),(t=>{ts(t,Ik,{name:e.name}),r(t)})),cs(Ar(),(t=>{ts(t,Ik,{name:e.name}),r(t)}))])]),eventOrder:{[br()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:$y(0,0,"normal")},onExecute:(e,t,n)=>{ts(t,jk,{})},onItemExecute:(t,n,o,i)=>{r(t),ts(t,Ik,{name:e.name})}},a=Pk.parts.field({...s,factory:hA}),l=e.label.map((e=>Dk(e,i))),c=$v(((e,t,n=e,o=e)=>iy(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:i.translate(o),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},i.icons))("invalid",P.some(DA),"warning")),u=$v({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),d=n.getUrlPicker(e.filetype),h=sl("browser.url.event"),f=$v({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,u.asSpec()],behaviours:As([Jf.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable})])}),p=$v(yA({context:e.context,name:e.name,icon:P.some("browse"),text:e.picker_text.or(e.label).getOr(""),enabled:e.enabled,primary:!1,buttonType:P.none(),borderless:!0},(e=>es(e,h)),i,[],["tox-browse-url"]));return Pk.sketch({dom:Mk([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:U([[f.asSpec()],d.map((()=>p.asSpec())).toArray()])}]),fieldBehaviours:As([Jf.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{Pk.getField(e).each(Jf.disable),p.getOpt(e).each(Jf.disable)},onEnabled:e=>{Pk.getField(e).each(Jf.enable),p.getOpt(e).each(Jf.enable)}}),Qw((()=>i.checkUiComponentContext(e.context))),gg("url-input-events",[cs(h,(t=>{Lf.getCurrent(t).each((n=>{const o=Ph.getValue(n),i={fieldname:e.name,...o};d.each((o=>{o(i).get((o=>{Ph.setValue(n,o),ts(t,Ik,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,n))),customeditor:zA((e=>{const t=eo(),n=$v({dom:{tag:e.tag}}),o=eo(),i=!O$(e)&&e.onFocus.isSome()?[xg.config({onFocus:t=>{e.onFocus.each((e=>{e(t.element.dom)}))}}),Qv.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:As([gg("custom-editor-events",[Os((i=>{n.getOpt(i).each((n=>{(O$(e)?e.init(n.element.dom):g$.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{o.on((t=>{e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),d$(P.none(),(()=>t.get().fold((()=>o.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>o.set(n)),(e=>e.setValue(n)))})),s$()].concat(i)),components:[n.asSpec()]}})),htmlpanel:zA(((e,t)=>((e,t)=>{const n=["tox-form__group",...e.stretched?["tox-form__group--stretched"]:[]],o=gg("htmlpanel",[Os((t=>{e.onInit(t.element.dom)}))]);return"presentation"===e.presets?kk.sketch({dom:{tag:"div",classes:n,innerHtml:e.html},containerBehaviours:As([Bv.config({...t.tooltips.getConfig({tooltipText:"",onShow:e=>{lo(e.element,"[data-mce-tooltip]:hover").orThunk((()=>Bc(e.element))).each((n=>{_t(n,"data-mce-tooltip").each((n=>{Bv.setComponents(e,t.tooltips.getComponents({tooltipText:n}))}))}))}}),mode:"children-normal",anchor:e=>({type:"node",node:lo(e.element,"[data-mce-tooltip]:hover").orThunk((()=>Bc(e.element).filter((e=>_t(e,"data-mce-tooltip").isSome())))),root:e.element,layouts:{onLtr:y([kc,_c,yc,wc,xc,Sc]),onRtl:y([kc,_c,yc,wc,xc,Sc])},bubble:xu(0,-2,{})})}),o])}):kk.sketch({dom:{tag:"div",classes:n,innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:As([Qv.config({}),xg.config({}),o])})})(e,t.shared.providers))),imagepreview:zA(((e,t,n)=>W$(e,n))),table:zA(((e,t)=>((e,t)=>{const n=e=>({dom:{tag:"th",innerHtml:t.translate(e)}}),o=e=>({dom:{tag:"td",innerHtml:t.translate(e)}}),i=e=>({dom:{tag:"tr"},components:N(e,o)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(s=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:N(s,n)}]}),(r=e.cells,{dom:{tag:"tbody"},components:N(r,i)})],behaviours:As([Qv.config({}),xg.config({})])};var r,s})(e,t.shared.providers))),tree:zA(((e,t)=>((e,t)=>{const n=e.onLeafAction.getOr(O),o=e.onToggleExpand.getOr(O),i=e.defaultExpandedIds,r=Gn(i),s=Gn(e.defaultSelectedId),a=sl("tree-id"),l=(o,i)=>e.items.map((e=>"leaf"===e.type?UP({leaf:e,selectedId:o,onLeafAction:n,visible:!0,treeId:a,backstage:t}):KP({directory:e,selectedId:o,onLeafAction:n,expandedIds:i,labelTabstopping:!0,treeId:a,backstage:t})));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:l(s.get(),r.get()),behaviours:As([sg.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),gg(JP,[cs("expand-tree-node",((e,t)=>{const{expanded:n,node:i}=t.event;r.set(n?[...r.get(),i]:r.get().filter((e=>e!==i))),o(r.get(),{expanded:n,node:i})}))]),Rc.config({channels:{[`update-active-item-${a}`]:{onReceive:(e,t)=>{s.set(P.some(t.value)),mg.set(e,l(P.some(t.value),r.get()))}}}}),mg.config({})])}})(e,t))),panel:zA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:N(e.items,t.shared.interpreter)}))(e,t)))},LA={field:(e,t)=>t,record:y([])},jA=(e,t,n,o,i)=>{const r=Eo(o,{shared:{interpreter:t=>VA(e,t,n,r,i)}});return VA(e,t,n,r,i)},VA=(e,t,n,o,i)=>ge(NA,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(r=>r(e,t,n,o,i))),BA=(e,t,n,o)=>VA(LA,e,t,n,o),ZA="layout-inset",XA=e=>e.x,WA=(e,t)=>e.x+e.width/2-t.width/2,UA=(e,t)=>e.x+e.width-t.width,YA=e=>e.y,FA=(e,t)=>e.y+e.height-t.height,qA=(e,t)=>e.y+e.height/2-t.height/2,HA=(e,t,n)=>nc(UA(e,t),FA(e,t),n.insetSouthwest(),ac(),"southwest",hc(e,{right:0,bottom:3}),ZA),GA=(e,t,n)=>nc(XA(e),FA(e,t),n.insetSoutheast(),sc(),"southeast",hc(e,{left:1,bottom:3}),ZA),KA=(e,t,n)=>nc(UA(e,t),YA(e),n.insetNorthwest(),rc(),"northwest",hc(e,{right:0,top:2}),ZA),JA=(e,t,n)=>nc(XA(e),YA(e),n.insetNortheast(),ic(),"northeast",hc(e,{left:1,top:2}),ZA),eQ=(e,t,n)=>nc(WA(e,t),YA(e),n.insetNorth(),lc(),"north",hc(e,{top:2}),ZA),tQ=(e,t,n)=>nc(WA(e,t),FA(e,t),n.insetSouth(),cc(),"south",hc(e,{bottom:3}),ZA),nQ=(e,t,n)=>nc(UA(e,t),qA(e,t),n.insetEast(),dc(),"east",hc(e,{right:0}),ZA),oQ=(e,t,n)=>nc(XA(e),qA(e,t),n.insetWest(),uc(),"west",hc(e,{left:1}),ZA),iQ=e=>{switch(e){case"north":return eQ;case"northeast":return JA;case"northwest":return KA;case"south":return tQ;case"southeast":return GA;case"southwest":return HA;case"east":return nQ;case"west":return oQ}},rQ=(e,t,n,o,i)=>eu(o).map(iQ).getOr(eQ)(e,t,n,o,i),sQ=e=>{switch(e){case"north":return tQ;case"northeast":return GA;case"northwest":return HA;case"south":return eQ;case"southeast":return JA;case"southwest":return KA;case"east":return oQ;case"west":return nQ}},aQ=(e,t,n,o,i)=>eu(o).map(sQ).getOr(eQ)(e,t,n,o,i),lQ={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},cQ=(e,t,n)=>{const o={maxHeightFunction:Ou()};return()=>n()?{type:"node",root:ft(ht(e())),node:P.from(e()),bubble:xu(12,12,lQ),layouts:{onRtl:()=>[JA],onLtr:()=>[KA]},overrides:o}:{type:"hotspot",hotspot:t(),bubble:xu(-12,12,lQ),layouts:{onRtl:()=>[yc,xc,kc],onLtr:()=>[xc,yc,kc]},overrides:o}},uQ=(e,t,n,o)=>{const i={maxHeightFunction:Ou()};return()=>o()?{type:"node",root:ft(ht(t())),node:P.from(t()),bubble:xu(12,12,lQ),layouts:{onRtl:()=>[eQ],onLtr:()=>[eQ]},overrides:i}:e?{type:"node",root:ft(ht(t())),node:P.from(t()),bubble:xu(0,-Bt(t()),lQ),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]},overrides:i}:{type:"hotspot",hotspot:n(),bubble:xu(0,0,lQ),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]},overrides:i}},dQ=(e,t,n)=>()=>n()?{type:"node",root:ft(ht(e())),node:P.from(e()),layouts:{onRtl:()=>[eQ],onLtr:()=>[eQ]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[kc],onLtr:()=>[kc]}},hQ=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng(),n=e.model.table.getSelectedCells();if(n.length>1){const e=n[0],t=n[n.length-1],o={firstCell:De.fromDom(e),lastCell:De.fromDom(t)};return P.some(o)}return P.some(Fu.range(De.fromDom(t.startContainer),t.startOffset,De.fromDom(t.endContainer),t.endOffset))}}),fQ=e=>t=>({type:"node",root:e(),node:t}),pQ=(e,t,n,o)=>{const i=fv(e),r=()=>De.fromDom(e.getBody()),s=()=>De.fromDom(e.getContentAreaContainer()),a=()=>i||!o();return{inlineDialog:cQ(s,t,a),inlineBottomDialog:uQ(e.inline,s,n,a),banner:dQ(s,t,a),cursor:hQ(e,r),node:fQ(r)}},mQ=e=>(t,n)=>{d_(e)(t,n)},gQ=e=>()=>HS(e),OQ=e=>t=>US(e,t),vQ=e=>t=>qS(e,t),bQ=e=>()=>YO(e),yQ=e=>ve(e,"items"),xQ=e=>ve(e,"format"),wQ=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],SQ=e=>Z(e,((e,t)=>{if(Oe(t,"items")){const n=SQ(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if((e=>Oe(e,"inline"))(t)||(e=>Oe(e,"block"))(t)||(e=>Oe(e,"selector"))(t)){const n=`custom-${r(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),_Q=e=>CO(e).map((t=>{const n=((e,t)=>{const n=SQ(t),o=t=>{L(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(()=>{o(n.customFormats)})),n.formats})(e,t);return TO(e)?wQ.concat(n):n})).getOr(wQ),kQ=(e,t,n)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}),CQ=(e,t,n,o)=>{const i=t=>N(t,(t=>yQ(t)?(e=>{const t=i(e.items);return{...e,type:"submenu",getStyleItems:y(t)}})(t):xQ(t)?(e=>kQ(e,n,o))(t):(e=>{const t=re(e);return 1===t.length&&D(t,"title")})(t)?{...t,type:"separator"}:(t=>{const i=r(t.name)?t.name:sl(t.title),s=`custom-${i}`,a={...t,type:"formatter",format:s,isSelected:n(s),getStylePreview:o(s)};return e.formatter.register(i,a),a})(t)));return i(t)},TQ=e=>{let t=0;const n=e=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Wl(e.tooltipText)]}];return{getConfig:o=>({delayForShow:()=>t>0?60:300,delayForHide:y(300),exclusive:!0,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:n(o),onShow:(e,n)=>{t++,o.onShow&&o.onShow(e,n)},onHide:(e,n)=>{t--,o.onHide&&o.onHide(e,n)},onSetup:o.onSetup}),getComponents:n}},$Q=v$.trim,PQ=e=>t=>{if((e=>f(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},AQ=PQ("true"),QQ=PQ("false"),EQ=(e,t,n,o,i)=>({type:e,title:t,url:n,level:o,attach:i}),MQ=e=>e.innerText||e.textContent,DQ=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&RQ(e),IQ=e=>e&&/^(H[1-6])$/.test(e.nodeName),RQ=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return AQ(t)}return!1})(e)&&!QQ(e),zQ=e=>IQ(e)&&RQ(e),NQ=e=>{var t;const n=(e=>e.id?e.id:sl("h"))(e);return EQ("header",null!==(t=MQ(e))&&void 0!==t?t:"","#"+n,(e=>IQ(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=n}))},LQ=e=>{const t=e.id||e.name,n=MQ(e);return EQ("anchor",n||"#"+t,"#"+t,0,O)},jQ=e=>{const t=(n="h1,h2,h3,h4,h5,h6,a:not([href])",o=e,N(od(De.fromDom(o),n),(e=>e.dom)));var n,o;return t},VQ=e=>$Q(e.title).length>0,BQ=e=>{const t=jQ(e);return V((e=>N(V(e,zQ),NQ))(t).concat((e=>N(V(e,DQ),LQ))(t)),VQ)},ZQ="tinymce-url-history",XQ=e=>r(e)&&/^https?/.test(e),WQ=e=>s(e)&&pe(e,(e=>{return!(l(t=e)&&t.length<=5&&F(t,XQ));var t})).isNone(),UQ=()=>{const e=ES.getItem(ZQ);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+ZQ+" was not valid JSON",e),{};throw e}return WQ(t)?t:(console.log("Local storage "+ZQ+" was not valid format",t),{})},YQ=e=>{const t=UQ();return ge(t,e).getOr([])},FQ=(e,t)=>{if(!XQ(e))return;const n=UQ(),o=ge(n,t).getOr([]),i=V(o,(t=>t!==e));n[t]=[e].concat(i).slice(0,5),(e=>{if(!WQ(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));ES.setItem(ZQ,JSON.stringify(e))})(n)},qQ=e=>!!e,HQ=e=>le(v$.makeMap(e,/[, ]/),qQ),GQ=e=>P.from(jO(e)),KQ=(e,t)=>{const n=(e=>{const t=P.from(ZO(e)).filter(qQ).map(HQ);return GQ(e).fold(T,(e=>t.fold($,(e=>re(e).length>0&&e))))})(e);return u(n)?n?GQ(e):P.none():n[t]?GQ(e):P.none()},JQ=e=>P.from(e).filter(r).getOrUndefined(),eE=e=>({getHistory:YQ,addToHistory:FQ,getLinkInformation:()=>(e=>XO(e)?P.some({targets:BQ(e.getBody()),anchorTop:JQ(WO(e)),anchorBottom:JQ(UO(e))}):P.none())(e),getValidationHandler:()=>(e=>P.from(VO(e)))(e),getUrlPicker:t=>((e,t)=>KQ(e,t).map((n=>o=>z_((i=>{const a={filetype:t,fieldname:o.fieldname,...P.from(o.meta).getOr({})};n.call(e,((e,t)=>{if(!r(e))throw new Error("Expected value to be string");if(void 0!==t&&!s(t))throw new Error("Expected meta to be a object");i({value:e,meta:t})}),o.value,a)})))))(e,t)}),tE=(e,t,n,o)=>{const i=Gn(!1),r=(e=>{const t=Gn(dv(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),s={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:qb.translate,isDisabled:()=>!t.ui.isEnabled(),getOption:t.options.get,tooltips:TQ(e.dialog),checkUiComponentContext:e=>{if(bO(t))return{contextType:"disabled",shouldDisable:!0};const[n,o=""]=e.split(":"),i=t.ui.registry.getAll().contexts;return{contextType:n,shouldDisable:!ge(i,n).fold((()=>ge(i,"mode").map((e=>e("design"))).getOr(!1)),(e=>"!"===o.charAt(0)?!e(o.slice(1)):e(o)))}}},a=eE(t),l=(e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()},o=Gn([]),i=Gn([]),r=Gn(!1);return e.on("PreInit",(i=>{const r=_Q(e),s=CQ(e,r,t,n);o.set(s)})),e.on("addStyleModifications",(o=>{const s=CQ(e,o.items,t,n);i.set(s),r.set(o.replace)})),{getData:()=>{const e=r.get()?[]:o.get(),t=i.get();return e.concat(t)}}})(t),c=(e=>({colorPicker:mQ(e),hasCustomColors:gQ(e),getColors:OQ(e),getColorCols:vQ(e)}))(t),u=(e=>({isDraggableModal:bQ(e)}))(t),d={shared:{providers:s,anchors:pQ(t,n,o,r.isPositionedAtTop),header:r},urlinput:a,styles:l,colorinput:c,dialog:u,isContextMenuOpen:()=>i.get(),setContextMenuState:e=>i.set(e)},h=e=>P.none(),f={...d,shared:{...d.shared,interpreter:e=>BA(e,{},f,h),getSink:e.popup}},p={...d,shared:{...d.shared,interpreter:e=>BA(e,{},p,h),getSink:e.dialog}};return{popup:f,dialog:p}},nE=$f,oE=df,iE=y([Ni("shell",!1),xi("makeItem"),Ni("setupItem",O),Mh("listBehaviours",[mg])]),rE=lf({name:"items",overrides:()=>({behaviours:As([mg.config({})])})}),sE=y([rE]),aE=If({name:y("CustomList")(),configFields:iE(),partFields:sE(),factory:(e,t,n,o)=>{const i=e.shell?{behaviours:[mg.config({})],components:[]}:{behaviours:[],components:t},r=t=>e.shell?P.some(t):yf(t,e,"items");return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Eh(e.listBehaviours,i.behaviours),apis:{setItems:(t,n)=>{r(t).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(o=>{const i=mg.contents(o),r=n.length,s=r-i.length,a=s>0?R(s,(()=>e.makeItem())):[],l=i.slice(r);L(l,(e=>mg.remove(o,e))),L(a,(e=>mg.append(o,e)));const c=mg.contents(o);L(c,((o,i)=>{e.setupItem(t,o,n[i],i)}))}))}}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),lE=y([xi("dom"),Ni("shell",!0),Ah("toolbarBehaviours",[mg])]),cE=y([lf({name:"groups",overrides:()=>({behaviours:As([mg.config({})])})})]),uE=If({name:"Toolbar",configFields:lE(),partFields:cE(),factory:(e,t,n,o)=>{const i=t=>e.shell?P.some(t):yf(t,e,"groups"),r=e.shell?{behaviours:[mg.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:Eh(e.toolbarBehaviours,r.behaviours),apis:{setGroups:(e,t)=>{i(e).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{mg.set(e,t)}))},refresh:O},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),dE=O,hE=T,fE=y([]);var pE=Object.freeze({__proto__:null,setup:dE,isDocked:hE,getBehaviours:fE});const mE=y(sl("toolbar-height-change")),gE={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},OE="tox-tinymce--toolbar-sticky-on",vE="tox-tinymce--toolbar-sticky-off",bE=(e,t)=>D(el.getModes(e),t),yE=e=>{const t=e.element;it(t).each((n=>{const o="padding-"+el.getModes(e)[0];if(el.isDocked(e)){const e=qt(n);Pt(t,"width",e+"px"),Pt(n,o,(e=>Bt(e)+(parseInt(Et(e,"margin-top"),10)||0)+(parseInt(Et(e,"margin-bottom"),10)||0))(t)+"px")}else zt(t,"width"),zt(n,o)}))},xE=(e,t)=>{t?(Zs(e,gE.fadeOutClass),Us(e,[gE.transitionClass,gE.fadeInClass])):(Zs(e,gE.fadeInClass),Us(e,[gE.fadeOutClass,gE.transitionClass]))},wE=(e,t)=>{const n=De.fromDom(e.getContainer());t?(Vs(n,OE),Zs(n,vE)):(Vs(n,vE),Zs(n,OE))},SE=(e,t)=>{const n=eo(),o=t.getSink,i=e=>{o().each((t=>e(t.element)))},r=t=>{e.inline||yE(t),wE(e,el.isDocked(t)),t.getSystem().broadcastOn([dh()],{}),o().each((e=>e.getSystem().broadcastOn([dh()],{})))},s=e.inline?[]:[Rc.config({channels:{[mE()]:{onReceive:yE}}})];return[xg.config({}),el.config({contextual:{lazyContext:t=>{const n=Bt(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer();return P.from(o).map((o=>{const i=Yn(De.fromDom(o));return _v(e,t.element).fold((()=>{const e=i.height-n,o=i.y+(bE(t,"top")?0:n);return Un(i.x,o,i.width,e)}),(e=>{const o=qn(i,kv(e)),r=bE(t,"top")?o.y:o.y+n;return Un(o.x,r,o.width,o.height-n)}))}))},onShow:()=>{i((e=>xE(e,!0)))},onShown:e=>{i((e=>Ys(e,[gE.transitionClass,gE.fadeInClass]))),n.get().each((t=>{((e,t)=>{const n=Je(t);Vc(n).filter((e=>!Ge(t,e))).filter((t=>Ge(t,De.fromDom(n.dom.body))||Ke(e,t))).each((()=>Nc(t)))})(e.element,t),n.clear()}))},onHide:e=>{((e,t)=>Bc(e).orThunk((()=>t().toOptional().bind((e=>Bc(e.element))))))(e.element,o).fold(n.clear,n.set),i((e=>xE(e,!1)))},onHidden:()=>{i((e=>Ys(e,[gE.transitionClass])))},...gE},lazyViewport:t=>_v(e,t.element).fold((()=>{const n=Hn(),o=zO(e),i=n.y+(bE(t,"top")&&!Sv(e)?o:0),r=n.height-(bE(t,"bottom")?o:0);return{bounds:Un(n.x,i,n.width,r),optScrollEnv:P.none()}}),(e=>({bounds:kv(e),optScrollEnv:P.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Ut(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r}),...s]};var _E=Object.freeze({__proto__:null,setup:(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(el.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(yE)})),e.on("SkinLoaded",(()=>{n().each((e=>{el.isDocked(e)?el.reset(e):el.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(el.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{el.refresh(t);const n=t.element;Jp(n)&&((e,t)=>{const n=Je(t),o=nt(t).dom.innerHeight,i=Nn(n),r=De.fromDom(e.elm),s=Fn(r),a=Vt(r),l=s.y,c=l+a,u=Ut(t),d=Vt(t),h=u.top,f=h+d,p=Math.abs(h-i.top)<2,m=Math.abs(f-(i.top+o))<2;if(p&&l<f)Ln(i.left,l-d,n);else if(m&&c>h){const e=l-o+a+d;Ln(i.left,e,n)}})(e,n)}))})),e.on("PostRender",(()=>{wE(e,!1)}))},isDocked:e=>e().map(el.isDocked).getOr(!1),getBehaviours:SE});const kE=qo([Gy,wi("items",Go([Jo([Ky,Pi("items",oi)]),oi]))].concat(Px)),CE=[Vi("buttonType","default"),Mi("text"),Mi("tooltip"),Mi("icon"),Li("search",!1,Go([ii,qo([Mi("placeholder")])],(e=>u(e)?e?P.some({placeholder:P.none()}):P.none():P.some(e)))),Ci("fetch"),Xi("onSetup",(()=>O)),Vi("context","mode:design")],TE=qo([Gy,...CE]),$E=e=>hi("menubutton",TE,e),PE=qo([Gy,px,fx,dx,Ox,rx,cx,Bi("presets","normal",["normal","color","listpreview"]),wx(1),ax,lx,Vi("context","mode:design")]);var AE=Df({factory:(e,t)=>{const n={focus:sg.focusIn,setMenus:(e,n)=>{const o=N(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())},context:"any"},o=$E(n).mapError((e=>mi(e))).getOrDie();return VP(o,"tox-mbtn",t.backstage,P.some("menuitem"))}));mg.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:As([mg.config({}),gg("menubar-events",[Os((t=>{e.onSetup(t)})),cs(pr(),((e,t)=>{lo(e.element,".tox-mbtn--active").each((n=>{co(t.event.target,".tox-mbtn").each((t=>{Ge(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{J_.expand(e),J_.close(n),xg.focus(e)}))}))}))}))})),cs(Yr(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{J_.isOpen(n)&&(J_.expand(e),J_.close(n))}))}))}))]),sg.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),P.some(!0))}),Qv.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[xi("dom"),xi("uid"),xi("onEscape"),xi("backstage"),Ni("onSetup",O)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const QE="container",EE=[Ah("slotBehaviours",[])],ME=e=>"<alloy.field."+e+">",DE=(e,t)=>{const n=t=>_f(e),o=(t,n)=>(o,i)=>yf(o,e,i).map((e=>t(e,i))).getOr(n),i=(e,t)=>"true"!==St(e.element,"aria-hidden"),r=o(i,!1),s=o(((e,t)=>{if(i(e)){const n=e.element;Pt(n,"display","none"),xt(n,"aria-hidden","true"),ts(e,Fr(),{name:t,visible:!1})}})),a=(e=>(t,n)=>{L(n,(n=>e(t,n)))})(s),l=o(((e,t)=>{if(!i(e)){const n=e.element;zt(n,"display"),Ct(n,"aria-hidden"),ts(e,Fr(),{name:t,visible:!0})}})),c={getSlotNames:n,getSlot:(t,n)=>yf(t,e,n),isShowing:r,hideSlot:s,hideAllSlots:e=>a(e,n()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:Qh(e.slotBehaviours),apis:c}},IE=le({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>yl(e))),RE={...IE,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,n)=>(e.push(t),mf(QE,ME(t),n)),record:y(e)}})(),n=e(t),o=t.record(),i=N(o,(e=>sf({name:e,pname:ME(e)})));return Af(QE,EE,i,DE,n)}},zE=qo([fx,px,Xi("onShow",O),Xi("onHide",O),cx]),NE=e=>({element:()=>e.element.dom}),LE=(e,t)=>{const n=N(re(t),(e=>{const n=t[e],o=fi((e=>hi("sidebar",zE,e))(n));return{name:e,getApi:NE,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return N(n,(t=>{const o=Gn(O);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gw([ww(t,o),Sw(t,o),cs(Fr(),((e,t)=>{const o=t.event,i=X(n,(e=>e.name===o.name));i.each((t=>{(o.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},jE=e=>RE.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:LE(t,e),slotBehaviours:gw([Os((e=>RE.hideAllSlots(e)))])}))),VE=(e,t)=>{xt(e,"role",t)},BE=e=>Lf.getCurrent(e).bind((e=>{if(LP.isGrowing(e)||LP.hasGrown(e)){return Lf.getCurrent(e).bind((e=>X(RE.getSlotNames(e),(t=>RE.isShowing(e,t)))))}return P.none()})),ZE=sl("FixSizeEvent"),XE=sl("AutoSizeEvent");var WE=Object.freeze({__proto__:null,block:(e,t,n,o)=>{xt(e.element,"aria-busy",!0);const i=t.getRoot(e).getOr(e),r=As([sg.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),xg.config({})]),s=o(i,r),a=i.getSystem().build(s);mg.append(i,Hl(a)),a.hasConfigured(sg)&&t.focus&&sg.focusIn(a),n.isBlocked()||t.onBlock(e),n.blockWith((()=>mg.remove(i,a)))},unblock:(e,t,n)=>{Ct(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()},isBlocked:(e,t,n)=>n.isBlocked()}),UE=[Xi("getRoot",P.none),Zi("focus",!0),Ua("onBlock"),Ua("onUnblock")];const YE=Es({fields:UE,name:"blocking",apis:WE,state:Object.freeze({__proto__:null,init:()=>{const e=Kn((e=>e.destroy()));return Ps({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),FE=e=>Lf.getCurrent(e).each((e=>Nc(e.element,!0))),qE=(e,t,n,o)=>{const i=t.element;if(((e,t)=>{const n="tabindex",o=`data-mce-${n}`;P.from(e.iframeElement).map(De.fromDom).each((e=>{t?(_t(e,n).each((t=>xt(e,o,t))),xt(e,n,-1)):(Ct(e,n),_t(e,o).each((t=>{xt(e,n,t),Ct(e,o)})))}))})(e,n),n)YE.block(t,(e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Tv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(o)),zt(i,"display"),Ct(i,"aria-hidden"),e.hasFocus()&&FE(t);else{const n=Lf.getCurrent(t).exists((e=>jc(e.element)));YE.unblock(t),Pt(i,"display","none"),xt(i,"aria-hidden","true"),n&&e.focus()}},HE=(e,t,n)=>{const o=Gn(!1),i=eo(),r=n=>{o.get()&&!(e=>{if((e=>"focusin"===e.type)(e))return(e.composed?te(e.composedPath()):P.from(e.target)).map(De.fromDom).filter(Ze).exists((e=>Ws(e,"mce-pastebin")));return!1})(n)&&(n.preventDefault(),FE(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",r),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&r(e)}))}));const s=i=>{i!==o.get()&&(o.set(i),qE(e,t(),i,n.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,i))};e.on("ProgressState",(t=>{if(i.on(clearTimeout),m(t.time)){const n=dO.setEditorTimeout(e,(()=>s(t.state)),t.time);i.set(n)}else s(t.state),i.clear()}))},GE=(e,t,n)=>({within:e,extra:t,withinWidth:n}),KE=(e,t,n)=>{const o=((e,t)=>{const n=Z(e,((e,n)=>t(n,e.len).fold(y(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]});return n.list})(e,((e,t)=>{const o=n(e);return P.some({element:e,start:t,finish:t+o,width:o})})),i=V(o,(e=>e.finish<=t)),r=B(i,((e,t)=>e+t.width),0);return{within:i,extra:o.slice(i.length),withinWidth:r}},JE=e=>N(e,(e=>e.element)),eM=(e,t,n,o)=>{const i=((e,t,n)=>{const o=KE(t,e,n);return 0===o.extra.length?P.some(o):P.none()})(e,t,n).getOrThunk((()=>KE(t,e-n(o),n))),r=i.within,s=i.extra,a=i.withinWidth;return 1===s.length&&s[0].width<=n(o)?((e,t,n)=>{const o=JE(e.concat(t));return GE(o,[],n)})(r,s,a):s.length>=1?((e,t,n,o)=>{const i=JE(e).concat([n]);return GE(i,JE(t),o)})(r,s,o,a):((e,t,n)=>GE(JE(e),[],n))(r,0,a)},tM=(e,t)=>{const n=N(t,(e=>Hl(e)));uE.setGroups(e,n)},nM=(e,t,n)=>{const o=t.builtGroups.get();if(0===o.length)return;const i=xf(e,t,"primary"),r=E_.getCoupled(e,"overflowGroup");Pt(i.element,"visibility","hidden");const s=o.concat([r]),a=ie(s,(e=>Bc(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));n([]),tM(i,s);const l=qt(i.element),c=eM(l,t.builtGroups.get(),(e=>Math.ceil(e.element.dom.getBoundingClientRect().width)),r);0===c.extra.length?(mg.remove(i,r),n([])):(tM(i,c.within),n(c.extra)),zt(i.element,"visibility"),Nt(i.element),a.each(xg.focus)},oM=y([Ah("splitToolbarBehaviours",[E_]),bi("builtGroups",(()=>Gn([])))]),iM=y([Xa(["overflowToggledClass"]),Ii("getOverflowBounds"),xi("lazySink"),bi("overflowGroups",(()=>Gn([]))),Ua("onOpened"),Ua("onClosed")].concat(oM())),rM=y([sf({factory:uE,schema:lE(),name:"primary"}),af({schema:lE(),name:"overflow"}),af({name:"overflow-button"}),af({name:"overflow-group"})]),sM=y(((e,t)=>{((e,t)=>{const n=Ft.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Pt(e,"max-width",n+"px")})(e,Math.floor(t))})),aM=y([Xa(["toggledClass"]),xi("lazySink"),Ci("fetch"),Ii("getBounds"),zi("fireDismissalEventInstead",[Ni("event",Wr())]),Pu(),Ua("onToggled")]),lM=y([af({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:As([Pg.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),af({factory:uE,schema:lE(),name:"toolbar",overrides:e=>({toolbarBehaviours:As([sg.config({mode:"cyclic",onEscape:t=>(yf(t,e,"button").each(xg.focus),P.none())})])})})]),cM=eo(),uM=(e,t)=>{const n=E_.getCoupled(e,"toolbarSandbox");ch.isOpen(n)?ch.close(n):ch.open(n,t.toolbar())},dM=(e,t,n,o)=>{const i=n.getBounds.map((e=>e())),r=n.lazySink(e).getOrDie();Rd.positionWithinBounds(r,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:sM()}}},i)},hM=(e,t,n,o,i)=>{uE.setGroups(t,i),dM(e,t,n,o),Pg.on(e)},fM=If({name:"FloatingToolbarButton",factory:(e,t,n,o)=>({...Cv.sketch({...o.button(),action:e=>{uM(e,o)},buttonBehaviours:Dh({dump:o.button().buttonBehaviours},[E_.config({others:{toolbarSandbox:t=>((e,t,n)=>{const o=Jl();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:As([sg.config({mode:"special",onEscape:e=>(ch.close(e),P.some(!0))}),ch.config({onOpen:(i,r)=>{const s=cM.get().getOr(!1);n.fetch().get((i=>{hM(e,r,n,t.layouts,i),o.link(e.element),s||sg.focusIn(r)}))},onClose:()=>{Pg.off(e),cM.get().getOr(!1)||xg.focus(e),o.unlink(e.element)},isPartOf:(t,n,o)=>tc(n,o)||tc(e,o),getAttachPoint:()=>n.lazySink(e).getOrDie()}),Rc.config({channels:{...ph({isExtraPart:T,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...gh({doReposition:()=>{ch.getState(E_.getCoupled(e,"toolbarSandbox")).each((o=>{dM(e,o,n,t.layouts)}))}})}})])}})(t,n,e)}})])}),apis:{setGroups:(t,o)=>{ch.getState(E_.getCoupled(t,"toolbarSandbox")).each((i=>{hM(t,i,e,n.layouts,o)}))},reposition:t=>{ch.getState(E_.getCoupled(t,"toolbarSandbox")).each((o=>{dM(t,o,e,n.layouts)}))},toggle:e=>{uM(e,o)},toggleWithoutFocusing:e=>{((e,t)=>{cM.set(!0),uM(e,t),cM.clear()})(e,o)},getToolbar:e=>ch.getState(E_.getCoupled(e,"toolbarSandbox")),isOpen:e=>ch.isOpen(E_.getCoupled(e,"toolbarSandbox"))}}),configFields:aM(),partFields:lM(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),pM=y([xi("items"),Xa(["itemSelector"]),Ah("tgroupBehaviours",[sg])]),mM=y([cf({name:"items",unit:"item"})]),gM=If({name:"ToolbarGroup",configFields:pM(),partFields:mM(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Eh(e.tgroupBehaviours,[sg.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),OM=e=>N(e,(e=>Hl(e))),vM=(e,t,n)=>{nM(e,n,(o=>{n.overflowGroups.set(o),t.getOpt(e).each((e=>{fM.setGroups(e,OM(o))}))}))},bM=If({name:"SplitFloatingToolbar",configFields:iM(),partFields:rM(),factory:(e,t,n,o)=>{const i=$v(fM.sketch({fetch:()=>z_((t=>{t(OM(e.overflowGroups.get()))})),layouts:{onLtr:()=>[xc,yc],onRtl:()=>[yc,xc],onBottomLtr:()=>[Sc,wc],onBottomRtl:()=>[wc,Sc]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()},onToggled:(t,n)=>e[n?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Eh(e.splitToolbarBehaviours,[E_.config({others:{overflowGroup:()=>gM.sketch({...o["overflow-group"](),items:[i.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(N(n,t.getSystem().build)),vM(t,i,e)},refresh:t=>vM(t,i,e),toggle:e=>{i.getOpt(e).each((e=>{fM.toggle(e)}))},toggleWithoutFocusing:e=>{i.getOpt(e).each(fM.toggleWithoutFocusing)},isOpen:e=>i.getOpt(e).map(fM.isOpen).getOr(!1),reposition:e=>{i.getOpt(e).each((e=>{fM.reposition(e)}))},getOverflow:e=>i.getOpt(e).bind(fM.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),yM=y([Xa(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ua("onOpened"),Ua("onClosed")].concat(oM())),xM=y([sf({factory:uE,schema:lE(),name:"primary"}),sf({factory:uE,schema:lE(),name:"overflow",overrides:e=>({toolbarBehaviours:As([LP.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{yf(t,e,"overflow-button").each((e=>{Pg.off(e)})),e.onClosed(t)},onGrown:t=>{e.onOpened(t)},onStartGrow:t=>{yf(t,e,"overflow-button").each(Pg.on)}}),sg.config({mode:"acyclic",onEscape:t=>(yf(t,e,"overflow-button").each(xg.focus),P.some(!0))})])})}),af({name:"overflow-button",overrides:e=>({buttonBehaviours:As([Pg.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),af({name:"overflow-group"})]),wM=(e,t,n)=>{yf(e,t,"overflow-button").each((o=>{yf(e,t,"overflow").each((i=>{if(SM(e,t),LP.hasShrunk(i)){const e=t.onOpened;t.onOpened=o=>{n||sg.focusIn(i),e(o),t.onOpened=e}}else{const e=t.onClosed;t.onClosed=i=>{n||xg.focus(o),e(i),t.onClosed=e}}LP.toggleGrow(i)}))}))},SM=(e,t)=>{yf(e,t,"overflow").each((n=>{nM(e,t,(e=>{const t=N(e,(e=>Hl(e)));uE.setGroups(n,t)})),yf(e,t,"overflow-button").each((e=>{LP.hasGrown(n)&&Pg.on(e)})),LP.refresh(n)}))},_M=If({name:"SplitSlidingToolbar",configFields:yM(),partFields:xM(),factory:(e,t,n,o)=>{const i="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:Eh(e.splitToolbarBehaviours,[E_.config({others:{overflowGroup:e=>gM.sketch({...o["overflow-group"](),items:[Cv.sketch({...o["overflow-button"](),action:t=>{es(e,i)}})]})}}),gg("toolbar-toggle-events",[cs(i,(t=>{wM(t,e,!1)}))])]),apis:{setGroups:(t,n)=>{((t,n)=>{const o=N(n,t.getSystem().build);e.builtGroups.set(o)})(t,n),SM(t,e)},refresh:t=>SM(t,e),toggle:t=>{wM(t,e,!1)},toggleWithoutFocusing:t=>{wM(t,e,!0)},isOpen:t=>((e,t)=>yf(e,t,"overflow").map(LP.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),kM=e=>{const t=e.label.isNone()?e.title.fold((()=>({})),(e=>({attributes:{"aria-label":e}}))):e.label.fold((()=>({})),(e=>({attributes:{"aria-label":e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(e.label.isSome()?["tox-toolbar__group_with_label"]:[]),...t},components:[...e.label.map((e=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Wl(e)]}))).toArray(),gM.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:As([Qv.config({}),xg.config({ignore:!0})])}},CM=e=>gM.sketch(kM(e)),TM=(e,t)=>{const n=Os((t=>{const n=N(e.initGroups,CM);uE.setGroups(t,n)}));return As([yw((()=>e.providers.checkUiComponentContext("any").shouldDisable)),Qw((()=>e.providers.checkUiComponentContext("any"))),sg.config({mode:t,onEscape:e.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),gg("toolbar-events",[n])])},$M=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":kM({title:P.none(),label:P.none(),items:[]}),"overflow-button":OA({context:"any",name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:P.none(),borderless:!1},P.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:TM(e,t)}},PM=e=>{const t=$M(e),n=bM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return bM.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,n=Fn(t),o=tt(t),i=Fn(o),r=Math.max(o.dom.scrollHeight,i.height);return Un(n.x+4,i.y,n.width-8,r)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},AM=e=>{const t=_M.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=_M.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=$M(e);return _M.sketch({...o,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([mE()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([mE()],{type:"closed"}),e.onToggled(t,!1)}})},QM=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return uE.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===cO.scrolling?["tox-toolbar--scrolling"]:[])},components:[uE.parts.groups({})],toolbarBehaviours:TM(e,t)})},EM=[dx,fx,Mi("tooltip"),Bi("buttonType","secondary",["primary","secondary"]),Zi("borderless",!1),Ci("onAction"),Vi("context","mode:design")],MM={button:[...EM,ex,ki("type",["button"])],togglebutton:[...EM,Zi("active",!1),ki("type",["togglebutton"])]},DM=[ki("type",["group"]),Wi("buttons",[],gi("type",MM))],IM=gi("type",{...MM,group:DM}),RM=qo([Wi("buttons",[],IM),Ci("onShow"),Ci("onHide")]),zM=(e,t)=>((e,t)=>{var n,o;const i="togglebutton"===e.type,r=e.icon.map((e=>K$(e,t.icons))).map($v),s=n=>{const o=e=>{r.map((o=>o.getOpt(n).each((n=>{mg.set(n,[K$(e,t.icons)])}))))},s=e=>{const t=n.element;e?(Vs(t,"tox-button--enabled"),xt(t,"aria-pressed",!0)):(Zs(t,"tox-button--enabled"),Ct(t,"aria-pressed"))},a=()=>Ws(n.element,"tox-button--enabled"),l=()=>Nc(n.element);return i?e.onAction({setIcon:o,setActive:s,isActive:a,focus:l}):"button"===e.type?e.onAction({setIcon:o}):void 0},a={...e,name:i?e.text.getOr(e.icon.getOr("")):null!==(n=e.text)&&void 0!==n?n:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:P.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},l=vA(null!==(o=e.buttonType)&&void 0!==o?o:"secondary"),c=i?e.text.map(t.translate):P.some(t.translate(e.text)),u=c.map(Wl),d=a.tooltip.or(c).map((e=>({"aria-label":t.translate(e)}))).getOr({}),h=r.map((e=>e.asSpec())),f=Dw([h,u]),p=e.icon.isSome()&&u.isSome(),m={tag:"button",classes:l.concat(...e.icon.isSome()&&!p?["tox-button--icon"]:[]).concat(...p?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:d},g=gA(a,P.some(s),[],m,f,e.tooltip,t);return Cv.sketch(g)})(e,t),NM=Tn().deviceType,LM=NM.isPhone(),jM=NM.isTablet();var VM=If({name:"silver.View",configFields:[xi("viewConfig")],partFields:[lf({factory:{sketch:e=>{let t=!1;const n=N(e.buttons,(n=>"group"===n.type?(t=!0,((e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:N(e.buttons,(e=>zM(e,t)))}))(n,e.providers)):zM(n,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...LM||jM?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:As([xg.config({}),sg.config({mode:"flow",selector:"button, .tox-button",focusInside:Mp.OnEnterOrSpaceMode})]),components:t?n:[kk.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),kk.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}}},schema:[xi("buttons"),xi("providers")],name:"header"}),lf({factory:{sketch:e=>({uid:e.uid,behaviours:As([xg.config({}),Qv.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,n,o)=>{const i={getPane:t=>nE.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,behaviours:As([xg.config({}),sg.config({mode:"cyclic",focusInside:Mp.OnEnterOrSpaceMode})]),apis:i}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const BM=(e,t,n)=>fe(t,((t,o)=>{const i=fi(hi("view",RM,t));return e.slot(o,VM.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:i,components:[...i.buttons.length>0?[VM.parts.header({buttons:i.buttons,providers:n})]:[],VM.parts.pane({})]}))})),ZM=(e,t)=>RE.sketch((n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:BM(n,e,t),slotBehaviours:gw([Os((e=>RE.hideAllSlots(e)))])}))),XM=e=>X(RE.getSlotNames(e),(t=>RE.isShowing(e,t))),WM=(e,t,n)=>{RE.getSlot(e,t).each((e=>{VM.getPane(e).each((t=>{var o;n(e)((o=t.element.dom,{getContainer:y(o)}))}))}))};var UM=Df({factory:(e,t)=>{const n={setViews:(e,n)=>{mg.set(e,[ZM(n,t.backstage.shared.providers)])},whichView:e=>Lf.getCurrent(e).bind(XM),toggleView:(e,t,n,o)=>Lf.getCurrent(e).exists((i=>{const r=XM(i),s=r.exists((e=>o===e)),a=RE.getSlot(i,o).isSome();return a&&(RE.hideAllSlots(i),s?((e=>{const t=e.element;Pt(t,"display","none"),xt(t,"aria-hidden","true")})(e),t()):(n(),(e=>{const t=e.element;zt(t,"display"),Ct(t,"aria-hidden")})(e),RE.showSlot(i,o),((e,t)=>{WM(e,t,VM.getOnShow)})(i,o)),r.each((e=>((e,t)=>WM(e,t,VM.getOnHide))(i,e)))),a}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:As([mg.config({}),Lf.config({find:e=>{const t=mg.contents(e);return te(t)}})]),apis:n}},name:"silver.ViewWrapper",configFields:[xi("backstage")],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,o,i)=>e.toggleView(t,n,o,i),whichView:(e,t)=>e.whichView(t)}});const YM=oE.optional({factory:AE,name:"menubar",schema:[xi("backstage")]}),FM=oE.optional({factory:{sketch:e=>aE.sketch({uid:e.uid,dom:e.dom,listBehaviours:As([sg.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>QM({type:e.type,uid:sl("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),P.some(!0))}),setupItem:(e,t,n,o)=>{uE.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[xi("dom"),xi("onEscape")]}),qM=oE.optional({factory:{sketch:e=>{const t=(e=>e.type===cO.sliding?AM:e.type===cO.floating?PM:QM)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),P.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[xi("dom"),xi("onEscape"),xi("getSink")]}),HM=oE.optional({factory:{sketch:e=>{const t=e.editor,n=e.sticky?SE:fE;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:As(n(t,e.sharedBackstage))}}},name:"header",schema:[xi("dom")]}),GM=oE.optional({factory:{sketch:e=>{const t=e.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝Get all features"}}]:[];return{uid:e.uid,dom:e.dom,components:t}}},name:"promotion",schema:[xi("dom"),xi("promotionLink")]}),KM=oE.optional({name:"socket",schema:[xi("dom")]}),JM=oE.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:As([Qv.config({}),xg.config({}),LP.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{Lf.getCurrent(e).each(RE.hideAllSlots),es(e,XE)},onGrown:e=>{es(e,XE)},onStartGrow:e=>{ts(e,ZE,{width:Dt(e.element,"width").getOr("")})},onStartShrink:e=>{ts(e,ZE,{width:qt(e.element)+"px"})}}),mg.config({}),Lf.config({find:e=>{const t=mg.contents(e);return te(t)}})])}],behaviours:As([l$(0),gg("sidebar-sliding-events",[cs(ZE,((e,t)=>{Pt(e.element,"width",t.event.width)})),cs(XE,((e,t)=>{zt(e.element,"width")}))])])})},name:"sidebar",schema:[xi("dom")]}),eD=oE.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:As([mg.config({}),YE.config({focus:!1}),Lf.config({find:e=>te(e.components())})]),components:[]})},name:"throbber",schema:[xi("dom")]}),tD=oE.optional({factory:UM,name:"viewWrapper",schema:[xi("backstage")]}),nD=oE.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var oD=If({name:"OuterContainer",factory:(e,t,n)=>{let o=!1;const i=e=>{so(e,".tox-statusbar").each((e=>{"none"===Et(e,"display")&&"true"===St(e,"aria-hidden")?(zt(e,"display"),Ct(e,"aria-hidden")):(Pt(e,"display","none"),xt(e,"aria-hidden","true"))}))},s={getSocket:t=>nE.getPart(t,e,"socket"),setSidebar:(t,n,o)=>{nE.getPart(t,e,"sidebar").each((e=>((e,t,n)=>{Lf.getCurrent(e).each((o=>{mg.set(o,[jE(t)]);const i=null==n?void 0:n.toLowerCase();r(i)&&Oe(t,i)&&Lf.getCurrent(o).each((t=>{RE.showSlot(t,i),LP.immediateGrow(o),zt(o.element,"width"),VE(e.element,"region")}))}))})(e,n,o)))},toggleSidebar:(t,n)=>{nE.getPart(t,e,"sidebar").each((e=>((e,t)=>{Lf.getCurrent(e).each((n=>{Lf.getCurrent(n).each((o=>{LP.hasGrown(n)?RE.isShowing(o,t)?(LP.shrink(n),VE(e.element,"presentation")):(RE.hideAllSlots(o),RE.showSlot(o,t),VE(e.element,"region")):(RE.hideAllSlots(o),RE.showSlot(o,t),LP.grow(n),VE(e.element,"region"))}))}))})(e,n)))},whichSidebar:t=>nE.getPart(t,e,"sidebar").bind(BE).getOrNull(),getHeader:t=>nE.getPart(t,e,"header"),getToolbar:t=>nE.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{nE.getPart(t,e,"toolbar").each((e=>{const t=N(n,CM);e.getApis().setGroups(e,t)}))},setToolbars:(t,n)=>{nE.getPart(t,e,"multiple-toolbar").each((e=>{const t=N(n,(e=>N(e,CM)));aE.setItems(e,t)}))},refreshToolbar:t=>{nE.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{nE.getPart(t,e,"toolbar").each((e=>{we(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{nE.getPart(t,e,"toolbar").each((e=>{we(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>nE.getPart(t,e,"toolbar").bind((e=>P.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>nE.getPart(t,e,"throbber"),focusToolbar:t=>{nE.getPart(t,e,"toolbar").orThunk((()=>nE.getPart(t,e,"multiple-toolbar"))).each((e=>{sg.focusIn(e)}))},setMenubar:(t,n)=>{nE.getPart(t,e,"menubar").each((e=>{AE.setMenus(e,n)}))},focusMenubar:t=>{nE.getPart(t,e,"menubar").each((e=>{AE.focus(e)}))},setViews:(t,n)=>{nE.getPart(t,e,"viewWrapper").each((e=>{UM.setViews(e,n)}))},toggleView:(t,n)=>nE.getPart(t,e,"viewWrapper").exists((e=>UM.toggleView(e,(()=>s.showMainView(t)),(()=>s.hideMainView(t)),n))),whichView:t=>nE.getPart(t,e,"viewWrapper").bind(UM.whichView).getOrNull(),hideMainView:t=>{o=s.isToolbarDrawerToggled(t),o&&s.toggleToolbarDrawer(t),nE.getPart(t,e,"editorContainer").each((e=>{const t=e.element;i(t),Pt(t,"display","none"),xt(t,"aria-hidden","true")}))},showMainView:t=>{o&&s.toggleToolbarDrawer(t),nE.getPart(t,e,"editorContainer").each((e=>{const t=e.element;i(t),zt(t,"display"),Ct(t,"aria-hidden")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:s,behaviours:e.behaviours}},configFields:[xi("dom"),xi("behaviours")],partFields:[HM,YM,qM,FM,KM,JM,GM,eD,tD,nD],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,o)=>{e.setSidebar(t,n,o)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});const iD={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},rD=e=>e.split(" "),sD=(e,t)=>{const n={...iD,...t.menus},o=re(t.menus).length>0,i=void 0===t.menubar||!0===t.menubar?rD("file edit view insert format tools table help"):rD(!1===t.menubar?"":t.menubar),s=V(i,(e=>{const n=Oe(iD,e);return o?n||ge(t.menus,e).exists((e=>Oe(e,"items"))):n})),a=N(s,(o=>{const i=n[o];return((e,t,n)=>{const o=AO(n).split(/[ ,]/);return{text:e.title,getItems:()=>Y(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||I(o,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}})({title:i.title,items:rD(i.items)},t,e)}));return V(a,(e=>e.getItems().length>0&&I(e.getItems(),(e=>r(e)||"separator"!==e.type))))},aD=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),lD=(e,t,n,o)=>(e.on("remove",(()=>o.unloadRawCss(t))),o.loadRawCss(t,n)),cD=e=>P.from(tinymce.Resource.get(e)).filter(r),uD=(e,t,n="")=>{const o=(e=>{const t=ov(e);return t?P.from(t):P.none()})(e).map((e=>((e,t)=>"ui/"+e+"/"+t)(e,`${t}.css`))),i=o.bind(cD);return xe(o,i,((e,t)=>({_kind:"load-raw",key:e,css:t}))).getOrThunk((()=>{const o=e.editorManager.suffix;return{_kind:"load-stylesheet",url:n+`/${t}${o}.css`}}))},dD=(e,t)=>{const n=e.ui.styleSheetLoader,o=uD(e,"skin",t);switch(o._kind){case"load-raw":const{key:t,css:i}=o;return lD(e,t,i,n),Promise.resolve();case"load-stylesheet":const{url:r}=o;return aD(e,r,n);default:return Promise.resolve()}},hD=(e,t)=>{var n;if(!(n=De.fromDom(e.getElement()),pt(n).isSome()))return Promise.resolve();{const n=hO.DOM.styleSheetLoader,o=uD(e,"skin.shadowdom",t);switch(o._kind){case"load-raw":const{key:t,css:i}=o;return lD(e,t,i,n),Promise.resolve();case"load-stylesheet":const{url:r}=o;return aD(e,r,n);default:return Promise.resolve()}}},fD=async(e,t)=>{const n=sv(t);if(await((e,t,n)=>{const o=uD(e,t?"content.inline":"content",n);switch(o._kind){case"load-raw":const{key:i,css:r}=o;return t?lD(e,i,r,e.ui.styleSheetLoader):e.on("PostRender",(()=>{lD(e,i,r,e.dom.styleSheetLoader)})),Promise.resolve();case"load-stylesheet":const{url:s}=o;return n&&e.contentCSS.push(s),Promise.resolve();default:return Promise.resolve()}})(t,e,n),!iv(t)&&r(n))return Promise.all([dD(t,n),hD(t,n)]).then()},pD=(e,t)=>fD(e,t).then((e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}})(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",t)})(e,{message:t}))(t,"Skin could not be loaded")),mD=S(pD,!1),gD=S(pD,!0),OD=y([xi("toggleClass"),xi("fetch"),Fa("onExecute"),Ni("getHotspot",P.some),Ni("getAnchorOverrides",y({})),Pu(),Fa("onItemExecute"),Ai("lazySink"),xi("dom"),Ua("onOpen"),Ah("splitDropdownBehaviours",[E_,sg,xg]),Ni("matchWidth",!1),Ni("useMinWidth",!1),Ni("eventOrder",{}),Ai("role"),Ai("listRole")].concat(H_())),vD=sf({factory:Cv,schema:[xi("dom")],name:"arrow",defaults:()=>({buttonBehaviours:As([xg.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(ns)},buttonBehaviours:As([Pg.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),bD=sf({factory:Cv,schema:[xi("dom")],name:"button",defaults:()=>({buttonBehaviours:As([xg.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),yD=y([vD,bD,lf({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[xi("text")],name:"aria-descriptor"}),af({schema:[Za()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((o=>{e.onItemExecute(o,t,n)}))}})}),j_()]),xD=If({name:"SplitDropdown",configFields:OD(),partFields:yD(),factory:(e,t,n,o)=>{const i=e=>{Lf.getCurrent(e).each((e=>{up.highlightFirst(e),sg.focusIn(e)}))},r=t=>{X_(e,x,t,o,i,rO.HighlightMenuAndItem).get(O)},s=t=>{const n=xf(t,e,"button");return ns(n),P.some(!0)},a={...ss([Os(((t,n)=>{yf(t,e,"aria-descriptor").each((e=>{const n=sl("aria");xt(e.element,"id",n),xt(t.element,"aria-describedby",n)}))}))]),...Eg(P.some(r))},l={repositionMenus:e=>{Pg.isOn(e)&&q_(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[Er()]:["disabling","toggling","alloy.base.behaviour"]},events:a,behaviours:Eh(e.splitDropdownBehaviours,[E_.config({others:{sandbox:t=>{const n=xf(t,e,"arrow");return F_(e,t,{onOpen:()=>{Pg.on(n),Pg.on(t)},onClose:()=>{Pg.off(n),Pg.off(t)}})}}}),sg.config({mode:"special",onSpace:s,onEnter:s,onDown:e=>(r(e),P.some(!0))}),xg.config({}),Pg.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),wD=e=>({isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t),setText:t=>ts(e,eP,{text:t}),setIcon:t=>ts(e,tP,{icon:t})}),SD=e=>({setActive:t=>{Pg.set(e,t)},isActive:()=>Pg.isOn(e),isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t),setText:t=>ts(e,eP,{text:t}),setIcon:t=>ts(e,tP,{icon:t})}),_D=(e,t)=>e.map((e=>({"aria-label":t.translate(e)}))).getOr({}),kD=sl("focus-button"),CD=(e,t,n,o,i,r,s)=>{const a=t.map((e=>$v(J$(e,"tox-tbtn",i)))),l=e.map((e=>$v(K$(e,i.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:{..._D(n,i),...f(s)?{"data-mce-name":s}:{}}},components:Dw([l.map((e=>e.asSpec())),a.map((e=>e.asSpec()))]),eventOrder:{[ur()]:["focusing","alloy.base.behaviour",Y$],[Zr()]:[Y$,"toolbar-group-button-events"],[Xr()]:[Y$,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:As([yw((()=>i.checkUiComponentContext(r).shouldDisable)),Qw((()=>i.checkUiComponentContext(r))),gg(Y$,[Os(((e,t)=>q$(e))),cs(eP,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{mg.set(e,[Wl(i.translate(t.event.text))])}))})),cs(tP,((e,t)=>{l.bind((t=>t.getOpt(e))).each((e=>{mg.set(e,[K$(t.event.icon,i.icons)])}))})),cs(ur(),((e,t)=>{t.event.prevent(),es(e,kD)}))])].concat(o.getOr([])))}},TD=(e,t,n,o)=>{var i;const r=Gn(O),s=CD(e.icon,e.text,e.tooltip,P.none(),n,e.context,o);return Cv.sketch({dom:s.dom,components:s.components,eventOrder:F$,buttonBehaviours:{...As([gg("toolbar-button-events",[(a={onAction:e.onAction,getApi:t.getApi},ys(((e,t)=>{xw(a,e)((t=>{ts(e,U$,{buttonApi:t}),a.onAction(t)}))}))),ww(t,r),Sw(t,r)]),...e.tooltip.map((t=>Bv.config(n.tooltips.getConfig({tooltipText:n.translate(t)+e.shortcut.map((e=>` (${Lw(e)})`)).getOr("")})))).toArray(),yw((()=>!e.enabled||n.checkUiComponentContext(e.context).shouldDisable)),Qw((()=>n.checkUiComponentContext(e.context)))].concat(t.toolbarButtonBehaviours)),[Y$]:null===(i=s.buttonBehaviours)||void 0===i?void 0:i[Y$]}});var a},$D=(e,t,n,o)=>TD(e,{toolbarButtonBehaviours:n.length>0?[gg("toolbarButtonWith",n)]:[],getApi:wD,onSetup:e.onSetup},t,o),PD=(e,t,n,o)=>TD(e,{toolbarButtonBehaviours:[mg.config({}),Pg.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[gg("toolbarToggleButtonWith",n)]:[]),getApi:SD,onSetup:e.onSetup},t,o),AD=(e,t,n)=>o=>z_((e=>t.fetch(e))).map((i=>P.from(ck(Eo(h_(sl("menu-value"),i,(n=>{t.onItemAction(e(o),n)}),t.columns,t.presets,uy.CLOSE_ON_EXECUTE,t.select.getOr(T),n),{movement:p_(t.columns,t.presets),menuBehaviours:gw("auto"!==t.columns?[]:[Os(((e,n)=>{pw(e,4,wy(t.presets)).each((({numRows:t,numColumns:n})=>{sg.setGridSize(e,t,n)}))}))])}))))),QD=e=>{lO.getContent(e).each((e=>{lo(e.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold((()=>sg.focusIn(e)),Nc)}))},ED=sl("forward-slide"),MD=sl("backward-slide"),DD=sl("change-slide-event"),ID="tox-pop--resizing",RD=(e,t,n)=>Qe(n)?e.translate(t):e.translate([t,e.translate(n)]),zD=(e,t)=>{const n=(n,i,r,s)=>{const a=e.shared.providers.translate(n.title);if("separator"===n.type)return P.some({type:"separator",text:a});if("submenu"===n.type){const e=Y(n.getStyleItems(),(e=>o(e,i,s)));return 0===i&&e.length<=0?P.none():P.some({type:"nestedmenuitem",text:a,enabled:e.length>0,getSubmenuItems:()=>Y(n.getStyleItems(),(e=>o(e,i,s)))})}return P.some({type:"togglemenuitem",text:a,icon:n.icon,active:n.isSelected(s),enabled:!r,onAction:t.onAction(n),...n.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},o=(e,o,i)=>{const r="formatter"===e.type&&t.isInvalid(e);return 0===o?r?[]:n(e,o,!1,i).toArray():n(e,o,r,i).toArray()},i=e=>{const n=t.getCurrentValue(),i=t.shouldHide?0:1;return Y(e,(e=>o(e,i,n)))};return{validateItems:i,getFetch:(e,t)=>(n,o)=>{const r=t(),s=i(r);o(lP(s,uy.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:P.none()}))}}},ND=(e,t)=>{const n=t.dataset,o="basic"===n.type?()=>N(n.data,(e=>kQ(e,t.isSelectedFor,t.getPreviewFor))):n.getData;return{items:zD(e,t),getStyleItems:o}},LD=(e,t,n,o,i,r)=>{const{items:s,getStyleItems:a}=ND(t,n),l=Gn(n.tooltip);return oP({context:"mode:design",text:n.icon.isSome()?P.none():n.text,icon:n.icon,ariaLabel:P.some(n.tooltip),tooltip:P.none(),role:P.none(),fetch:s.getFetch(t,a),onSetup:t=>{const r=n=>t.setTooltip(RD(e,o(n.value),n.value));return e.on(i,r),CS(PS(e,"NodeChange",(t=>{const o=t.getComponent();n.updateText(o),Jf.set(t.getComponent(),!e.selection.isEditable())}))(t),(()=>e.off(i,r)))},getApi:e=>({getComponent:y(e),setTooltip:n=>{const o=t.shared.providers.translate(n);xt(e.element,"aria-label",o),l.set(n)}}),columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Bv.config({...t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(n.tooltip),onShow:e=>{if(n.tooltip!==l.get()){const n=t.shared.providers.translate(l.get());Bv.setComponents(e,t.shared.providers.tooltips.getComponents({tooltipText:n}))}}})})]},"tox-tbtn",t.shared,r)};var jD;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(jD||(jD={}));const VD=(e,t,n)=>{const o=(e=>N(e,(e=>{let t=e,n=e;const o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}})))(((e,t)=>t===jD.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),n));return{type:"basic",data:o}},BD=y("Alignment {0}"),ZD="left",XD=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],WD=e=>{const t={type:"basic",data:XD};return{tooltip:RD(e,BD(),ZD),text:P.none(),icon:P.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:P.none,getPreviewFor:e=>P.none,onAction:t=>()=>X(XD,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const n=X(XD,(t=>e.formatter.match(t.format))),o=n.fold(y(ZD),(e=>e.title.toLowerCase()));ts(t,tP,{icon:`align-${o}`}),((e,t)=>{e.dispatch("AlignTextUpdate",t)})(e,{value:o})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},UD=(e,t)=>{const n=t(),o=N(n,(e=>e.format));return P.from(e.formatter.closest(o)).bind((e=>X(n,(t=>t.format===e))))},YD=y("Block {0}"),FD="Paragraph",qD=e=>{const t=VD(e,"block_formats",jD.SemiColon);return{tooltip:RD(e,YD(),FD),text:P.some(FD),icon:P.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:P.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()},onAction:AS(e),updateText:n=>{const o=UD(e,(()=>t.data)).fold(y(FD),(e=>e.title));ts(n,eP,{text:o}),((e,t)=>{e.dispatch("BlocksTextUpdate",t)})(e,{value:o})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},HD=y("Font {0}"),GD="System Font",KD=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],JD=e=>{const t=e.split(/\s*,\s*/);return N(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},eI=(e,t)=>t.length>0&&F(t,(t=>e.indexOf(t.toLowerCase())>-1)),tI=e=>{const t=()=>{const t=e=>e?JD(e)[0]:"",o=e.queryCommandValue("FontName"),i=n.data,r=o?o.toLowerCase():"",s=nv(e),a=X(i,(e=>{const n=e.format;return n.toLowerCase()===r||t(n).toLowerCase()===t(r).toLowerCase()})).orThunk((()=>Se(((e,t)=>{if(0===e.indexOf("-apple-system")||t.length>0){const n=JD(e.toLowerCase());return eI(n,KD)||eI(n,t)}return!1})(r,s),{title:GD,format:r})));return{matchOpt:a,font:o}},n=VD(e,"font_family_formats",jD.SemiColon);return{tooltip:RD(e,HD(),GD),text:P.some(GD),icon:P.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=t();return e},getPreviewFor:e=>()=>P.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:n=>{const{matchOpt:o,font:i}=t(),r=o.fold(y(i),(e=>e.title));ts(n,eP,{text:r}),((e,t)=>{e.dispatch("FontFamilyTextUpdate",t)})(e,{value:r})},dataset:n,shouldHide:!1,isInvalid:T}},nI={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},oI=(()=>{const e="[0-9]+",t="[eE]"+("[+-]?"+e),n=e=>`(?:${e})?`,o=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^(${`[+-]?(?:${o})`})(.*)$`)})(),iI=(e,t)=>P.from(oI.exec(e)).bind((e=>{const n=Number(e[1]),o=e[2];return((e,t)=>I(t,(t=>I(nI[t],(t=>e===t)))))(o,t)?P.some({value:n,unit:o}):P.none()})),rI={tab:y(9),escape:y(27),enter:y(13),backspace:y(8),delete:y(46),left:y(37),up:y(38),right:y(39),down:y(40),space:y(32),home:y(36),end:y(35),pageUp:y(33),pageDown:y(34)},sI=(e,t,n,o)=>{let i=P.none();const r=PS(e,"NodeChange SwitchMode DisabledStateChange",(t=>{const o=t.getComponent();i=P.some(o),n.updateInputValue(o),Jf.set(o,!e.selection.isEditable()||bO(e))})),s=e=>({getComponent:y(e)}),a=Gn(O),l=sl("custom-number-input-events"),c=(e,t,o)=>{const r=i.map((e=>Ph.getValue(e))).getOr("");const s=n.getNewValue(r,e),a=r.length-`${s}`.length,l=i.map((e=>e.element.dom.selectionStart-a)),c=i.map((e=>e.element.dom.selectionEnd-a));n.onAction(s,o),i.each((e=>{Ph.setValue(e,s),t&&(l.each((t=>e.element.dom.selectionStart=t)),c.each((t=>e.element.dom.selectionEnd=t)))}))},u=(e,t)=>c(((e,t)=>e-t),e,t),d=(e,t)=>c(((e,t)=>e+t),e,t),h=e=>it(e.element).fold(P.none,(e=>(Nc(e),P.some(!0)))),p=e=>jc(e.element)?(lt(e.element).each((e=>Nc(e))),P.some(!0)):P.none(),m=(n,o,i,r)=>{const a=Gn(O),l=t.shared.providers.translate(i),c=sl("altExecuting"),u=PS(e,"NodeChange SwitchMode DisabledStateChange",(t=>{Jf.set(t.getComponent(),!e.selection.isEditable()||bO(e))})),d=e=>{Jf.isDisabled(e)||n(!0)};return Cv.sketch({dom:{tag:"button",attributes:{"aria-label":l,"data-mce-name":o},classes:r.concat(o)},components:[G$(o,t.shared.providers.icons)],buttonBehaviours:As([Jf.config({}),Bv.config(t.shared.providers.tooltips.getConfig({tooltipText:l})),gg(c,[ww({onSetup:u,getApi:s},a),Sw({getApi:s},a),cs(Or(),((e,t)=>{t.event.raw.keyCode!==rI.space()&&t.event.raw.keyCode!==rI.enter()||Jf.isDisabled(e)||n(!1)})),cs(xr(),d),cs(lr(),d)])]),eventOrder:{[Or()]:[c,"keying"],[xr()]:[c,"alloy.base.behaviour"],[lr()]:[c,"alloy.base.behaviour"],[Zr()]:["alloy.base.behaviour",c,"tooltipping"],[Xr()]:[c,"tooltipping"]}})},g=$v(m((e=>u(!1,e)),"minus","Decrease font size",[])),v=$v(m((e=>d(!1,e)),"plus","Increase font size",[])),b=$v({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[My.sketch({inputBehaviours:As([Jf.config({}),gg(l,[ww({onSetup:r,getApi:s},a),Sw({getApi:s},a)]),gg("input-update-display-text",[cs(eP,((e,t)=>{Ph.setValue(e,t.event.text)})),cs(gr(),(e=>{n.onAction(Ph.getValue(e))})),cs(yr(),(e=>{n.onAction(Ph.getValue(e))}))]),sg.config({mode:"special",onEnter:e=>(c(x,!0,!0),P.some(!0)),onEscape:h,onUp:e=>(d(!0,!1),P.some(!0)),onDown:e=>(u(!0,!1),P.some(!0)),onLeft:(e,t)=>(t.cut(),P.none()),onRight:(e,t)=>(t.cut(),P.none())})])})],behaviours:As([xg.config({}),sg.config({mode:"special",onEnter:p,onSpace:p,onEscape:h}),gg("input-wrapper-events",[cs(pr(),(e=>{L([g,v],(t=>{const n=De.fromDom(t.get(e).element.dom);jc(n)&&Lc(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...f(o)?{"data-mce-name":o}:{}}},components:[g.asSpec(),b.asSpec(),v.asSpec()],behaviours:As([xg.config({}),sg.config({mode:"flow",focusInside:Mp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>jc(e.element)?P.none():(Nc(e.element),P.some(!0))})])}},aI=y("Font size {0}"),lI="12pt",cI={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},uI={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},dI=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n})(72*parseInt(e,10)/96,t||0)+"pt":ge(uI,e).getOr(e),hI=e=>ge(cI,e).getOr(""),fI=e=>{const t=()=>{let t=P.none();const n=o.data,i=e.queryCommandValue("FontSize");if(i)for(let e=3;t.isNone()&&e>=0;e--){const o=dI(i,e),r=hI(o);t=X(n,(e=>e.format===i||e.format===o||e.format===r))}return{matchOpt:t,size:i}},n=y(P.none),o=VD(e,"font_size_formats",jD.Space);return{tooltip:RD(e,aI(),lI),text:P.some(lI),icon:P.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:n,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:n=>{const{matchOpt:o,size:i}=t(),r=o.fold(y(i),(e=>e.title));ts(n,eP,{text:r}),((e,t)=>{e.dispatch("FontSizeTextUpdate",t)})(e,{value:r})},dataset:o,shouldHide:!1,isInvalid:T}},pI=e=>Qe(e)?"Formats":"Format {0}",mI=(e,t)=>{const n="Formats";return{tooltip:RD(e,pI(""),""),text:P.some(n),icon:P.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:P.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()},onAction:AS(e),updateText:t=>{const o=e=>yQ(e)?Y(e.items,o):xQ(e)?[{title:e.title,format:e.format}]:[],i=Y(_Q(e),o),r=UD(e,y(i)).fold(y({title:n,tooltipLabel:""}),(e=>({title:e.title,tooltipLabel:e.title})));ts(t,eP,{text:r.title}),((e,t)=>{e.dispatch("StylesTextUpdate",t)})(e,{value:r.tooltipLabel})},shouldHide:$O(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},gI=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],OI=(e,t)=>(n,o,i,r)=>{const s=e(n).mapError((e=>mi(e))).getOrDie();return t(s,o,i,r)},vI={button:OI(Qx,((e,t,n,o)=>((e,t,n)=>$D(e,t,[],n))(e,t.shared.providers,o))),togglebutton:OI(Dx,((e,t,n,o)=>((e,t,n)=>PD(e,t,[],n))(e,t.shared.providers,o))),menubutton:OI($E,((e,t,n,o)=>VP(e,"tox-tbtn",t,P.none(),!1,o))),splitbutton:OI((e=>hi("SplitButton",PE,e)),((e,t,n,o)=>((e,t,n)=>{const o=Gn(e.tooltip.getOr("")),i=e=>({isEnabled:()=>!Jf.isDisabled(e),setEnabled:t=>Jf.set(e,!t),setIconFill:(t,n)=>{lo(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{xt(e,"fill",n)}))},setActive:t=>{xt(e.element,"aria-pressed",t),lo(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>Pg.set(e,t)))}))},isActive:()=>lo(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(Pg.isOn))),setText:t=>lo(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>ts(e,eP,{text:t}))))),setIcon:t=>lo(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>ts(e,tP,{icon:t}))))),setTooltip:n=>{const i=t.providers.translate(n);xt(e.element,"aria-label",i),o.set(n)}}),r=Gn(O),s={getApi:i,onSetup:e.onSetup};return xD.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,..._D(e.tooltip,t.providers),...f(n)?{"data-mce-name":n}:{}}},onExecute:t=>{const n=i(t);n.isEnabled()&&e.onAction(n)},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:As([gg("split-dropdown-events",[Os(((e,t)=>q$(e))),cs(kD,xg.focus),ww(s,r),Sw(s,r)]),bw((()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable)),Qw((()=>t.providers.checkUiComponentContext(e.context))),nC.config({}),...e.tooltip.map((e=>Bv.config({...t.providers.tooltips.getConfig({tooltipText:t.providers.translate(e),onShow:n=>{if(o.get()!==e){const e=t.providers.translate(o.get());Bv.setComponents(n,t.providers.tooltips.getComponents({tooltipText:e}))}}})}))).toArray()]),eventOrder:{[Zr()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Xr()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:AD(i,e,t.providers),parts:{menu:$y(0,e.columns,e.presets)},components:[xD.parts.button(CD(e.icon,e.text,P.none(),P.some([Pg.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),yw(T),Qw(y({contextType:"any",shouldDisable:!1}))]),t.providers,e.context)),xD.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ty("chevron-down",t.providers.icons)},buttonBehaviours:As([bw(T),Qw(y({contextType:"any",shouldDisable:!1}))])}),xD.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared,o))),grouptoolbarbutton:OI((e=>hi("GroupToolbarButton",kE,e)),((e,t,n,o)=>{const i=n.ui.registry.getAll().buttons,r=e=>wI(n,{buttons:i,toolbar:e,allowToolbarGroups:!1},t,P.none()),s={[Tu]:t.shared.header.isPositionedAtTop()?Cu.TopToBottom:Cu.BottomToTop};if(QO(n)===cO.floating)return((e,t,n,o,i)=>{const r=t.shared,s=Gn(O),a={toolbarButtonBehaviours:[],getApi:wD,onSetup:e.onSetup},l=[gg("toolbar-group-button-events",[ww(a,s),Sw(a,s)]),...e.tooltip.map((e=>Bv.config(t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(e)})))).toArray()];return fM.sketch({lazySink:r.getSink,fetch:()=>z_((t=>{t(N(n(e.items),CM))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:CD(e.icon,e.text,e.tooltip,P.some(l),r.providers,e.context,i),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})})(e,t,r,s,o);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},bI={styles:(e,t)=>{const n={type:"advanced",...t.styles};return LD(e,t,mI(e,n),pI,"StylesTextUpdate","styles")},fontsize:(e,t)=>LD(e,t,fI(e),aI,"FontSizeTextUpdate","fontsize"),fontsizeinput:(e,t)=>sI(e,t,(e=>{const t=()=>e.queryCommandValue("FontSize");return{updateInputValue:e=>ts(e,eP,{text:t()}),onAction:(t,n)=>e.execCommand("FontSize",!1,t,{skip_focus:!n}),getNewValue:(n,o)=>{iI(n,["unsupportedLength","empty"]);const i=t(),r=iI(n,["unsupportedLength","empty"]).or(iI(i,["unsupportedLength","empty"])),s=r.map((e=>e.value)).getOr(16),a=BO(e),l=r.map((e=>e.unit)).filter((e=>""!==e)).getOr(a),c=o(s,(e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}})(l).step),u=`${(e=>e>=0)(c)?c:s}${l}`;return u!==i&&((e,t)=>{e.dispatch("FontSizeInputTextUpdate",t)})(e,{value:u}),u}}})(e),"fontsizeinput"),fontfamily:(e,t)=>LD(e,t,tI(e),HD,"FontFamilyTextUpdate","fontfamily"),blocks:(e,t)=>LD(e,t,qD(e),YD,"BlocksTextUpdate","blocks"),align:(e,t)=>LD(e,t,WD(e),BD,"AlignTextUpdate","align"),navigateback:(e,t)=>{const n=fi(Qx({type:"button",icon:"chevron-left",tooltip:"Back",onAction:O}));return $D(n,t.shared.providers,[cs(U$,(e=>{es(e,MD)}))])}},yI=e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=N(gI,(t=>{const n=V(t.items,(t=>Oe(e,t)||Oe(bI,t)));return{name:t.name,items:n}}));return V(t,(e=>e.items.length>0))})(n):r(t)?(e=>{const t=e.split("|");return N(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>g(e,(e=>(Oe(e,"name")||Oe(e,"label"))&&Oe(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},xI=(e,t,n,o,i,r)=>ge(t,n.toLowerCase()).orThunk((()=>r.bind((e=>ie(e,(e=>ge(t,e+n.toLowerCase()))))))).fold((()=>ge(bI,n.toLowerCase()).map((t=>t(e,i)))),(t=>"grouptoolbarbutton"!==t.type||o?((e,t,n,o)=>ge(vI,e.type).fold((()=>(console.error("skipping button defined by",e),P.none())),(i=>P.some(i(e,t,n,o)))))(t,i,e,n.toLowerCase()):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()))),wI=(e,t,n,o)=>{const i=yI(t),r=N(i,(i=>{const r=Y(i.items,(i=>0===i.trim().length?[]:xI(e,t.buttons,i,t.allowToolbarGroups,n,o).toArray()));return{title:P.from(e.translate(i.name)),label:Se(void 0!==i.label,e.translate(i.label)),items:r}}));return V(r,(e=>e.items.length>0))},SI=(e,t,n,o)=>{const i=t.mainUi.outerContainer,s=n.toolbar,a=n.buttons;if(g(s,r)){const t=s.map((t=>{const i={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return wI(e,i,o,P.none())}));oD.setToolbars(i,t)}else oD.setToolbar(i,wI(e,n,o,P.none()))},_I=Tn(),kI=_I.os.isiOS()&&_I.os.version.major<=12;var CI=Object.freeze({__proto__:null,render:(e,t,n,o,i)=>{const{mainUi:r,uiMotherships:s}=t,a=Gn(0),l=r.outerContainer;mD(e);const u=De.fromDom(i.targetNode),d=ft(ht(u));Hd(u,r.mothership),((e,t,n)=>{Ov(e)&&Hd(n.mainUi.mothership.element,n.popupUi.mothership),qd(t,n.dialogUi.mothership)})(e,d,t),e.on("PostRender",(()=>{oD.setSidebar(l,n.sidebar,JO(e))})),e.on("SkinLoaded",(()=>{SI(e,t,n,o),a.set(e.getWin().innerWidth),oD.setMenubar(l,sD(e,n)),oD.setViews(l,n.views),((e,t)=>{const{uiMotherships:n}=t,o=e.dom;let i=e.getWin();const r=e.getDoc().documentElement,s=Gn(Xt(i.innerWidth,i.innerHeight)),a=Gn(Xt(r.offsetWidth,r.offsetHeight)),l=()=>{const t=s.get();t.left===i.innerWidth&&t.top===i.innerHeight||(s.set(Xt(i.innerWidth,i.innerHeight)),wS(e))},c=()=>{const t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(Xt(t.offsetWidth,t.offsetHeight)),wS(e))},u=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};o.bind(i,"resize",l),o.bind(i,"scroll",u);const d=ru(De.fromDom(e.getBody()),"load",c);e.on("hide",(()=>{L(n,(e=>{Pt(e.element,"display","none")}))})),e.on("show",(()=>{L(n,(e=>{zt(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{d.unbind(),o.unbind(i,"resize",l),o.unbind(i,"scroll",u),i=null}))})(e,t)}));const h=oD.getSocket(l).getOrDie("Could not find expected socket element");if(kI){At(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let n=null;return{cancel:()=>{c(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{c(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{e.dispatch("ScrollContent")}),20),n=iu(h.element,"scroll",t.throttle);e.on("remove",n.unbind)}Aw(e,t),e.addCommand("ToggleSidebar",((t,n)=>{oD.toggleSidebar(l,n),(e=>{e.dispatch("ToggleSidebar")})(e)})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=oD.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,n)=>{if(oD.toggleView(l,n)){const t=l.element;r.mothership.broadcastOn([uh()],{target:t}),L(s,(e=>{e.broadcastOn([uh()],{target:t})})),c(oD.whichView(l))&&(e.focus(),e.nodeChanged(),oD.refreshToolbar(l)),(e=>{e.dispatch("ToggleView")})(e)}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=oD.whichView(l))&&void 0!==e?e:""}));const f=QO(e);f!==cO.sliding&&f!==cO.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const n=e.getWin().innerWidth;n!==a.get()&&(oD.refreshToolbar(t.mainUi.outerContainer),a.set(n))}));const p={setEnabled:e=>{Pw(t,e?"setEnabled":"setDisabled")},isEnabled:()=>!Jf.isDisabled(l)};return{iframeContainer:h.element.dom,editorContainer:l.element.dom,api:p}}});const TI=e=>m(e)?e+"px":e,$I=(e,t,n)=>{const o=t.filter((t=>e<t)),i=n.filter((t=>e>t));return o.or(i).getOr(e)},PI=e=>{const t=((e,t)=>{if("number"==typeof t)return P.from(t);const n=/^([0-9.]+)(pt|em|px)$/.exec(t.trim());if(n){const t=n[2],o=Number.parseFloat(n[1]);if(Number.isNaN(o)||o<0)return P.none();if("em"===t)return P.from(o*Number.parseFloat(window.getComputedStyle(e.dom).fontSize));if("pt"===t)return P.from(.75*o);if("px"===t)return P.from(o)}return P.none()})(De.fromDom(e.targetElm),yO(e)),n=SO(e),o=kO(e);return t.map((e=>$I(e,n,o)))},AI=e=>{const t=xO(e),n=wO(e),o=_O(e);return(i=t,/^[0-9\.]+(|px)$/i.test(""+i)?P.some(parseInt(""+i,10)):P.none()).map((e=>$I(e,n,o)));var i},{ToolbarLocation:QI,ToolbarMode:EI}=bv,MI=(e,t,n,o,i)=>{const{mainUi:r,uiMotherships:s}=n,a=hO.DOM,l=fv(e),c=gv(e),u=_O(e).or(AI(e)),d=o.shared.header,h=d.isPositionedAtTop,f=QO(e),p=f===EI.sliding||f===EI.floating,m=Gn(!1),g=()=>m.get()&&!e.removed,O=e=>p?e.fold(y(0),(e=>e.components().length>1?Vt(e.components()[1].element):0)):0,v=(e,t)=>Ov(e)?Gs(t):P.none(),b=()=>{L(s,(e=>{e.broadcastOn([dh()],{})}))},x=n=>{if(!g())return;l||i.on((e=>{const n=u.getOrThunk((()=>Vn().width-Yt(t).left-10));Pt(e.element,"max-width",n+"px")}));const o=Nn(),s=!l&&(()=>{if(!l&&(Ut(r.outerContainer.element).left+Ht(r.outerContainer.element)>=window.innerWidth-40||Dt(r.outerContainer.element,"width").isSome()))return Pt(r.outerContainer.element,"position","absolute"),Pt(r.outerContainer.element,"left","0px"),zt(r.outerContainer.element,"width"),!0;return!1})();if(p&&oD.refreshToolbar(r.outerContainer),!l){const n=Nn(),a=Se(o.left!==n.left,o);((n,o)=>{i.on((i=>{const s=oD.getToolbar(r.outerContainer),a=O(s),l=Yn(t),c=v(e,r.outerContainer.element),u=c.fold((()=>l.x),(e=>{const t=Yn(e);return Ge(e,vt())?l.x:l.x-t.x})),d=Se(n,Math.ceil(r.outerContainer.element.dom.getBoundingClientRect().width)).filter((e=>e>150)).map((e=>{const t=o.getOr(Nn()),n=window.innerWidth-(u-t.left),i=Math.max(Math.min(e,n),150);return n<e&&Pt(r.outerContainer.element,"width",i+"px"),{width:i+"px"}})).getOr({width:"max-content"}),f={position:"absolute",left:Math.round(u)+"px",top:c.fold((()=>h()?Math.max(l.y-Vt(i.element)+a,0):l.bottom),(e=>{var t;const n=Yn(e),o=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,r=Ge(e,vt())?Math.max(l.y-Vt(i.element)+a,0):l.y-n.y+o-Vt(i.element)+a;return h()?r:l.bottom}))+"px"};At(r.outerContainer.element,{...f,...d})}))})(s,a),a.each((e=>{Ln(e.left,n.top)}))}c&&i.on(n),b()},w=()=>!(l||!c||!g())&&i.get().exists((n=>{const o=d.getDockingMode(),s=(n=>{switch(MO(e)){case QI.auto:const e=oD.getToolbar(r.outerContainer),o=O(e),i=Vt(n.element)-o,s=Yn(t);if(s.y>i)return"top";{const e=tt(t),n=Math.max(e.dom.scrollHeight,Vt(e));return s.bottom<n-i||Hn().bottom<s.bottom-i?"bottom":"top"}case QI.bottom:return"bottom";case QI.top:default:return"top"}})(n);return s!==o&&(a=s,i.on((e=>{el.setModes(e,[a]),d.setDockingMode(a);const t=h()?Cu.TopToBottom:Cu.BottomToTop;xt(e.element,Tu,t)})),!0);var a}));return{isVisible:g,isPositionedAtTop:h,show:()=>{m.set(!0),Pt(r.outerContainer.element,"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),L(s,(e=>{zt(e.element,"display")})),w(),Ov(e)?x((e=>el.isDocked(e)?el.reset(e):el.refresh(e))):x(el.refresh)},hide:()=>{m.set(!1),Pt(r.outerContainer.element,"display","none"),a.removeClass(e.getBody(),"mce-edit-focus"),L(s,(e=>{Pt(e.element,"display","none")}))},update:x,updateMode:()=>{w()&&x(el.reset)},repositionPopups:b}},DI=(e,t)=>{const n=Yn(e);return{pos:t?n.y:n.bottom,bounds:n}};var II=Object.freeze({__proto__:null,render:(e,t,n,o,i)=>{const{mainUi:r}=t,s=eo(),a=De.fromDom(i.targetNode),l=MI(e,a,t,o,s),c=RO(e);gD(e);const u=()=>{if(s.isSet())return void l.show();s.set(oD.getHeader(r.outerContainer).getOrDie());const i=pv(e);Ov(e)?(Hd(a,r.mothership),Hd(a,t.popupUi.mothership)):qd(i,r.mothership),qd(i,t.dialogUi.mothership);const u=()=>{SI(e,t,n,o),oD.setMenubar(r.outerContainer,sD(e,n)),l.show(),((e,t,n,o)=>{const i=Gn(DI(t,n.isPositionedAtTop())),r=o=>{const{pos:r,bounds:s}=DI(t,n.isPositionedAtTop()),{pos:a,bounds:l}=i.get(),c=s.height!==l.height||s.width!==l.width;i.set({pos:r,bounds:s}),c&&wS(e,o),n.isVisible()&&(a!==r?n.update(el.reset):c&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(el.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>r(e)))}));let s=0;const a=x$((()=>n.update(el.refresh)),33);e.on("ScrollWindow",(()=>{const e=Nn().left;e!==s&&(s=e,a.throttle()),n.updateMode()})),Ov(e)&&e.on("ElementScroll",(e=>{n.update(el.refresh)}));const l=Jn();l.set(ru(De.fromDom(e.getBody()),"load",(e=>r(e.raw)))),e.on("remove",(()=>{l.clear()}))})(e,a,l,c),e.nodeChanged()};c?e.once("SkinLoaded",u):u()};e.on("show",u),e.on("hide",l.hide),c||(e.on("focus",u),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&u()})),Aw(e,t);const d={show:u,hide:l.hide,setEnabled:e=>{Pw(t,e?"setEnabled":"setDisabled")},isEnabled:()=>!Jf.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:d}}});var RI=tinymce.util.Tools.resolve("tinymce.util.VK");const zI="contexttoolbar-hide",NI=(e,t,n)=>({setInputEnabled:t=>{!t&&n&&Nc(n),Jf.set(e,!t)},isInputEnabled:()=>!Jf.isDisabled(e),hide:()=>{es(e,Rr())},back:()=>{es(e,MD)},getValue:()=>t.get().getOrThunk((()=>Ph.getValue(e))),setValue:n=>{e.getSystem().isConnected()?Ph.setValue(e,n):t.set(n)}}),LI=(e,t,n)=>cs(U$,((o,i)=>{const r=e.get(o),s=NI(r,n,o.element);t.onAction(s,i.event.buttonApi)})),jI=(e,t,n,o)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,n,o)=>{const{primary:i,...r}=t.original,s=fi(Dx({...r,type:"togglebutton",onAction:O}));return PD(s,n,[LI(e,t,o)])})(e,t,n,o):((e,t,n,o)=>{const{primary:i,...r}=t.original,s=fi(Qx({...r,type:"button",onAction:O}));return $D(s,n,[LI(e,t,o)])})(e,t,n,o),VI=(e,t,n,o)=>{const i=N(t,(t=>$v(jI(e,t,n,o))));return{asSpecs:()=>N(i,(e=>e.asSpec())),findPrimary:e=>ie(t,((t,n)=>t.primary?P.from(i[n]).bind((t=>t.getOpt(e))).filter(_(Jf.isDisabled)):P.none()))}},BI=(e,t,n,o)=>{const{width:i,height:r}=e.initValue();let s=xP;const a=sl("ratio-event"),l=e=>NI(e,o),c=e=>iy(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),u=()=>!1,d=e.label.getOr("Constrain proportions"),h=t.translate(d),f=OP.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":h,"data-mce-name":d}},components:[c("lock"),c("unlock")],buttonBehaviours:As([Jf.config({disabled:u}),Qv.config({}),Bv.config(t.tooltips.getConfig({tooltipText:h}))])}),p=e=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:e}),m=e=>ro(e.element,"div.tox-focusable-wrapper").fold(P.none,(e=>(Nc(e),P.some(!0)))),g=e=>Pk.parts.field({factory:My,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:e?i:r,inputBehaviours:As([Jf.config({disabled:u}),Qv.config({}),gg("size-input-toolbar-events",[cs(mr(),((t,n)=>{ts(t,a,{isField1:e})}))]),sg.config({mode:"special",onEnter:n,onEscape:m})]),selectOnFocus:!1}),v=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Wl(t.translate(e))]}),b=e=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[e],behaviours:As([Qv.config({}),xg.config({}),sg.config({mode:"special",onEnter:e=>lo(e.element,"input").fold(P.none,(e=>(Nc(e),P.some(!0))))})])}),y=b(OP.parts.field1(p([Pk.parts.label(v("Width:")),g(!0)]))),x=b(OP.parts.field2(p([Pk.parts.label(v("Height:")),g(!1)]))),w=Gn(O),S=[ww({onBeforeSetup:e=>lo(e.element,"input").each(Nc),onSetup:e.onSetup,getApi:l},w),_w({getApi:l},w,o)];return OP.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[y,x,p([v(" "),f])],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,n)=>{bP(Ph.getValue(e)).each((e=>{s(e).each((e=>{Ph.setValue(t,vP(e))}))}))},onInput:e=>es(e,Rk),coupledFieldBehaviours:As([xg.config({}),sg.config({mode:"flow",focusInside:Mp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Jf.config({disabled:u,onDisabled:e=>{OP.getField1(e).bind(Pk.getField).each(Jf.disable),OP.getField2(e).bind(Pk.getField).each(Jf.disable),OP.getLock(e).each(Jf.disable)},onEnabled:e=>{OP.getField1(e).bind(Pk.getField).each(Jf.enable),OP.getField2(e).bind(Pk.getField).each(Jf.enable),OP.getLock(e).each(Jf.enable)}}),Qw((()=>t.checkUiComponentContext("mode:design"))),gg("size-input-toolbar-events2",[cs(a,((e,t)=>{const n=t.event.isField1,o=n?OP.getField1(e):OP.getField2(e),i=n?OP.getField2(e):OP.getField1(e),r=o.map(Ph.getValue).getOr(""),a=i.map(Ph.getValue).getOr("");s=wP(r,a)})),cs(Rk,(t=>e.onInput(l(t)))),...S])])})},ZI=(e,t,n)=>Pk.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...e.toArray(),t],fieldBehaviours:As([Jf.config({disabled:()=>n.checkUiComponentContext("mode:design").shouldDisable,onDisabled:e=>{(e=>{Bc(e.element).each((e=>{ro(e,'[tabindex="-1"]').each((e=>{Nc(e)}))}))})(e),Pk.getField(e).each(Jf.disable)},onEnabled:e=>{Pk.getField(e).each(Jf.enable)}})])}),XI=(e,t,n,o)=>{const i=Gn(O),r=e=>NI(e,o),s=e.label.map((e=>Pk.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Wl(t.translate(e))]}))),a=Pk.parts.field({factory:My,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(e.min()),max:String(e.max())},data:e.initValue().toString(),fromInputValue:t=>(e=>{const t=parseFloat(e);return isNaN(t)?P.none():P.some(t)})(t).getOr(e.min()),toInputValue:e=>String(e),inputBehaviours:As([Jf.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),Qw((()=>t.checkUiComponentContext("mode:design"))),sg.config({mode:"special",onEnter:n,onLeft:(e,t)=>(t.cut(),P.none()),onRight:(e,t)=>(t.cut(),P.none())}),gg("slider-events",[ww({onSetup:e.onSetup,getApi:r,onBeforeSetup:sg.focusIn},i),_w({getApi:r},i,o),cs(br(),(t=>{e.onInput(r(t))}))])])});return ZI(s,a,t)},WI=(e,t,n,o)=>{const i=Gn(O),r=e=>NI(e,o),s=e.label.map((e=>Pk.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Wl(t.translate(e))]}))),a={...e.placeholder.map((e=>({placeholder:t.translate(e)}))).getOr({})},l=Pk.parts.field({factory:My,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:a,data:e.initValue(),selectOnFocus:!0,inputBehaviours:As([Jf.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),Qw((()=>t.checkUiComponentContext("mode:design"))),sg.config({mode:"special",onEnter:n,onLeft:(e,t)=>(t.cut(),P.none()),onRight:(e,t)=>(t.cut(),P.none())}),gg("input-events",[ww({onSetup:e.onSetup,getApi:e=>ro(e.element,".tox-toolbar").bind((e=>lo(e,"button:enabled"))).fold((()=>NI(e,o)),(t=>NI(e,o,t))),onBeforeSetup:sg.focusIn},i),_w({getApi:r},i,o),cs(br(),(t=>{e.onInput(r(t))}))])])});return ZI(s,l,t)},UI=(e,t,n)=>{const o=eo(),i=$v(e(n,(e=>s.findPrimary(e).orThunk((()=>a.findPrimary(e))).map((e=>(ns(e),!0)))),o)),r=j(t.commands,(e=>"start"===e.align)),s=VI(i,r.pass,n,o),a=VI(i,r.fail,n,o);return V([{title:P.none(),label:P.none(),items:s.asSpecs()},{title:P.none(),label:P.none(),items:[i.asSpec()]},{title:P.none(),label:P.none(),items:a.asSpecs()}],(e=>e.items.length>0))},YI=(e,t)=>{switch(e.type){case"contextform":return UI(S(WI,e),e,t);case"contextsliderform":return UI(S(XI,e),e,t);case"contextsizeinputform":return UI(S(BI,e),e,t)}},FI=YI,qI=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,HI=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=ut(De.fromDom(e.startContainer),e.startOffset).element;return(Xe(n)?ot(n):P.some(n)).filter(Ze).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Nn();return Un(e.left+t.left,e.top+t.top,t.width,t.height)}{const n=Fn(De.fromDom(e.getBody()));return Un(n.x+t.left,n.y+t.top,t.width,t.height)}},GI=(e,t,n,o=0)=>{const i=Vn(window),r=Yn(De.fromDom(e.getContentAreaContainer())),s=rv(e)||lv(e)||uv(e),{x:a,width:l}=((e,t,n)=>{const o=Math.max(e.x+n,t.x);return{x:o,width:Math.min(e.right-n,t.right)-o}})(r,i,o);if(e.inline&&!s)return Un(a,i.y,l,i.height);{const s=t.header.isPositionedAtTop(),{y:c,bottom:u}=((e,t,n,o,i,r)=>{const s=De.fromDom(e.getContainer()),a=lo(s,".tox-editor-header").getOr(s),l=Yn(a),c=l.y>=t.bottom,u=o&&!c;if(e.inline&&u)return{y:Math.max(l.bottom+r,n.y),bottom:n.bottom};if(e.inline&&!u)return{y:n.y,bottom:Math.min(l.y-r,n.bottom)};const d="line"===i?Yn(s):t;return u?{y:Math.max(l.bottom+r,n.y),bottom:Math.min(d.bottom-r,n.bottom)}:{y:Math.max(d.y+r,n.y),bottom:Math.min(l.y-r,n.bottom)}})(e,r,i,s,n,o);return Un(a,c,l,u-c)}},KI={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},JI={maxHeightFunction:Ou(),maxWidthFunction:sM()},eR=e=>"node"===e,tR=(e,t,n,o,i)=>{const r=HI(e),s=o.lastElement().exists((e=>Ge(n,e)));if(((e,t)=>{const n=e.selection.getRng(),o=ut(De.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Ge(o.element,t)})(e,n))return s?rQ:eQ;if(s)return((e,t,n)=>{const o=Dt(e,"position");Pt(e,"position",t);const i=n(e);return o.each((t=>Pt(e,"position",t))),i})(t,o.getMode(),(()=>qI(r,Yn(t),-20)&&!o.isReposition()?aQ:rQ));return("fixed"===o.getMode()?i.y+Nn().top:i.y)+(Vt(t)+12)<=r.y?eQ:tQ},nR=(e,t,n,o)=>{const i=t=>(o,i,r,s,a)=>({...tR(e,s,t,n,a)({...o,y:a.y,height:a.height},i,r,s,a),alwaysFit:!0}),r=e=>eR(o)?[i(e)]:[];return t?{onLtr:e=>[kc,yc,xc,wc,Sc,_c].concat(r(e)),onRtl:e=>[kc,xc,yc,Sc,wc,_c].concat(r(e))}:{onLtr:e=>[_c,kc,wc,yc,Sc,xc].concat(r(e)),onRtl:e=>[_c,kc,Sc,xc,wc,yc].concat(r(e))}},oR=(e,t)=>{const n=V(t,(t=>t.predicate(e.dom))),{pass:o,fail:i}=j(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:o,contextForms:i}},iR=(e,t,n)=>{const o=oR(e,t);if(o.contextForms.length>0)return P.some({elem:e,toolbars:[o.contextForms[0]]});{const t=oR(e,n);if(t.contextForms.length>0)return P.some({elem:e,toolbars:[t.contextForms[0]]});if(o.contextToolbars.length>0||t.contextToolbars.length>0){const n=(e=>{if(e.length<=1)return e;{const t=t=>I(e,(e=>e.position===t)),n=t=>V(e,(e=>e.position===t)),o=t("selection"),i=t("node");if(o||i){if(i&&o){const e=n("node"),t=N(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(o?"selection":"node")}return n("line")}})(o.contextToolbars.concat(t.contextToolbars));return P.some({elem:e,toolbars:n})}return P.none()}},rR=(e,t,n)=>e(t)?P.none():Ji(t,(e=>{if(Ze(e)){const{contextToolbars:t,contextForms:o}=oR(e,n.inNodeScope),i=o.length>0?o:(e=>{if(e.length<=1)return e;{const t=t=>X(e,(e=>e.position===t)),n=t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position));return n.fold((()=>[]),(t=>V(e,(e=>e.position===t))))}})(t);return i.length>0?P.some({elem:e,toolbars:i}):P.none()}return P.none()}),e),sR=(e,t)=>{const n={},o=[],i=[],r={},s={},a=(e,a)=>{const l=fi(hi("ContextForm",Xx,a));n[e]=l,l.launch.map((n=>{r["form:"+e]={...a.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?i.push(l):o.push(l),s[e]=l},l=(e,n)=>{var a;(a=n,hi("ContextToolbar",Ux,a)).each((a=>{a.launch.isSome()&&(r["toolbar:"+e]={...n.launch,type:"button",onAction:()=>{t(a)}}),"editor"===n.scope?i.push(a):o.push(a),s[e]=a}))},c=re(e);return L(c,(t=>{const n=e[t];"contextform"===n.type||"contextsliderform"===n.type||"contextsizeinputform"===n.type?a(t,n):"contexttoolbar"===n.type&&l(t,n)})),{forms:n,inNodeScope:o,inEditorScope:i,lookupTable:s,formNavigators:r}},aR="tox-pop--transition",lR=(e,t,n,o)=>{const i=o.backstage,s=i.shared,a=Tn().deviceType.isTouch,l=eo(),c=eo(),u=eo(),d=(e=>{const t=Gn([]),n=lO.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),lO.getContent(e).each((e=>{zt(e.element,"visibility")})),Zs(e.element,ID),zt(e.element,"width")},onHide:()=>{t.set([]),e.onHide()},inlineBehaviours:As([gg("context-toolbar-events",[gs(Sr(),((e,t)=>{"width"===t.event.raw.propertyName&&(Zs(e.element,ID),zt(e.element,"width"))})),cs(DD,((e,t)=>{const n=e.element;zt(n,"width");const o=qt(n),i=Bc(e.element).isSome();zt(n,"left"),zt(n,"right"),zt(n,"max-width"),lO.setContent(e,t.event.contents),Vs(n,ID);const r=qt(n);Pt(n,"transition","none"),lO.reposition(e),zt(n,"transition"),Pt(n,"width",o+"px"),t.event.focus.fold((()=>{i&&QD(e)}),(t=>{Vc(ht(e.element)).fold((()=>Nc(t)),(e=>{Ge(e,t)||Nc(t)}))})),setTimeout((()=>{Pt(e.element,"width",r+"px")}),0)})),cs(ED,((e,n)=>{lO.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:Vc(ht(e.element))}]))})),ts(e,DD,{contents:n.event.forwardContents,focus:P.none()})})),cs(MD,((n,o)=>{e.onBack(),ne(t.get()).each((e=>{t.set(t.get().slice(0,t.get().length-1)),ts(n,DD,{contents:Hl(e.bar),focus:e.focus})}))}))]),sg.config({mode:"special",onEscape:n=>ne(t.get()).fold((()=>e.onEscape()),(e=>(es(n,MD),P.some(!0))))})]),lazySink:()=>po.value(e.sink)});return{sketch:n,inSubtoolbar:()=>t.get().length>0}})({sink:n,onEscape:()=>(e.focus(),kS(e),P.some(!0)),onHide:()=>{kS(e)},onBack:()=>{(e=>{e.dispatch("ContextFormSlideBack")})(e)}}),h=ql(d.sketch),f=()=>{const t=u.get().getOr("node"),n=eR(t)?1:0;return GI(e,s,t,n)},p=()=>!(e.removed||a()&&i.isContextMenuOpen()),m=()=>{if(p()){const t=f(),n=be(u.get(),"node")?((e,t)=>t.filter((e=>Ot(e)&&Be(e))).map(Fn).getOrThunk((()=>HI(e))))(e,l.get()):HI(e);return t.height<=0||!qI(n,t,.01)}return!0},g=()=>{l.clear(),c.clear(),u.clear(),lO.hide(h)},v=()=>{if(lO.isOpen(h)){const e=h.element;zt(e,"display"),m()?Pt(e,"display","none"):(c.set(0),lO.reposition(h))}},b=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:As([sg.config({mode:"acyclic"}),gg("pop-dialog-wrap-events",[Os((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>sg.focusIn(t)))})),vs((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),y=e=>{const t=w([e]);ts(h,ED,{forwardContents:b(t)})},x=Gt((()=>sR(t,y))),w=t=>{const{buttons:n}=e.ui.registry.getAll(),i={...n,...x().formNavigators},a=QO(e)===cO.scrolling?cO.scrolling:cO.default,l=U(N(t,(t=>{return"contexttoolbar"===t.type?((t,n)=>wI(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o.backstage,P.some(["form:","toolbar:"])))(i,(n=t,{...n,launch:n.launch.getOrUndefined(),items:r(n.items)?n.items:N(n.items,Yx)})):((e,t)=>FI(e,t))(t,s.providers);var n})));return QM({type:a,uid:sl("context-toolbar"),initGroups:l,onEscape:P.none,cyclicKeying:!0,providers:s.providers})},S=(t,o)=>{const i="node"===t?s.anchors.node(o):s.anchors.cursor(),r=((e,t,n,o)=>"line"===t?{bubble:xu(12,0,KI),layouts:{onLtr:()=>[Cc],onRtl:()=>[Tc]},overrides:JI}:{bubble:xu(0,12,KI,1/12),layouts:nR(e,n,o,t),overrides:JI})(e,t,a(),{lastElement:l.get,isReposition:()=>be(c.get(),0),getMode:()=>Rd.getMode(n)});return Eo(i,r)},_=(e,t)=>{if(C.cancel(),!p())return;const o=w(e),i=e[0].position,r=S(i,t);u.set(i),c.set(1);const s=h.element;zt(s,"display"),(e=>be(xe(e,l.get(),Ge),!0))(t)||(Zs(s,aR),Rd.reset(n,h)),lO.showWithinBounds(h,b(o),{anchor:r,transition:{classes:[aR],mode:"placement"}},(()=>P.some(f()))),t.fold(l.clear,l.set),m()&&Pt(s,"display","none")};let k=!1;const C=x$((()=>{if(e.hasFocus()&&!e.removed&&!k)if(Ws(h.element,aR))C.throttle();else{((e,t)=>{const n=De.fromDom(t.getBody()),o=e=>Ge(e,n),i=De.fromDom(t.selection.getNode());return(e=>!o(e)&&!Ke(n,e))(i)?P.none():iR(i,e.inNodeScope,e.inEditorScope).orThunk((()=>rR(o,i,e)))})(x(),e).fold(g,(e=>{_(e.toolbars,P.some(e.elem))}))}}),17);e.on("init",(()=>{e.on("remove",g),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",v),e.on("click focus SetContent",C.throttle),e.on("keyup",(e=>{var t;((t=e.keyCode)!==RI.ENTER&&t!==RI.SPACEBAR||!d.inSubtoolbar())&&C.throttle()})),e.on(zI,g),e.on("contexttoolbar-show",(t=>{const n=x();ge(n.lookupTable,t.toolbarKey).each((n=>{_([n],Se(t.target!==e,t.target)),QD(h)}))})),e.on("focusout",(t=>{dO.setEditorTimeout(e,(()=>{Bc(n.element).isNone()&&Bc(h.element).isNone()&&!e.hasFocus()&&g()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&g()})),e.on("DisabledStateChange",(e=>{e.state&&g()})),e.on("ExecCommand",(({command:e})=>{"toggleview"===e.toLowerCase()&&g()})),e.on("AfterProgressState",(t=>{t.state?g():e.hasFocus()&&C.throttle()})),e.on("dragstart",(()=>{k=!0})),e.on("dragend drop",(()=>{k=!1})),e.on("NodeChange",(e=>{d.inSubtoolbar()?(Pt(h.element,"transition","none"),v(),zt(h.element,"transition")):Bc(h.element).fold(C.throttle,O)}))}))},cR=(e,t)=>{const n=()=>{const n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),i=eo();return N(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:r=>{const s=e=>{e&&(i.on((e=>e.setActive(!1))),i.set(r)),r.setActive(e)};s(be(o,t.hash(n)));const a=t.watcher(e,n,s);return()=>{i.clear(),a()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},uR=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:av,hash:e=>((e,t)=>iI(e,t).map((({value:e,unit:t})=>e+t)))(e,["fixed","relative","empty"]).getOr(e),display:x,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>P.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t),onToolbarSetup:TS(e),onMenuSetup:TS(e)}),dR=e=>{cR(e,uR(e)),(e=>P.from(PO(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:y(t),hash:e=>d(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>{var o;return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:null!==(o=t.customCode)&&void 0!==o?o:null}).unbind},getCurrent:e=>{const t=De.fromDom(e.selection.getNode());return er(t,(e=>P.some(e).filter(Ze).bind((e=>_t(e,"lang").map((t=>({code:t,customCode:_t(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=Jn();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),CS(n.clear,TS(e)(t))},onMenuSetup:TS(e)}))))(e).each((t=>cR(e,t)))},hR=(e,t)=>{((e,t)=>{const n=ND(t,WD(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),onSetup:TS(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=ND(t,tI(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),onSetup:TS(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n={type:"advanced",...t.styles},o=ND(t,mI(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:TS(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const n=ND(t,qD(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:TS(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=ND(t,fI(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:TS(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t)},fR=e=>PS(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())})),pR=e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:fR(e),onAction:QS(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:TS(e),onAction:QS(e,"indent")})})(e)},mR=(e,t)=>n=>{n.setActive(t.get());const o=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",o),CS((()=>e.off("PastePlainTextToggle",o)),TS(e)(n))},gR=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},OR=e=>{(e=>{v$.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:$S(e,t.name),onAction:gR(e,t.name),shortcut:t.shortcut})}));for(let t=1;t<=6;t++){const n="h"+t,o=`Access+${t}`;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:$S(e,n),onAction:gR(e,n),shortcut:o})}})(e),(e=>{v$.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:QS(e,t.action),shortcut:t.shortcut,context:t.context})})),v$.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:TS(e),onAction:QS(e,t.action)})}))})(e),(e=>{v$.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:QS(e,t.action),onSetup:$S(e,t.name)})}))})(e)},vR=e=>{OR(e),(e=>{v$.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:QS(e,t.action),context:t.context})})),v$.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:TS(e),onAction:QS(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:TS(e),onAction:gR(e,"code")})})(e)},bR=(e,t)=>PS(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),yR=e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:bR(e,"hasUndo"),onAction:QS(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:bR(e,"hasRedo"),onAction:QS(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:bR(e,"hasUndo"),onAction:QS(e,"undo"),shortcut:"Meta+Z"}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:bR(e,"hasRedo"),onAction:QS(e,"redo"),shortcut:"Meta+Y"})})(e)},xR=e=>PS(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),wR=e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:QS(e,"mceToggleVisualAid"),context:"any"})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:xR(e),onAction:QS(e,"mceToggleVisualAid"),context:"any"})})(e)},SR=(e,t)=>{(e=>{L([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:QS(e,t.cmd),onSetup:$S(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:TS(e),onAction:QS(e,"JustifyNone")})})(e),vR(e),hR(e,t),yR(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{((e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))})(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=GS(e),n=KS(e),o=Gn(t),i=Gn(n);c_(e,"forecolor","forecolor",o),c_(e,"backcolor","hilitecolor",i),u_(e,"forecolor","forecolor","Text color",o),u_(e,"backcolor","hilitecolor","Background color",i)})(e),wR(e),pR(e),dR(e),(e=>{const t=Gn(KO(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:mR(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:mR(e,t)})})(e),(e=>{e.ui.registry.addContext("editable",(()=>e.selection.isEditable())),e.ui.registry.addContext("mode",(t=>e.mode.get()===t)),e.ui.registry.addContext("any",$),e.ui.registry.addContext("formatting",(t=>e.formatter.canApply(t))),e.ui.registry.addContext("insert",(t=>e.schema.isValidChild(e.selection.getNode().tagName,t)))})(e)},_R=e=>r(e)?e.split(/[ ,]/):e,kR=e=>t=>t.options.get(e),CR=kR("contextmenu_never_use_native"),TR=kR("contextmenu_avoid_overlap"),$R=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:V(n,(e=>Oe(t,e)))},PR=(e,t)=>({type:"makeshift",x:e,y:t}),AR=e=>"longpress"===e.type||0===e.type.indexOf("touch"),QR=(e,t)=>{const n=hO.DOM.getPos(e);return((e,t,n)=>PR(e.x+t,e.y+n))(t,n.x,n.y)},ER=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(AR(e)){const t=e.touches[0];return PR(t.pageX,t.pageY)}return PR(e.pageX,e.pageY)})(t):QR(e.getContentAreaContainer(),(e=>{if(AR(e)){const t=e.touches[0];return PR(t.clientX,t.clientY)}return PR(e.clientX,e.clientY)})(t)):MR(e),MR=e=>({type:"selection",root:De.fromDom(e.selection.getNode())}),DR=(e,t,n)=>{switch(n){case"node":return(e=>({type:"node",node:P.some(De.fromDom(e.selection.getNode())),root:De.fromDom(e.getBody())}))(e);case"point":return ER(e,t);case"selection":return MR(e)}},IR=(e,t,n,o,i,r)=>{const s=n(),a=DR(e,t,r);lP(s,uy.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:P.none()}).map((e=>{t.preventDefault(),lO.showMenuAt(i,{anchor:a},{menu:{markers:ky("normal")},data:e})}))},RR={onLtr:()=>[kc,yc,xc,wc,Sc,_c,eQ,tQ,JA,GA,KA,HA],onRtl:()=>[kc,xc,yc,Sc,wc,_c,eQ,tQ,KA,HA,JA,GA]},zR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},NR=(e,t,n,o,i,r,s)=>{const a=((e,t,n)=>{const o=DR(e,t,n);return{bubble:xu(0,"point"===n?12:0,zR),layouts:RR,overrides:{maxWidthFunction:sM(),maxHeightFunction:Ou()},...o}})(e,t,r);lP(n,uy.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!0,search:P.none()}).map((n=>{t.preventDefault();const l=s?rO.HighlightMenuAndItem:rO.HighlightNone;lO.showMenuWithinBounds(i,{anchor:a},{menu:{markers:ky("normal"),highlightOnOpen:l},data:n,type:"horizontal"},(()=>P.some(GI(e,o.shared,"node"===r?"node":"selection")))),e.dispatch(zI)}))},LR=(e,t,n,o,i,r)=>{const s=Tn(),a=s.os.isiOS(),l=s.os.isMacOS(),c=s.os.isAndroid(),u=s.deviceType.isTouch(),d=()=>{const s=n();NR(e,t,s,o,i,r,!(c||a||l&&u))};if((l||a)&&"node"!==r){const n=()=>{(e=>{const t=e.selection.getRng(),n=()=>{dO.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),r()};e.once("touchend",n);const o=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);const i=()=>r();e.once("longpresscancel",i);const r=()=>{e.off("touchend",n),e.off("longpresscancel",i),e.off("mousedown",o)}})(e),d()};((e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const o=t.touches[0],i=n.getRng();return ld(e.getWin(),Fu.domRange(i)).exists((e=>e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY))}})(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else d()},jR=e=>r(e)?"|"===e:"separator"===e.type,VR={type:"separator"},BR=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(r(e))return e;switch(e.type){case"separator":return VR;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return r(t)?t:N(t,BR)}};default:const n=e;return{type:"menuitem",...t(n),onAction:v(n.onAction)}}},ZR=(e,t)=>{if(0===t.length)return e;const n=ne(e).filter((e=>!jR(e))),o=n.fold((()=>[]),(e=>[VR]));return e.concat(o).concat(t).concat([VR])},XR=(e,t)=>!(e=>"longpress"===e.type||Oe(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),WR=(e,t)=>XR(e,t)?e.selection.getStart(!0):t.target,UR=(e,t,n)=>{const o=Tn().deviceType.isTouch,i=ql(lO.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:As([gg("dismissContextMenu",[cs(Wr(),((t,n)=>{ch.close(t),e.focus()}))])])})),s=()=>lO.hide(i),a=t=>{if(CR(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!CR(e))(e,t)||(e=>0===$R(e).length)(e))return;const s=((e,t)=>{const n=TR(e),o=XR(e,t)?"selection":"point";if(Ae(n)){const i=WR(e,t);return hk(De.fromDom(i),n)?"node":o}return o})(e,t);(o()?LR:IR)(e,t,(()=>{const n=WR(e,t),o=e.ui.registry.getAll(),i=$R(e);return((e,t,n)=>{const o=Z(t,((t,o)=>ge(e,o.toLowerCase()).map((e=>{const o=e.update(n);if(r(o)&&Ae(Pe(o)))return ZR(t,o.split(" "));if(l(o)&&o.length>0){const e=N(o,BR);return ZR(t,e)}return t})).getOrThunk((()=>t.concat([o])))),[]);return o.length>0&&jR(o[o.length-1])&&o.pop(),o})(o.contextMenus,i,n)}),n,i,s)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,s),e.on("longpress contextmenu",a)}))},YR=Yi([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),FR=e=>t=>t.translate(-e.left,-e.top),qR=e=>t=>t.translate(e.left,e.top),HR=e=>(t,n)=>Z(e,((e,t)=>t(e)),Xt(t,n)),GR=(e,t,n)=>e.fold(HR([qR(n),FR(t)]),HR([FR(t)]),HR([])),KR=(e,t,n)=>e.fold(HR([qR(n)]),HR([]),HR([qR(t)])),JR=(e,t,n)=>e.fold(HR([]),HR([FR(n)]),HR([qR(t),FR(n)])),ez=(e,t,n)=>{const o=e.fold(((e,t)=>({position:P.some("absolute"),left:P.some(e+"px"),top:P.some(t+"px")})),((e,t)=>({position:P.some("absolute"),left:P.some(e-n.left+"px"),top:P.some(t-n.top+"px")})),((e,t)=>({position:P.some("fixed"),left:P.some(e+"px"),top:P.some(t+"px")})));return{right:P.none(),bottom:P.none(),...o}},tz=(e,t,n,o)=>{const i=(e,i)=>(r,s)=>{const a=e(t,n,o);return i(r.getOr(a.left),s.getOr(a.top))};return e.fold(i(JR,nz),i(KR,oz),i(GR,iz))},nz=YR.offset,oz=YR.absolute,iz=YR.fixed,rz=(e,t)=>{const n=St(e,t);return d(n)?NaN:parseInt(n,10)},sz=(e,t,n,o)=>((e,t)=>{const n=e.element,o=rz(n,t.leftAttr),i=rz(n,t.topAttr);return isNaN(o)||isNaN(i)?P.none():P.some(Xt(o,i))})(e,t).fold((()=>n),(e=>iz(e.left+o.left,e.top+o.top))),az=(e,t,n,o,i,r)=>{const s=sz(e,t,n,o),a=t.mustSnap?uz(e,t,s,i,r):dz(e,t,s,i,r),l=GR(s,i,r);return((e,t,n)=>{const o=e.element;xt(o,t.leftAttr,n.left+"px"),xt(o,t.topAttr,n.top+"px")})(e,t,l),a.fold((()=>({coord:iz(l.left,l.top),extra:P.none()})),(e=>({coord:e.output,extra:e.extra})))},lz=(e,t)=>{((e,t)=>{const n=e.element;Ct(n,t.leftAttr),Ct(n,t.topAttr)})(e,t)},cz=(e,t,n,o)=>ie(e,(e=>{const i=e.sensor,r=((e,t,n,o,i,r)=>{const s=KR(e,i,r),a=KR(t,i,r);return Math.abs(s.left-a.left)<=n&&Math.abs(s.top-a.top)<=o})(t,i,e.range.left,e.range.top,n,o);return r?P.some({output:tz(e.output,t,n,o),extra:e.extra}):P.none()})),uz=(e,t,n,o,i)=>{const r=t.getSnapPoints(e);return cz(r,n,o,i).orThunk((()=>{const e=Z(r,((e,t)=>{const r=t.sensor,s=((e,t,n,o,i,r)=>{const s=KR(e,i,r),a=KR(t,i,r),l=Math.abs(s.left-a.left),c=Math.abs(s.top-a.top);return Xt(l,c)})(n,r,t.range.left,t.range.top,o,i);return e.deltas.fold((()=>({deltas:P.some(s),snap:P.some(t)})),(n=>(s.left+s.top)/2<=(n.left+n.top)/2?{deltas:P.some(s),snap:P.some(t)}:e))}),{deltas:P.none(),snap:P.none()});return e.snap.map((e=>({output:tz(e.output,n,o,i),extra:e.extra})))}))},dz=(e,t,n,o,i)=>{const r=t.getSnapPoints(e);return cz(r,n,o,i)};var hz=Object.freeze({__proto__:null,snapTo:(e,t,n,o)=>{const i=t.getTarget(e.element);if(t.repositionTarget){const t=Je(e.element),n=Nn(t),r=Ks(i),s=((e,t,n)=>({coord:tz(e.output,e.output,t,n),extra:e.extra}))(o,n,r),a=ez(s.coord,0,r);Qt(i,a)}}});const fz="data-initial-z-index",pz=(e,t)=>{e.getSystem().addToGui(t),(e=>{ot(e.element).filter(Ze).each((t=>{Dt(t,"z-index").each((e=>{xt(t,fz,e)})),Pt(t,"z-index",Et(e.element,"z-index"))}))})(t)},mz=e=>{(e=>{ot(e.element).filter(Ze).each((e=>{_t(e,fz).fold((()=>zt(e,"z-index")),(t=>Pt(e,"z-index",t))),Ct(e,fz)}))})(e),e.getSystem().removeFromGui(e)},gz=(e,t,n)=>e.getSystem().build(kk.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var Oz=zi("snaps",[xi("getSnapPoints"),Ua("onSensor"),xi("leftAttr"),xi("topAttr"),Ni("lazyViewport",Hn),Ni("mustSnap",!1)]);const vz=[Ni("useFixed",T),xi("blockerClass"),Ni("getTarget",x),Ni("onDrag",O),Ni("repositionTarget",!0),Ni("onDrop",O),Xi("getBounds",Hn),Oz],bz=e=>((e,t,n,o)=>e.isSome()&&t.isSome()&&n.isSome()?P.some(o(e.getOrDie(),t.getOrDie(),n.getOrDie())):P.none())(Dt(e,"left"),Dt(e,"top"),Dt(e,"position"),((e,t,n)=>("fixed"===n?iz:nz)(parseInt(e,10),parseInt(t,10)))).getOrThunk((()=>{const t=Ut(e);return oz(t.left,t.top)})),yz=(e,t,n,o,i,r,s)=>((e,t,n,o,i)=>{const r=i.bounds,s=KR(t,n,o),a=il(s.left,r.x,r.x+r.width-i.width),l=il(s.top,r.y,r.y+r.height-i.height),c=oz(a,l);return t.fold((()=>{const e=JR(c,n,o);return nz(e.left,e.top)}),y(c),(()=>{const e=GR(c,n,o);return iz(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=n,s=r.left,a=r.top,t.fold(((e,t)=>nz(e+s,t+a)),((e,t)=>oz(e+s,t+a)),((e,t)=>iz(e+s,t+a))));var t,s,a;const l=GR(e,o,i);return iz(l.left,l.top)}),(t=>{const s=az(e,t,n,r,o,i);return s.extra.each((n=>{t.onSensor(e,n)})),s.coord})),o,i,s),xz=(e,t)=>({bounds:e.getBounds(),height:Bt(t.element),width:Ht(t.element)}),wz=(e,t,n,o,i)=>{const r=n.update(o,i),s=n.getStartData().getOrThunk((()=>xz(t,e)));r.each((n=>{((e,t,n,o)=>{const i=t.getTarget(e.element);if(t.repositionTarget){const r=Je(e.element),s=Nn(r),a=Ks(i),l=bz(i),c=yz(e,t.snaps,l,s,a,o,n),u=ez(c,0,a);Qt(i,u)}t.onDrag(e,i,o)})(e,t,s,n)}))},Sz=(e,t,n,o)=>{t.each(mz),n.snaps.each((t=>{lz(e,t)}));const i=n.getTarget(e.element);o.reset(),n.onDrop(e,i)},_z=e=>(t,n)=>{const o=e=>{n.setStartData(xz(t,e))};return ss([cs(Vr(),(e=>{n.getStartData().each((()=>o(e)))})),...e(t,n,o)])};var kz=Object.freeze({__proto__:null,getData:e=>P.from(Xt(e.x,e.y)),getDelta:(e,t)=>Xt(t.left-e.left,t.top-e.top)});const Cz=(e,t,n)=>[cs(ur(),((o,i)=>{if(0!==i.event.raw.button)return;i.stop();const r=()=>Sz(o,P.some(l),e,t),s=fk(r,200),a={drop:r,delayDrop:s.schedule,forceDrop:r,move:n=>{s.cancel(),wz(o,e,t,kz,n)}},l=gz(o,e.blockerClass,(e=>ss([cs(ur(),e.forceDrop),cs(fr(),e.drop),cs(dr(),((t,n)=>{e.move(n.event)})),cs(hr(),e.delayDrop)]))(a));n(o),pz(o,l)}))],Tz=[...vz,Ha("dragger",{handlers:_z(Cz)})];var $z=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return P.some(Xt(t.clientX,t.clientY))})(t):P.none()},getDelta:(e,t)=>Xt(t.left-e.left,t.top-e.top)});const Pz=(e,t,n)=>{const o=eo(),i=n=>{Sz(n,o.get(),e,t),o.clear()};return[cs(sr(),((r,s)=>{s.stop();const a=()=>i(r),l={drop:a,delayDrop:O,forceDrop:a,move:n=>{wz(r,e,t,$z,n)}},c=gz(r,e.blockerClass,(e=>ss([cs(sr(),e.forceDrop),cs(lr(),e.drop),cs(cr(),e.drop),cs(ar(),((t,n)=>{e.move(n.event)}))]))(l));o.set(c);n(r),pz(r,c)})),cs(ar(),((n,o)=>{o.stop(),wz(n,e,t,$z,o.event)})),cs(lr(),((e,t)=>{t.stop(),i(e)})),cs(cr(),i)]},Az=Tz,Qz=[...vz,Ha("dragger",{handlers:_z(Pz)})],Ez=[...vz,Ha("dragger",{handlers:_z(((e,t,n)=>[...Cz(e,t,n),...Pz(e,t,n)]))})];var Mz=Object.freeze({__proto__:null,mouse:Az,touch:Qz,mouseOrTouch:Ez});var Dz=Object.freeze({__proto__:null,init:()=>{let e=P.none(),t=P.none();const n=y({});return Ps({readState:n,reset:()=>{e=P.none(),t=P.none()},update:(t,n)=>t.getData(n).bind((n=>((t,n)=>{const o=e.map((e=>t.getDelta(e,n)));return e=P.some(n),o})(t,n))),getStartData:()=>t,setStartData:e=>{t=P.some(e)}})}});const Iz=Ds({branchKey:"mode",branches:Mz,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:P.from(e.extra)})},state:Dz,apis:hz}),Rz=(e,t,n,o,i,r)=>e.fold((()=>Iz.snap({sensor:oz(n-20,o-20),range:Xt(i,r),output:oz(P.some(n),P.some(o)),extra:{td:t}})),(e=>{const i=n-20,r=o-20,s=e.element.dom.getBoundingClientRect();return Iz.snap({sensor:oz(i,r),range:Xt(40,40),output:oz(P.some(n-s.width/2),P.some(o-s.height/2)),extra:{td:t}})})),zz=(e,t,n)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,o)=>{const i=o.td;((e,t)=>e.exists((e=>Ge(e,t))))(t.get(),i)||(t.set(i),n(i))},mustSnap:!0}),Nz=e=>$v(Cv.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:As([Iz.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),nC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Lz=(e,t)=>{const n=Gn([]),o=Gn([]),i=Gn(!1),r=eo(),s=eo(),a=e=>{const n=Fn(e);return Rz(d.getOpt(t),e,n.x,n.y,n.width,n.height)},l=e=>{const n=Fn(e);return Rz(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=zz((()=>N(n.get(),(e=>a(e)))),r,(t=>{s.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),u=zz((()=>N(o.get(),(e=>l(e)))),s,(t=>{r.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),d=Nz(c),h=Nz(u),f=ql(d.asSpec()),p=ql(h.asSpec()),m=(t,n,o,i)=>{const r=o(n);Iz.snapTo(t,r);((t,n,o,i)=>{const r=n.dom.getBoundingClientRect();zt(t.element,"display");const s=nt(De.fromDom(e.getBody())).dom.innerHeight,a=o(r),l=i(r,s);(a||l)&&Pt(t.element,"display","none")})(t,n,(e=>e[i]<0),((e,t)=>e[i]>t))},g=e=>m(f,e,a,"top"),O=e=>m(p,e,l,"bottom");if(Tn().deviceType.isTouch()){const a=e=>N(e,De.fromDom);e.on("TableSelectionChange",(e=>{i.get()||(Xd(t,f),Xd(t,p),i.set(!0));const l=De.fromDom(e.start),c=De.fromDom(e.finish);r.set(l),s.set(c),P.from(e.otherCells).each((e=>{n.set(a(e.upOrLeftCells)),o.set(a(e.downOrRightCells)),g(l),O(c)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{r.get().each(g),s.get().each(O)})),e.on("TableSelectionClear",(()=>{i.get()&&(Yd(f),Yd(p),i.set(!1)),r.clear(),s.clear()}))}};const jz=(e,t,n)=>{var o;const i=null!==(o=t.delimiter)&&void 0!==o?o:"›",r=(t,o,i)=>Cv.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":i}},components:[Wl(t)],action:t=>{e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:As([Bv.config({...n.tooltips.getConfig({tooltipText:n.translate(["Select the {0} element",o.nodeName.toLowerCase()]),onShow:(e,t)=>{((e,t)=>{const n=P.from(St(e,"id")).getOrThunk((()=>{const e=sl("aria");return xt(t,"id",e),e}));xt(e,"aria-describedby",n)})(e.element,t.element)},onHide:e=>{var t;t=e.element,Ct(t,"aria-describedby")}})}),vw(n.isDisabled),Qw((()=>n.checkUiComponentContext("any")))])});return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:As([sg.config({mode:"flow",selector:"div[role=button]"}),Jf.config({disabled:n.isDisabled}),Qw((()=>n.checkUiComponentContext("any"))),Qv.config({}),mg.config({}),gg("elementPathEvents",[Os(((t,n)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>sg.focusIn(t))),e.on("NodeChange",(n=>{const o=(t=>{const n=[];let o=t.length;for(;o-- >0;){const r=t[o];if(1===r.nodeType&&"BR"!==(i=r).nodeName&&!i.getAttribute("data-mce-bogus")&&"bookmark"!==i.getAttribute("data-mce-type")){const t=_S(e,r);if(t.isDefaultPrevented()||n.push({name:t.name,element:r}),t.isPropagationStopped())break}}var i;return n})(n.parents),s=o.length>0?Z(o,((e,t,n)=>{const o=r(t.name,t.element,n);return 0===n?e.concat([o]):e.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Wl(` ${i} `)]},o])}),[]):[];mg.set(t,s)}))}))])]),components:[]}};var Vz;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(Vz||(Vz={}));const Bz=(e,t,n)=>{const o=De.fromDom(e.getContainer()),i=((e,t,n,o,i)=>{const r={height:$I(o+t.top,SO(e),kO(e))};return n===Vz.Both&&(r.width=$I(i+t.left,wO(e),_O(e))),r})(e,t,n,Vt(o),qt(o));ae(i,((e,t)=>{m(e)&&Pt(o,t,TI(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},Zz=(e,t,n,o)=>{const i=Xt(20*n,20*o);return Bz(e,i,t),P.some(!0)},Xz=(e,t)=>{const n=(e=>{const t=GO(e);return!1===t?Vz.None:"both"===t?Vz.Both:Vz.Vertical})(e);if(n===Vz.None)return P.none();const o=n===Vz.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return P.some(iy("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":t.translate(o),"data-mce-name":"resize-handle"},behaviours:[Iz.config({mode:"mouse",repositionTarget:!1,onDrag:(t,o,i)=>Bz(e,i,n),blockerClass:"tox-blocker"}),sg.config({mode:"special",onLeft:()=>Zz(e,n,-1,0),onRight:()=>Zz(e,n,1,0),onUp:()=>Zz(e,n,0,-1),onDown:()=>Zz(e,n,0,1)}),Qv.config({}),xg.config({}),Bv.config(t.tooltips.getConfig({tooltipText:t.translate("Resize")}))]},t.icons))},Wz=(e,t)=>{const n=()=>{const n=[];return e.hasPlugin("wordcount")&&n.push(((e,t)=>{const n=(e,n,o)=>mg.set(e,[Wl(t.translate(["{0} "+o,n[o]]))]);return Cv.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:As([vw(t.isDisabled),Qw((()=>t.checkUiComponentContext("any"))),Qv.config({}),mg.config({}),Ph.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),gg("wordcount-events",[ys((e=>{const t=Ph.getValue(e),o="words"===t.mode?"characters":"words";Ph.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)})),Os((t=>{e.on("wordCountUpdate",(e=>{const{mode:o}=Ph.getValue(t);Ph.setValue(t,{mode:o,count:e.wordCount}),n(t,e.wordCount,o)}))}))])]),eventOrder:{[Er()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),HO(e)&&n.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":e.translate(["Build with {0}","TinyMCE"])},innerHtml:e.translate(["Build with {0}",'<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>\n'.trim()])},behaviours:As([xg.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:n}},o=()=>{const o=[],i=tv(e),r=qO(e),s=HO(e)||e.hasPlugin("wordcount"),a=()=>{const e="tox-statusbar__text-container--flex-start",t="tox-statusbar__text-container--flex-end";if(i){const n="tox-statusbar__text-container-3-cols";return s||r?s&&!r?[n,t]:[n,e]:[n,"tox-statusbar__text-container--space-around"]}return[s&&!r?t:e]};return r&&o.push(jz(e,{},t)),i&&o.push((()=>{const e=Lw("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Wl(qb.translate(["Press {0} for help",e]))]}})()),s&&o.push(n()),o.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...a()]},components:o}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const n=o(),i=Xz(e,t);return n.concat(i.toArray())})()}},Uz=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),Yz=(e,t)=>{const n=e.inline,o=n?II:CI,i=gv(e)?_E:pE,r=(()=>{const e=eo(),t=eo(),n=eo();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{const n=e.get().map((e=>e.mothership)),o=t.get().map((e=>e.mothership));return n.fold((()=>o.toArray()),(e=>o.fold((()=>[e]),(t=>Ge(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>n.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),s=eo(),a=eo(),l=eo(),c=Tn().deviceType.isTouch()?["tox-platform-touch"]:[],u=dv(e),d=QO(e),h=$v({dom:{tag:"div",classes:["tox-anchorbar"]}}),f=$v({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),p=()=>r.mainUi.get().map((e=>e.outerContainer)).bind(oD.getHeader),m=r.lazyGetInOuterOrDie("anchor bar",h.getOpt),g=r.lazyGetInOuterOrDie("bottom anchor bar",f.getOpt),O=r.lazyGetInOuterOrDie("toolbar",oD.getToolbar),v=r.lazyGetInOuterOrDie("throbber",oD.getThrobber),b=tE({popup:()=>po.fromOption(r.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>po.fromOption(r.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,m,g),y=e=>oD.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:e}),x=()=>{const t=(()=>{const t={attributes:{[Tu]:u?Cu.BottomToTop:Cu.TopToBottom}},n=oD.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:b.popup,onEscape:()=>{e.focus()}}),o=oD.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:b.popup.shared.getSink,providers:b.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:d,lazyToolbar:O,lazyHeader:()=>p().getOrDie("Could not find header element"),...t}),i=oD.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:b.popup.shared.providers,onEscape:()=>{e.focus()},type:d}),r=uv(e),s=lv(e),a=rv(e),l=ev(e),c=y(l),f=r||s||a,m=[c,n];return oD.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(f?[]:["tox-editor-header--empty"]),...t},components:U([a?m:[],r?[i]:s?[o]:[],fv(e)?[]:[h.asSpec()]]),sticky:gv(e),editor:e,sharedBackstage:b.popup.shared})})(),o={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[oD.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),oD.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},i=oD.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:b.popup}),r=oD.parts.viewWrapper({backstage:b.popup}),a=FO(e)&&!n?P.some(Wz(e,b.popup.shared.providers)):P.none(),l=U([u?[]:[t],n?[]:[o],u?[t]:[]]),m=oD.parts.editorContainer({components:U([l,n?[]:[f.asSpec()]])}),g=mv(e),v={role:"application",...qb.isRtl()?{dir:"rtl"}:{},...g?{"aria-hidden":"true"}:{}},x=ql(oD.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(u?["tox-tinymce--toolbar-bottom"]:[]).concat(c),styles:{visibility:"hidden",...g?{opacity:"0",border:"0"}:{}},attributes:v},components:[m,...n?[]:[r,...a.toArray()],i],behaviours:As([Qw((()=>b.popup.shared.providers.checkUiComponentContext("any"))),Jf.config({disableClass:"tox-tinymce--disabled"}),sg.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),w=Ck(x);return s.set(w),{mothership:w,outerContainer:x}},w=t=>{const n=TI((e=>PI(e).getOr(yO(e)))(e)),o=TI((e=>AI(e).getOr(xO(e)))(e));return e.inline||(Rt("div","width",o)&&Pt(t.element,"width",o),Rt("div","height",n)?Pt(t.element,"height",n):Pt(t.element,"height","400px")),n},S=t=>{const{mainUi:n,popupUi:r,uiMotherships:s}=t;le(EO(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:a,menuItems:l,contextToolbars:c,sidebars:u,views:h}=e.ui.registry.getAll(),f=cv(e),m={menuItems:l,menus:vv(e),menubar:NO(e),toolbar:f.getOrThunk((()=>LO(e))),allowToolbarGroups:d===cO.floating,buttons:a,sidebar:u,views:h};var g;g=n.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{oD.focusMenubar(g)})),e.addShortcut("alt+F10","focus toolbar",(()=>{oD.focusToolbar(g)})),e.addCommand("ToggleToolbarDrawer",((e,t)=>{(null==t?void 0:t.skipFocus)?oD.toggleToolbarDrawerWithoutFocusing(g):oD.toggleToolbarDrawer(g)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>oD.isToolbarDrawerToggled(g))),((e,t,n)=>{const o=(e,o)=>{L([t,...n],(t=>{t.broadcastEvent(e,o)}))},i=(e,o)=>{L([t,...n],(t=>{t.broadcastOn([e],o)}))},r=e=>i(uh(),{target:e.target}),s=Bn(),a=iu(s,"touchstart",r),l=iu(s,"touchmove",(e=>o(Lr(),e))),c=iu(s,"touchend",(e=>o(jr(),e))),u=iu(s,"mousedown",r),d=iu(s,"mouseup",(e=>{0===e.raw.button&&i(hh(),{target:e.target})})),h=e=>i(uh(),{target:De.fromDom(e.target)}),f=e=>{0===e.button&&i(hh(),{target:De.fromDom(e.target)})},p=()=>{L(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},m=e=>o(Vr(),su(e)),g=e=>{i(dh(),{}),o(Br(),su(e))},O=ht(De.fromDom(e.getElement())),v=ru(O,"scroll",(n=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const i=_v(e,t.element).map((e=>[e.element,...e.others])).getOr([]);I(i,(e=>Ge(e,n.target)))&&(e.dispatch("ElementScroll",{target:n.target.dom}),o(qr(),n))}}))})),b=()=>i(dh(),{}),y=t=>{t.state&&i(uh(),{target:De.fromDom(e.getContainer())})},x=e=>{i(uh(),{target:De.fromDom(e.relatedTarget.getContainer())})},w=t=>e.dispatch("focusin",t),S=t=>e.dispatch("focusout",t);e.on("PostRender",(()=>{e.on("click",h),e.on("tap",h),e.on("mouseup",f),e.on("mousedown",p),e.on("ScrollWindow",m),e.on("ResizeWindow",g),e.on("ResizeEditor",b),e.on("AfterProgressState",y),e.on("DismissPopups",x),L([t,...n],(e=>{e.element.dom.addEventListener("focusin",w),e.element.dom.addEventListener("focusout",S)}))})),e.on("remove",(()=>{e.off("click",h),e.off("tap",h),e.off("mouseup",f),e.off("mousedown",p),e.off("ScrollWindow",m),e.off("ResizeWindow",g),e.off("ResizeEditor",b),e.off("AfterProgressState",y),e.off("DismissPopups",x),L([t,...n],(e=>{e.element.dom.removeEventListener("focusin",w),e.element.dom.removeEventListener("focusout",S)})),u.unbind(),a.unbind(),l.unbind(),c.unbind(),d.unbind(),v.unbind()})),e.on("detach",(()=>{L([t,...n],Kd),L([t,...n],(e=>e.destroy()))}))})(e,n.mothership,s),i.setup(e,b.popup.shared,p),SR(e,b.popup),UR(e,b.popup.shared.getSink,b.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();L(re(t),(n=>{const o=t[n],i=()=>be(P.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(i())},onSetup:t=>{t.setActive(i());const n=()=>t.setActive(i());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}},context:"any"})}))})(e),HE(e,v,b.popup.shared),lR(e,c,r.sink,{backstage:b.popup}),Lz(e,r.sink);const O={targetNode:e.getElement(),height:w(n.outerContainer)};return o.render(e,t,m,b.popup,O)};return{popups:{backstage:b.popup,getMothership:()=>Uz("popups",l)},dialogs:{backstage:b.dialog,getMothership:()=>Uz("dialogs",a)},renderUI:()=>{const n=x(),o=(()=>{const t=pv(e),n=Ge(vt(),t)&&"grid"===Et(t,"display"),o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c),attributes:{...qb.isRtl()?{dir:"rtl"}:{}}},behaviours:As([Rd.config({useFixed:()=>i.isDocked(p)})])},r={dom:{styles:{width:document.body.clientWidth+"px"}},events:ss([cs(Br(),(e=>{Pt(e.element,"width",document.body.clientWidth+"px")}))])},s=ql(Eo(o,n?r:{})),l=Ck(s);return a.set(l),{sink:s,mothership:l}})(),s=Ov(e)?(()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(c),attributes:{...qb.isRtl()?{dir:"rtl"}:{}}},behaviours:As([Rd.config({useFixed:()=>i.isDocked(p),getBounds:()=>t.getPopupSinkBounds()})])},n=ql(e),o=Ck(n);return l.set(o),{sink:n,mothership:o}})():(e=>(l.set(e.mothership),e))(o);r.dialogUi.set(o),r.popupUi.set(s),r.mainUi.set(n);const u={popupUi:s,dialogUi:o,mainUi:n,uiMotherships:r.getUiMotherships()};return S(u)}}},Fz=y([xi("lazySink"),Ai("dragBlockClass"),Xi("getBounds",Hn),Ni("useTabstopAt",$),Ni("firstTabstop",0),Ni("eventOrder",{}),Ah("modalBehaviours",[sg]),Ya("onExecute"),qa("onEscape")]),qz={sketch:x},Hz=y([lf({name:"draghandle",overrides:(e,t)=>({behaviours:As([Iz.config({mode:"mouse",getTarget:e=>ro(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),sf({schema:[xi("dom")],name:"title"}),sf({factory:qz,schema:[xi("dom")],name:"close"}),sf({factory:qz,schema:[xi("dom")],name:"body"}),lf({factory:qz,schema:[xi("dom")],name:"footer"}),af({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[Ni("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ni("components",[])],name:"blocker"})]),Gz=If({name:"ModalDialog",configFields:Fz(),partFields:Hz(),factory:(e,t,n,o)=>{const i=eo(),r=sl("modal-events"),s={...e.eventOrder,[Zr()]:[r].concat(e.eventOrder["alloy.system.attached"]||[])},a=Tn();return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{i.set(t);const n=e.lazySink(t).getOrDie(),r=o.blocker(),s=n.getSystem().build({...r,components:r.components.concat([Hl(t)]),behaviours:As([xg.config({}),gg("dialog-blocker-events",[gs(mr(),(()=>{YE.isBlocked(t)||sg.focusIn(t)}))])])});Xd(n,s),sg.focusIn(t)},hide:e=>{i.clear(),ot(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{Yd(e)}))}))},getBody:t=>xf(t,e,"body"),getFooter:t=>yf(t,e,"footer"),setIdle:e=>{YE.unblock(e)},setBusy:(e,t)=>{YE.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Eh(e.modalBehaviours,[mg.config({}),sg.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),YE.config({getRoot:i.get}),gg(r,[Os((t=>{const n=xf(t,e,"title").element,o=(e=>e.dom.textContent)(n);a.os.isMacOS()&&f(o)?xt(t.element,"aria-label",o):((e,t)=>{const n=_t(e,"id").fold((()=>{const e=sl("dialog-label");return xt(t,"id",e),e}),x);xt(e,"aria-labelledby",n)})(t.element,n)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),Kz=qo([Gy,Ky].concat(ew)),Jz=ii,eN=[Cx("button"),fx,Bi("align","end",["start","end"]),xx,yx,Di("buttonType",["primary","secondary"]),Vi("context","mode:design")],tN=[...eN,ex],nN=[ki("type",["submit","cancel","custom"]),...tN],oN=[ki("type",["menu"]),dx,px,fx,Pi("items",Kz),...eN],iN=[...eN,ki("type",["togglebutton"]),px,fx,dx,Zi("active",!1)],rN=gi("type",{submit:nN,cancel:nN,custom:nN,menu:oN,togglebutton:iN}),sN=[Gy,ex,ki("level",["info","warn","error","success"]),nx,Ni("url","")],aN=qo(sN),lN=[Gy,ex,yx,Cx("button"),fx,bx,Di("buttonType",["primary","secondary","toolbar"]),xx,Vi("context","mode:design")],cN=qo(lN),uN=[Gy,Ky],dN=uN.concat([mx]),hN=uN.concat([Jy,yx,Vi("context","mode:design")]),fN=qo(hN),pN=ii,mN=dN.concat([wx("auto"),Vi("context","mode:design")]),gN=qo(mN),ON=Jo([ix,ex,nx]),vN=dN.concat([Vi("storageKey","default"),Vi("context","mode:design")]),bN=qo(vN),yN=oi,xN=qo(dN),wN=oi,SN=uN.concat([Vi("tag","textarea"),_i("scriptId"),_i("scriptUrl"),Ii("onFocus"),((e,t)=>Li(e,t,ai))("settings",void 0)]),_N=uN.concat([Vi("tag","textarea"),Ci("init")]),kN=ui((e=>hi("customeditor.old",Fo(_N),e).orThunk((()=>hi("customeditor.new",Fo(SN),e))))),CN=oi,TN=dN.concat([Vi("context","mode:design")]),$N=qo(TN),PN=Ho(Bo),AN=e=>[Gy,Si("columns"),e],QN=[Gy,_i("html"),Bi("presets","presentation",["presentation","document"]),Xi("onInit",O),Zi("stretched",!1)],EN=qo(QN),MN=dN.concat([Zi("border",!1),Zi("sandboxed",!0),Zi("streamContent",!1),Zi("transparent",!0)]),DN=qo(MN),IN=oi,RN=qo(uN.concat([Mi("height")])),zN=qo([_i("url"),Ei("zoom"),Ei("cachedWidth"),Ei("cachedHeight")]),NN=dN.concat([Mi("inputMode"),Mi("placeholder"),Zi("maximized",!1),yx,Vi("context","mode:design")]),LN=qo(NN),jN=oi,VN=e=>[Gy,Jy,e,Bi("align","start",["start","center","end"]),Mi("for")],BN=[ex,ix],ZN=[ex,Pi("items",Oi(0,(()=>XN)))],XN=Go([qo(BN),qo(ZN)]),WN=dN.concat([Pi("items",XN),yx,Vi("context","mode:design")]),UN=qo(WN),YN=oi,FN=dN.concat([$i("items",[ex,ix]),ji("size",1),yx,Vi("context","mode:design")]),qN=qo(FN),HN=oi,GN=dN.concat([Zi("constrain",!0),yx,Vi("context","mode:design")]),KN=qo(GN),JN=qo([_i("width"),_i("height")]),eL=uN.concat([Jy,ji("min",0),ji("max",0)]),tL=qo(eL),nL=ni,oL=[Gy,Pi("header",oi),Pi("cells",Ho(oi))],iL=qo(oL),rL=dN.concat([Mi("placeholder"),Zi("maximized",!1),yx,Vi("context","mode:design")]),sL=qo(rL),aL=oi,lL=[ki("type",["directory","leaf"]),tx,_i("id"),Qi("menu",TE),Mi("customStateIcon"),Mi("customStateIconTooltip")],cL=qo(lL),uL=lL.concat([Pi("children",Oi(0,(()=>ci("type",{directory:dL,leaf:cL}))))]),dL=qo(uL),hL=ci("type",{directory:dL,leaf:cL}),fL=[Gy,Pi("items",hL),Ii("onLeafAction"),Ii("onToggleExpand"),Wi("defaultExpandedIds",[],oi),Mi("defaultSelectedId")],pL=qo(fL),mL=dN.concat([Bi("filetype","file",["image","media","file"]),yx,Mi("picker_text"),Vi("context","mode:design")]),gL=qo(mL),OL=qo([ix,Sx]),vL=e=>vi("items","items",{tag:"required",process:{}},Ho(ui((t=>hi(`Checking item of ${e}`,bL,t).fold((e=>po.error(mi(e))),(e=>po.value(e))))))),bL=Uo((()=>{return ci("type",{alertbanner:aN,bar:qo((e=vL("bar"),[Gy,e])),button:cN,checkbox:fN,colorinput:bN,colorpicker:xN,dropzone:$N,grid:qo(AN(vL("grid"))),iframe:DN,input:LN,listbox:UN,selectbox:qN,sizeinput:KN,slider:tL,textarea:sL,urlinput:gL,customeditor:kN,htmlpanel:EN,imagepreview:RN,collection:gN,label:qo(VN(vL("label"))),table:iL,tree:pL,panel:xL});var e})),yL=[Gy,Ni("classes",[]),Pi("items",bL)],xL=qo(yL),wL=[Cx("tab"),tx,Pi("items",bL)],SL=[Gy,$i("tabs",wL)],_L=qo(SL),kL=tN,CL=rN,TL=qo([_i("title"),wi("body",ci("type",{panel:xL,tabpanel:_L})),Vi("size","normal"),Wi("buttons",[],CL),Ni("initialData",{}),Xi("onAction",O),Xi("onChange",O),Xi("onSubmit",O),Xi("onClose",O),Xi("onCancel",O),Xi("onTabChange",O)]),$L=qo([ki("type",["cancel","custom"]),...kL]),PL=qo([_i("title"),_i("url"),Ei("height"),Ei("width"),Ri("buttons",$L),Xi("onAction",O),Xi("onCancel",O),Xi("onClose",O),Xi("onMessage",O)]),AL=e=>s(e)?[e].concat(Y(me(e),AL)):l(e)?Y(e,AL):[],QL=e=>r(e.type)&&r(e.name),EL={checkbox:pN,colorinput:yN,colorpicker:wN,dropzone:PN,input:jN,iframe:IN,imagepreview:zN,selectbox:HN,sizeinput:JN,slider:nL,listbox:YN,size:JN,textarea:aL,urlinput:OL,customeditor:CN,collection:ON,togglemenuitem:Jz},ML=e=>{const t=(e=>V(AL(e),QL))(e),n=Y(t,(e=>(e=>P.from(EL[e.type]))(e).fold((()=>[]),(t=>[wi(e.name,t)]))));return qo(n)},DL=e=>{var t;return{internalDialog:fi(hi("dialog",TL,e)),dataValidator:ML(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},IL={open:(e,t)=>{const n=DL(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(fi(hi("dialog",PL,t))),redial:e=>DL(e)};var RL=Object.freeze({__proto__:null,events:(e,t)=>{const n=(n,o)=>{e.updateState.each((e=>{const i=e(n,o);t.set(i)})),e.renderComponents.each((i=>{const r=i(o,t.get());(e.reuseDom?lg:ag)(n,r)}))};return ss([cs(Qr(),((t,o)=>{const i=o;if(!i.universal){const o=e.channel;D(i.channels,o)&&n(t,i.data)}})),Os(((t,o)=>{e.initialData.each((e=>{n(t,e)}))}))])}});var zL=Object.freeze({__proto__:null,getState:(e,t,n)=>n}),NL=[xi("channel"),Ai("renderComponents"),Ai("updateState"),Ai("initialData"),Zi("reuseDom",!0)];const LL=Es({fields:NL,name:"reflecting",active:RL,apis:zL,state:Object.freeze({__proto__:null,init:()=>{const e=Gn(P.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(P.none())}}})}),jL=e=>{const t=[],n={};return ae(e,((e,o)=>{e.fold((()=>{t.push(o)}),(e=>{n[o]=e}))})),t.length>0?po.error(t):po.value(n)},VL=(e,t,n,o)=>{const i=$v(GT.sketch((i=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:N(e.items,(e=>jA(i,e,t,n,o)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:As([sg.config({mode:"acyclic",useTabstopAt:_($$)}),a$(i),u$(i,{postprocess:e=>jL(e).fold((e=>(console.error(e),{})),x)}),gg("dialog-body-panel",[cs(mr(),((e,t)=>{e.getSystem().broadcastOn([D$],{newFocus:P.some(t.event.target)})}))])])}},BL=Df({name:"TabButton",configFields:[Ni("uid",void 0),xi("value"),vi("dom","dom",Ro((()=>({attributes:{role:"tab",id:sl("aria"),"aria-selected":"false"}}))),ei()),Ai("action"),Ni("domModification",{}),Ah("tabButtonBehaviours",[xg,sg,Ph]),xi("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:Eg(e.action),behaviours:Eh(e.tabButtonBehaviours,[xg.config({}),sg.config({mode:"execution",useSpace:!0,useEnter:!0}),Ph.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),ZL=y([xi("tabs"),xi("dom"),Ni("clickToDismiss",!1),Ah("tabbarBehaviours",[up,sg]),Xa(["tabClass","selectedClass"])]),XL=cf({factory:BL,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{up.dehighlight(e,t),ts(e,Gr(),{tabbar:e,button:t})},n=(e,t)=>{up.highlight(e,t),ts(e,Hr(),{tabbar:e,button:t})};return{action:o=>{const i=o.getSystem().getByUid(e.uid).getOrDie(),r=up.isHighlighted(i,o);(r&&e.clickToDismiss?t:r?O:n)(i,o)},domModification:{classes:[e.markers.tabClass]}}}}),WL=y([XL]),UL=If({name:"Tabbar",configFields:ZL(),partFields:WL(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Eh(e.tabbarBehaviours,[up.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{xt(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{xt(t.element,"aria-selected","false")}}),sg.config({mode:"flow",getInitial:e=>up.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),YL=Df({name:"Tabview",configFields:[Ah("tabviewBehaviours",[mg])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:Eh(e.tabviewBehaviours,[mg.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),FL=y([Ni("selectFirst",!0),Ua("onChangeTab"),Ua("onDismissTab"),Ni("tabs",[]),Ah("tabSectionBehaviours",[])]),qL=sf({factory:UL,schema:[xi("dom"),Ti("markers",[xi("tabClass"),xi("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),HL=sf({factory:YL,name:"tabview"}),GL=y([qL,HL]),KL=If({name:"TabSection",configFields:FL(),partFields:GL(),factory:(e,t,n,o)=>{const i=(t,n)=>{yf(t,e,"tabbar").each((e=>{n(e).each(ns)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Qh(e.tabSectionBehaviours),events:ss(U([e.selectFirst?[Os(((e,t)=>{i(e,up.getFirst)}))]:[],[cs(Hr(),((t,n)=>{(t=>{const n=Ph.getValue(t);yf(t,e,"tabview").each((o=>{const i=X(e.tabs,(e=>e.value===n));i.each((n=>{const i=n.view();_t(t.element,"id").each((e=>{xt(o.element,"aria-labelledby",e)})),mg.set(o,i),e.onChangeTab(o,t,i)}))}))})(n.event.button)})),cs(Gr(),((t,n)=>{const o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:t=>yf(t,e,"tabview").map((e=>mg.contents(e))).getOr([]),showTab:(e,t)=>{i(e,(e=>{const n=up.getCandidates(e);return X(n,(e=>Ph.getValue(e)===t)).filter((t=>!up.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),JL=(e,t)=>{Pt(e,"height",t+"px"),Pt(e,"flex-basis",t+"px")},ej=(e,t,n)=>{ro(e,'[role="dialog"]').each((e=>{lo(e,'[role="tablist"]').each((o=>{n.get().map((n=>(Pt(t,"height","0"),Pt(t,"flex-basis","0"),Math.min(n,((e,t,n)=>{const o=tt(e).dom,i=ro(e,".tox-dialog-wrap").getOr(e);let r;r="fixed"===Et(i,"position")?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);const s=Vt(t),a=t.dom.offsetLeft>=n.dom.offsetLeft+qt(n)?Math.max(Vt(n),s):s,l=parseInt(Et(e,"margin-top"),10)||0,c=parseInt(Et(e,"margin-bottom"),10)||0;return r-(Vt(e)+l+c-a)})(e,t,o))))).each((e=>{JL(t,e)}))}))}))},tj=e=>lo(e,'[role="tabpanel"]'),nj=e=>{const t=eo(),n=[Os((n=>{const o=n.element;tj(o).each((i=>{Pt(i,"visibility","hidden"),n.getSystem().getByDom(i).toOptional().each((n=>{const o=((e,t,n)=>N(e,((o,i)=>{mg.set(n,e[i].view());const r=t.dom.getBoundingClientRect();return mg.set(n,[]),r.height})))(e,i,n),r=(e=>te(J(e,((e,t)=>e>t?-1:e<t?1:0))))(o);r.fold(t.clear,t.set)})),ej(o,i,t),zt(i,"visibility"),((e,t)=>{te(e).each((e=>KL.showTab(t,e.value)))})(e,n),requestAnimationFrame((()=>{ej(o,i,t)}))}))})),cs(Br(),(e=>{const n=e.element;tj(n).each((e=>{ej(n,e,t)}))})),cs(Xk,((e,n)=>{const o=e.element;tj(o).each((e=>{const n=Vc(ht(e));Pt(e,"visibility","hidden");const i=Dt(e,"height").map((e=>parseInt(e,10)));zt(e,"height"),zt(e,"flex-basis");const r=e.dom.getBoundingClientRect().height;i.forall((e=>r>e))?(t.set(r),ej(o,e,t)):i.each((t=>{JL(e,t)})),zt(e,"visibility"),n.each(Nc)}))}))];return{extraEvents:n,selectFirst:!1}},oj="send-data-to-section",ij="send-data-to-view",rj=(e,t,n,o)=>{const i=Gn({}),r=e=>{const t=Ph.getValue(e),n=jL(t).getOr({}),o=i.get(),r=Eo(o,n);i.set(r)},s=e=>{const t=i.get();Ph.setValue(e,t)},a=Gn(null),l=N(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Wl(n.shared.providers.translate(e.title))],view:()=>[GT.sketch((i=>({dom:{tag:"div",classes:["tox-form"]},components:N(e.items,(e=>jA(i,e,t,n,o))),formBehaviours:As([sg.config({mode:"acyclic",useTabstopAt:_($$)}),gg("TabView.form.events",[Os(s),vs(r)]),Rc.config({channels:Hi([{key:oj,value:{onReceive:r}},{key:ij,value:{onReceive:s}}])})])})))]}))),c=nj(l);return KL.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const o=Ph.getValue(t);ts(e,Zk,{name:o,oldName:a.get()}),a.set(o)},tabs:l,components:[KL.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[UL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:As([Qv.config({})])}),KL.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:c.selectFirst,tabSectionBehaviours:As([gg("tabpanel",c.extraEvents),sg.config({mode:"acyclic"}),Lf.config({find:e=>te(KL.getViewItems(e))}),d$(P.none(),(e=>(e.getSystem().broadcastOn([oj],{}),i.get())),((e,t)=>{i.set(t),e.getSystem().broadcastOn([ij],{})}))])})},sj=(e,t,n,o,i,r)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...i?{"aria-live":"polite"}:{}}},components:[],behaviours:As([l$(0),LL.config({channel:`${Q$}-${t}`,updateState:(e,t)=>P.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[rj(t,e.initialData,o,r)]:[VL(t,e.initialData,o,r)]},initialData:e})])}),aj=pO.deviceType.isTouch(),lj=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),cj=(e,t)=>Gz.parts.close(Cv.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:As([Qv.config({})])})),uj=()=>Gz.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),dj=(e,t)=>Gz.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Tv(`<p>${Fb(t.translate(e))}</p>`)}]}]}),hj=e=>Gz.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),fj=(e,t)=>[kk.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),kk.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],pj=e=>{const t="tox-dialog",n=t+"-wrap",o=n+"__backdrop",i=t+"__disable-scroll";return Gz.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),P.some(!0)),useTabstopAt:e=>!$$(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Tv(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:aj?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:As([xg.config({}),gg("dialog-events",e.dialogEvents.concat([gs(mr(),((e,t)=>{YE.isBlocked(e)||sg.focusIn(e)})),cs(Yr(),((e,t)=>{e.getSystem().broadcastOn([D$],{newFocus:t.event.newFocus})}))])),gg("scroll-lock",[Os((()=>{Vs(vt(),i)})),vs((()=>{Zs(vt(),i)}))]),...e.extraBehaviours]),eventOrder:{[Er()]:["dialog-events"],[Zr()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Xr()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},mj=e=>Cv.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:As([Qv.config({}),Bv.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[iy("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{es(e,Nk)}}),gj=(e,t,n,o)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:As([LL.config({channel:`${A$}-${t}`,initialData:e,renderComponents:e=>[Wl(o.translate(e.title))]})])}),Oj=()=>({dom:Tv('<div class="tox-dialog__draghandle"></div>')}),vj=(e,t,n)=>((e,t,n)=>{const o=Gz.parts.title(gj(e,t,P.none(),n)),i=Gz.parts.draghandle(Oj()),r=Gz.parts.close(mj(n)),s=[o].concat(e.draggable?[i]:[]).concat([r]);return kk.sketch({dom:Tv('<div class="tox-dialog__header"></div>'),components:s})})({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),bj=(e,t,n,o)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${o.getOr(0)}px`,position:"absolute"}},behaviours:t,components:[{dom:Tv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),yj=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{const o=lo(e().element,".tox-dialog__header").map((e=>Vt(e)));Gz.setBusy(e(),((e,i)=>bj(n.message,i,t,o)))},onUnblock:()=>{Gz.setIdle(e())}}),xj="tox-dialog--fullscreen",wj="tox-dialog--width-lg",Sj="tox-dialog--width-md",_j=e=>{switch(e){case"large":return P.some(wj);case"medium":return P.some(Sj);default:return P.none()}},kj=(e,t)=>{const n=De.fromDom(t.element.dom);Ws(n,xj)||(Ys(n,[wj,Sj]),_j(e).each((e=>Vs(n,e))))},Cj=(e,t)=>{const n=De.fromDom(e.element.dom),o=Fs(n),i=X(o,(e=>e===wj||e===Sj)).or(_j(t));((e,t)=>{L(t,(t=>{Xs(e,t)}))})(n,[xj,...i.toArray()])},Tj=(e,t,n)=>ql(pj({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[f$({}),...e.extraBehaviours],onEscape:e=>{es(e,Nk)},dialogEvents:t,eventOrder:{[Qr()]:[LL.name(),Rc.name()],[Zr()]:["scroll-lock",LL.name(),"messages","dialog-events","alloy.base.behaviour"],[Xr()]:["alloy.base.behaviour","dialog-events","messages",LL.name(),"scroll-lock"]}})),$j=(e,t={})=>N(e,(e=>"menu"===e.type?(e=>{const n=N(e.items,(e=>{const n=ge(t,e.name).getOr(Gn(!1));return{...e,storage:n}}));return{...e,items:n}})(e):e)),Pj=e=>Z(e,((e,t)=>{if("menu"===t.type){return Z(t.items,((e,t)=>(e[t.name]=t.storage,e)),e)}return e}),{}),Aj=(e,t)=>[fs(mr(),T$),e(zk,((e,n,o,i)=>{jc(i.element)&&Vc(ht(i.element)).each(Lc),t.onClose(),n.onClose()})),e(Nk,((e,t,n,o)=>{t.onCancel(e),es(o,zk)})),cs(Bk,((e,n)=>t.onUnblock())),cs(Vk,((e,n)=>t.onBlock(n.event)))],Qj=(e,t,n)=>{const o=(t,n)=>cs(t,((t,o)=>{i(t,((i,r)=>{n(e(),i,o.event,t)}))})),i=(e,t)=>{LL.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...Aj(o,t),o(jk,((e,t)=>t.onSubmit(e))),o(Ik,((e,t,n)=>{t.onChange(e,{name:n.name})})),o(Lk,((e,t,o,i)=>{const r=()=>i.getSystem().isConnected()?sg.focusIn(i):void 0,s=e=>kt(e,"disabled")||_t(e,"aria-disabled").exists((e=>"true"===e)),a=ht(i.element),l=Vc(a);t.onAction(e,{name:o.name,value:o.value}),Vc(a).fold(r,(e=>{s(e)||l.exists((t=>Ke(e,t)&&s(t)))?r():n().toOptional().filter((t=>!Ke(t.element,e))).each(r)}))})),o(Zk,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),vs((t=>{const n=e();Ph.setValue(t,n.getData())}))]},Ej=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),o=j(n,(e=>"start"===e.align)),i=(e,t)=>kk.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:N(t,(e=>e.memento.asSpec()))});return[i("start",o.pass),i("end",o.fail)]},Mj=(e,t,n)=>({dom:Tv('<div class="tox-dialog__footer"></div>'),components:[],behaviours:As([LL.config({channel:`${E$}-${t}`,initialData:e,updateState:(e,t)=>{const o=N(t.buttons,(e=>{const t=$v(((e,t)=>wA(e,e.type,t))(e,n));return{name:e.name,align:e.align,memento:t}}));return P.some({lookupByName:t=>((e,t,n)=>X(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))))(e,o,t),footerButtons:o})},renderComponents:Ej})])}),Dj=(e,t,n)=>Gz.parts.footer(Mj(e,t,n)),Ij=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const n=Lf.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return GT.getField(n,t).orThunk((()=>{const n=e.getFooter().bind((e=>LL.getState(e).get()));return n.bind((e=>e.lookupByName(t)))}))}return P.none()},Rj=(e,t,n)=>{const o=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},i={getData:()=>{const t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t;return{...Ph.getValue(o),...le(n,(e=>e.get()))}},setData:t=>{o((o=>{const r=i.getData(),s=Eo(r,t),a=((e,t)=>{const n=e.getRoot();return LL.getState(n).get().map((e=>fi(hi("data",e.dataValidator,t)))).getOr(t)})(e,s),l=e.getFormWrapper();Ph.setValue(l,a),ae(n,((e,t)=>{Oe(s,t)&&e.set(s[t])}))}))},setEnabled:(t,n)=>{Ij(e,t).each(n?Jf.enable:Jf.disable)},focus:t=>{Ij(e,t).each(xg.focus)},block:e=>{if(!r(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((t=>{ts(t,Vk,{message:e})}))},unblock:()=>{o((e=>{es(e,Bk)}))},showTab:t=>{o((n=>{const o=e.getBody();LL.getState(o).get().exists((e=>e.isTabPanel()))&&Lf.getCurrent(o).each((e=>{KL.showTab(e,t)}))}))},redial:r=>{o((o=>{const s=e.getId(),a=t(r),l=$j(a.internalDialog.buttons,n);o.getSystem().broadcastOn([`${P$}-${s}`],a),o.getSystem().broadcastOn([`${A$}-${s}`],a.internalDialog),o.getSystem().broadcastOn([`${Q$}-${s}`],a.internalDialog),o.getSystem().broadcastOn([`${E$}-${s}`],{...a.internalDialog,buttons:l}),i.setData(a.initialData)}))},close:()=>{o((e=>{es(e,zk)}))},toggleFullscreen:e.toggleFullscreen};return i},zj=(e,t,n)=>{const o=sl("dialog"),i=e.internalDialog,r=vj(i.title,o,n),s=Gn(i.size),a=_j(s.get()).toArray(),l=((e,t,n,o)=>{const i=sj(e,t,P.none(),n,!1,o);return Gz.parts.body(i)})({body:i.body,initialData:i.initialData},o,n,(e=>Ij(m,e))),c=$j(i.buttons),u=Pj(c),d=Se(0!==c.length,Dj({buttons:c},o,n)),h=Qj((()=>g),yj((()=>p),n.shared.providers,t),n.shared.getSink),f={id:o,header:r,body:l,footer:d,extraClasses:a,extraBehaviours:[LL.config({channel:`${P$}-${o}`,updateState:(e,t)=>(s.set(t.internalDialog.size),kj(t.internalDialog.size,e),P.some(t)),initialData:e})],extraStyles:{}},p=Tj(f,h,n),m={getId:y(o),getRoot:y(p),getBody:()=>Gz.getBody(p),getFooter:()=>Gz.getFooter(p),getFormWrapper:()=>{const e=Gz.getBody(p);return Lf.getCurrent(e).getOr(e)},toggleFullscreen:()=>{Cj(p,s.get())}},g=Rj(m,t.redial,u);return{dialog:p,instanceApi:g}},Nj=(e,t,n,o=!1,i)=>{const r=sl("dialog"),s=sl("dialog-label"),a=sl("dialog-content"),l=e.internalDialog,c=Gn(l.size),u=_j(c.get()).toArray(),d=$v(((e,t,n,o)=>kk.sketch({dom:Tv('<div class="tox-dialog__header"></div>'),components:[gj(e,t,P.some(n),o),Oj(),mj(o)],containerBehaviours:As([Iz.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>co(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(e,t)=>{e.getSystem().broadcastOn([uh()],{target:t})}})])}))({title:l.title,draggable:!0},r,s,n.shared.providers)),h=$v(((e,t,n,o,i,r)=>sj(e,t,P.some(n),o,i,r))({body:l.body,initialData:l.initialData},r,a,n,o,(e=>Ij(b,e)))),f=$j(l.buttons),p=Pj(f),m=Se(0!==f.length,$v(((e,t,n)=>Mj(e,t,n))({buttons:f},r,n))),g=Qj((()=>x),{onBlock:e=>{YE.block(v,((t,o)=>{const i=d.getOpt(v).map((e=>Vt(e.element)));return bj(e.message,o,n.shared.providers,i)}))},onUnblock:()=>{YE.unblock(v)},onClose:()=>t.closeWindow()},n.shared.getSink),O=Tn().os,v=ql({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...u],attributes:{role:"dialog",...O.isMacOS()?{"aria-label":l.title}:{"aria-labelledby":s}}},eventOrder:{[Qr()]:[LL.name(),Rc.name()],[Er()]:["execute-on-form"],[Zr()]:["reflecting","execute-on-form"]},behaviours:As([sg.config({mode:"cyclic",onEscape:e=>(es(e,zk),P.some(!0)),useTabstopAt:e=>!$$(e)&&("button"!==je(e)||"disabled"!==St(e,"disabled")),firstTabstop:1}),LL.config({channel:`${P$}-${r}`,updateState:(e,t)=>(c.set(t.internalDialog.size),kj(t.internalDialog.size,e),i(),P.some(t)),initialData:e}),xg.config({}),gg("execute-on-form",g.concat([gs(mr(),((e,t)=>{sg.focusIn(e)})),cs(Yr(),((e,t)=>{e.getSystem().broadcastOn([D$],{newFocus:t.event.newFocus})}))])),YE.config({getRoot:()=>P.some(v)}),mg.config({}),f$({})]),components:[d.asSpec(),h.asSpec(),...m.map((e=>e.asSpec())).toArray()]}),b={getId:y(r),getRoot:y(v),getFooter:()=>m.map((e=>e.get(v))),getBody:()=>h.get(v),getFormWrapper:()=>{const e=h.get(v);return Lf.getCurrent(e).getOr(e)},toggleFullscreen:()=>{Cj(v,c.get())}},x=Rj(b,t.redial,p);return{dialog:v,instanceApi:x}};var Lj=tinymce.util.Tools.resolve("tinymce.util.URI");const jj=["insertContent","setContent","execCommand","close","block","unblock"],Vj=e=>s(e)&&-1!==jj.indexOf(e.mceAction),Bj=(e,t,n,o)=>{const i=sl("dialog"),a=vj(e.title,i,o),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[k$(P.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:As([Qv.config({}),xg.config({})])})]}],behaviours:As([sg.config({mode:"acyclic",useTabstopAt:_($$)})])};return Gz.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?P.none():P.some(Dj({buttons:e},i,o)))),d=((e,t)=>{const n=(t,n)=>cs(t,((t,i)=>{o(t,((o,r)=>{n(e(),o,i.event,t)}))})),o=(e,t)=>{LL.getState(e).get().each((n=>{t(n,e)}))};return[...Aj(n,t),n(Lk,((e,t,n)=>{t.onAction(e,{name:n.name})}))]})((()=>y),yj((()=>b),o.shared.providers,t)),h={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},p=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],m=new Lj(e.url,{base_uri:new Lj(window.location.href)}),g=`${m.protocol}://${m.host}${m.port?":"+m.port:""}`,O=Jn(),v=[LL.config({channel:`${P$}-${i}`,updateState:(e,t)=>P.some(t),initialData:e}),gg("messages",[Os((()=>{const t=iu(De.fromDom(window),"message",(t=>{if(m.isSameOrigin(new Lj(t.raw.origin))){const o=t.raw.data;Vj(o)?((e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const o=!!u(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}})(n,y,o):(e=>!Vj(e)&&s(e)&&Oe(e,"mceAction"))(o)&&e.onMessage(y,o)}}));O.set(t)})),vs(O.clear)]),Rc.config({channels:{[M$]:{onReceive:(e,t)=>{lo(e.element,"iframe").each((e=>{const n=e.dom.contentWindow;f(n)&&n.postMessage(t,g)}))}}}})],b=Tj({id:i,header:a,body:l,footer:c,extraClasses:p,extraBehaviours:v,extraStyles:h},d,o),y=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!r(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{ts(t,Vk,{message:e})}))},unblock:()=>{t((e=>{es(e,Bk)}))},close:()=>{t((e=>{es(e,zk)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([M$],e)}))}}})(b);return{dialog:b,instanceApi:y}},Zj=(e,t)=>fi(hi("data",t,e)),Xj=e=>hk(e,".tox-alert-dialog")||hk(e,".tox-confirm-dialog"),Wj=(e,t,n)=>t&&n?[]:[el.config({contextual:{lazyContext:()=>P.some(Yn(De.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>_v(e,t.element).map((e=>({bounds:kv(e),optScrollEnv:P.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Ut(e.element).top})}))).getOrThunk((()=>({bounds:Hn(),optScrollEnv:P.none()})))})],Uj=e=>{const t=e.editor,n=gv(t),o=(e=>{const t=e.shared;return{open:(n,o)=>{const i=()=>{Gz.hide(l),o()},r=$v(wA({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",e)),s=uj(),a=cj(i,t.providers),l=ql(pj({lazySink:()=>t.getSink(),header:lj(s,a),body:dj(n,t.providers),footer:P.some(hj(fj([],[r.asSpec()]))),onEscape:i,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[cs(Nk,i)],eventOrder:{}}));Gz.show(l);const c=r.get(l);xg.focus(c)}}})(e.backstages.dialog),i=(e=>{const t=e.shared;return{open:(n,o)=>{const i=e=>{Gz.hide(c),o(e)},r=$v(wA({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",e)),s=wA({context:"any",name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",e),a=uj(),l=cj((()=>i(!1)),t.providers),c=ql(pj({lazySink:()=>t.getSink(),header:lj(a,l),body:dj(n,t.providers),footer:P.some(hj(fj([],[s,r.asSpec()]))),onEscape:()=>i(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[cs(Nk,(()=>i(!1))),cs(jk,(()=>i(!0)))],eventOrder:{}}));Gz.show(c);const u=r.get(c);xg.focus(u)}}})(e.backstages.dialog),r=(n,o)=>IL.openUrl((n=>{const i=Bj(n,{closeWindow:()=>{Gz.hide(i.dialog),o(i.instanceApi)}},t,e.backstages.dialog);return Gz.show(i.dialog),i.instanceApi}),n),s=(t,n)=>IL.open(((t,o,i)=>{const r=o,s=zj({dataValidator:i,initialData:r,internalDialog:t},{redial:IL.redial,closeWindow:()=>{Gz.hide(s.dialog),n(s.instanceApi)}},e.backstages.dialog);return Gz.show(s.dialog),s.instanceApi.setData(r),s.instanceApi}),t),a=(o,i,r,s)=>IL.open(((o,a,l)=>{const c=Zj(a,l),u=eo(),d=e.backstages.popup.shared.header.isPositionedAtTop(),h=()=>u.on((e=>{lO.reposition(e),n&&d||el.refresh(e)})),f=Nj({dataValidator:l,initialData:c,internalDialog:o},{redial:IL.redial,closeWindow:()=>{u.on(lO.hide),t.off("ResizeEditor",h),u.clear(),r(f.instanceApi)}},e.backstages.popup,s.ariaAttrs,h),p=ql(lO.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:s.persistent?{event:"doNotDismissYet"}:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:As([gg("window-manager-inline-events",[cs(Wr(),((e,t)=>{es(f.dialog,Nk)}))]),...Wj(t,n,d)]),isExtraPart:(e,t)=>Xj(t)}));u.set(p);return lO.showWithinBounds(p,Hl(f.dialog),{anchor:i},(()=>{const e=t.inline?vt():De.fromDom(t.getContainer()),n=Yn(e);return P.some(n)})),n&&d||(el.refresh(p),t.on("ResizeEditor",h)),f.instanceApi.setData(c),sg.focusIn(f.dialog),f.instanceApi}),o),l=(n,o,i,r)=>IL.open(((n,s,a)=>{const l=Zj(s,a),c=eo(),u=e.backstages.popup.shared.header.isPositionedAtTop(),d=()=>c.on((e=>{lO.reposition(e),el.refresh(e)})),h=Nj({dataValidator:a,initialData:l,internalDialog:n},{redial:IL.redial,closeWindow:()=>{c.on(lO.hide),t.off("ResizeEditor ScrollWindow ElementScroll",d),c.clear(),i(h.instanceApi)}},e.backstages.popup,r.ariaAttrs,d),f=ql(lO.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:r.persistent?{event:"doNotDismissYet"}:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:As([gg("window-manager-inline-events",[cs(Wr(),((e,t)=>{es(h.dialog,Nk)}))]),el.config({contextual:{lazyContext:()=>P.some(Yn(De.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:e=>_v(t,e.element).map((e=>({bounds:kv(e),optScrollEnv:P.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Ut(e.element).top})}))).getOrThunk((()=>({bounds:Hn(),optScrollEnv:P.none()})))})]),isExtraPart:(e,t)=>Xj(t)}));c.set(f);return lO.showWithinBounds(f,Hl(h.dialog),{anchor:o},(()=>e.backstages.popup.shared.getSink().toOptional().bind((e=>{const n=_v(t,e.element).map((e=>kv(e))).getOr(Hn()),o=Yn(De.fromDom(t.getContentAreaContainer())),i=qn(o,n);return P.some(Un(i.x,i.y,i.width,i.height-15))})))),el.refresh(f),t.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",d),h.instanceApi.setData(l),sg.focusIn(h.dialog),h.instanceApi}),n);return{open:(t,n,o)=>{if(!d(n)){if("toolbar"===n.inline)return a(t,e.backstages.popup.shared.anchors.inlineDialog(),o,n);if("bottom"===n.inline)return l(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),o,n);if("cursor"===n.inline)return a(t,e.backstages.popup.shared.anchors.cursor(),o,n)}return s(t,o)},openUrl:(e,t)=>r(e,t),alert:(e,t)=>{o.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{i.open(e,t)}}},Yj=e=>{OO(e),(e=>{const t=e.options.register,n=e=>{return g(e,r)?{value:(t=e,ZS(t.map(((e,t)=>t%2==0?"#"+jS(e).value:e)))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var t},o=e=>m(e)&&e>0?{value:e,valid:!0}:{valid:!1,message:"Must be a positive number."};t("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_raw",{processor:e=>g(e,r)?{value:ZS(e),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),t("color_map_background",{processor:n}),t("color_map_foreground",{processor:n}),t("color_cols",{processor:o,default:YS(e)}),t("color_cols_foreground",{processor:o,default:FS(e,VS)}),t("color_cols_background",{processor:o,default:FS(e,BS)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:WS}),t("color_default_background",{processor:"string",default:WS})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:r(e)||g(e,r)?{value:_R(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)};uo.add("silver",(e=>{Yj(e);let t=()=>Hn();const{dialogs:n,popups:o,renderUI:i}=Yz(e,{getPopupSinkBounds:()=>t()});dk(e,o.backstage.shared);const r=Uj({editor:e,backstages:{popup:o.backstage,dialog:n.backstage}}),s=eo();return{renderUI:()=>{const n=i();return _v(e,o.getMothership().element).each((e=>{t=()=>kv(e)})),n},getWindowManagerImpl:y(r),getNotificationManagerImpl:()=>ay(e,{backstage:o.backstage},o.getMothership(),s),getPromotionElement:()=>lo(De.fromDom(e.getContainer()),".tox-promotion").map((e=>e.dom)).getOrNull()}}))}()},5072:(e,t,n)=>{"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],i=0;i<e.length;i++){var r=e[i],l=t.base?r[0]+t.base:r[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),h={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:u,updater:g(h,t),references:1}),o.push(u)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function f(e,t,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,m=0;function g(e,t){var n,o,i;if(t.singleton){var r=m++;n=p||(p=c(t)),o=h.bind(null,n,r,!1),i=h.bind(null,n,r,!0)}else n=c(t),o=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var i=a(n[o]);s[i].references--}for(var r=l(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=r}}}},5199:e=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return{eq:e}},o=n((function(e,t){return e===t})),i=function(e){return n((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,i=0;i<o;i++)if(!e.eq(t[i],n[i]))return!1;return!0}))},r=function(e,t){return function(e,t){return n((function(n,o){return e.eq(t(n),t(o))}))}(i(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)}))},s=function(e){return n((function(t,n){var i=Object.keys(t),s=Object.keys(n);if(!r(o).eq(i,s))return!1;for(var a=i.length,l=0;l<a;l++){var c=i[l];if(!e.eq(t[c],n[c]))return!1}return!0}))},a=n((function(e,n){if(e===n)return!0;var o=t(e);return o===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(o)?e===n:"array"===o?i(a).eq(e,n):"object"===o&&s(a).eq(e,n))}));const l=Object.getPrototypeOf,c=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},u=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&c(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,d=e=>t=>typeof t===e,h=e=>t=>e===t,f=(e,t)=>m(e)&&c(e,t,((e,t)=>l(e)===t)),p=u("string"),m=u("object"),g=e=>f(e,Object),O=u("array"),v=h(null),b=d("boolean"),y=h(void 0),x=e=>null==e,w=e=>!x(e),S=d("function"),_=d("number"),k=(e,t)=>{if(O(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},C=()=>{},T=(e,t)=>(...n)=>e(t.apply(null,n)),$=(e,t)=>n=>e(t(n)),P=e=>()=>e,A=e=>e,Q=(e,t)=>e===t;function E(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const M=e=>t=>!e(t),D=e=>()=>{throw new Error(e)},I=e=>e(),R=e=>{e()},z=P(!1),N=P(!0);class L{constructor(e,t){this.tag=e,this.value=t}static some(e){return new L(!0,e)}static none(){return L.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?L.some(e(this.value)):L.none()}bind(e){return this.tag?e(this.value):L.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:L.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return w(e)?L.some(e):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const j=Array.prototype.slice,V=Array.prototype.indexOf,B=Array.prototype.push,Z=(e,t)=>V.call(e,t),X=(e,t)=>Z(e,t)>-1,W=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},U=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},Y=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},F=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},q=(e,t)=>{const n=[],o=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];(t(r,i)?n:o).push(r)}return{pass:n,fail:o}},H=(e,t)=>{const n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];t(i,o)&&n.push(i)}return n},G=(e,t,n)=>(F(e,((e,o)=>{n=t(n,e,o)})),n),K=(e,t,n)=>(Y(e,((e,o)=>{n=t(n,e,o)})),n),J=(e,t,n)=>{for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t(i,o))return L.some(i);if(n(i,o))break}return L.none()},ee=(e,t)=>J(e,t,z),te=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return L.some(n)}return L.none()},ne=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!O(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);B.apply(t,e[n])}return t},oe=(e,t)=>ne(U(e,t)),ie=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},re=e=>{const t=j.call(e,0);return t.reverse(),t},se=(e,t)=>H(e,(e=>!X(t,e))),ae=(e,t)=>{const n={};for(let o=0,i=e.length;o<i;o++){const i=e[o];n[String(i)]=t(i,o)}return n},le=(e,t)=>{const n=j.call(e,0);return n.sort(t),n},ce=(e,t)=>t>=0&&t<e.length?L.some(e[t]):L.none(),ue=e=>ce(e,0),de=e=>ce(e,e.length-1),he=S(Array.from)?Array.from:e=>j.call(e),fe=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return L.none()},pe=(e,t)=>{const n=[],o=S(t)?e=>W(n,(n=>t(n,e))):e=>X(n,e);for(let t=0,i=e.length;t<i;t++){const i=e[t];o(i)||n.push(i)}return n},me=Object.keys,ge=Object.hasOwnProperty,Oe=(e,t)=>{const n=me(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}},ve=(e,t)=>be(e,((e,n)=>({k:n,v:t(e,n)}))),be=(e,t)=>{const n={};return Oe(e,((e,o)=>{const i=t(e,o);n[i.k]=i.v})),n},ye=e=>(t,n)=>{e[n]=t},xe=(e,t,n,o)=>{Oe(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))},we=(e,t)=>{const n={};return xe(e,t,ye(n),C),n},Se=(e,t)=>{const n=[];return Oe(e,((e,o)=>{n.push(t(e,o))})),n},_e=e=>Se(e,A),ke=(e,t)=>Ce(e,t)?L.from(e[t]):L.none(),Ce=(e,t)=>ge.call(e,t),Te=(e,t)=>Ce(e,t)&&void 0!==e[t]&&null!==e[t],$e=e=>{const t={};return Y(e,(e=>{t[e]={}})),me(t)},Pe=e=>void 0!==e.length,Ae=Array.isArray,Qe=(e,t,n)=>{if(!e)return!1;if(n=n||e,Pe(e)){for(let o=0,i=e.length;o<i;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(const o in e)if(Ce(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},Ee=(e,t)=>{const n=[];return Qe(e,((o,i)=>{n.push(t(o,i,e))})),n},Me=(e,t)=>{const n=[];return Qe(e,((o,i)=>{t&&!t(o,i,e)||n.push(o)})),n},De=(e,t,n,o)=>{let i=y(n)?e[0]:n;for(let n=0;n<e.length;n++)i=t.call(o,i,e[n],n);return i},Ie=(e,t,n)=>{for(let o=0,i=e.length;o<i;o++)if(t.call(n,e[o],o,e))return o;return-1},Re=e=>e[e.length-1],ze=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Ne=()=>Le(0,0),Le=(e,t)=>({major:e,minor:t}),je={nu:Le,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Ne():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Le(o(1),o(2))})(e,n)},unknown:Ne},Ve=(e,t)=>{const n=String(t).toLowerCase();return ee(e,(e=>e.search(n)))},Be=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Ze=(e,t)=>We(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Xe=(e,t,n=0,o)=>{const i=e.indexOf(t,n);return-1!==i&&(!!y(o)||i+t.length<=o)},We=(e,t)=>Be(e,t,0),Ue=(e,t)=>Be(e,t,e.length-t.length),Ye=e=>t=>t.replace(e,""),Fe=Ye(/^\s+|\s+$/g),qe=Ye(/^\s+/g),He=Ye(/\s+$/g),Ge=e=>e.length>0,Ke=e=>!Ge(e),Je=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?L.none():L.some(n)},et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,tt=e=>t=>Xe(t,e),nt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Xe(e,"edge/")&&Xe(e,"chrome")&&Xe(e,"safari")&&Xe(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,et],search:e=>Xe(e,"chrome")&&!Xe(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Xe(e,"msie")||Xe(e,"trident")},{name:"Opera",versionRegexes:[et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tt("firefox")},{name:"Safari",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Xe(e,"safari")||Xe(e,"mobile/"))&&Xe(e,"applewebkit")}],ot=[{name:"Windows",search:tt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Xe(e,"iphone")||Xe(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:tt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tt("linux"),versionRegexes:[]},{name:"Solaris",search:tt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:tt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],it={browsers:P(nt),oses:P(ot)},rt="Edge",st="Chromium",at="Opera",lt="Firefox",ct="Safari",ut=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(rt),isChromium:o(st),isIE:o("IE"),isOpera:o(at),isFirefox:o(lt),isSafari:o(ct)}},dt={unknown:()=>ut({current:void 0,version:je.unknown()}),nu:ut,edge:P(rt),chromium:P(st),ie:P("IE"),opera:P(at),firefox:P(lt),safari:P(ct)},ht="Windows",ft="Android",pt="Linux",mt="macOS",gt="Solaris",Ot="FreeBSD",vt="ChromeOS",bt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ht),isiOS:o("iOS"),isAndroid:o(ft),isMacOS:o(mt),isLinux:o(pt),isSolaris:o(gt),isFreeBSD:o(Ot),isChromeOS:o(vt)}},yt={unknown:()=>bt({current:void 0,version:je.unknown()}),nu:bt,windows:P(ht),ios:P("iOS"),android:P(ft),linux:P(pt),macos:P(mt),solaris:P(gt),freebsd:P(Ot),chromeos:P(vt)},xt=(e,t,n)=>{const o=it.browsers(),i=it.oses(),r=t.bind((e=>((e,t)=>fe(t.brands,(t=>{const n=t.brand.toLowerCase();return ee(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:je.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>Ve(e,t).map((e=>{const n=je.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(dt.unknown,dt.nu),s=((e,t)=>Ve(e,t).map((e=>{const n=je.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(i,e).fold(yt.unknown,yt.nu),a=((e,t,n,o)=>{const i=e.isiOS()&&!0===/ipad/i.test(n),r=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=i||!r&&s&&o("(min-device-width:768px)"),c=r||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:P(i),isiPhone:P(r),isTablet:P(l),isPhone:P(c),isTouch:P(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:P(u),isDesktop:P(d)}})(s,r,e,n);return{browser:r,os:s,deviceType:a}},wt=e=>window.matchMedia(e).matches;let St=ze((()=>xt(window.navigator.userAgent,L.from(window.navigator.userAgentData),wt)));const _t=()=>St(),kt=window.navigator.userAgent,Ct=_t(),Tt=Ct.browser,$t=Ct.os,Pt=Ct.deviceType,At=-1!==kt.indexOf("Windows Phone"),Qt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Tt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Tt.isIE(),windowsPhone:At,browser:{current:Tt.current,version:Tt.version,isChromium:Tt.isChromium,isEdge:Tt.isEdge,isFirefox:Tt.isFirefox,isIE:Tt.isIE,isOpera:Tt.isOpera,isSafari:Tt.isSafari},os:{current:$t.current,version:$t.version,isAndroid:$t.isAndroid,isChromeOS:$t.isChromeOS,isFreeBSD:$t.isFreeBSD,isiOS:$t.isiOS,isLinux:$t.isLinux,isMacOS:$t.isMacOS,isSolaris:$t.isSolaris,isWindows:$t.isWindows},deviceType:{isDesktop:Pt.isDesktop,isiPad:Pt.isiPad,isiPhone:Pt.isiPhone,isPhone:Pt.isPhone,isTablet:Pt.isTablet,isTouch:Pt.isTouch,isWebView:Pt.isWebView}},Et=/^\s*|\s*$/g,Mt=e=>x(e)?"":(""+e).replace(Et,""),Dt=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),Qe(e,((e,i)=>!1!==t.call(o,e,i,n)&&(Dt(e,t,n,o),!0))))},It={trim:Mt,isArray:Ae,is:(e,t)=>t?!("array"!==t||!Ae(e))||typeof e===t:void 0!==e,toArray:e=>{if(Ae(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const o=p(e)?e.split(t||","):e||[];let i=o.length;for(;i--;)n[o[i]]={};return n},each:Qe,map:Ee,grep:Me,inArray:(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},hasOwn:Ce,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if(Ce(o,t)){const n=o[t];void 0!==n&&(e[t]=n)}}return e},walk:Dt,resolve:(e,t=window)=>{const n=e.split(".");for(let e=0,o=n.length;e<o&&(t=t[n[e]]);e++);return t},explode:(e,t)=>O(e)?e:""===e?[]:Ee(e.split(t||","),Mt),_addCacheSuffix:e=>{const t=Qt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Rt=(e,t,n=Q)=>e.exists((e=>n(e,t))),zt=(e,t,n=Q)=>Nt(e,t,n).getOr(e.isNone()&&t.isNone()),Nt=(e,t,n)=>e.isSome()&&t.isSome()?L.some(n(e.getOrDie(),t.getOrDie())):L.none(),Lt=(e,t)=>e?L.some(t):L.none(),jt="undefined"!=typeof window?window:Function("return this;")(),Vt=(e,t)=>((e,t)=>{let n=null!=t?t:jt;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),Bt=(e,t)=>{const n=((e,t)=>Vt(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},Zt=Object.getPrototypeOf,Xt=e=>{const t=Vt("ownerDocument.defaultView",e);return m(e)&&((e=>Bt("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Zt(e).constructor.name))},Wt=e=>e.dom.nodeName.toLowerCase(),Ut=e=>e.dom.nodeType,Yt=e=>t=>Ut(t)===e,Ft=e=>qt(e)&&Xt(e.dom),qt=Yt(1),Ht=Yt(3),Gt=Yt(9),Kt=Yt(11),Jt=e=>t=>qt(t)&&Wt(t)===e,en=(e,t,n)=>{if(!(p(n)||b(n)||_(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},tn=(e,t,n)=>{en(e.dom,t,n)},nn=(e,t)=>{const n=e.dom;Oe(t,((e,t)=>{en(n,t,e)}))},on=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},rn=(e,t)=>L.from(on(e,t)),sn=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},an=(e,t)=>{e.dom.removeAttribute(t)},ln=e=>K(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),cn=(e,t)=>{const n=on(e,t);return void 0===n||""===n?[]:n.split(" ")},un=e=>void 0!==e.dom.classList,dn=e=>cn(e,"class"),hn=(e,t)=>((e,t,n)=>{const o=cn(e,t).concat([n]);return tn(e,t,o.join(" ")),!0})(e,"class",t),fn=(e,t)=>((e,t,n)=>{const o=H(cn(e,t),(e=>e!==n));return o.length>0?tn(e,t,o.join(" ")):an(e,t),!1})(e,"class",t),pn=(e,t)=>{un(e)?e.dom.classList.add(t):hn(e,t)},mn=e=>{0===(un(e)?e.dom.classList:dn(e)).length&&an(e,"class")},gn=(e,t)=>{if(un(e)){e.dom.classList.remove(t)}else fn(e,t);mn(e)},On=(e,t)=>{const n=un(e)?e.dom.classList.toggle(t):((e,t)=>X(dn(e),t)?fn(e,t):hn(e,t))(e,t);return mn(e),n},vn=(e,t)=>un(e)&&e.dom.classList.contains(t),bn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},yn={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return bn(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return bn(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return bn(n)},fromDom:bn,fromPoint:(e,t,n)=>L.from(e.dom.elementFromPoint(t,n)).map(bn)},xn=(e,t)=>{const n=[],o=e=>(n.push(e),t(e));let i=t(e);do{i=i.bind(o)}while(i.isSome());return n},wn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Sn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,_n=(e,t)=>e.dom===t.dom,kn=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Cn=e=>yn.fromDom(e.dom.ownerDocument),Tn=e=>Gt(e)?e:Cn(e),$n=e=>yn.fromDom(Tn(e).dom.defaultView),Pn=e=>L.from(e.dom.parentNode).map(yn.fromDom),An=e=>L.from(e.dom.parentElement).map(yn.fromDom),Qn=(e,t)=>{const n=S(t)?t:z;let o=e.dom;const i=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=yn.fromDom(e);if(i.push(t),!0===n(t))break;o=e}return i},En=e=>L.from(e.dom.previousSibling).map(yn.fromDom),Mn=e=>L.from(e.dom.nextSibling).map(yn.fromDom),Dn=e=>re(xn(e,En)),In=e=>xn(e,Mn),Rn=e=>U(e.dom.childNodes,yn.fromDom),zn=(e,t)=>{const n=e.dom.childNodes;return L.from(n[t]).map(yn.fromDom)},Nn=e=>zn(e,0),Ln=e=>zn(e,e.dom.childNodes.length-1),jn=e=>e.dom.childNodes.length,Vn=e=>Kt(e)&&w(e.dom.host),Bn=e=>yn.fromDom(e.dom.getRootNode()),Zn=e=>Vn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return yn.fromDom(t)})(Tn(e)),Xn=e=>yn.fromDom(e.dom.host),Wn=e=>{if(w(e.target)){const t=yn.fromDom(e.target);if(qt(t)&&Un(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ue(t)}}return L.from(e.target)},Un=e=>w(e.dom.shadowRoot),Yn=e=>{const t=Ht(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=Bn(e);return Vn(t)?L.some(t):L.none()})(yn.fromDom(t)).fold((()=>n.body.contains(t)),$(Yn,Xn))};var Fn=(e,t,n,o,i)=>e(n,o)?L.some(n):S(i)&&i(n)?L.none():t(n,o,i);const qn=(e,t,n)=>{let o=e.dom;const i=S(n)?n:z;for(;o.parentNode;){o=o.parentNode;const e=yn.fromDom(o);if(t(e))return L.some(e);if(i(e))break}return L.none()},Hn=(e,t,n)=>Fn(((e,t)=>t(e)),qn,e,t,n),Gn=(e,t)=>ee(e.dom.childNodes,(e=>t(yn.fromDom(e)))).map(yn.fromDom),Kn=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const i=yn.fromDom(e.childNodes[o]);if(t(i))return L.some(i);const r=n(e.childNodes[o]);if(r.isSome())return r}return L.none()};return n(e.dom)},Jn=(e,t,n)=>qn(e,(e=>wn(e,t)),n),eo=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Sn(n)?L.none():L.from(n.querySelector(e)).map(yn.fromDom)})(t,e),to=(e,t,n)=>Fn(((e,t)=>wn(e,t)),Jn,e,t,n),no=(e,t=!1)=>{return Yn(e)?e.dom.isContentEditable:(n=e,to(n,"[contenteditable]")).fold(P(t),(e=>"true"===oo(e)));var n},oo=e=>e.dom.contentEditable,io=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ro=e=>void 0!==e.style&&S(e.style.getPropertyValue),so=(e,t,n)=>{if(!p(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ro(e)&&e.style.setProperty(t,n)},ao=(e,t,n)=>{const o=e.dom;so(o,t,n)},lo=(e,t)=>{const n=e.dom;Oe(t,((e,t)=>{so(n,t,e)}))},co=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Yn(e)?o:uo(n,t)},uo=(e,t)=>ro(e)?e.style.getPropertyValue(t):"",ho=(e,t)=>{const n=e.dom,o=uo(n,t);return L.from(o).filter((e=>e.length>0))},fo=e=>{const t={},n=e.dom;if(ro(n))for(let e=0;e<n.style.length;e++){const o=n.style.item(e);t[o]=n.style[o]}return t},po=(e,t)=>{((e,t)=>{ro(e)&&e.style.removeProperty(t)})(e.dom,t),Rt(rn(e,"style").map(Fe),"")&&an(e,"style")},mo=(e,t)=>{Pn(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},go=(e,t)=>{Mn(e).fold((()=>{Pn(e).each((e=>{vo(e,t)}))}),(e=>{mo(e,t)}))},Oo=(e,t)=>{Nn(e).fold((()=>{vo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},vo=(e,t)=>{e.dom.appendChild(t.dom)},bo=(e,t)=>{mo(e,t),vo(t,e)},yo=(e,t)=>{Y(t,(t=>{vo(e,t)}))},xo=e=>{e.dom.textContent="",Y(Rn(e),(e=>{wo(e)}))},wo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},So=e=>{const t=Rn(e);var n,o;t.length>0&&(n=e,Y(o=t,((e,t)=>{const i=0===t?n:o[t-1];go(i,e)}))),wo(e)},_o=e=>U(e,yn.fromDom),ko=e=>e.dom.innerHTML,Co=(e,t)=>{const n=Cn(e).dom,o=yn.fromDom(n.createDocumentFragment()),i=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,Rn(yn.fromDom(n))})(t,n);yo(o,i),xo(e),vo(e,o)},To=(e,t)=>n=>{e(n)&&t((e=>{const t=yn.fromDom(Wn(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),i=T(o,n);return((e,t,n,o,i,r,s)=>({target:e,x:t,y:n,stop:o,prevent:i,kill:r,raw:s}))(t,e.clientX,e.clientY,n,o,i,e)})(n))},$o=(e,t,n,o)=>((e,t,n,o,i)=>{const r=To(n,o);return e.dom.addEventListener(t,r,i),{unbind:E(Po,e,t,r,i)}})(e,t,n,o,!1),Po=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Ao=(e,t)=>({left:e,top:t,translate:(n,o)=>Ao(e+n,t+o)}),Qo=Ao,Eo=(e,t)=>void 0!==e?e:void 0!==t?t:0,Mo=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Qo(n.offsetLeft,n.offsetTop):Yn(e)?(e=>{const t=e.getBoundingClientRect();return Qo(t.left,t.top)})(t):Qo(0,0)},Do=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Qo(n,o)},Io=(e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Ro=(e,t)=>{_t().browser.isSafari()&&S(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},zo=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),No=e=>{const t=void 0===e?window:e,n=t.document,o=Do(yn.fromDom(n));return(e=>{const t=void 0===e?window:e;return _t().browser.isFirefox()?L.none():L.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return zo(o.left,o.top,n,i)}),(e=>zo(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Lo=(e,t)=>{let n=[];return Y(Rn(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Lo(e,t))})),n},jo=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Sn(n)?[]:U(n.querySelectorAll(e),yn.fromDom)})(t,e),Vo=(e,t,n)=>qn(e,t,n).isSome(),Bo=(e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?Gn(yn.fromDom(n.parentNode),(n=>!_n(e,n)&&t(n))):L.none()})(e,t).isSome(),Zo=(e,t)=>Kn(e,t).isSome();class Xo{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const o=e.parentNode;if(o&&o!==this.rootNode)return o}}}const Wo="\ufeff",Uo=" ",Yo=e=>e===Wo,Fo=/^[ \t\r\n]*$/,qo=e=>Fo.test(e),Ho=e=>"\n"===e||"\r"===e,Go=(e,t=4,n=!0,o=!0)=>{const i=((e,t)=>t<=0?"":new Array(t+1).join(e))(" ",t),r=e.replace(/\t/g,i),s=K(r,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===Uo?e.pcIsSpace||""===e.str&&n||e.str.length===r.length-1&&o||((e,t)=>t<e.length&&t>=0&&Ho(e[t]))(r,e.str.length+1)?{pcIsSpace:!1,str:e.str+Uo}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:Ho(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},Ko=e=>t=>!!t&&t.nodeType===e,Jo=e=>!!e&&!Object.getPrototypeOf(e),ei=Ko(1),ti=e=>ei(e)&&Ft(yn.fromDom(e)),ni=e=>{const t=e.toLowerCase();return e=>w(e)&&e.nodeName.toLowerCase()===t},oi=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return X(t,n)}return!1}},ii=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(ei(t)){const o=t.ownerDocument.defaultView;if(o)for(let i=0;i<n.length;i++){const r=o.getComputedStyle(t,null);if((r?r.getPropertyValue(e):null)===n[i])return!0}}return!1}},ri=e=>ei(e)&&e.hasAttribute("data-mce-bogus"),si=e=>ei(e)&&"TABLE"===e.tagName,ai=e=>t=>{if(ti(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},li=oi(["textarea","input"]),ci=Ko(3),ui=Ko(4),di=Ko(7),hi=Ko(8),fi=Ko(9),pi=Ko(11),mi=ni("br"),gi=ni("img"),Oi=ai("true"),vi=ai("false"),bi=e=>ti(e)&&e.isContentEditable&&w(e.parentElement)&&!e.parentElement.isContentEditable,yi=oi(["td","th"]),xi=oi(["td","th","caption"]),wi=oi(["video","audio","object","embed"]),Si=ni("li"),_i=ni("details"),ki=ni("summary"),Ci={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Ti=($i="data-mce-bookmark",e=>ei(e)&&e.hasAttribute($i));var $i;const Pi=(e,t,n)=>qo(e.data)&&!((e,t,n)=>{const o=yn.fromDom(t),i=yn.fromDom(e),r=n.getWhitespaceElements();return Vo(i,(e=>Ce(r,Wt(e))),E(_n,o))})(e,t,n),Ai=(e,t,n,o)=>ci(e)&&!Pi(e,t,n)&&(!o.includeZwsp||!(e=>{for(const t of e)if(!Yo(t))return!1;return!0})(e.data)),Qi=(e,t,n,o)=>S(o.isContent)&&o.isContent(t)||((e,t)=>ei(e)&&Ce(t.getNonEmptyElements(),e.nodeName))(t,e)||Ti(t)||(e=>ei(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(t)||Ai(t,n,e,o)||vi(t)||Oi(t)&&(e=>An(yn.fromDom(e)).exists((e=>!no(e))))(t),Ei=(e,t,n)=>{const o={...Ci,...n};if(o.checkRootAsContent&&Qi(e,t,t,o))return!1;let i=t.firstChild,r=0;if(!i)return!0;const s=new Xo(i,t);do{if(o.skipBogus&&ei(i)){const e=i.getAttribute("data-mce-bogus");if(e){i=s.next("all"===e);continue}}if(hi(i))i=s.next(!0);else if(mi(i))r++,i=s.next();else{if(Qi(e,i,t,o))return!1;i=s.next()}}while(i);return r<=1},Mi=(e,t,n)=>Ei(e,t.dom,{checkRootAsContent:!0,...n}),Di=(e,t,n)=>Qi(e,t,t,{includeZwsp:Ci.includeZwsp,...n}),Ii=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Ri=e=>{const t=Ii(L.none()),n=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{n(),t.set(L.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:o=>{n(),t.set(L.some(setInterval(o,e)))}}},zi=()=>{const e=(e=>{const t=Ii(L.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(L.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(L.some(e))}}})(C);return{...e,on:t=>e.get().each(t)}},Ni=e=>{const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":"html"},Li=e=>"html"!==Ni(e),ji=e=>Li(e.nodeName),Vi=e=>Ni(e.nodeName),Bi=["svg","math"],Zi="data-mce-block",Xi=e=>U((e=>H(me(e),(e=>!/[A-Z]/.test(e))))(e),(e=>{const t=CSS.escape(e);return`${t}:`+U(Bi,(e=>`not(${e} ${t})`)).join(":")})).join(","),Wi=(e,t)=>w(t.querySelector(e))?(t.setAttribute(Zi,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Zi),!1),Ui=(e,t)=>{const n=Xi(e.getTransparentElements()),o=Xi(e.getBlockElements());return H(t.querySelectorAll(n),(e=>Wi(o,e)))},Yi=(e,t,n)=>{var o;const i=n?"lastChild":"firstChild";for(let n=t[i];n;n=n[i])if(Ei(e,n,{checkRootAsContent:!0}))return void(null===(o=n.parentNode)||void 0===o||o.removeChild(n))},Fi=(e,t,n)=>{const o=e.getBlockElements(),i=yn.fromDom(t),r=e=>Wt(e)in o,s=e=>_n(e,i);Y(_o(n),(t=>{qn(t,r,s).each((n=>{const o=((e,t)=>H(Rn(e),t))(t,(t=>r(t)&&!e.isValidChild(Wt(n),Wt(t))));if(o.length>0){const t=An(n);Y(o,(t=>{qn(t,r,s).each((n=>{((e,t,n)=>{const o=document.createRange(),i=t.parentNode;if(i){o.setStartBefore(t),o.setEndBefore(n);const r=o.extractContents();Yi(e,r,!0),o.setStartAfter(n),o.setEndAfter(t);const s=o.extractContents();Yi(e,s,!1),Ei(e,r,{checkRootAsContent:!0})||i.insertBefore(r,t),Ei(e,n,{checkRootAsContent:!0})||i.insertBefore(n,t),Ei(e,s,{checkRootAsContent:!0})||i.insertBefore(s,t),i.removeChild(t)}})(e,n.dom,t.dom)}))})),t.each((t=>Ui(e,t.dom)))}}))}))},qi=(e,t)=>{const n=Ui(e,t);Fi(e,t,n),((e,t,n)=>{Y([...n,...er(e,t)?[t]:[]],(t=>Y(jo(yn.fromDom(t),t.nodeName.toLowerCase()),(t=>{tr(e,t.dom)&&So(t)}))))})(e,t,n)},Hi=(e,t)=>{if(Ji(e,t)){const n=Xi(e.getBlockElements());Wi(n,t)}},Gi=e=>e.hasAttribute(Zi),Ki=(e,t)=>Ce(e.getTransparentElements(),t),Ji=(e,t)=>ei(t)&&Ki(e,t.nodeName),er=(e,t)=>Ji(e,t)&&Gi(t),tr=(e,t)=>Ji(e,t)&&!Gi(t),nr=(e,t)=>1===t.type&&Ki(e,t.name)&&p(t.attr(Zi)),or=_t().browser,ir=e=>ee(e,qt),rr=(e,t)=>e.children&&X(e.children,t),sr=(e,t,n)=>{let o=0,i=0;const r=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===co(yn.fromDom(e),"position")){const n=t.getBoundingClientRect();return o=n.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft,i=n.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop,{x:o,y:i}}let s=t;for(;s&&s!==n&&s.nodeType&&!rr(s,n);){const e=s;o+=e.offsetLeft||0,i+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==n&&s.nodeType&&!rr(s,n);)o-=s.scrollLeft||0,i-=s.scrollTop||0,s=s.parentNode;i+=(e=>or.isFirefox()&&"table"===Wt(e)?ir(Rn(e)).filter((e=>"caption"===Wt(e))).bind((e=>ir(In(e)).map((t=>{const n=t.dom.offsetTop,o=e.dom.offsetTop,i=e.dom.offsetHeight;return n<=o?-i:0})))).getOr(0):0)(yn.fromDom(t))}return{x:o,y:i}},ar=(e,t={})=>{let n=0;const o={},i=yn.fromDom(e),r=Tn(i),s=e=>{vo(Zn(i),e)},a=e=>{const t=Zn(i);eo(t,"#"+e).each(wo)},l=e=>ke(o,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))),c=e=>new Promise(((n,i)=>{let a;const c=It._addCacheSuffix(e),u=l(c);o[c]=u,u.count++;const d=(e,t)=>{Y(e,R),u.status=t,u.passed=[],u.failed=[],a&&(a.onload=null,a.onerror=null,a=null)},h=()=>d(u.passed,2),f=()=>d(u.failed,3);if(n&&u.passed.push(n),i&&u.failed.push(i),1===u.status)return;if(2===u.status)return void h();if(3===u.status)return void f();u.status=1;const p=yn.fromTag("link",r.dom);nn(p,{rel:"stylesheet",type:"text/css",id:u.id}),t.contentCssCors&&tn(p,"crossOrigin","anonymous"),t.referrerPolicy&&tn(p,"referrerpolicy",t.referrerPolicy),a=p.dom,a.onload=h,a.onerror=f,s(p),tn(p,"href",c)})),u=e=>{const t=It._addCacheSuffix(e);ke(o,t).each((e=>{0===--e.count&&(delete o[t],a(e.id))}))};return{load:c,loadRawCss:(e,t)=>{const n=l(e);o[e]=n,n.count++;const i=yn.fromTag("style",r.dom);nn(i,{rel:"stylesheet",type:"text/css",id:n.id,"data-mce-key":e}),i.dom.innerHTML=t,s(i)},loadAll:e=>Promise.allSettled(U(e,(e=>c(e).then(P(e))))).then((e=>{const t=q(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(U(t.fail,(e=>e.reason))):U(t.pass,(e=>e.value))})),unload:u,unloadRawCss:e=>{ke(o,e).each((t=>{0===--t.count&&(delete o[e],a(t.id))}))},unloadAll:e=>{Y(e,(e=>{u(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},lr=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const o=Bn(t).dom;return L.from(e.get(o)).getOrThunk((()=>{const t=ar(o,n);return e.set(o,t),t}))}}})(),cr=(e,t)=>w(e)&&(Di(t,e)||t.isInline(e.nodeName.toLowerCase())),ur=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),dr=(e,t,n)=>ci(e)&&e.data.length>0&&((e,t,n)=>{const o=new Xo(e,t).prev(!1),i=new Xo(e,t).next(!1),r=y(o)||cr(o,n),s=y(i)||cr(i,n);return r&&s})(e,t,n),hr=(e,t,n,o)=>{var i;const r=o||t;if(ei(t)&&ur(t))return t;const s=t.childNodes;for(let t=s.length-1;t>=0;t--)hr(e,s[t],n,r);if(ei(t)){const e=t.childNodes;1===e.length&&ur(e[0])&&(null===(i=t.parentNode)||void 0===i||i.insertBefore(e[0],t))}return(e=>pi(e)||fi(e))(t)||Di(n,t)||(e=>!!ei(e)&&e.childNodes.length>0)(t)||dr(t,r,n)||e.remove(t),t},fr=It.makeMap,pr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gr=/[<>&\"\']/g,Or=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,vr={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},br={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},yr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},xr=(e,t)=>{const n={};if(e){const o=e.split(",");t=t||10;for(let e=0;e<o.length;e+=2){const i=String.fromCharCode(parseInt(o[e],t));if(!br[i]){const t="&"+o[e+1]+";";n[i]=t,n[t]=i}}return n}},wr=xr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Sr=(e,t)=>e.replace(t?pr:mr,(e=>br[e]||e)),_r=(e,t)=>e.replace(t?pr:mr,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":br[e]||"&#"+e.charCodeAt(0)+";")),kr=(e,t,n)=>{const o=n||wr;return e.replace(t?pr:mr,(e=>br[e]||o[e]||e))},Cr={encodeRaw:Sr,encodeAllRaw:e=>(""+e).replace(gr,(e=>br[e]||e)),encodeNumeric:_r,encodeNamed:kr,getEncodeFunc:(e,t)=>{const n=xr(t)||wr,o=(e,t)=>e.replace(t?pr:mr,(e=>void 0!==br[e]?br[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")),i=(e,t)=>kr(e,t,n),r=fr(e.replace(/\+/g,","));return r.named&&r.numeric?o:r.named?t?i:kr:r.numeric?_r:Sr},decode:e=>e.replace(Or,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):vr[t]||String.fromCharCode(t):yr[e]||wr[e]||(e=>{const t=yn.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},Tr=(e,t)=>(e=It.trim(e))?e.split(t||" "):[],$r=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Pr=e=>{const t=e=>O(e)?U(e,t):(e=>m(e)&&e.source&&"[object RegExp]"===Object.prototype.toString.call(e))(e)?new RegExp(e.source,e.flags):m(e)?ve(e,t):e;return t(e)},Ar=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",..."html4"!==e?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],..."html5-strict"!==e?["xml:lang"]:[]]),Qr=e=>{let t,n;if(t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e){t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}if("html5-strict"!==e){n=[n,"acronym applet basefont big font strike tt"].join(" ");t=[t,"center dir isindex noframes"].join(" ")}const o=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:o}},Er=e=>{const{blockContent:t,phrasingContent:n,flowContent:o}=Qr(e),i=e=>Object.freeze(e.split(" "));return Object.freeze({blockContent:i(t),phrasingContent:i(n),flowContent:i(o)})},Mr={html4:ze((()=>Er("html4"))),html5:ze((()=>Er("html5"))),"html5-strict":ze((()=>Er("html5-strict")))},Dr=(e,t)=>{const{blockContent:n,phrasingContent:o,flowContent:i}=Mr[e]();return"blocks"===t?L.some(n):"phrasing"===t?L.some(o):"flow"===t?L.some(i):L.none()},Ir=e=>L.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(e)).map((e=>({preset:"@"===e[1],name:e[2]}))),Rr=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return oe(Tr(t,","),(t=>{const o=n.exec(t);if(o){const t=o[1],n=o[2],i=o[3],r=o[4],s=o[5],a={attributes:{},attributesOrder:[]};if(e.each((e=>((e,t)=>{Oe(e.attributes,((e,n)=>{t.attributes[n]=e})),t.attributesOrder.push(...e.attributesOrder)})(e,a))),"#"===t?a.paddEmpty=!0:"-"===t&&(a.removeEmpty=!0),"!"===r&&(a.removeEmptyAttrs=!0),s&&((e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,o=/[*?+]/,{attributes:i,attributesOrder:r}=t;Y(Tr(e,"|"),(e=>{const s=n.exec(e);if(s){const e={},n=s[1],a=s[2].replace(/[\\:]:/g,":"),l=s[3],c=s[4];if("!"===n&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(a),e.required=!0),"-"===n)return delete i[a],void r.splice(It.inArray(r,a),1);if(l&&("="===l?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:a,value:c}),e.defaultValue=c):"~"===l?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:a,value:c}),e.forcedValue=c):"<"===l&&(e.validValues=It.makeMap(c,"?"))),o.test(a)){const n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=$r(a),t.attributePatterns.push(n)}else i[a]||r.push(a),i[a]=e}}))})(s,a),i&&(a.outputName=n),"@"===n){if(!e.isNone())return[];e=L.some(a)}return[i?{name:n,element:a,aliasName:i}:{name:n,element:a}]}return[]}))},zr={},Nr=It.makeMap,Lr=It.each,jr=It.extend,Vr=It.explode,Br=(e,t={})=>{const n=Nr(e," ",Nr(e.toUpperCase()," "));return jr(n,t)},Zr=e=>Br("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Xr=(e,t)=>{if(e){const n={};return p(e)&&(e={"*":e}),Lr(e,((e,o)=>{n[o]=n[o.toUpperCase()]="map"===t?Nr(e,/[, ]/):Vr(e,/[, ]/)})),n}},Wr=(e={})=>{var t;const n={},o={};let i=[];const r={},s={},a=(t,n,o)=>{const i=e[t];if(i)return Nr(i,/[, ]/,Nr(i.toUpperCase(),/[, ]/));{let e=zr[t];return e||(e=Br(n,o),zr[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t=Ar(e),{phrasingContent:n,flowContent:o}=Qr(e),i={},r=(e,t,n)=>{i[e]={attributes:ae(t,P({})),attributesOrder:t,children:ae(n,P({}))}},s=(e,n="",o="")=>{const i=Tr(o),s=Tr(e);let a=s.length;const l=[...t,...Tr(n)];for(;a--;)r(s[a],l.slice(),i)},a=(e,t)=>{const n=Tr(e),o=Tr(t);let r=n.length;for(;r--;){const e=i[n[r]];for(let t=0,n=o.length;t<n;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};"html5-strict"!==e&&(Y(Tr("acronym applet basefont big font strike tt"),(e=>{s(e,"",n)})),Y(Tr("center dir isindex noframes"),(e=>{s(e,"",o)})));return s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),s("dd div","",o),s("address dt caption","","html4"===e?n:o),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),s("blockquote","cite",o),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",o),s("dl","","dt dd"),s("a","href target rel media hreflang type","html4"===e?n:o),s("q","cite",n),s("ins del","cite datetime",o),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",o),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),s("param","name value"),s("map","name",[o,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",o),s("th","colspan rowspan headers scope abbr",o),s("form","accept-charset action autocomplete enctype method name novalidate target",o),s("fieldset","disabled form name",[o,"legend"].join(" ")),s("label","form for",n),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:n),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[o,"li"].join(" ")),s("noscript","",o),"html4"!==e&&(s("wbr"),s("ruby","",[n,"rt rp"].join(" ")),s("figcaption","",o),s("mark rt rp bdi","",n),s("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),s("canvas","width height",o),s("data","value",n),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[n,"option"].join(" ")),s("article section nav aside main header footer","",o),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[o,"figcaption"].join(" ")),s("time","datetime",n),s("dialog","open",o),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",n),s("progress","value max",n),s("meter","value min max low high optimum",n),s("details","open",[o,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name"),r("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),"html4"!==e&&Y([i.video,i.audio],(e=>{delete e.children.audio,delete e.children.video})),Y(Tr("a form meter progress dfn"),(e=>{i[e]&&delete i[e].children[e]})),delete i.caption.children.table,delete i.script,i})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const u=Xr(e.valid_styles),d=Xr(e.invalid_styles,"map"),h=Xr(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),g=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),v=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),y=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),x="td th iframe video audio object script code",w=a("non_empty_elements",x+" pre svg textarea summary",v),S=a("move_caret_before_on_enter_elements",x+" table",v),_="h1 h2 h3 h4 h5 h6",k=a("text_block_elements",_+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),C=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",k),T=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),$=a("transparent_elements","a ins del canvas map"),A=a("wrap_block_elements","pre "+_);Lr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const Q=e=>{const t=L.from(n["@"]),o=/[*?+]/;Y(Rr(t,null!=e?e:""),(({name:e,element:t,aliasName:r})=>{if(r&&(n[r]=t),o.test(e)){const n=t;n.pattern=$r(e),i.push(n)}else n[e]=t}))},E=e=>{i=[],Y(me(n),(e=>{delete n[e]})),Q(e)},M=(e,t)=>{var i,s;delete zr.text_block_elements,delete zr.block_elements;const a=!!t.extends&&!ne(t.extends),c=t.extends;if(o[e]=c?o[c]:{},r[e]=null!=c?c:e,w[e.toUpperCase()]={},w[e]={},a||(C[e.toUpperCase()]={},C[e]={}),c&&!n[e]&&n[c]){const t=Pr(n[c]);delete t.removeEmptyAttrs,delete t.removeEmpty,n[e]=t}else n[e]={attributesOrder:[],attributes:{}};if(O(t.attributes)){const o=e=>{r.attributesOrder.push(e),r.attributes[e]={}},r=null!==(i=n[e])&&void 0!==i?i:{};delete r.attributesDefault,delete r.attributesForced,delete r.attributePatterns,delete r.attributesRequired,r.attributesOrder=[],r.attributes={},Y(t.attributes,(e=>{const t=Ar(l);Ir(e).each((({preset:e,name:n})=>{e?"global"===n&&Y(t,o):o(n)}))})),n[e]=r}if(b(t.padEmpty)){const o=null!==(s=n[e])&&void 0!==s?s:{};o.paddEmpty=t.padEmpty,n[e]=o}if(O(t.children)){const n={},i=e=>{n[e]={}},r=e=>{Dr(l,e).each((e=>{Y(e,i)}))};Y(t.children,(e=>{Ir(e).each((({preset:e,name:t})=>{e?r(t):i(t)}))})),o[e]=n}c&&Oe(o,((t,n)=>{t[c]&&(o[n]=t=jr({},o[n]),t[e]=t[c])}))},D=e=>{Y((e=>{const t=/^(~)?(.+)$/;return oe(Tr(e,","),(e=>{const n=t.exec(e);return n?[{cloneName:"~"===n[1]?"span":"div",name:n[2]}]:[]}))})(null!=e?e:""),(({name:e,cloneName:t})=>{M(e,{extends:t})}))},I=e=>{m(e)?Oe(e,((e,t)=>M(t,e))):p(e)&&D(e)},R=e=>{Y((e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return oe(Tr(e,","),(e=>{const n=t.exec(e);if(n){const e=n[1],t=e?(e=>"-"===e?"remove":"add")(e):"replace";return[{operation:t,name:n[2],validChildren:oe(Tr(n[3],"|"),(e=>Ir(e).toArray()))}]}return[]}))})(null!=e?e:""),(({operation:e,name:t,validChildren:n})=>{const i="replace"===e?{"#comment":{}}:o[t],r=t=>{"remove"===e?delete i[t]:i[t]={}};Y(n,(({preset:e,name:t})=>{e?(e=>{Dr(l,e).each((e=>{Y(e,r)}))})(t):r(t)})),o[t]=i}))},z=e=>{const t=n[e];if(t)return t;let o=i.length;for(;o--;){const t=i[o];if(t.pattern.test(e))return t}},N=P(u),j=P(d),V=P(h),B=P(y),Z=P(C),X=P(k),W=P(T),U=P(Object.seal(v)),F=P(g),q=P(w),H=P(S),G=P(f),K=P($),J=P(A),ee=P(Object.seal(s)),te=(e,t)=>{const n=z(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},ne=e=>Ce(Z(),e),ie=e=>!We(e,"#")&&te(e)&&!ne(e),re=P(r);return e.valid_elements?(E(e.valid_elements),Lr(c,((e,t)=>{o[t]=e.children}))):(Lr(c,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children})),Lr(Tr("strong/b em/i"),(e=>{const t=Tr(e,"/");n[t[1]].outputName=t[0]})),Lr(T,((t,o)=>{n[o]&&(e.padd_empty_block_inline_children&&(n[o].paddInEmptyBlock=!0),n[o].removeEmpty=!0)})),Lr(Tr("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),Lr(Tr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),(e=>{n[e]&&(n[e].paddEmpty=!0)})),Lr(Tr("span"),(e=>{n[e].removeEmptyAttrs=!0}))),delete n.svg,I(e.custom_elements),R(e.valid_children),Q(e.extended_valid_elements),R("+ol[ul|ol],+ul[ul|ol]"),Lr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=Tr(e))})),e.invalid_elements&&Lr(Vr(e.invalid_elements),(e=>{n[e]&&delete n[e]})),z("span")||Q("span[!data-mce-type|*]"),{type:l,children:o,elements:n,getValidStyles:N,getValidClasses:V,getBlockElements:Z,getInvalidStyles:j,getVoidElements:U,getTextBlockElements:X,getTextInlineElements:W,getBoolAttrs:B,getElementRule:z,getSelfClosingElements:F,getNonEmptyElements:q,getMoveCaretBeforeOnEnterElements:H,getWhitespaceElements:G,getTransparentElements:K,getSpecialElements:ee,isValidChild:(e,t)=>{const n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:te,isBlock:ne,isInline:ie,isWrapper:e=>Ce(J(),e)||ie(e),getCustomElements:re,addValidElements:Q,setValidElements:E,addCustomElements:I,addValidChildren:R}},Ur=e=>Ze(e,"#").toUpperCase(),Yr=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Fr=e=>(e=>({value:Ur(e)}))(Yr(e.red)+Yr(e.green)+Yr(e.blue)),qr=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Hr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Gr=(e,t,n,o)=>((e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}))(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(o)),Kr=e=>{const t=qr.exec(e);if(null!==t)return L.some(Gr(t[1],t[2],t[3],"1"));const n=Hr.exec(e);return null!==n?L.some(Gr(n[1],n[2],n[3],n[4])):L.none()},Jr=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,es=e=>Kr(e).map(Fr).map((e=>"#"+e.value)).getOr(e),ts=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,r={};let s,a;const l=Wo;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<c.length;e++)r[c[e]]=l+e,r[l+e]=c[e];const u={parse:t=>{const s={};let a=!1;const c=e.url_converter,d=e.url_converter_scope||u,h=(e,t,n)=>{const o=s[e+"-top"+t];if(!o)return;const i=s[e+"-right"+t];if(!i)return;const r=s[e+"-bottom"+t];if(!r)return;const a=s[e+"-left"+t];if(!a)return;const l=[o,i,r,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&n||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},f=e=>{const t=s[e];if(!t)return;const n=t.indexOf(",")>-1?[t]:t.split(" ");let o=n.length;for(;o--;)if(n[o]!==n[0])return!1;return s[e]=n[0],!0},p=e=>(a=!0,r[e]),m=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,(e=>r[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),g=e=>String.fromCharCode(parseInt(e.slice(1),16)),O=e=>e.replace(/\\[0-9a-f]+/gi,g),v=(t,n,o,i,r,s)=>{if(r=r||s)return"'"+(r=m(r)).replace(/\'/g,"\\'")+"'";if(n=m(n||o||i||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return c&&(n=c.call(d,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let r;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,p)));r=o.exec(t);){o.lastIndex=r.index+r[0].length;let t=r[1].replace(i,"").toLowerCase(),c=r[2].replace(i,"");if(t&&c){if(t=O(t),c=O(c),-1!==t.indexOf(l)||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===t&&"700"===c?c="bold":"color"!==t&&"background-color"!==t||(c=c.toLowerCase()),"rgb"==(S=c,qr.test(S)?"rgb":Hr.test(S)?"rgba":"other")&&Kr(c).each((e=>{c=es(Jr(e)).toLowerCase()})),c=c.replace(n,v),s[t]=a?m(c,!0):c}}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),b="border",x="border-style",w="border-color",f(y="border-width")&&f(x)&&f(w)&&(s[b]=s[y]+" "+s[x]+" "+s[w],delete s[y],delete s[x],delete s[w]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var b,y,x,w,S;return s},serialize:(e,t)=>{let n="";const o=(t,o)=>{const i=o[t];if(i)for(let t=0,o=i.length;t<o;t++){const o=i[t],r=e[o];r&&(n+=(n.length>0?" ":"")+o+": "+r+";")}};return t&&s?(o("*",s),o(t,s)):Oe(e,((e,o)=>{e&&((e,t)=>{if(!a||!t)return!0;let n=a["*"];return!(n&&n[e]||(n=a[t],n&&n[e]))})(o,t)&&(n+=(n.length>0?" ":"")+o+": "+e+";")})),n}};return u},ns={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},os=e=>x(e.preventDefault)||(e=>e instanceof Event||S(e.initEvent))(e),is=(e,t)=>{const n=null!=t?t:{};for(const t in e)Ce(ns,t)||(n[t]=e[t]);return w(e.composedPath)&&(n.composedPath=()=>e.composedPath()),w(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),w(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},rs=(e,t,n,o)=>{var i;const r=is(t,o);return r.type=e,x(r.target)&&(r.target=null!==(i=r.srcElement)&&void 0!==i?i:n),os(t)&&(r.preventDefault=()=>{r.defaultPrevented=!0,r.isDefaultPrevented=N,S(t.preventDefault)&&t.preventDefault()},r.stopPropagation=()=>{r.cancelBubble=!0,r.isPropagationStopped=N,S(t.stopPropagation)&&t.stopPropagation()},r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=N,r.stopPropagation()},(e=>e.isDefaultPrevented===N||e.isDefaultPrevented===z)(r)||(r.isDefaultPrevented=!0===r.defaultPrevented?N:z,r.isPropagationStopped=!0===r.cancelBubble?N:z,r.isImmediatePropagationStopped=z)),r},ss=/^(?:mouse|contextmenu)|click/,as=(e,t,n,o)=>{e.addEventListener(t,n,o||!1)},ls=(e,t,n,o)=>{e.removeEventListener(t,n,o||!1)},cs=(e,t)=>{const n=rs(e.type,e,document,t);if((e=>w(e)&&ss.test(e.type))(e)&&y(e.pageX)&&!y(e.clientX)){const t=n.target.ownerDocument||document,o=t.documentElement,i=t.body,r=n;r.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),r.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return n},us=(e,t,n)=>{const o=e.document,i={type:"ready"};if(n.domLoaded)return void t(i);const r=()=>{ls(e,"DOMContentLoaded",r),ls(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};"complete"===o.readyState||"interactive"===o.readyState&&o.body?r():as(e,"DOMContentLoaded",r),n.domLoaded||as(e,"load",r)};class ds{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,o){const i=this;let r;const s=window,a=e=>{i.executeHandlers(cs(e||s.event),l)};if(!e||ci(e)||hi(e))return n;let l;e[i.expando]?l=e[i.expando]:(l=i.count++,e[i.expando]=l,i.events[l]={}),o=o||e;const c=t.split(" ");let u=c.length;for(;u--;){let t=c[u],d=a,h=!1,f=!1;"DOMContentLoaded"===t&&(t="ready"),i.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(o,cs({type:t})):(i.hasFocusIn||"focusin"!==t&&"focusout"!==t||(h=!0,f="focusin"===t?"focus":"blur",d=e=>{const t=cs(e||s.event);t.type="focus"===t.type?"focusin":"focusout",i.executeHandlers(t,l)}),r=i.events[l][t],r?"ready"===t&&i.domLoaded?n(cs({type:t})):r.push({func:n,scope:o}):(i.events[l][t]=r=[{func:n,scope:o}],r.fakeName=f,r.capture=h,r.nativeHandler=d,"ready"===t?us(e,d,i):as(e,f||t,d,h)))}return e=r=null,n}unbind(e,t,n){if(!e||ci(e)||hi(e))return this;const o=e[this.expando];if(o){let i=this.events[o];if(t){const o=t.split(" ");let r=o.length;for(;r--;){const t=o[r],s=i[t];if(s){if(n){let e=s.length;for(;e--;)if(s[e].func===n){const n=s.nativeHandler,o=s.fakeName,r=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=n,a.fakeName=o,a.capture=r,i[t]=a}}n&&0!==s.length||(delete i[t],ls(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else Oe(i,((t,n)=>{ls(e,t.fakeName||n,t.nativeHandler,t.capture)})),i={};for(const e in i)if(Ce(i,e))return this;delete this.events[o];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||ci(e)||hi(e))return this;const o=cs({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){if(!e||ci(e)||hi(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],o=n&&n[e.type];if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}ds.Event=new ds;const hs=It.each,fs=It.grep,ps="data-mce-style",ms=It.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),gs=(e,t,n)=>{x(n)||""===n?an(e,t):tn(e,t,n)},Os=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),vs=(e,t)=>{let n=0;if(e)for(let o=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const e=i.nodeType;(!t||!ci(i)||e!==o&&i.data.length)&&(n++,o=e)}return n},bs=(e,t)=>{const n=on(t,"style"),o=e.serialize(e.parse(n),Wt(t));gs(t,ps,o)},ys=(e,t,n)=>{const o=Os(t);x(n)||""===n?po(e,o):ao(e,o,((e,t)=>_(e)?Ce(ms,t)?e+"":e+"px":e)(n,o))},xs=(e,t={})=>{const n={},o=window,i={};let r=0;const s=lr.forElement(yn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:Wr({}),c=ts({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),u=t.ownEvents?new ds:ds.Event,d=l.getBlockElements(),h=t=>t&&e&&p(t)?e.getElementById(t):t,f=e=>{const t=h(e);return w(t)?yn.fromDom(t):null},m=(e,t,n="")=>{let o;const i=f(e);if(w(i)&&qt(i)){const e=F[t];o=e&&e.get?e.get(i.dom,t):on(i,t)}return w(o)?o:n},v=e=>{const t=h(e);return x(t)?[]:t.attributes},b=(e,n,o)=>{E(e,(e=>{if(ei(e)){const i=yn.fromDom(e),r=""===o?null:o,s=on(i,n),a=F[n];a&&a.set?a.set(i.dom,r,n):gs(i,n,r),s!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:i.dom,attrName:n,attrValue:r})}}))},y=()=>t.root_element||e.body,_=(t,n)=>sr(e.body,h(t),n),k=(e,t,n)=>{const o=h(e);var i;if(!x(o)&&(ti(o)||ei(i=o)&&"http://www.w3.org/2000/svg"===i.namespaceURI))return n?co(yn.fromDom(o),Os(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),o.style?o.style[t]:void 0)},T=e=>{const t=h(e);if(!t)return{w:0,h:0};let n=k(t,"width"),o=k(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},$=(e,t)=>{if(!e)return!1;const n=O(e)?e:[e];return W(n,(e=>wn(yn.fromDom(e),t)))},A=(e,t,n,o)=>{const i=[];let r=h(e);o=void 0===o;const s=n||("BODY"!==y().nodeName?y().parentNode:null);if(p(t))if("*"===t)t=ei;else{const e=t;t=t=>$(t,e)}for(;r&&!(r===s||x(r.nodeType)||fi(r)||pi(r));){if(!t||t(r)){if(!o)return[r];i.push(r)}r=r.parentNode}return o?i:null},Q=(e,t,n)=>{let o=t;if(e){p(t)&&(o=e=>$(e,t));for(let t=e[n];t;t=t[n])if(S(o)&&o(t))return t}return null},E=function(e,t,n){const o=null!=n?n:this;if(O(e)){const n=[];return hs(e,((e,i)=>{const r=h(e);r&&n.push(t.call(o,r,i))})),n}{const n=h(e);return!!n&&t.call(o,n)}},M=(e,t)=>{E(e,(e=>{Oe(t,((t,n)=>{b(e,n,t)}))}))},D=(e,t)=>{E(e,(e=>{const n=yn.fromDom(e);Co(n,t)}))},I=(t,n,o,i,r)=>E(t,(t=>{const s=p(n)?e.createElement(n):n;return w(o)&&M(s,o),i&&(!p(i)&&i.nodeType?s.appendChild(i):p(i)&&D(s,i)),r?s:t.appendChild(s)})),R=(t,n,o)=>I(e.createElement(t),t,n,o,!0),z=Cr.encodeAllRaw,N=(e,t)=>E(e,(e=>{const n=yn.fromDom(e);return t&&Y(Rn(n),(e=>{Ht(e)&&0===e.dom.length?wo(e):mo(n,e)})),wo(n),n.dom})),L=(e,t,n)=>{E(e,(e=>{if(ei(e)){const o=yn.fromDom(e),i=t.split(" ");Y(i,(e=>{if(w(n)){(n?pn:gn)(o,e)}else On(o,e)}))}}))},j=(e,t,n)=>E(t,(o=>{var i;const r=O(t)?e.cloneNode(!0):e;return n&&hs(fs(o.childNodes),(e=>{r.appendChild(e)})),null===(i=o.parentNode)||void 0===i||i.replaceChild(r,o),o})),V=()=>e.createRange(),B=(n,i,r,s)=>{if(O(n)){let e=n.length;const t=[];for(;e--;)t[e]=B(n[e],i,r,s);return t}return!t.collect||n!==e&&n!==o||a.push([n,i,r,s]),u.bind(n,i,r,s||U)},Z=(t,n,i)=>{if(O(t)){let e=t.length;const o=[];for(;e--;)o[e]=Z(t[e],n,i);return o}if(a.length>0&&(t===e||t===o)){let e=a.length;for(;e--;){const[o,r,s]=a[e];t!==o||n&&n!==r||i&&i!==s||u.unbind(o,r,s)}}return u.unbind(t,n,i)},X=e=>{if(e&&ti(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},U={doc:e,settings:t,win:o,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:u,isBlock:e=>p(e)?Ce(d,e):ei(e)&&(Ce(d,e.nodeName)||er(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:y,getViewPort:e=>{const t=No(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=h(e),n=_(t),o=T(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},getSize:T,getParent:(e,t,n)=>{const o=A(e,t,n,!1);return o&&o.length>0?o[0]:null},getParents:A,get:h,getNext:(e,t)=>Q(e,t,"nextSibling"),getPrev:(e,t)=>Q(e,t,"previousSibling"),select:(n,o)=>{var i,r;const s=null!==(r=null!==(i=h(o))&&void 0!==i?i:t.root_element)&&void 0!==r?r:e;return S(s.querySelectorAll)?he(s.querySelectorAll(n)):[]},is:$,add:I,create:R,createHTML:(e,t,n="")=>{let o="<"+e;for(const e in t)Te(t,e)&&(o+=" "+e+'="'+z(t[e])+'"');return Ke(n)&&Ce(l.getVoidElements(),e)?o+" />":o+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),o=e.createDocumentFragment();let i;for(o.appendChild(n),t&&(n.innerHTML=t);i=n.firstChild;)o.appendChild(i);return o.removeChild(n),o},remove:N,setStyle:(e,n,o)=>{E(e,(e=>{const i=yn.fromDom(e);ys(i,n,o),t.update_styles&&bs(c,i)}))},getStyle:k,setStyles:(e,n)=>{E(e,(e=>{const o=yn.fromDom(e);Oe(n,((e,t)=>{ys(o,t,e)})),t.update_styles&&bs(c,o)}))},removeAllAttribs:e=>E(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:b,setAttribs:M,getAttrib:m,getPos:_,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(U!==xs.DOM&&e===document){if(n[t])return;n[t]=!0}let o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css";const t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),Y(e.split(","),(e=>{i[e]=!0,s.load(e).catch(C)}))},addClass:(e,t)=>{L(e,t,!0)},removeClass:(e,t)=>{L(e,t,!1)},hasClass:(e,t)=>{const n=f(e),o=t.split(" ");return w(n)&&ie(o,(e=>vn(n,e)))},toggleClass:L,show:e=>{E(e,(e=>po(yn.fromDom(e),"display")))},hide:e=>{E(e,(e=>ao(yn.fromDom(e),"display","none")))},isHidden:e=>{const t=f(e);return w(t)&&Rt(ho(t,"display"),"none")},uniqueId:e=>(e||"mce_")+r++,setHTML:D,getOuterHTML:e=>{const t=f(e);return w(t)?ei(t.dom)?t.dom.outerHTML:(e=>{const t=yn.fromTag("div"),n=yn.fromDom(e.dom.cloneNode(!0));return vo(t,n),ko(t)})(t):""},setOuterHTML:(e,t)=>{E(e,(e=>{ei(e)&&(e.outerHTML=t)}))},decode:Cr.decode,encode:z,insertAfter:(e,t)=>{const n=h(t);return E(e,(e=>{const t=null==n?void 0:n.parentNode,o=null==n?void 0:n.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e}))},replace:j,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=R(t);return hs(v(e),(t=>{b(n,t.nodeName,m(e,t.nodeName))})),j(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:E,getAttribs:v,isEmpty:(e,t,n)=>{if(g(t)){const o=e=>{const n=e.nodeName.toLowerCase();return Boolean(t[n])};return Ei(l,e,{...n,isContent:o})}return Ei(l,e,n)},createRng:V,nodeIndex:vs,split:(e,t,n)=>{let o,i,r=V();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return r.setStart(s,vs(e)),r.setEnd(t.parentNode,vs(t)),o=r.extractContents(),r=V(),r.setStart(t.parentNode,vs(t)+1),r.setEnd(s,vs(e)+1),i=r.extractContents(),s.insertBefore(hr(U,o,l),e),n?s.insertBefore(n,e):s.insertBefore(t,e),s.insertBefore(hr(U,i,l),e),N(e),n||t}},bind:B,unbind:Z,fire:(e,t,n)=>u.dispatch(e,t,n),dispatch:(e,t,n)=>u.dispatch(e,t,n),getContentEditable:X,getContentEditableParent:e=>{const t=y();let n=null;for(let o=e;o&&o!==t&&(n=X(o),null===n);o=o.parentNode);return n},isEditable:e=>{if(w(e)){const t=ei(e)?e:e.parentElement;return w(t)&&ti(t)&&no(yn.fromDom(t))}return!1},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,n,o]=a[e];u.unbind(t,n,o)}}Oe(i,((e,t)=>{s.unload(t),delete i[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},F=((e,t,n)=>{const o=t.keep_values,i={set:(e,o,i)=>{const r=yn.fromDom(e);S(t.url_converter)&&w(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),String(o),i,e)),gs(r,"data-mce-"+i,o),gs(r,i,o)},get:(e,t)=>{const n=yn.fromDom(e);return on(n,"data-mce-"+t)||on(n,t)}},r={style:{set:(t,n)=>{const i=yn.fromDom(t);o&&gs(i,ps,n),an(i,"style"),p(n)&&lo(i,e.parse(n))},get:t=>{const n=yn.fromDom(t),o=on(n,ps)||on(n,"style");return e.serialize(e.parse(o),Wt(n))}}};return o&&(r.href=r.src=i),r})(c,t,P(U));return U};xs.DOM=xs(document),xs.nodeIndex=vs;const ws=xs.DOM;class Ss{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const o=ws;let i;const r=()=>{o.remove(s),i&&(i.onerror=i.onload=i=null)},s=o.uniqueId();i=document.createElement("script"),i.id=s,i.type="text/javascript",i.src=It._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=()=>{r(),t()},i.onerror=()=>{r(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;t.queue.push(e);return void 0===t.states[e]&&(t.states[e]=0),new Promise(((n,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{ke(t.scriptLoadedCallbacks,n).each((t=>{Y(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},o=e=>{const t=H(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(oe(t,(({reason:e})=>O(e)?e:[e]))):Promise.resolve()},i=e=>Promise.allSettled(U(e,(e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,n("resolve",e);const r=t.queue;return r.length>0?(t.queue=[],i(r).then(o)):Promise.resolve()}),(()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))))),r=e=>(t.loading=!0,i(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return L.from(n).each(R),o(e)}))),s=$e(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>{r(s).then(e,n)}))})):r(s)}}Ss.ScriptLoader=new Ss;const _s={},ks=Ii("en"),Cs=()=>ke(_s,ks.get()),Ts={getData:()=>ve(_s,(e=>({...e}))),setCode:e=>{e&&ks.set(e)},getCode:()=>ks.get(),add:(e,t)=>{let n=_s[e];n||(_s[e]=n={});const o=U(me(t),(e=>e.toLowerCase()));Oe(t,((e,i)=>{const r=i.toLowerCase();r!==i&&((e,t)=>{const n=e.indexOf(t);return-1!==n&&e.indexOf(t,n+1)>n})(o,r)?(Ce(t,r)||(n[r]=e),n[i]=e):n[r]=e}))},translate:e=>{const t=Cs().getOr({}),n=e=>S(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null==e,i=e=>{const o=n(e);return Ce(t,o)?n(t[o]):ke(t,o.toLowerCase()).map(n).getOr(o)},r=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(m(s=e)&&Ce(s,"raw"))return n(e.raw);var s;if((e=>O(e)&&e.length>1)(e)){const t=e.slice(1);return r(i(e[0]).replace(/\{([0-9]+)\}/g,((e,o)=>Ce(t,o)?n(t[o]):e)))}return r(i(e))},isRtl:()=>Cs().bind((e=>ke(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>Ce(_s,e)},$s=()=>{const e=[],t={},n={},o=[],i=(e,t)=>{const n=H(o,(n=>n.name===e&&n.state===t));Y(n,(e=>e.resolve()))},r=e=>Ce(t,e),s=(e,n)=>{const o=Ts.getCode();!o||n&&-1===(","+(n||"")+",").indexOf(","+o+",")||Ss.ScriptLoader.add(t[e]+"/langs/"+o+".js")},a=(e,t="added")=>"added"===t&&(e=>Ce(n,e))(e)||"loaded"===t&&r(e)?Promise.resolve():new Promise((n=>{o.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==$s.languageLoad&&(r(e)?s(e,t):a(e,"loaded").then((()=>s(e,t))))},add:(t,o)=>(e.push(o),n[t]={instance:o},i(t,"added"),o),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,o)=>{if(t[e])return Promise.resolve();let r=p(o)?o:o.prefix+o.resource+o.suffix;0!==r.indexOf("/")&&-1===r.indexOf("://")&&(r=$s.baseURL+"/"+r),t[e]=r.substring(0,r.lastIndexOf("/"));const s=()=>(i(e,"loaded"),Promise.resolve());return n[e]?s():Ss.ScriptLoader.add(r).then(s)},waitFor:a}};$s.languageLoad=!0,$s.baseURL="",$s.PluginManager=$s(),$s.ThemeManager=$s(),$s.ModelManager=$s();const Ps=(e,t)=>{let n=null;return{cancel:()=>{v(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{v(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}},As=(e,t)=>{let n=null;const o=()=>{v(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...i)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,i)}),t)}}},Qs=P("mce-annotation"),Es=P("data-mce-annotation"),Ms=P("data-mce-annotation-uid"),Ds=P("data-mce-annotation-active"),Is=P("data-mce-annotation-classes"),Rs=P("data-mce-annotation-attrs"),zs=e=>t=>_n(t,e),Ns=(e,t)=>{const n=e.selection.getRng(),o=yn.fromDom(n.startContainer),i=yn.fromDom(e.getBody()),r=t.fold((()=>"."+Qs()),(e=>`[${Es()}="${e}"]`)),s=zn(o,n.startOffset).getOr(o);return to(s,r,zs(i)).bind((t=>rn(t,`${Ms()}`).bind((n=>rn(t,`${Es()}`).map((t=>{const o=js(e,n);return{uid:n,name:t,elements:o}}))))))},Ls=(e,t)=>sn(e,"data-mce-bogus")||((e,t,n)=>Jn(e,t,n).isSome())(e,'[data-mce-bogus="all"]',zs(t)),js=(e,t)=>{const n=yn.fromDom(e.getBody()),o=jo(n,`[${Ms()}="${t}"]`);return H(o,(e=>!Ls(e,n)))},Vs=(e,t)=>{const n=yn.fromDom(e.getBody()),o=jo(n,`[${Es()}="${t}"]`),i={};return Y(o,(e=>{if(!Ls(e,n)){const t=on(e,Ms()),n=ke(i,t).getOr([]);i[t]=n.concat([e])}})),i},Bs=(e,t)=>{const n=Ii({}),o=()=>({listeners:[],previous:zi()}),i=(e,t)=>{r(e,(e=>(t(e),e)))},r=(e,t)=>{const i=n.get(),r=t(ke(i,e).getOrThunk(o));i[e]=r,n.set(i)},s=(t,n)=>{Y(js(e,t),(e=>{n?tn(e,Ds(),"true"):an(e,Ds())}))},a=As((()=>{const n=le(t.getNames());Y(n,(t=>{r(t,(n=>{const o=n.previous.get();return Ns(e,L.some(t)).fold((()=>{o.each((e=>{(e=>{i(e,(t=>{Y(t.listeners,(t=>t(!1,e)))}))})(t),n.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:r})=>{Rt(o,e)||(o.each((e=>s(e,!1))),((e,t,n)=>{i(e,(o=>{Y(o.listeners,(o=>o(!0,e,{uid:t,nodes:U(n,(e=>e.dom))})))}))})(t,e,r),n.previous.set(e),s(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(()=>{a.cancel()})),e.on("NodeChange",(()=>{a.throttle()}));return{addListener:(e,t)=>{r(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}},Zs=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Xs=0;const Ws=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Zs());return Xs++,e+"_"+n+Xs+String(t)},Us=(e,t)=>yn.fromDom(e.dom.cloneNode(t)),Ys=e=>Us(e,!1),Fs=e=>Us(e,!0),qs=(e,t)=>{const n=((e,t)=>{const n=yn.fromTag(t),o=ln(e);return nn(n,o),n})(e,t);go(e,n);const o=Rn(e);return yo(n,o),wo(e),n},Hs=(e,t,n=z)=>{const o=new Xo(e,t),i=e=>{let t;do{t=o[e]()}while(t&&!ci(t)&&!n(t));return L.from(t).filter(ci)};return{current:()=>L.from(o.current()).filter(ci),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},Gs=(e,t)=>{const n=t||(t=>e.isBlock(t)||mi(t)||vi(t)),o=(e,t,n,i)=>{if(ci(e)){const n=i(e,t,e.data);if(-1!==n)return L.some({container:e,offset:n})}return n().bind((e=>o(e.container,e.offset,n,i)))};return{backwards:(t,i,r,s)=>{const a=Hs(t,null!=s?s:e.getRoot(),n);return o(t,i,(()=>a.prev().map((e=>({container:e,offset:e.length})))),r).getOrNull()},forwards:(t,i,r,s)=>{const a=Hs(t,null!=s?s:e.getRoot(),n);return o(t,i,(()=>a.next().map((e=>({container:e,offset:0})))),r).getOrNull()}}},Ks=((e,t)=>{const n=t=>e(t)?L.from(t.dom.nodeValue):L.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(Ht,"text"),Js=e=>Ks.get(e),ea=(e,t)=>Ks.set(e,t),ta=e=>{let t;return n=>(t=t||ae(e,N),Ce(t,Wt(n)))},na=e=>qt(e)&&"br"===Wt(e),oa=ta(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),ia=ta(["ul","ol","dl"]),ra=ta(["li","dd","dt"]),sa=ta(["thead","tbody","tfoot"]),aa=ta(["td","th"]),la=ta(["pre","script","textarea","style"]),ca=e=>{const t=jo(e,"br"),n=H((e=>{const t=[];let n=e.dom;for(;n;)t.push(yn.fromDom(n)),n=n.lastChild;return t})(e).slice(-1),na);t.length===n.length&&Y(n,wo)},ua=()=>{const e=yn.fromTag("br");return tn(e,"data-mce-bogus","1"),e},da=e=>{xo(e),vo(e,ua())},ha=Wo,fa=Yo,pa=e=>e.replace(/\uFEFF/g,""),ma=ei,ga=ci,Oa=e=>(ga(e)&&(e=e.parentNode),ma(e)&&e.hasAttribute("data-mce-caret")),va=e=>ga(e)&&fa(e.data),ba=e=>Oa(e)||va(e),ya=e=>e.firstChild!==e.lastChild||!mi(e.firstChild),xa=e=>{const t=e.container();return!!ci(t)&&(t.data.charAt(e.offset())===ha||e.isAtStart()&&va(t.previousSibling))},wa=e=>{const t=e.container();return!!ci(t)&&(t.data.charAt(e.offset()-1)===ha||e.isAtEnd()&&va(t.nextSibling))},Sa=e=>ga(e)&&e.data[0]===ha,_a=e=>ga(e)&&e.data[e.data.length-1]===ha,ka=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),o=n[n.length-1];ri(o)&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ca=e=>Oa(e.startContainer),Ta=Math.round,$a=e=>e?{left:Ta(e.left),top:Ta(e.top),bottom:Ta(e.bottom),right:Ta(e.right),width:Ta(e.width),height:Ta(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Pa=(e,t)=>(e=$a(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Aa=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Qa=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Aa(t.top-e.bottom,e,t)},Ea=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&Aa(t.bottom-e.top,e,t),Ma=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-i)*(n-i))},Da=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ia=(e,t)=>{if(ei(e)&&e.hasChildNodes()){const n=e.childNodes,o=((e,t,n)=>Math.min(Math.max(e,t),n))(t,0,n.length-1);return n[o]}return e},Ra=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),za=e=>p(e)&&e.charCodeAt(0)>=768&&Ra.test(e),Na=Oi,La=vi,ja=mi,Va=ci,Ba=oi(["script","style","textarea"]),Za=oi(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Xa=oi(["table"]),Wa=ba,Ua=e=>!Wa(e)&&(Va(e)?!Ba(e.parentNode):Za(e)||ja(e)||Xa(e)||Ya(e)),Ya=e=>!(e=>ei(e)&&"true"===e.getAttribute("unselectable"))(e)&&La(e),Fa=(e,t)=>Ua(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Ya(n))return!1;if(Na(n))return!0}return!0})(e,t),qa=ei,Ha=Ua,Ga=ii("display","block table"),Ka=ii("float","left right"),Ja=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(qa,Ha,M(Ka)),el=M(ii("white-space","pre pre-line pre-wrap")),tl=ci,nl=mi,ol=xs.nodeIndex,il=(e,t)=>t<0&&ei(e)&&e.hasChildNodes()?void 0:Ia(e,t),rl=e=>e?e.createRange():xs.DOM.createRng(),sl=e=>p(e)&&/[\r\n\t ]/.test(e),al=e=>!!e.setStart&&!!e.setEnd,ll=e=>{const t=e.startContainer,n=e.startOffset;if(sl(e.toString())&&el(t.parentNode)&&ci(t)){const e=t.data;if(sl(e[n-1])||sl(e[n+1]))return!0}return!1},cl=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,ul=e=>{var t;let n;const o=e.getClientRects();return n=o.length>0?$a(o[0]):$a(e.getBoundingClientRect()),!al(e)&&nl(e)&&cl(n)?(e=>{const t=e.ownerDocument,n=rl(t),o=t.createTextNode(Uo),i=e.parentNode;i.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const r=$a(n.getBoundingClientRect());return i.removeChild(o),r})(e):cl(n)&&al(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,o=e.startOffset,i=e.endOffset;if(t===n&&ci(n)&&0===o&&1===i){const t=e.cloneRange();return t.setEndAfter(n),ul(t)}return null})(e))&&void 0!==t?t:n},dl=(e,t)=>{const n=Pa(e,t);return n.width=1,n.right=n.left+1,n},hl=e=>{const t=[],n=e=>{var n,o;0!==e.height&&(t.length>0&&(n=e,o=t[t.length-1],n.left===o.left&&n.top===o.top&&n.bottom===o.bottom&&n.right===o.right)||t.push(e))},o=(e,t)=>{const o=rl(e.ownerDocument);if(t<e.data.length){if(za(e.data[t]))return;if(za(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!ll(o)))return void n(dl(ul(o),!1))}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),ll(o)||n(dl(ul(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),ll(o)||n(dl(ul(o),!0)))},i=e.container(),r=e.offset();if(tl(i))return o(i,r),t;if(qa(i))if(e.isAtEnd()){const e=il(i,r);tl(e)&&o(e,e.data.length),Ja(e)&&!nl(e)&&n(dl(ul(e),!1))}else{const s=il(i,r);if(tl(s)&&o(s,0),Ja(s)&&e.isAtEnd())return n(dl(ul(s),!1)),t;const a=il(e.container(),e.offset()-1);Ja(a)&&!nl(a)&&(Ga(a)||Ga(s)||!Ja(s))&&n(dl(ul(a),!1)),Ja(s)&&n(dl(ul(s),!0))}return t},fl=(e,t,n)=>{const o=()=>(n||(n=hl(fl(e,t))),n);return{container:P(e),offset:P(t),toRange:()=>{const n=rl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>(tl(e),0===t),isAtEnd:()=>tl(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>il(e,n?t-1:t)}};fl.fromRangeStart=e=>fl(e.startContainer,e.startOffset),fl.fromRangeEnd=e=>fl(e.endContainer,e.endOffset),fl.after=e=>fl(e.parentNode,ol(e)+1),fl.before=e=>fl(e.parentNode,ol(e)),fl.isAbove=(e,t)=>Nt(ue(t.getClientRects()),de(e.getClientRects()),Qa).getOr(!1),fl.isBelow=(e,t)=>Nt(de(t.getClientRects()),ue(e.getClientRects()),Ea).getOr(!1),fl.isAtStart=e=>!!e&&e.isAtStart(),fl.isAtEnd=e=>!!e&&e.isAtEnd(),fl.isTextPosition=e=>!!e&&ci(e.container()),fl.isElementPosition=e=>!fl.isTextPosition(e);const pl=(e,t)=>{ci(t)&&0===t.data.length&&e.remove(t)},ml=(e,t,n)=>{pi(n)?((e,t,n)=>{const o=L.from(n.firstChild),i=L.from(n.lastChild);t.insertNode(n),o.each((t=>pl(e,t.previousSibling))),i.each((t=>pl(e,t.nextSibling)))})(e,t,n):((e,t,n)=>{t.insertNode(n),pl(e,n.previousSibling),pl(e,n.nextSibling)})(e,t,n)},gl=ci,Ol=ri,vl=xs.nodeIndex,bl=e=>{const t=e.parentNode;return Ol(t)?bl(t):t},yl=e=>e?De(e.childNodes,((e,t)=>(Ol(t)&&"BR"!==t.nodeName?e=e.concat(yl(t)):e.push(t),e)),[]):[],xl=e=>t=>e===t,wl=e=>(gl(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=yl(bl(e)),n=Ie(t,xl(e),e),t=t.slice(0,n+1);const o=De(t,((e,n,o)=>(gl(n)&&gl(t[o-1])&&e++,e)),0);return t=Me(t,oi([e.nodeName])),n=Ie(t,xl(e),e),n-o})(e)+"]",Sl=(e,t)=>{let n,o=[],i=t.container(),r=t.offset();if(gl(i))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&gl(n);)t+=n.data.length;return t})(i,r);else{const e=i.childNodes;r>=e.length?(n="after",r=e.length-1):n="before",i=e[r]}o.push(wl(i));let s=((e,t,n)=>{const o=[];for(let i=t.parentNode;i&&i!==e&&(!n||!n(i));i=i.parentNode)o.push(i);return o})(e,i);return s=Me(s,M(ri)),o=o.concat(Ee(s,(e=>wl(e)))),o.reverse().join("/")+","+n},_l=(e,t)=>{if(!t)return null;const n=t.split(","),o=n[0].split("/"),i=n.length>1?n[1]:"before",r=De(o,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let o=yl(e);return o=Me(o,((e,t)=>!gl(e)||!gl(o[t-1]))),o=Me(o,oi([t])),o[n]})(e,n[1],parseInt(n[2],10))):null}),e);if(!r)return null;if(!gl(r)&&r.parentNode){let e;return e="after"===i?vl(r)+1:vl(r),fl(r.parentNode,e)}return((e,t)=>{let n=e,o=0;for(;gl(n);){const i=n.data.length;if(t>=o&&t<=o+i){e=n,t-=o;break}if(!gl(n.nextSibling)){e=n,t=i;break}o+=i,n=n.nextSibling}return gl(e)&&t>e.data.length&&(t=e.data.length),fl(e,t)})(r,parseInt(i,10))},kl=vi,Cl=(e,t,n,o,i)=>{const r=i?o.startContainer:o.endContainer;let s=i?o.startOffset:o.endOffset;const a=[],l=e.getRoot();if(ci(r))a.push(n?((e,t,n)=>{let o=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&ci(n);n=n.previousSibling)o+=e(n.data).length;return o})(t,r,s):s);else{let t=0;const o=r.childNodes;s>=o.length&&o.length&&(t=1,s=Math.max(0,o.length-1)),a.push(e.nodeIndex(o[s],n)+t)}for(let t=r;t&&t!==l;t=t.parentNode)a.push(e.nodeIndex(t,n));return a},Tl=(e,t,n)=>{let o=0;return It.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void o++)),o},$l=(e,t)=>{let n=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(ei(n)&&"TR"===n.nodeName){const i=n.childNodes;n=i[Math.min(t?o:o-1,i.length-1)],n&&(o=t?0:n.childNodes.length,t?e.setStart(n,o):e.setEnd(n,o))}},Pl=e=>($l(e,!0),$l(e,!1),e),Al=(e,t)=>{if(ei(e)&&(e=Ia(e,t),kl(e)))return e;if(ba(e)){ci(e)&&Oa(e)&&(e=e.parentNode);let t=e.previousSibling;if(kl(t))return t;if(t=e.nextSibling,kl(t))return t}},Ql=(e,t,n)=>{const o=n.getNode(),i=n.getRng();if("IMG"===o.nodeName||kl(o)){const e=o.nodeName;return{name:e,index:Tl(n.dom,e,o)}}const r=(e=>Al(e.startContainer,e.startOffset)||Al(e.endContainer,e.endOffset))(i);if(r){const e=r.tagName;return{name:e,index:Tl(n.dom,e,r)}}return((e,t,n,o)=>{const i=t.dom,r=Cl(i,e,n,o,!0),s=t.isForward(),a=Ca(o)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:r,forward:s,...a}:{start:r,end:Cl(i,e,n,o,!1),forward:s,...a}})(e,n,t,i)},El=(e,t,n)=>{const o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},Ml=(e,t)=>{const n=e.dom;let o=e.getRng();const i=n.uniqueId(),r=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:Tl(n,a,s)};const c=Pl(o.cloneRange());if(!r){c.collapse(!1);const e=El(n,i+"_end",t);ml(n,c,e)}o=Pl(o),o.collapse(!0);const u=El(n,i+"_start",t);return ml(n,o,u),e.moveToBookmark({id:i,keep:!0,forward:l}),{id:i,forward:l}},Dl=(e,t,n=!1)=>2===t?Ql(pa,n,e):3===t?(e=>{const t=e.getRng();return{start:Sl(e.dom.getRoot(),fl.fromRangeStart(t)),end:Sl(e.dom.getRoot(),fl.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):Ml(e,!1),Il=E(Ql,A,!0),Rl=e=>{const t=t=>t(e),n=P(e),o=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:N,isError:z,map:t=>Nl.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>L.some(e)};return i},zl=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:z,isError:N,map:t,mapError:t=>Nl.error(t(e)),bind:t,exists:z,forall:N,getOr:A,or:A,getOrThunk:I,orThunk:I,getOrDie:D(String(e)),each:C,toOptional:L.none};return n},Nl={value:Rl,error:zl,fromOption:(e,t)=>e.fold((()=>zl(t)),Rl)},Ll=e=>{if(!O(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return Y(e,((o,i)=>{const r=me(o);if(1!==r.length)throw new Error("one and only one name per case");const s=r[0],a=o[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!O(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[i].apply(null,n)},match:e=>{const o=me(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!ie(t,(e=>X(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};Ll([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const jl=e=>"inline-command"===e.type||"inline-format"===e.type,Vl=e=>"block-command"===e.type||"block-format"===e.type,Bl=e=>{var t;const n=t=>Nl.error({message:t,pattern:e}),o=(t,o,i)=>{if(void 0!==e.format){let i;if(O(e.format)){if(!ie(e.format,p))return n(t+" pattern has non-string items in the `format` array");i=e.format}else{if(!p(e.format))return n(t+" pattern has non-string `format` parameter");i=[e.format]}return Nl.value(o(i))}return void 0!==e.cmd?p(e.cmd)?Nl.value(i(e.cmd,e.value)):n(t+" pattern has non-string `cmd` parameter"):n(t+" pattern is missing both `format` and `cmd` parameters")};if(!m(e))return n("Raw pattern is not an object");if(!p(e.start))return n("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return n("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return n("Inline pattern has empty `start` and `end` parameters");let t=e.start,i=e.end;return 0===i.length&&(i=t,t=""),o("Inline",(e=>({type:"inline-format",start:t,end:i,format:e})),((e,n)=>({type:"inline-command",start:t,end:i,cmd:e,value:n})))}if(void 0!==e.replacement)return p(e.replacement)?0===e.start.length?n("Replacement pattern has empty `start` parameter"):Nl.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=null!==(t=e.trigger)&&void 0!==t?t:"space";return 0===e.start.length?n("Block pattern has empty `start` parameter"):o("Block",(t=>({type:"block-format",start:e.start,format:t[0],trigger:i})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n,trigger:i})))}},Zl=e=>H(e,Vl),Xl=e=>H(e,jl),Wl=(e,t)=>({...e,blockPatterns:H(e.blockPatterns,(e=>((e,t)=>("block-command"===e.type||"block-format"===e.type)&&e.trigger===t)(e,t)))}),Ul=e=>{const t=(e=>{const t=[],n=[];return Y(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(U(e,Bl));return Y(t.errors,(e=>console.error(e.message,e.pattern))),t.values},Yl=(e,t,n)=>{e.dispatch(t,n)},Fl=(e,t,n,o)=>{e.dispatch("FormatApply",{format:t,node:n,vars:o})},ql=(e,t,n,o)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:o})},Hl=(e,t)=>e.dispatch("SetContent",t),Gl=(e,t)=>e.dispatch("GetContent",t),Kl=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},Jl=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),ec=_t().deviceType,tc=ec.isTouch(),nc=xs.DOM,oc=e=>f(e,RegExp),ic=e=>t=>t.options.get(e),rc=e=>p(e)||m(e),sc=(e,t="")=>n=>{const o=p(n);if(o){if(-1!==n.indexOf("=")){const i=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return K(t,((e,t)=>{const n=t.split("="),o=n[0],i=n.length>1?n[1]:o;return e[Fe(o)]=Fe(i),e}),{})})(n);return{value:ke(i,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}},ac=ic("iframe_attrs"),lc=ic("doctype"),cc=ic("document_base_url"),uc=ic("body_id"),dc=ic("body_class"),hc=ic("content_security_policy"),fc=ic("br_in_pre"),pc=ic("forced_root_block"),mc=ic("forced_root_block_attrs"),gc=ic("newline_behavior"),Oc=ic("br_newline_selector"),vc=ic("no_newline_selector"),bc=ic("keep_styles"),yc=ic("end_container_on_empty_block"),xc=ic("automatic_uploads"),wc=ic("images_reuse_filename"),Sc=ic("images_replace_blob_uris"),_c=ic("icons"),kc=ic("icons_url"),Cc=ic("images_upload_url"),Tc=ic("images_upload_base_path"),$c=ic("images_upload_credentials"),Pc=ic("images_upload_handler"),Ac=ic("content_css_cors"),Qc=ic("referrer_policy"),Ec=ic("language"),Mc=ic("language_url"),Dc=ic("indent_use_margin"),Ic=ic("indentation"),Rc=ic("content_css"),zc=ic("content_style"),Nc=ic("font_css"),Lc=ic("directionality"),jc=ic("inline_boundaries_selector"),Vc=ic("object_resizing"),Bc=ic("resize_img_proportional"),Zc=ic("placeholder"),Xc=ic("event_root"),Wc=ic("service_message"),Uc=ic("theme"),Yc=ic("theme_url"),Fc=ic("model"),qc=ic("model_url"),Hc=ic("inline_boundaries"),Gc=ic("formats"),Kc=ic("preview_styles"),Jc=ic("format_empty_lines"),eu=ic("format_noneditable_selector"),tu=ic("custom_ui_selector"),nu=ic("inline"),ou=ic("hidden_input"),iu=ic("submit_patch"),ru=ic("add_form_submit_trigger"),su=ic("add_unload_trigger"),au=ic("custom_undo_redo_levels"),lu=ic("disable_nodechange"),cu=ic("readonly"),uu=ic("editable_root"),du=ic("content_css_cors"),hu=ic("plugins"),fu=ic("external_plugins"),pu=ic("block_unsupported_drop"),mu=ic("visual"),gu=ic("visual_table_class"),Ou=ic("visual_anchor_class"),vu=ic("iframe_aria_text"),bu=ic("setup"),yu=ic("init_instance_callback"),xu=ic("urlconverter_callback"),wu=ic("auto_focus"),Su=ic("browser_spellcheck"),_u=ic("protect"),ku=ic("paste_block_drop"),Cu=ic("paste_data_images"),Tu=ic("paste_preprocess"),$u=ic("paste_postprocess"),Pu=ic("newdocument_content"),Au=ic("paste_webkit_styles"),Qu=ic("paste_remove_styles_if_webkit"),Eu=ic("paste_merge_formats"),Mu=ic("smart_paste"),Du=ic("paste_as_text"),Iu=ic("paste_tab_spaces"),Ru=ic("allow_html_data_urls"),zu=ic("text_patterns"),Nu=ic("text_patterns_lookup"),Lu=ic("noneditable_class"),ju=ic("editable_class"),Vu=ic("noneditable_regexp"),Bu=ic("preserve_cdata"),Zu=ic("highlight_on_focus"),Xu=ic("xss_sanitization"),Wu=ic("init_content_sync"),Uu=e=>It.explode(e.options.get("images_file_types")),Yu=ic("table_tab_navigation"),Fu=ic("details_initial_state"),qu=ic("details_serialized_state"),Hu=ic("sandbox_iframes"),Gu=e=>e.options.get("sandbox_iframes_exclusions"),Ku=ic("convert_unsafe_embeds"),Ju=ic("license_key"),ed=ic("api_key"),td=ic("disabled"),nd=ei,od=ci,id=e=>{const t=e.parentNode;t&&t.removeChild(e)},rd=e=>{const t=pa(e);return{count:e.length-t.length,text:t}},sd=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(ha));)e.deleteData(t,1)},ad=(e,t)=>(dd(e),t),ld=(e,t)=>{const n=t.container(),o=((e,t)=>{const n=Z(e,t);return-1===n?L.none():L.some(n)})(he(n.childNodes),e).map((e=>e<t.offset()?fl(n,t.offset()-1):t)).getOr(t);return dd(e),o},cd=(e,t)=>od(e)&&t.container()===e?((e,t)=>{const n=rd(e.data.substr(0,t.offset())),o=rd(e.data.substr(t.offset()));return(n.text+o.text).length>0?(sd(e),fl(e,t.offset()-n.count)):t})(e,t):ad(e,t),ud=(e,t)=>fl.isTextPosition(t)?cd(e,t):((e,t)=>t.container()===e.parentNode?ld(e,t):ad(e,t))(e,t),dd=e=>{nd(e)&&ba(e)&&(ya(e)?e.removeAttribute("data-mce-caret"):id(e)),od(e)&&(sd(e),0===e.data.length&&id(e))},hd=vi,fd=wi,pd=yi,md=(e,t,n)=>{const o=Pa(t.getBoundingClientRect(),n);let i,r;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;i=e.scrollLeft||t.scrollLeft,r=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();i=e.scrollLeft-t.left,r=e.scrollTop-t.top}o.left+=i,o.right+=i,o.top+=r,o.bottom+=r,o.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),o.left+=s,o.right+=s),o},gd=(e,t,n,o)=>{const i=zi();let r,s;const a=pc(e),l=e.dom,c=()=>{(e=>{var t,n;const o=jo(yn.fromDom(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<o.length;e++){const i=o[e].dom;let r=i.previousSibling;if(_a(r)){const e=r.data;1===e.length?null===(t=r.parentNode)||void 0===t||t.removeChild(r):r.deleteData(e.length-1,1)}r=i.nextSibling,Sa(r)&&(1===r.data.length?null===(n=r.parentNode)||void 0===n||n.removeChild(r):r.deleteData(0,1))}})(t),s&&(dd(s),s=null),i.on((e=>{l.remove(e.caret),i.clear()})),r&&(clearInterval(r),r=void 0)},u=()=>{r=window.setInterval((()=>{i.on((e=>{o()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)};return{show:(e,o)=>{let r;if(c(),pd(o))return null;if(!n(o))return s=((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(ha),i=e.parentNode;if(t){const t=e.previousSibling;if(ga(t)){if(ba(t))return t;if(_a(t))return t.splitText(t.data.length-1)}null==i||i.insertBefore(o,e)}else{const t=e.nextSibling;if(ga(t)){if(ba(t))return t;if(Sa(t))return t.splitText(1),t}e.nextSibling?null==i||i.insertBefore(o,e.nextSibling):null==i||i.appendChild(o)}return o})(o,e),r=o.ownerDocument.createRange(),vd(s.nextSibling)?(r.setStart(s,0),r.setEnd(s,0)):(r.setStart(s,1),r.setEnd(s,1)),r;{const n=((e,t,n)=>{var o;const i=(null!==(o=t.ownerDocument)&&void 0!==o?o:document).createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(ua().dom);const r=t.parentNode;return n?null==r||r.insertBefore(i,t):t.nextSibling?null==r||r.insertBefore(i,t.nextSibling):null==r||r.appendChild(i),i})(a,o,e),c=md(t,o,e);l.setStyle(n,"top",c.top),l.setStyle(n,"caret-color","transparent"),s=n;const d=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(d,{...c}),l.add(t,d),i.set({caret:d,element:o,before:e}),e&&l.addClass(d,"mce-visual-caret-before"),u(),r=o.ownerDocument.createRange(),r.setStart(n,0),r.setEnd(n,0)}return r},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on((e=>{const n=md(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(r)}},Od=()=>Qt.browser.isFirefox(),vd=e=>hd(e)||fd(e),bd=e=>(vd(e)||si(e)&&Od())&&An(yn.fromDom(e)).exists(no),yd=Oi,xd=vi,wd=wi,Sd=ii("display","block table table-cell table-row table-caption list-item"),_d=ba,kd=Oa,Cd=ei,Td=ci,$d=Ua,Pd=e=>1===e,Ad=e=>-1===e,Qd=(e,t)=>{let n;for(;n=e(t);)if(!kd(n))return n;return null},Ed=(e,t,n,o,i)=>{const r=new Xo(e,o),s=xd(e)||kd(e);let a;if(Ad(t)){if(s&&(a=Qd(r.prev.bind(r),!0),n(a)))return a;for(;a=Qd(r.prev.bind(r),i);)if(n(a))return a}if(Pd(t)){if(s&&(a=Qd(r.next.bind(r),!0),n(a)))return a;for(;a=Qd(r.next.bind(r),i);)if(n(a))return a}return null},Md=(e,t)=>{for(;e&&e!==t;){if(Sd(e))return e;e=e.parentNode}return null},Dd=(e,t,n)=>Md(e.container(),n)===Md(t.container(),n),Id=(e,t)=>{if(!t)return L.none();const n=t.container(),o=t.offset();return Cd(n)?L.from(n.childNodes[o+e]):L.none()},Rd=(e,t)=>{var n;const o=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},zd=(e,t,n)=>Md(t,e)===Md(n,e),Nd=(e,t,n)=>{const o=e?"previousSibling":"nextSibling";let i=n;for(;i&&i!==t;){let e=i[o];if(e&&_d(e)&&(e=e[o]),xd(e)||wd(e)){if(zd(t,e,i))return e;break}if($d(e))break;i=i.parentNode}return null},Ld=E(Rd,!0),jd=E(Rd,!1),Vd=(e,t,n)=>{let o;const i=E(Nd,!0,t),r=E(Nd,!1,t),s=n.startContainer,a=n.startOffset;if(Oa(s)){const e=Td(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(o=e.nextSibling,bd(o)))return Ld(o);if("after"===t&&(o=e.previousSibling,bd(o)))return jd(o)}if(!n.collapsed)return n;if(ci(s)){if(_d(s)){if(1===e){if(o=r(s),o)return Ld(o);if(o=i(s),o)return jd(o)}if(-1===e){if(o=i(s),o)return jd(o);if(o=r(s),o)return Ld(o)}return n}if(_a(s)&&a>=s.data.length-1)return 1===e&&(o=r(s),o)?Ld(o):n;if(Sa(s)&&a<=1)return-1===e&&(o=i(s),o)?jd(o):n;if(a===s.data.length)return o=r(s),o?Ld(o):n;if(0===a)return o=i(s),o?jd(o):n}return n},Bd=(e,t)=>Id(e?0:-1,t).filter(xd),Zd=(e,t,n)=>{const o=Vd(e,t,n);return-1===e?fl.fromRangeStart(o):fl.fromRangeEnd(o)},Xd=e=>L.from(e.getNode()).map(yn.fromDom),Wd=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Ud=(e,t)=>{const n=Dd(e,t);return!(n||!mi(e.getNode()))||n},Yd=vi,Fd=ci,qd=ei,Hd=mi,Gd=Ua,Kd=e=>Za(e)||(e=>!!Ya(e)&&!K(he(e.getElementsByTagName("*")),((e,t)=>e||Na(t)),!1))(e),Jd=Fa,eh=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,th=(e,t)=>{if(Pd(e)){if(Gd(t.previousSibling)&&!Fd(t.previousSibling))return fl.before(t);if(Fd(t))return fl(t,0)}if(Ad(e)){if(Gd(t.nextSibling)&&!Fd(t.nextSibling))return fl.after(t);if(Fd(t))return fl(t,t.data.length)}return Ad(e)?Hd(t)?fl.before(t):fl.after(t):fl.before(t)},nh=(e,t,n)=>{let o,i,r,s;if(!qd(n)||!t)return null;if(t.isEqual(fl.after(n))&&n.lastChild){if(s=fl.after(n.lastChild),Ad(e)&&Gd(n.lastChild)&&qd(n.lastChild))return Hd(n.lastChild)?fl.before(n.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(Fd(a)){if(Ad(e)&&l>0)return fl(a,--l);if(Pd(e)&&l<a.length)return fl(a,++l);o=a}else{if(Ad(e)&&l>0&&(i=eh(a,l-1),Gd(i)))return!Kd(i)&&(r=Ed(i,e,Jd,i),r)?Fd(r)?fl(r,r.data.length):fl.after(r):Fd(i)?fl(i,i.data.length):fl.before(i);if(Pd(e)&&l<a.childNodes.length&&(i=eh(a,l),Gd(i)))return Hd(i)?((e,t)=>{const n=t.nextSibling;return n&&Gd(n)?Fd(n)?fl(n,0):fl.before(n):nh(1,fl.after(t),e)})(n,i):!Kd(i)&&(r=Ed(i,e,Jd,i),r)?Fd(r)?fl(r,0):fl.before(r):Fd(i)?fl(i,0):fl.after(i);o=i||s.getNode()}if(o&&(Pd(e)&&s.isAtEnd()||Ad(e)&&s.isAtStart())&&(o=Ed(o,e,N,n,!0),Jd(o,n)))return th(e,o);i=o?Ed(o,e,Jd,n):o;const c=Re(H(((e,t)=>{const n=[];let o=e;for(;o&&o!==t;)n.push(o),o=o.parentNode;return n})(a,n),Yd));return!c||i&&c.contains(i)?i?th(e,i):null:(s=Pd(e)?fl.after(c):fl.before(c),s)},oh=e=>({next:t=>nh(1,t,e),prev:t=>nh(-1,t,e)}),ih=e=>fl.isTextPosition(e)?0===e.offset():Ua(e.getNode()),rh=e=>{if(fl.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Ua(e.getNode(!0))},sh=(e,t)=>!fl.isTextPosition(e)&&!fl.isTextPosition(t)&&e.getNode()===t.getNode(!0),ah=(e,t,n)=>{return e?!sh(t,n)&&(o=t,!(!fl.isTextPosition(o)&&mi(o.getNode())))&&rh(t)&&ih(n):!sh(n,t)&&ih(t)&&rh(n);var o},lh=(e,t,n)=>{const o=oh(t);return L.from(e?o.next(n):o.prev(n))},ch=(e,t,n)=>lh(e,t,n).bind((o=>Dd(n,o,t)&&ah(e,n,o)?lh(e,t,o):L.some(o))),uh=(e,t,n,o)=>ch(e,t,n).bind((n=>o(n)?uh(e,t,n,o):L.some(n))),dh=(e,t)=>{const n=e?t.firstChild:t.lastChild;return ci(n)?L.some(fl(n,e?0:n.data.length)):n?Ua(n)?L.some(e?fl.before(n):mi(o=n)?fl.before(o):fl.after(o)):((e,t,n)=>{const o=e?fl.before(n):fl.after(n);return lh(e,t,o)})(e,t,n):L.none();var o},hh=E(lh,!0),fh=E(lh,!1),ph=E(dh,!0),mh=E(dh,!1),gh="_mce_caret",Oh=e=>ei(e)&&e.id===gh,vh=(e,t)=>{let n=t;for(;n&&n!==e;){if(Oh(n))return n;n=n.parentNode}return null},bh=e=>Ce(e,"name"),yh=e=>It.isArray(e.start),xh=e=>!(!bh(e)&&b(e.forward))||e.forward,wh=(e,t)=>(ei(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Sh=(e,t)=>mh(e).fold(z,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),_h=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!vh(e,t))&&(((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(ha);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)})(t,n),!0),kh=(e,t,n,o)=>{const i=n[t?"start":"end"],r=e.getRoot();if(i){let e=r,n=i[0];for(let t=i.length-1;e&&t>=1;t--){const n=e.childNodes;if(_h(r,e,o))return!0;if(i[t]>n.length-1)return!!_h(r,e,o)||Sh(e,o);e=n[i[t]]}ci(e)&&(n=Math.min(i[0],e.data.length)),ei(e)&&(n=Math.min(i[0],e.childNodes.length)),t?o.setStart(e,n):o.setEnd(e,n)}return!0},Ch=e=>ci(e)&&e.data.length>0,Th=(e,t,n)=>{const o=e.get(n.id+"_"+t),i=null==o?void 0:o.parentNode,r=n.keep;if(o&&i){let s,a;if("start"===t?r?o.hasChildNodes()?(s=o.firstChild,a=1):Ch(o.nextSibling)?(s=o.nextSibling,a=0):Ch(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=i,a=e.nodeIndex(o)+1):(s=i,a=e.nodeIndex(o)):r?o.hasChildNodes()?(s=o.firstChild,a=1):Ch(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=i,a=e.nodeIndex(o)):(s=i,a=e.nodeIndex(o)),!r){const i=o.previousSibling,r=o.nextSibling;let l;for(It.each(It.grep(o.childNodes),(e=>{ci(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(n.id+"_"+t);)e.remove(l,!0);if(ci(r)&&ci(i)&&!Qt.browser.isOpera()){const t=i.data.length;i.appendData(r.data),e.remove(r),s=i,a=t}}return L.some(fl(s,a))}return L.none()},$h=(e,t)=>{const n=e.dom;if(t){if(yh(t))return((e,t)=>{const n=e.createRng();return kh(e,!0,t,n)&&kh(e,!1,t,n)?L.some({range:n,forward:xh(t)}):L.none()})(n,t);if((e=>p(e.start))(t))return((e,t)=>{const n=L.from(_l(e.getRoot(),t.start)),o=L.from(_l(e.getRoot(),t.end));return Nt(n,o,((n,o)=>{const i=e.createRng();return i.setStart(n.container(),n.offset()),i.setEnd(o.container(),o.offset()),{range:i,forward:xh(t)}}))})(n,t);if((e=>Ce(e,"id"))(t))return((e,t)=>{const n=Th(e,"start",t),o=Th(e,"end",t);return Nt(n,o.or(n),((n,o)=>{const i=e.createRng();return i.setStart(wh(e,n.container()),n.offset()),i.setEnd(wh(e,o.container()),o.offset()),{range:i,forward:xh(t)}}))})(n,t);if(bh(t))return((e,t)=>L.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})))(n,t);if((e=>Ce(e,"rng"))(t))return L.some({range:t.rng,forward:xh(t)})}return L.none()},Ph=(e,t,n)=>Dl(e,t,n),Ah=(e,t)=>{$h(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},Qh=e=>ei(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Eh=(Mh=Uo,e=>Mh===e);var Mh;const Dh=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Ih=e=>!Dh(e)&&!Eh(e)&&!Yo(e),Rh=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},zh=e=>H((e=>oe(e,(e=>{const t=Da(e);return t?[yn.fromDom(t)]:[]})))(e),aa),Nh=(e,t)=>{const n=jo(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:zh(e)},Lh=e=>Nh(Rh(e.selection.getSel()),yn.fromDom(e.getBody())),jh=(e,t)=>Jn(e,"table",t),Vh=e=>Nn(e).fold(P([e]),(t=>[e].concat(Vh(t)))),Bh=e=>Ln(e).fold(P([e]),(t=>"br"===Wt(t)?En(t).map((t=>[e].concat(Bh(t)))).getOr([]):[e].concat(Bh(t)))),Zh=(e,t)=>Nt((e=>{const t=e.startContainer,n=e.startOffset;return ci(t)?0===n?L.some(yn.fromDom(t)):L.none():L.from(t.childNodes[n]).map(yn.fromDom)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return ci(t)?n===t.data.length?L.some(yn.fromDom(t)):L.none():L.from(t.childNodes[n-1]).map(yn.fromDom)})(t),((t,n)=>{const o=ee(Vh(e),E(_n,t)),i=ee(Bh(e),E(_n,n));return o.isSome()&&i.isSome()})).getOr(!1),Xh=(e,t,n,o)=>{const i=n,r=new Xo(n,i),s=we(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!X(["td","th","table"],t.toLowerCase())));let a=n;do{if(ci(a)&&0!==It.trim(a.data).length)return void(o?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(o?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=o?r.next():r.prev());"BODY"===i.nodeName&&(o?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},Wh=e=>{const t=e.selection.getSel();return w(t)&&t.rangeCount>0},Uh=(e,t)=>{const n=Lh(e);n.length>0?Y(n,(n=>{const o=n.dom,i=e.dom.createRng();i.setStartBefore(o),i.setEndAfter(o),t(i,!0)})):t(e.selection.getRng(),!1)},Yh=(e,t,n)=>{const o=Ml(e,t);n(o),e.moveToBookmark(o)},Fh=e=>_(null==e?void 0:e.nodeType),qh=e=>ei(e)&&!Qh(e)&&!Oh(e)&&!ri(e),Hh=(e,t,n)=>{const{selection:o,dom:i}=e,r=o.getNode(),s=vi(r);Yh(o,!0,(()=>{t()}));s&&vi(r)&&i.isChildOf(r,e.getBody())?e.selection.select(r):n(o.getStart())&&Gh(i,o)},Gh=(e,t)=>{var n,o;const i=t.getRng(),{startContainer:r,startOffset:s}=i;if(!((e,t)=>{if(qh(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),o=parseInt(n,10);return!isNaN(o)&&o>0}return!1})(e,t.getNode())&&ei(r)){const a=r.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new Xo(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=a[a.length-1];c=new Xo(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(ci(n)&&!tf(n))return i.setStart(n,0),void t.setRng(i)}}},Kh=(e,t,n)=>{if(e){const o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(ei(e)||!tf(e))return e}},Jh=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||er(e,t),ef=(e,t,n)=>e.schema.isValidChild(t,n),tf=(e,t=!1)=>{if(w(e)&&ci(e)){const n=t?e.data.replace(/ /g," "):e.data;return qo(n)}return!1},nf=(e,t)=>{const n=e.dom;return qh(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",o=eu(e),i=Ke(o)?n:`${n},${o}`;return wn(yn.fromDom(t),i)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},of=(e,t)=>S(e)?e(t):(w(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),rf=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),sf=(e,t)=>{if(x(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=es(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},af=(e,t,n)=>{const o=e.getStyle(t,n);return sf(o,n)},lf=(e,t)=>{let n;return e.getParent(t,(t=>!!ei(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n))),n},cf=(e,t,n)=>e.getParents(t,n,e.getRoot()),uf=(e,t,n)=>{const o=e.formatter.get(t);return w(o)&&W(o,n)},df=(e,t,n)=>{const o=["inline","block","selector","attributes","styles","classes"],i=e=>we(e,((e,t)=>W(o,(e=>e===t))));return uf(e,t,(t=>{const o=i(t);return uf(e,n,(e=>{const t=i(e);return((e,t,n=a)=>s(n).eq(e,t))(o,t)}))}))},hf=e=>Te(e,"block"),ff=e=>Te(e,"selector"),pf=e=>Te(e,"inline"),mf=e=>ff(e)&&!1!==e.expand&&!pf(e),gf=e=>(e=>{const t=[];let n=e;for(;n;){if(ci(n)&&n.data!==ha||n.childNodes.length>1)return[];ei(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Of=e=>Oh(e.dom)&&gf(e.dom),vf=Qh,bf=cf,yf=tf,xf=Jh,wf=(e,t)=>{let n=t;for(;n;){if(ei(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Sf=(e,t,n,o)=>{const i=t.data;if(e){for(let e=n;e>0;e--)if(o(i.charAt(e-1)))return e}else for(let e=n;e<i.length;e++)if(o(i.charAt(e)))return e;return-1},_f=(e,t,n)=>Sf(e,t,n,(e=>Eh(e)||Dh(e))),kf=(e,t,n)=>Sf(e,t,n,Ih),Cf=(e,t,n,o,i,r)=>{let s;const a=e.getParent(n,(t=>bi(t)||e.isBlock(t))),l=w(a)?a:t,c=(t,n,o)=>{const r=Gs(e),a=i?r.backwards:r.forwards;return L.from(a(t,n,((e,t)=>vf(e.parentNode)?-1:(s=e,o(i,e,t))),l))};return c(n,o,_f).bind((e=>r?c(e.container,e.offset+(i?-1:0),kf):L.some(e))).orThunk((()=>s?L.some({container:s,offset:i?0:s.length}):L.none()))},Tf=(e,t,n,o,i)=>{const r=o[i];ci(o)&&Ke(o.data)&&r&&(o=r);const s=bf(e,o);for(let o=0;o<s.length;o++)for(let i=0;i<t.length;i++){const r=t[i];if((!w(r.collapsed)||r.collapsed===n.collapsed)&&(ff(r)&&e.is(s[o],r.selector)))return s[o]}return o},$f=(e,t,n,o)=>{var i;let r=n;const s=e.getRoot(),a=t[0];if(hf(a)&&(r=a.wrapper?null:e.getParent(n,a.block,s)),!r){const t=null!==(i=e.getParent(n,"LI,TD,TH,SUMMARY"))&&void 0!==i?i:s;r=e.getParent(ci(n)?n.parentNode:n,(t=>t!==s&&xf(e.schema,t)),t)}if(r&&hf(a)&&a.wrapper&&(r=bf(e,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r&&r[o]&&!e.isBlock(r[o])&&(r=r[o],!rf(r,"br")););return r||n},Pf=(e,t,n,o)=>{const i=n.parentNode;return!w(n[o])&&(!(i!==t&&!x(i)&&!e.isBlock(i))||Pf(e,t,i,o))},Af=(e,t,n,o,i,r)=>{let s=n;const a=i?"previousSibling":"nextSibling",l=e.getRoot();if(ci(n)&&!yf(n)&&(i?o>0:o<n.data.length))return n;for(;s;){if(bi(s))return n;if(!t[0].block_expand&&e.isBlock(s))return r?s:n;for(let t=s[a];t;t=t[a]){const n=ci(t)&&!Pf(e,l,t,a);if(!vf(t)&&(!mi(c=t)||!c.getAttribute("data-mce-bogus")||c.nextSibling)&&!yf(t,n))return s}if(s===l||s.parentNode===l){n=s;break}s=s.parentNode}var c;return n},Qf=e=>vf(e.parentNode)||vf(e),Ef=(e,t,n,o={})=>{const{includeTrailingSpace:i=!1,expandToBlock:r=!0}=o,s=e.getParent(t.commonAncestorContainer,(e=>bi(e))),a=w(s)?s:e.getRoot();let{startContainer:l,startOffset:c,endContainer:u,endOffset:d}=t;const h=n[0];if(ei(l)&&l.hasChildNodes()&&(l=Ia(l,c),ci(l)&&(c=0)),ei(u)&&u.hasChildNodes()&&(u=Ia(u,t.collapsed?d:d-1),ci(u)&&(d=u.data.length)),l=wf(e,l),u=wf(e,u),Qf(l)&&(l=vf(l)?l:l.parentNode,l=t.collapsed?l.previousSibling||l:l.nextSibling||l,ci(l)&&(c=t.collapsed?l.length:0)),Qf(u)&&(u=vf(u)?u:u.parentNode,u=t.collapsed?u.nextSibling||u:u.previousSibling||u,ci(u)&&(d=t.collapsed?0:u.length)),t.collapsed){Cf(e,a,l,c,!0,i).each((({container:e,offset:t})=>{l=e,c=t}));Cf(e,a,u,d,!1,i).each((({container:e,offset:t})=>{u=e,d=t}))}return(pf(h)||h.block_expand)&&(pf(h)&&ci(l)&&0!==c||(l=Af(e,n,l,c,!0,r)),pf(h)&&ci(u)&&d!==u.data.length||(u=Af(e,n,u,d,!1,r))),mf(h)&&(l=Tf(e,n,t,l,"previousSibling"),u=Tf(e,n,t,u,"nextSibling")),(hf(h)||ff(h))&&(l=$f(e,n,l,"previousSibling"),u=$f(e,n,u,"nextSibling"),hf(h)&&(e.isBlock(l)||(l=Af(e,n,l,c,!0,r),ci(l)&&(c=0)),e.isBlock(u)||(u=Af(e,n,u,d,!1,r),ci(u)&&(d=u.data.length)))),ei(l)&&l.parentNode&&(c=e.nodeIndex(l),l=l.parentNode),ei(u)&&u.parentNode&&(d=e.nodeIndex(u)+1,u=u.parentNode),{startContainer:l,startOffset:c,endContainer:u,endOffset:d}},Mf=(e,t,n)=>{var o;const i=t.startOffset,r=Ia(t.startContainer,i),s=t.endOffset,a=Ia(t.endContainer,s-1),l=e=>{const t=e[0];ci(t)&&t===r&&i>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===s&&e.length>0&&n===a&&ci(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const o=[];for(;e&&e!==n;e=e[t])o.push(e);return o},u=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),d=(e,t,o)=>{const i=o?"nextSibling":"previousSibling";for(let r=e,s=r.parentNode;r&&r!==t;r=s){s=r.parentNode;const t=c(r===e?r:r[i],i);t.length&&(o||t.reverse(),n(l(t)))}};if(r===a)return n(l([r]));const h=null!==(o=e.findCommonAncestor(r,a))&&void 0!==o?o:e.getRoot();if(e.isChildOf(r,a))return d(r,h,!0);if(e.isChildOf(a,r))return d(a,h);const f=u(r,h)||r,p=u(a,h)||a;d(r,f,!0);const m=c(f===r?f:f.nextSibling,"nextSibling",p===a?p.nextSibling:p);m.length&&n(l(m)),d(a,p)},Df=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],If=(e,t,n,o)=>An(t).fold((()=>"skipping"),(i=>"br"===o||(e=>Ht(e)&&Js(e)===ha)(t)?"valid":(e=>qt(e)&&vn(e,Qs()))(t)?"existing":Oh(t.dom)?"caret":W(Df,(e=>wn(t,e)))?"valid-block":ef(e,n,o)&&ef(e,Wt(i),n)?"valid":"invalid-child")),Rf=(e,t,n,o,i,r)=>{const{uid:s=t,...a}=n;pn(e,Qs()),tn(e,`${Ms()}`,s),tn(e,`${Es()}`,o);const{attributes:l={},classes:c=[]}=i(s,a);if(nn(e,l),((e,t)=>{Y(t,(t=>{pn(e,t)}))})(e,c),r){c.length>0&&tn(e,`${Is()}`,c.join(","));const t=me(l);t.length>0&&tn(e,`${Rs()}`,t.join(","))}},zf=e=>{gn(e,Qs()),an(e,`${Ms()}`),an(e,`${Es()}`),an(e,`${Ds()}`);const t=rn(e,`${Rs()}`).map((e=>e.split(","))).getOr([]),n=rn(e,`${Is()}`).map((e=>e.split(","))).getOr([]);var o;Y(t,(t=>an(e,t))),o=e,Y(n,(e=>{gn(o,e)})),an(e,`${Is()}`),an(e,`${Rs()}`)},Nf=(e,t,n,o,i)=>{const r=yn.fromTag("span",e);return Rf(r,t,n,o,i,!1),r},Lf=(e,t,n,o,i,r)=>{const s=[],a=Nf(e.getDoc(),n,r,o,i),l=zi(),c=()=>{l.clear()},u=e=>{Y(e,d)},d=t=>{switch(If(e,t,"span",Wt(t))){case"invalid-child":{c();const e=Rn(t);u(e),c();break}case"valid-block":c(),Rf(t,n,r,o,i,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=Ys(a);return s.push(e),l.set(e),e}));bo(t,e);break}}};return Mf(e.dom,t,(e=>{c(),(e=>{const t=U(e,yn.fromDom);u(t)})(e)})),s},jf=(e,t,n,o)=>{e.undoManager.transact((()=>{const i=e.selection,r=i.getRng(),s=Lh(e).length>0,a=Ws("mce-annotation");if(r.collapsed&&!s&&((e,t)=>{const n=Ef(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,r),i.getRng().collapsed&&!s){const r=Nf(e.getDoc(),a,o,t,n.decorate);Co(r,Uo),i.getRng().insertNode(r.dom),i.select(r.dom)}else Yh(i,!1,(()=>{Uh(e,(i=>{Lf(e,i,a,t,n.decorate,o)}))}))}))},Vf=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>ke(e,t).map((e=>e.settings)),getNames:()=>me(e)}})();((e,t)=>{const n=Es(),o=e=>L.from(e.attr(n)).bind(t.lookup),i=e=>{var t,n;e.attr(Ms(),null),e.attr(Es(),null),e.attr(Ds(),null);const o=L.from(e.attr(Rs())).map((e=>e.split(","))).getOr([]),i=L.from(e.attr(Is())).map((e=>e.split(","))).getOr([]);Y(o,(t=>e.attr(t,null)));const r=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],s=se(r,[Qs()].concat(i));e.attr("class",s.length>0?s.join(" "):null),e.attr(Is(),null),e.attr(Rs(),null)};e.serializer.addTempAttr(Ds()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)o(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():i(t))}))}))})(e,t);const n=Bs(e,t),o=Jt("span"),i=e=>{Y(e,(e=>{o(e)?So(e):zf(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,o)=>{t.lookup(n).each((t=>{jf(e,n,t,o)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{Ns(e,L.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();i(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();Oe(Vs(e,t),((e,t)=>{i(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=Vs(e,t);return ve(n,(e=>U(e,(e=>e.dom))))}}},Bf=e=>({getBookmark:E(Ph,e),moveToBookmark:E(Ah,e)});Bf.isBookmarkNode=Qh;const Zf=(e,t,n)=>!n.collapsed&&W(n.getClientRects(),(n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t))),Xf=()=>yn.fromDom(document),Wf=(e,t=!1)=>e.dom.focus({preventScroll:t}),Uf=e=>{const t=Bn(e).dom;return e.dom===t.activeElement},Yf=(e=Xf())=>L.from(e.dom.activeElement).map(yn.fromDom),Ff=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),qf=Ll([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Hf={before:qf.before,on:qf.on,after:qf.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(A,A,A)},Gf=Ll([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Kf={domRange:Gf.domRange,relative:Gf.relative,exact:Gf.exact,exactFromRange:e=>Gf.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>yn.fromDom(e.startContainer),relative:(e,t)=>Hf.getStart(e),exact:(e,t,n,o)=>e}))(e);return $n(t)},range:Ff},Jf=(e,t)=>{const n=Ht(t)?Js(t).length:Rn(t).length+1;return e>n?n:e<0?0:e},ep=e=>Kf.range(e.start,Jf(e.soffset,e.start),e.finish,Jf(e.foffset,e.finish)),tp=(e,t)=>!Jo(t.dom)&&(kn(e,t)||_n(e,t)),np=e=>t=>tp(e,t.start)&&tp(e,t.finish),op=e=>Kf.range(yn.fromDom(e.startContainer),e.startOffset,yn.fromDom(e.endContainer),e.endOffset),ip=e=>(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?L.from(t.getRangeAt(0)):L.none()).map(op)})($n(e).dom).filter(np(e)),rp=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),L.some(t)}catch(e){return L.none()}},sp=e=>{const t=(e=>e.inline||Qt.browser.isFirefox())(e)?ip(yn.fromDom(e.getBody())):L.none();e.bookmark=t.isSome()?t:e.bookmark},ap=e=>(e.bookmark?e.bookmark:L.none()).bind((t=>((e,t)=>L.from(t).filter(np(e)).map(ep))(yn.fromDom(e.getBody()),t))).bind(rp),lp={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},cp={setEditorTimeout:(e,t,n)=>((e,t)=>(_(t)||(t=0),window.setTimeout(e,t)))((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const o=((e,t)=>(_(t)||(t=0),window.setInterval(e,t)))((()=>{e.removed?window.clearInterval(o):t()}),n);return o}},up=e=>{const t=Ps((()=>{sp(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};xs.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{xs.DOM.unbind(document,"mouseup",n)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||sp(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))};let dp;const hp=xs.DOM,fp=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},pp=(e,t)=>{const n=tu(e),o=hp.getParent(t,(t=>(e=>ei(e)&&lp.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n)));return null!==o},mp=e=>{try{const t=Bn(yn.fromDom(e.getElement()));return Yf(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},gp=(e,t)=>{const n=t.editor;up(n);const o=(e,t)=>{if(Zu(e)&&!0!==e.inline){t(yn.fromDom(e.getContainer()),"tox-edit-focus")}};n.on("focusin",(()=>{const t=e.focusedEditor;fp(mp(n))&&o(n,pn),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{cp.setEditorTimeout(n,(()=>{const t=e.focusedEditor;fp(mp(n))&&t===n||o(n,gn),pp(n,mp(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),dp||(dp=t=>{const n=e.activeEditor;n&&Wn(t).each((t=>{const o=t;o.ownerDocument===document&&(o===document.body||pp(n,o)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},hp.bind(document,"focusin",dp))},Op=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&dp&&(hp.unbind(document,"focusin",dp),dp=null)},vp=(e,t)=>(e=>e.collapsed?L.from(Ia(e.startContainer,e.startOffset)).map(yn.fromDom):L.none())(t).bind((t=>sa(t)?L.some(t):kn(e,t)?L.none():L.some(e))),bp=(e,t)=>{vp(yn.fromDom(e.getBody()),t).bind((e=>ph(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},yp=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},xp=e=>{return Uf(e)||(t=e,Yf(Bn(t)).filter((e=>t.dom.contains(e.dom)))).isSome();var t},wp=e=>e.inline?(e=>{const t=e.getBody();return t&&xp(yn.fromDom(t))})(e):(e=>w(e.iframeElement)&&Uf(yn.fromDom(e.iframeElement)))(e),Sp=e=>wp(e)||(e=>{const t=Bn(yn.fromDom(e.getElement()));return Yf(t).filter((t=>!fp(t.dom)&&pp(e,t.dom))).isSome()})(e),_p=e=>e.editorManager.setActive(e),kp=(e,t)=>{e.removed||(t?_p(e):(e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable();const i=e=>{ap(e).each((t=>{e.selection.setRng(t),o=t}))};!wp(e)&&e.hasEditableRoot()&&i(e);const r=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(r&&e.dom.isChildOf(r,n))return((e,t)=>null!==e.dom.getParent(t,(t=>"false"===e.dom.getContentEditable(t))))(e,r)||yp(n),yp(r),e.hasEditableRoot()||i(e),bp(e,o),void _p(e);e.inline||(Qt.browser.isOpera()||yp(n),e.getWin().focus()),(Qt.browser.isFirefox()||e.inline)&&(yp(n),bp(e,o)),_p(e)})(e))},Cp={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Cp.metaKeyPressed(e),metaKeyPressed:e=>Qt.os.isMacOS()||Qt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Tp="data-mce-selected",$p=Math.abs,Pp=Math.round,Ap={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Qp=(e,t)=>{const n=t.dom,o=t.getDoc(),i=document,r=t.getBody();let s,a,l,c,u,d,h,f,p,m,g,O,v,b,y;const x=e=>w(e)&&(gi(e)||n.is(e,"figure.image")),S=e=>wi(e)||n.hasClass(e,"mce-preview-object"),_=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return x(e.target)&&!Zf(n.clientX,n.clientY,t)}return x(e.target)&&!Zf(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},k=e=>n.hasClass(e,"mce-preview-object")&&w(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],C=e=>{const o=Vc(t);return!(!o||t.mode.isReadOnly())&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&w(e.firstElementChild)?wn(yn.fromDom(e.firstElementChild),o):wn(yn.fromDom(e),o))))},T=(e,o,i)=>{if(w(i)){const r=k(e);Y(r,(e=>{e.style[o]||!t.schema.isValid(e.nodeName.toLowerCase(),o)?n.setStyle(e,o,i):n.setAttrib(e,o,""+i)}))}},$=(e,t,n)=>{T(e,"width",t),T(e,"height",n)},P=e=>{let o,i,u,w,_;o=e.screenX-d,i=e.screenY-h,O=o*c[2]+f,v=i*c[3]+p,O=O<5?5:O,v=v<5?5:v,u=(x(s)||S(s))&&!1!==Bc(t)?!Cp.modifierPressed(e):Cp.modifierPressed(e),u&&($p(o)>$p(i)?(v=Pp(O*m),O=Pp(v/m)):(O=Pp(v/m),v=Pp(O*m))),$(a,O,v),w=c.startPos.x+o,_=c.startPos.y+i,w=w>0?w:0,_=_>0?_:0,n.setStyles(l,{left:w,top:_,display:"block"}),l.innerHTML=O+" &times; "+v,o=r.scrollWidth-b,i=r.scrollHeight-y,o+i!==0&&n.setStyles(l,{left:w-o,top:_-i}),g||(((e,t,n,o,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:i})})(t,s,f,p,"corner-"+c.name),g=!0)},A=()=>{const e=g;g=!1,e&&(T(s,"width",O),T(s,"height",v)),n.unbind(o,"mousemove",P),n.unbind(o,"mouseup",A),i!==o&&(n.unbind(i,"mousemove",P),n.unbind(i,"mouseup",A)),n.remove(a),n.remove(l),n.remove(u),Q(s),e&&(((e,t,n,o,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:i})})(t,s,O,v,"corner-"+c.name),n.setAttrib(s,"style",n.getAttrib(s,"style"))),t.nodeChanged()},Q=e=>{R();const g=n.getPos(e,r),x=g.x,w=g.y,_=e.getBoundingClientRect(),T=_.width||_.right-_.left,Q=_.height||_.bottom-_.top;s!==e&&(M(),s=e,O=v=0);const E=t.dispatch("ObjectSelected",{target:e});C(e)&&!E.isDefaultPrevented()?Oe(Ap,((e,t)=>{const g=g=>{const O=k(s)[0];d=g.screenX,h=g.screenY,f=O.clientWidth,p=O.clientHeight,m=p/f,c=e,c.name=t,c.startPos={x:T*e[0]+x,y:Q*e[1]+w},b=r.scrollWidth,y=r.scrollHeight,u=n.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=((e,t)=>{if(S(t))return e.create("img",{src:Qt.transparentSrc});if(si(t)){const n=We(c.name,"n")?ue:de,o=t.cloneNode(!0);return n(e.select("tr",o)).each((t=>{const n=e.select("td,th",t);e.setStyle(t,"height",null),Y(n,(t=>e.setStyle(t,"height",null)))})),o}return t.cloneNode(!0)})(n,s),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:x,top:w,margin:0}),$(a,T,Q),a.removeAttribute(Tp),r.appendChild(a),n.bind(o,"mousemove",P),n.bind(o,"mouseup",A),i!==o&&(n.bind(i,"mousemove",P),n.bind(i,"mouseup",A)),l=n.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+p)};let O=n.get("mceResizeHandle"+t);O&&n.remove(O),O=n.add(r,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(O,"mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),g(e)})),e.elm=O,n.setStyles(O,{left:T*e[0]+x-O.offsetWidth/2,top:Q*e[1]+w-O.offsetHeight/2})})):M(!1)},E=Ps(Q,0),M=(e=!0)=>{E.cancel(),R(),s&&e&&s.removeAttribute(Tp),Oe(Ap,((e,t)=>{const o=n.get("mceResizeHandle"+t);o&&(n.unbind(o),n.remove(o))}))},D=(e,t)=>n.isChildOf(e,t),I=o=>{if(g||t.removed||t.composing)return;const i="mousedown"===o.type?o.target:e.getNode(),s=to(yn.fromDom(i),"table,img,figure.image,hr,video,span.mce-preview-object,details").map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement)||"IMG"===e.nodeName&&n.isEditable(e))).getOrUndefined(),a=w(s)?n.getAttrib(s,Tp,"1"):"1";if(Y(n.select(`img[${Tp}],hr[${Tp}]`),(e=>{e.removeAttribute(Tp)})),w(s)&&D(s,r)&&Sp(t)){z();const t=e.getStart(!0);if(D(t,s)&&D(e.getEnd(!0),s))return n.setAttrib(s,Tp,a),void E.throttle(s)}M()},R=()=>{Oe(Ap,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},z=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(()=>{z(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&I(e)})),t.on("hide blur",M),t.on("contextmenu longpress",_,!0)})),t.on("remove",R);return{isResizable:C,showResizeRect:Q,hideResizeRect:M,updateResizeRect:I,destroy:()=>{E.cancel(),s=a=u=null}}},Ep=(e,t,n)=>{const o=e.document.createRange();var i;return i=o,t.fold((e=>{i.setStartBefore(e.dom)}),((e,t)=>{i.setStart(e.dom,t)}),(e=>{i.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},Mp=(e,t,n,o,i)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(o.dom,i),r},Dp=Ll([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ip=(e,t,n)=>t(yn.fromDom(n.startContainer),n.startOffset,yn.fromDom(n.endContainer),n.endOffset),Rp=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:P(e),rtl:L.none}),relative:(t,n)=>({ltr:ze((()=>Ep(e,t,n))),rtl:ze((()=>L.some(Ep(e,n,t))))}),exact:(t,n,o,i)=>({ltr:ze((()=>Mp(e,t,n,o,i))),rtl:ze((()=>L.some(Mp(e,o,i,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();if(n.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>Dp.rtl(yn.fromDom(e.endContainer),e.endOffset,yn.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Ip(0,Dp.ltr,n)));return Ip(0,Dp.ltr,n)})(0,n)};Dp.ltr,Dp.rtl;const zp=(e,t,n)=>e.caretPositionFromPoint?((e,t,n)=>{var o;return L.from(null===(o=e.caretPositionFromPoint)||void 0===o?void 0:o.call(e,t,n)).bind((t=>{if(null===t.offsetNode)return L.none();const n=e.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),L.some(n)}))})(e,t,n):e.caretRangeFromPoint?((e,t,n)=>{var o;return L.from(null===(o=e.caretRangeFromPoint)||void 0===o?void 0:o.call(e,t,n))})(e,t,n):L.none(),Np=(e,t)=>{const n=Wt(e);return"input"===n?Hf.after(e):X(["br","img"],n)?0===t?Hf.before(e):Hf.after(e):Hf.on(e,t)},Lp=(e,t)=>{const n=e.fold(Hf.before,Np,Hf.after),o=t.fold(Hf.before,Np,Hf.after);return Kf.relative(n,o)},jp=(e,t,n,o)=>{const i=Np(e,t),r=Np(n,o);return Kf.relative(i,r)},Vp=(e,t)=>{const n=(t||document).createDocumentFragment();return Y(e,(e=>{n.appendChild(e.dom)})),yn.fromDom(n)},Bp=e=>{const t=Kf.getWin(e).dom,n=(e,n,o,i)=>Mp(t,e,n,o,i),o=(e=>e.match({domRange:e=>{const t=yn.fromDom(e.startContainer),n=yn.fromDom(e.endContainer);return jp(t,e.startOffset,n,e.endOffset)},relative:Lp,exact:jp}))(e);return Rp(t,o).match({ltr:n,rtl:n})},Zp=(e,t,n)=>((e,t,n)=>{const o=e.document;return zp(o,t,n).map((e=>Ff(yn.fromDom(e.startContainer),e.startOffset,yn.fromDom(e.endContainer),e.endOffset)))})(e,t,n),Xp=(e,t,n)=>{const o=$n(yn.fromDom(n));return Zp(o.dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined()},Wp=(e,t)=>w(e)&&w(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Up=(e,t,n)=>null!==((e,t,n)=>{let o=e;for(;o&&o!==t;){if(n(o))return o;o=o.parentNode}return null})(e,t,n),Yp=(e,t,n)=>Up(e,t,(e=>e.nodeName===n)),Fp=(e,t)=>ba(e)&&!Up(e,t,Oh),qp=(e,t,n)=>{const o=t.parentNode;if(o){const i=new Xo(t,e.getParent(o,e.isBlock)||e.getRoot());let r;for(;r=i[n?"prev":"next"]();)if(mi(r))return!0}return!1},Hp=(e,t,n,o,i)=>{const r=e.getRoot(),s=e.schema.getNonEmptyElements(),a=i.parentNode;let l,c;if(!a)return L.none();const u=e.getParent(a,e.isBlock)||r;if(o&&mi(i)&&t&&e.isEmpty(u))return L.some(fl(a,e.nodeIndex(i)));const d=new Xo(i,u);for(;c=d[o?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||Fp(c,r))return L.none();if(ci(c)&&c.data.length>0)return Yp(c,r,"A")?L.none():L.some(fl(c,o?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return L.none();l=c}return hi(l)?L.none():n&&l?L.some(fl(l,0)):L.none()},Gp=(e,t,n,o)=>{const i=e.getRoot();let r,s=!1,a=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset;const c=ei(a)&&l===a.childNodes.length,u=e.schema.getNonEmptyElements();let d=n;if(ba(a))return L.none();if(ei(a)&&l>a.childNodes.length-1&&(d=!1),fi(a)&&(a=i,l=0),a===i){if(d&&(r=a.childNodes[l>0?l-1:0],r)){if(ba(r))return L.none();if(u[r.nodeName]||si(r))return L.none()}if(a.hasChildNodes()){if(l=Math.min(!d&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=ci(a)&&c?a.data.length:0,!t&&a===i.lastChild&&si(a))return L.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(vi(n))return!0;n=n.parentNode}return!1})(i,a)||ba(a))return L.none();if(_i(a))return L.none();if(a.hasChildNodes()&&!si(a)){r=a;const t=new Xo(a,i);do{if(vi(r)||ba(r)){s=!1;break}if(ci(r)&&r.data.length>0){l=d?0:r.data.length,a=r,s=!0;break}if(u[r.nodeName.toLowerCase()]&&!xi(r)){l=e.nodeIndex(r),a=r.parentNode,d||l++,s=!0;break}}while(r=d?t.next():t.prev())}}}return t&&(ci(a)&&0===l&&Hp(e,c,t,!0,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),ei(a)&&(r=a.childNodes[l],r||(r=a.childNodes[l-1]),!r||!mi(r)||((e,t)=>{var n;return(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)===t})(r,"A")||qp(e,r,!1)||qp(e,r,!0)||Hp(e,c,t,!0,r).each((e=>{a=e.container(),l=e.offset(),s=!0})))),d&&!t&&ci(a)&&l===a.data.length&&Hp(e,c,t,!1,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),s&&a?L.some(fl(a,l)):L.none()},Kp=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),i=fl.fromRangeStart(t);return Gp(e,n,!0,o).each((e=>{n&&fl.isAbove(i,e)||o.setStart(e.container(),e.offset())})),n||Gp(e,n,!1,o).each((e=>{o.setEnd(e.container(),e.offset())})),n&&o.collapse(!0),Wp(t,o)?L.none():L.some(o)},Jp=(e,t)=>e.splitText(t),em=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,i=e.endOffset;if(t===o&&ci(t)){if(n>0&&n<t.data.length)if(o=Jp(t,n),t=o.previousSibling,i>n){i-=n;const e=Jp(o,i).previousSibling;t=o=e,i=e.data.length,n=0}else i=0}else if(ci(t)&&n>0&&n<t.data.length&&(t=Jp(t,n),n=0),ci(o)&&i>0&&i<o.data.length){const e=Jp(o,i).previousSibling;o=e,i=e.data.length}return{startContainer:t,startOffset:n,endContainer:o,endOffset:i}},tm=e=>({walk:(t,n)=>Mf(e,t,n),split:em,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=Ef(e,t,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),o=e.createRng();return o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),o}return t},normalize:t=>Kp(e,t).fold(z,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});tm.compareRanges=Wp,tm.getCaretRangeFromPoint=Xp,tm.getSelectedNode=Da,tm.getNode=Ia;const nm=((e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=co(n,e);return parseFloat(t)||0}return o},o=(e,t)=>K(t,((t,n)=>{const o=co(e,n),i=void 0===o?0:parseInt(o,10);return isNaN(i)?t:t+i}),0);return{set:(t,n)=>{if(!_(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;ro(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const i=o(e,n);return t>i?t-i:0}}})("height",(e=>{const t=e.dom;return Yn(e)?t.getBoundingClientRect().height:t.offsetHeight})),om=(e,t)=>e.view(t).fold(P([]),(t=>{const n=e.owner(t),o=om(e,n);return[t].concat(o)}));var im=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?L.none():L.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(yn.fromDom)},owner:e=>Tn(e)});const rm=e=>{const t=Xf(),n=Do(t),o=((e,t)=>{const n=t.owner(e);return om(t,n)})(e,im),i=Mo(e),r=G(o,((e,t)=>{const n=Mo(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Qo(r.left+i.left+n.left,r.top+i.top+n.top)},sm=e=>"textarea"===Wt(e),am=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,i=t.documentElement;if(n===e.dom)return Qo(n.offsetLeft,n.offsetTop);const r=Eo(null==o?void 0:o.pageYOffset,i.scrollTop),s=Eo(null==o?void 0:o.pageXOffset,i.scrollLeft),a=Eo(i.clientTop,n.clientTop),l=Eo(i.clientLeft,n.clientLeft);return Mo(e).translate(s-l,r-a)})(e),o=(e=>nm.get(e))(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},lm=(e,t)=>{const n=((e,t)=>{const n=Rn(e);if(0===n.length||sm(e))return{element:e,offset:t};if(t<n.length&&!sm(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return sm(o)?{element:e,offset:t}:"img"===Wt(o)?{element:o,offset:1}:Ht(o)?{element:o,offset:Js(o).length}:{element:o,offset:Rn(o).length}}})(e,t),o=yn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return mo(n.element,o),am(o,(()=>wo(o)))},cm=(e,t,n,o)=>{fm(e,((i,r)=>dm(e,t,n,o)),n)},um=(e,t,n,o,i)=>{const r={elm:o.element.dom,alignToTop:i};if(((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,r))return;n(e,t,Do(t).top,o,i),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,r)},dm=(e,t,n,o)=>{const i=yn.fromDom(e.getBody()),r=yn.fromDom(e.getDoc());i.dom.offsetWidth;const s=lm(yn.fromDom(n.startContainer),n.startOffset);um(e,r,t,s,o),s.cleanup()},hm=(e,t,n,o)=>{const i=yn.fromDom(e.getDoc());um(e,i,n,(e=>am(yn.fromDom(e),C))(t),o)},fm=(e,t,n)=>{const o=n.startContainer,i=n.startOffset,r=n.endContainer,s=n.endOffset;t(yn.fromDom(o),yn.fromDom(r));const a=e.dom.createRng();a.setStart(o,i),a.setEnd(r,s),e.selection.setRng(n)},pm=(e,t,n,o,i)=>{const r=t.pos;if(o)Io(r.left,Math.max(0,r.top-30),i);else{const o=r.top-n+t.height+30;Io(-e.getBody().getBoundingClientRect().left,o,i)}},mm=(e,t,n,o,i,r)=>{const s=o+n,a=i.pos.top,l=i.bottom,c=l-a>=o;if(a<n)pm(e,i,o,!1!==r,t);else if(a>s){pm(e,i,o,c?!1!==r:!0===r,t)}else l>s&&!c&&pm(e,i,o,!0===r,t)},gm=(e,t,n,o,i)=>{const r=$n(t).dom.innerHeight;mm(e,t,n,r,o,i)},Om=(e,t,n,o,i)=>{const r=$n(t).dom.innerHeight;mm(e,t,n,r,o,i);const s=rm(o.element),a=No(window);s.top<a.y?Ro(o.element,!1!==i):s.top>a.bottom&&Ro(o.element,!0===i)},vm=(e,t,n)=>cm(e,gm,t,n),bm=(e,t,n)=>hm(e,t,gm,n),ym=(e,t,n)=>cm(e,Om,t,n),xm=(e,t,n)=>hm(e,t,Om,n),wm=(e,t,n)=>{(e.inline?vm:ym)(e,t,n)},Sm=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),_m=(e,t,n,o,i)=>{const r=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return L.from(r).map(yn.fromDom).map((e=>o&&t.collapsed?e:zn(e,i(e,s)).getOr(e))).bind((e=>qt(e)?L.some(e):Pn(e).filter(qt))).map((e=>e.dom)).getOr(e)},km=(e,t,n=!1)=>_m(e,t,!0,n,((e,t)=>Math.min(jn(e),t))),Cm=(e,t,n=!1)=>_m(e,t,!1,n,((e,t)=>t>0?t-1:t)),Tm=(e,t)=>{const n=e;for(;e&&ci(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},$m=(e,t)=>U(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),Pm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Am=(e,t,n)=>{const o=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[o])return e[o];if(e!==t){let n=e[i];if(n)return n;for(let o=e.parent;o&&o!==t;o=o.parent)if(n=o[i],n)return n}},Qm=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!qo(n))return!1;const o=e.parent;return!o||"span"===o.name&&!o.attr("style")||!/^[ ]+$/.test(n)},Em=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Mm{static create(e,t){const n=new Mm(e,Pm[e]||1);return t&&Oe(t,((e,t)=>{n.attr(t,e)})),n}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!p(e))return w(e)&&Oe(e,((e,t)=>{n.attr(t,e)})),n;const o=n.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;for(;t--;)if(o[t].name===e)return o.splice(t,1),n}return n}if(e in o.map){let n=o.length;for(;n--;)if(o[n].name===e){o[n].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,n}return o.map[e]}}clone(){const e=this,t=new Mm(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,o=n.length;t<o;t++){const o=n[t];"id"!==o.name&&(e[e.length]={name:o.name,value:o.value},e.map[o.name]=o.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o&&(o.next=n),t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n&&(n.prev=o),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){const t=this,n=[];for(let o=t.firstChild;o;o=Am(o,t))o.name===e&&n.push(o);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=Am(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var o;const i=this;let r=i.firstChild;if(Em(i))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;if(Em(r))return!1}if(8===r.type)return!1;if(3===r.type&&!Qm(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&qo(null!==(o=r.value)&&void 0!==o?o:""))return!1;if(n&&n(r))return!1}while(r=Am(r,i));return!0}walk(e){return Am(this,null,e)}}const Dm=It.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Im=e=>p(e.nodeValue)&&e.nodeValue.includes(ha),Rm=e=>(0===e.length?"":`${U(e,(e=>`[${e}]`)).join(",")},`)+'[data-mce-bogus="all"]',zm=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,(e=>Im(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)),Nm=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(e=>{if(Im(e)){const t=e.parentNode;return t&&Ce(Dm,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP})),Lm=e=>null!==zm(e).nextNode(),jm=e=>null!==Nm(e).nextNode(),Vm=(e,t)=>null!==t.querySelector(Rm(e)),Bm=(e,t)=>{Y(((e,t)=>t.querySelectorAll(Rm(e)))(e,t),(t=>{const n=yn.fromDom(t);"all"===on(n,"data-mce-bogus")?wo(n):Y(e,(e=>{sn(n,e)&&an(n,e)}))}))},Zm=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},Xm=T(Zm,zm),Wm=T(Zm,Nm),Um=(e,t)=>{const n=[{condition:E(Vm,t),action:E(Bm,t)},{condition:Lm,action:Xm},{condition:jm,action:Wm}];let o=e,i=!1;return Y(n,(({condition:t,action:n})=>{t(o)&&(i||(o=e.cloneNode(!0),i=!0),n(o))})),o},Ym=e=>{const t=jo(e,"[data-mce-bogus]");Y(t,(e=>{"all"===on(e,"data-mce-bogus")?wo(e):na(e)?(mo(e,yn.fromText(Wo)),wo(e)):So(e)}))},Fm=e=>{const t=jo(e,"input");Y(t,(e=>{an(e,"name")}))},qm=(e,t)=>{const n=e.getDoc(),o=Bn(yn.fromDom(e.getBody())),i=yn.fromTag("div",n);tn(i,"data-mce-bogus","all"),lo(i,{position:"fixed",left:"-9999999px",top:"0"}),Co(i,t.innerHTML),Ym(i),Fm(i);const r=(e=>Vn(e)?e:yn.fromDom(Tn(e).dom.body))(o);vo(r,i);const s=pa(i.dom.innerText);return wo(i),s},Hm=(e,t,n)=>{let o;o="raw"===t.format?It.trim(pa(Um(n,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?qm(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=pc(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(o,"")})(e,e.serializer.serialize(n,t));return"text"!==t.format&&!la(yn.fromDom(n))&&p(o)?It.trim(o):o},Gm=It.makeMap,Km=e=>{const t=[],n=(e=e||{}).indent,o=Gm(e.indent_before||""),i=Gm(e.indent_after||""),r=Cr.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let e=0,n=a.length;e<n;e++){const n=a[e];t.push(" ",n.name,'="',r(n.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&n&&i[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let o;t.push("</",e,">"),n&&i[e]&&t.length>0&&(o=t[t.length-1],o.length>0&&"\n"!==o&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:r(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",r(o),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Jm=(e={},t=Wr())=>{const n=Km(e);e.validate=!("validate"in e)||e.validate;return{serialize:o=>{const i=e.validate,r={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};n.reset();const s=e=>{var o;const a=r[e.type];if(a)a(e);else{const r=e.name,a=r in t.getVoidElements();let l=e.attributes;if(i&&l&&l.length>1){const n=[];n.map={};const o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){const t=o.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(r,l,a),Li(r))p(e.value)&&n.text(e.value,!0),n.end(r);else if(!a){let t=e.firstChild;if(t){"pre"!==r&&"textarea"!==r||3!==t.type||"\n"!==(null===(o=t.value)||void 0===o?void 0:o[0])||n.text("\n",!0);do{s(t)}while(t=t.next)}n.end(r)}}};return 1!==o.type||e.inner?3===o.type?r[3](o):r[11](o):s(o),n.getContent()}}},eg=new Set;Y(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{eg.add(e)}));const tg=new Set;Y(["background-color"],(e=>{tg.add(e)}));const ng=["font","text-decoration","text-emphasis"],og=(e,t)=>me(((e,t)=>e.parseStyle(e.getAttrib(t,"style")))(e,t)),ig=(e,t)=>W(og(e,t),(e=>(e=>eg.has(e))(e))),rg=(e,t)=>ig(e,t)&&W(og(e,t),(e=>(e=>tg.has(e))(e))),sg=(e,t,n)=>{const o=og(e,t),i=og(e,n),r=o=>{var i,r;const s=null!==(i=e.getStyle(t,o))&&void 0!==i?i:"",a=null!==(r=e.getStyle(n,o))&&void 0!==r?r:"";return Ge(s)&&Ge(a)&&s!==a};return W(o,(e=>{const t=t=>W(t,(t=>t===e));if(!t(i)&&t(ng)){const e=H(i,(e=>W(ng,(t=>We(e,t)))));return W(e,r)}return r(e)}))},ag=(e,t,n)=>L.from(n.container()).filter(ci).exists((o=>{const i=e?0:-1;return t(o.data.charAt(n.offset()+i))})),lg=E(ag,!0,Dh),cg=E(ag,!1,Dh),ug=e=>{const t=e.container();return ci(t)&&(0===t.data.length||fa(t.data)&&Bf.isBookmarkNode(t.parentNode))},dg=(e,t)=>n=>Id(e?0:-1,n).filter(t).isSome(),hg=e=>gi(e)&&"block"===co(yn.fromDom(e),"display"),fg=e=>vi(e)&&!(e=>ei(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),pg=dg(!0,hg),mg=dg(!1,hg),gg=dg(!0,wi),Og=dg(!1,wi),vg=dg(!0,si),bg=dg(!1,si),yg=dg(!0,fg),xg=dg(!1,fg),wg=(e,t)=>((e,t,n)=>kn(t,e)?Qn(e,(e=>n(e)||_n(e,t))).slice(0,-1):[])(e,t,z),Sg=(e,t)=>[e].concat(wg(e,t)),_g=(e,t,n)=>uh(e,t,n,ug),kg=(e,t,n)=>ee(Sg(yn.fromDom(t.container()),e),(e=>t=>e.isBlock(Wt(t)))(n)),Cg=(e,t,n,o)=>_g(e,t.dom,n).forall((e=>kg(t,n,o).fold((()=>!Dd(e,n,t.dom)),(o=>!Dd(e,n,t.dom)&&kn(o,yn.fromDom(e.container())))))),Tg=(e,t,n,o)=>kg(t,n,o).fold((()=>_g(e,t.dom,n).forall((e=>!Dd(e,n,t.dom)))),(t=>_g(e,t.dom,n).isNone())),$g=E(Tg,!1),Pg=E(Tg,!0),Ag=E(Cg,!1),Qg=E(Cg,!0),Eg=e=>Xd(e).exists(na),Mg=(e,t,n,o)=>{const i=H(Sg(yn.fromDom(n.container()),t),(e=>o.isBlock(Wt(e)))),r=ue(i).getOr(t);return lh(e,r.dom,n).filter(Eg)},Dg=(e,t,n)=>Xd(t).exists(na)||Mg(!0,e,t,n).isSome(),Ig=(e,t,n)=>(e=>L.from(e.getNode(!0)).map(yn.fromDom))(t).exists(na)||Mg(!1,e,t,n).isSome(),Rg=E(Mg,!1),zg=E(Mg,!0),Ng=e=>fl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Lg=(e,t,n)=>{const o=H(Sg(yn.fromDom(t.container()),e),(e=>n.isBlock(Wt(e))));return ue(o).getOr(e)},jg=(e,t,n)=>Ng(t)?cg(t):cg(t)||fh(Lg(e,t,n).dom,t).exists(cg),Vg=(e,t,n)=>Ng(t)?lg(t):lg(t)||hh(Lg(e,t,n).dom,t).exists(lg),Bg=e=>Xd(e).bind((e=>Hn(e,qt))).exists((e=>(e=>X(["pre","pre-wrap"],e))(co(e,"white-space")))),Zg=(e,t,n)=>((e,t)=>fh(e.dom,t).isNone())(e,t)||((e,t)=>hh(e.dom,t).isNone())(e,t)||$g(e,t,n)||Pg(e,t,n)||Ig(e,t,n)||Dg(e,t,n),Xg=(e,t)=>n=>{return o=new Xo(n,e)[t](),w(o)&&vi(o)&&Sd(o);var o},Wg=(e,t,n)=>!Bg(t)&&(Zg(e,t,n)||jg(e,t,n)||Vg(e,t,n)),Ug=(e,t,n)=>!Bg(t)&&($g(e,t,n)||Ag(e,t,n)||Ig(e,t,n)||jg(e,t,n)||((e,t)=>{const n=fh(e.dom,t).getOr(t),o=Xg(e.dom,"prev");return t.isAtStart()&&(o(t.container())||o(n.container()))})(e,t)),Yg=(e,t,n)=>!Bg(t)&&(Pg(e,t,n)||Qg(e,t,n)||Dg(e,t,n)||Vg(e,t,n)||((e,t)=>{const n=hh(e.dom,t).getOr(t),o=Xg(e.dom,"next");return t.isAtEnd()&&(o(t.container())||o(n.container()))})(e,t)),Fg=(e,t,n)=>Ug(e,t,n)||Yg(e,(e=>{const t=e.container(),n=e.offset();return ci(t)&&n<t.data.length?fl(t,n+1):e})(t),n),qg=(e,t)=>Eh(e.charAt(t)),Hg=(e,t)=>Dh(e.charAt(t)),Gg=(e,t,n,o)=>{const i=t.data,r=fl(t,0);return n||!qg(i,0)||Fg(e,r,o)?!!(n&&Hg(i,0)&&Ug(e,r,o))&&(t.data=Uo+i.slice(1),!0):(t.data=" "+i.slice(1),!0)},Kg=e=>{const t=e.data,n=(e=>{const t=e.split("");return U(t,((e,n)=>Eh(e)&&n>0&&n<t.length-1&&Ih(t[n-1])&&Ih(t[n+1])?" ":e)).join("")})(t);return n!==t&&(e.data=n,!0)},Jg=(e,t,n,o)=>{const i=t.data,r=fl(t,i.length-1);return n||!qg(i,i.length-1)||Fg(e,r,o)?!!(n&&Hg(i,i.length-1)&&Yg(e,r,o))&&(t.data=i.slice(0,-1)+Uo,!0):(t.data=i.slice(0,-1)+" ",!0)},eO=(e,t,n)=>{const o=t.container();if(!ci(o))return L.none();if((e=>{const t=e.container();return ci(t)&&Xe(t.data,Uo)})(t)){const i=Gg(e,o,!1,n)||Kg(o)||Jg(e,o,!1,n);return Lt(i,t)}if(Fg(e,t,n)){const i=Gg(e,o,!0,n)||Jg(e,o,!0,n);return Lt(i,t)}return L.none()},tO=(e,t,n,o)=>{if(0===n)return;const i=yn.fromDom(e),r=qn(i,(e=>o.isBlock(Wt(e)))).getOr(i),s=e.data.slice(t,t+n),a=t+n>=e.data.length&&Yg(r,fl(e,e.data.length),o),l=0===t&&Ug(r,fl(e,0),o);e.replaceData(t,n,Go(s,4,l,a))},nO=(e,t,n)=>{const o=e.data.slice(t),i=o.length-qe(o).length;tO(e,t,i,n)},oO=(e,t,n)=>{const o=e.data.slice(0,t),i=o.length-He(o).length;tO(e,t-i,i,n)},iO=(e,t,n,o,i=!0)=>{const r=He(e.data).length,s=i?e:t,a=i?t:e;return i?s.appendData(a.data):s.insertData(0,a.data),wo(yn.fromDom(a)),o&&nO(s,r,n),s},rO=(e,t)=>((e,t)=>{const n=e.container(),o=e.offset();return!fl.isTextPosition(e)&&n===t.parentNode&&o>fl.before(t).offset()})(t,e)?fl(t.container(),t.offset()-1):t,sO=e=>{return Ua(e.previousSibling)?L.some((t=e.previousSibling,ci(t)?fl(t,t.data.length):fl.after(t))):e.previousSibling?mh(e.previousSibling):L.none();var t},aO=e=>{return Ua(e.nextSibling)?L.some((t=e.nextSibling,ci(t)?fl(t,0):fl.before(t))):e.nextSibling?ph(e.nextSibling):L.none();var t},lO=(e,t)=>sO(t).orThunk((()=>aO(t))).orThunk((()=>((e,t)=>L.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>fh(e,fl.before(t)))).orThunk((()=>hh(e,fl.after(t)))))(e,t))),cO=(e,t)=>aO(t).orThunk((()=>sO(t))).orThunk((()=>((e,t)=>hh(e,fl.after(t)).orThunk((()=>fh(e,fl.before(t)))))(e,t))),uO=(e,t,n)=>((e,t,n)=>e?cO(t,n):lO(t,n))(e,t,n).map(E(rO,n)),dO=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},hO=(e,t)=>t&&Ce(e.schema.getBlockElements(),Wt(t)),fO=(e,t,n,o)=>{const i=En(e).filter(Ht),r=Mn(e).filter(Ht);return wo(e),(s=i,a=r,l=t,c=(e,t,i)=>{const r=e.dom,s=t.dom,a=r.data.length;return iO(r,s,n,o),i.container()===s?fl(r,a):i},s.isSome()&&a.isSome()&&l.isSome()?L.some(c(s.getOrDie(),a.getOrDie(),l.getOrDie())):L.none()).orThunk((()=>(o&&(i.each((e=>oO(e.dom,e.dom.length,n))),r.each((e=>nO(e.dom,0,n)))),t)));var s,a,l,c},pO=(e,t,n,o=!0,i=!1)=>{const r=uO(t,e.getBody(),n.dom),s=qn(n,E(hO,e),(a=e.getBody(),e=>e.dom===a));var a;const l=fO(n,r,e.schema,((e,t)=>Ce(e.schema.getTextInlineElements(),Wt(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind((t=>((e,t,n)=>{if(Mi(e,t)){const e=yn.fromHtml('<br data-mce-bogus="1">');return n?Y(Rn(t),(e=>{Of(e)||wo(e)})):xo(t),vo(t,e),L.some(fl.before(e.dom))}return L.none()})(e.schema,t,i))).fold((()=>{o&&dO(e,t,l)}),(n=>{o&&dO(e,t,L.some(n))}))},mO=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,gO=(e,t)=>wn(yn.fromDom(t),jc(e))&&!er(e.schema,t)&&e.dom.isEditable(t),OO=e=>{var t;return"rtl"===xs.DOM.getStyle(e,"direction",!0)||(e=>mO.test(e))(null!==(t=e.textContent)&&void 0!==t?t:"")},vO=(e,t,n)=>{const o=((e,t,n)=>H(xs.DOM.getParents(n.container(),"*",t),e))(e,t,n);return L.from(o[o.length-1])},bO=(e,t)=>{const n=t.container(),o=t.offset();return e?va(n)?ci(n.nextSibling)?fl(n.nextSibling,0):fl.after(n):xa(t)?fl(n,o+1):t:va(n)?ci(n.previousSibling)?fl(n.previousSibling,n.previousSibling.data.length):fl.before(n):wa(t)?fl(n,o-1):t},yO=E(bO,!0),xO=E(bO,!1),wO=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},SO=e=>wO(e,"Delete"),_O=e=>wO(e,"ForwardDelete"),kO=e=>oa(e)||ra(e),CO=(e,t)=>kn(e,t)?Hn(t,kO,(e=>t=>Rt(Pn(t),e,_n))(e)):L.none(),TO=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},$O=(e,t,n)=>Nt(ph(n),mh(n),((o,i)=>{const r=bO(!0,o),s=bO(!1,i),a=bO(!1,t);return e?hh(n,a).exists((e=>e.isEqual(s)&&t.isEqual(r))):fh(n,a).exists((e=>e.isEqual(r)&&t.isEqual(s)))})).getOr(!0),PO=e=>{var t;return(8===Ut(t=e)||"#comment"===Wt(t)?En(e):Ln(e)).bind(PO).orThunk((()=>L.some(e)))},AO=(e,t,n,o=!0)=>{var i;t.deleteContents();const r=PO(n).getOr(n),s=yn.fromDom(null!==(i=e.dom.getParent(r.dom,e.dom.isBlock))&&void 0!==i?i:n.dom);if(s.dom===e.getBody()?TO(e,o):Mi(e.schema,s,{checkRootAsContent:!1})&&(da(s),o&&e.selection.setCursorLocation(s.dom,0)),!_n(n,s)){const t=Rt(Pn(s),n)?[]:Pn(a=s).map(Rn).map((e=>H(e,(e=>!_n(a,e))))).getOr([]);Y(t.concat(Rn(n)),(t=>{_n(t,s)||kn(t,s)||!Mi(e.schema,t)||wo(t)}))}var a},QO=e=>jo(e,"td,th"),EO=(e,t)=>jh(yn.fromDom(e),t),MO=e=>(e=>Nt(e.startTable,e.endTable,((t,n)=>{const o=Zo(t,(e=>_n(e,n))),i=Zo(n,(e=>_n(e,t)));return o||i?{...e,startTable:o?L.none():e.startTable,endTable:i?L.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e})).getOr(e))(e),DO=(e,t)=>({start:e,end:t}),IO=Ll([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),RO=(e,t)=>to(yn.fromDom(e),"td,th",t),zO=e=>!_n(e.start,e.end),NO=(e,t)=>jh(e.start,t).bind((n=>jh(e.end,t).bind((e=>Lt(_n(n,e),n))))),LO=e=>t=>NO(t,e).map((e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,QO(e)))),jO=(e,t,n,o)=>{if(n.collapsed||!e.forall(zO))return L.none();if(t.isSameTable){const t=e.bind(LO(o));return L.some({start:t,end:t})}{const e=RO(n.startContainer,o),t=RO(n.endContainer,o),i=e.bind((e=>t=>jh(t,e).bind((e=>de(QO(e)).map((e=>DO(t,e))))))(o)).bind(LO(o)),r=t.bind((e=>t=>jh(t,e).bind((e=>ue(QO(e)).map((e=>DO(e,t))))))(o)).bind(LO(o));return L.some({start:i,end:r})}},VO=(e,t)=>te(e,(e=>_n(e,t))),BO=e=>Nt(VO(e.cells,e.rng.start),VO(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),ZO=(e,t,n)=>e.exists((e=>((e,t)=>!zO(e)&&NO(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,n)&&Zh(e.start,t))),XO=(e,t)=>{const{startTable:n,endTable:o}=t,i=e.cloneRange();return n.each((e=>i.setStartAfter(e.dom))),o.each((e=>i.setEndBefore(e.dom))),i},WO=(e,t)=>{const n=(e=>t=>_n(e,t))(e),o=((e,t)=>{const n=RO(e.startContainer,t),o=RO(e.endContainer,t);return Nt(n,o,DO)})(t,n),i=((e,t)=>{const n=EO(e.startContainer,t),o=EO(e.endContainer,t),i=n.isSome(),r=o.isSome(),s=Nt(n,o,_n).getOr(!1);return MO({startTable:n,endTable:o,isStartInTable:i,isEndInTable:r,isSameTable:s,isMultiTable:!s&&i&&r})})(t,n);return ZO(o,t,n)?o.map((e=>IO.singleCellTable(t,e.start))):i.isMultiTable?((e,t,n,o)=>jO(e,t,n,o).bind((({start:e,end:o})=>{const i=e.bind(BO).getOr([]),r=o.bind(BO).getOr([]);if(i.length>0&&r.length>0){const e=XO(n,t);return L.some(IO.multiTable(i,r,e))}return L.none()})))(o,i,t,n):((e,t,n,o)=>jO(e,t,n,o).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:o}=t,i=BO(e).getOr([]);if(o&&e.cells.length===i.length)return L.some(IO.fullTable(e.table));if(i.length>0){if(o)return L.some(IO.partialTable(i,L.none()));{const e=XO(n,t);return L.some(IO.partialTable(i,L.some({...t,rng:e})))}}return L.none()})))(o,i,t,n)},UO=e=>Y(e,(e=>{an(e,"contenteditable"),da(e)})),YO=(e,t,n,o)=>{const i=n.cloneRange();o?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),GO(e,i,t,!1).each((e=>e()))},FO=e=>{const t=Lh(e),n=yn.fromDom(e.selection.getNode());yi(n.dom)&&Mi(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&W(t,(e=>_n(e,n)))&&tn(n,"data-mce-selected","1")},qO=(e,t,n)=>L.some((()=>{const o=e.selection.getRng(),i=n.bind((({rng:n,isStartInTable:i})=>{const r=((e,t)=>L.from(e.dom.getParent(t,e.dom.isBlock)).map(yn.fromDom))(e,i?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each((n=>{t?wo(n):(da(n),e.selection.setCursorLocation(n.dom,0))}))})(e,i,r.filter(E(Mi,e.schema)));const s=i?t[0]:t[t.length-1];return YO(e,s,o,i),Mi(e.schema,s)?L.none():L.some(i?t.slice(1):t.slice(0,-1))})).getOr(t);UO(i),FO(e)})),HO=(e,t,n,o)=>L.some((()=>{const i=e.selection.getRng(),r=t[0],s=n[n.length-1];YO(e,r,i,!0),YO(e,s,i,!1);const a=Mi(e.schema,r)?t:t.slice(1),l=Mi(e.schema,s)?n:n.slice(0,-1);UO(a.concat(l)),o.deleteContents(),FO(e)})),GO=(e,t,n,o=!0)=>L.some((()=>{AO(e,t,n,o)})),KO=(e,t)=>L.some((()=>pO(e,!1,t))),JO=(e,t,n,o)=>tv(t,o).fold((()=>((e,t,n)=>WO(t,n).bind((t=>t.fold(E(GO,e),E(KO,e),E(qO,e),E(HO,e)))))(e,t,n)),(t=>((e,t)=>nv(e,t))(e,t))),ev=(e,t)=>ee(Sg(t,e),aa),tv=(e,t)=>ee(Sg(t,e),Jt("caption")),nv=(e,t)=>L.some((()=>{da(t),e.selection.setCursorLocation(t.dom,0)})),ov=(e,t,n,o,i)=>ch(n,e.getBody(),i).fold((()=>L.some(C)),(r=>((e,t,n,o)=>ph(e.dom).bind((i=>mh(e.dom).map((e=>t?n.isEqual(i)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(i))))).getOr(!0))(o,n,i,r)?((e,t)=>nv(e,t))(e,o):((e,t,n)=>tv(e,yn.fromDom(n.getNode())).fold((()=>L.some(C)),(e=>Lt(!_n(e,t),C))))(t,o,r))),iv=(e,t,n,o)=>{const i=fl.fromRangeStart(e.selection.getRng());return ev(n,o).bind((o=>Mi(e.schema,o,{checkRootAsContent:!1})?nv(e,o):((e,t,n,o,i)=>ch(n,e.getBody(),i).bind((e=>ev(t,yn.fromDom(e.getNode())).bind((e=>_n(e,o)?L.none():L.some(C))))))(e,n,t,o,i)))},rv=(e,t)=>e?vg(t):bg(t),sv=(e,t,n)=>{const o=yn.fromDom(e.getBody());return tv(o,n).fold((()=>iv(e,t,o,n).orThunk((()=>Lt(((e,t)=>{const n=fl.fromRangeStart(e.selection.getRng());return rv(t,n)||lh(t,e.getBody(),n).exists((e=>rv(t,e)))})(e,t),C)))),(n=>((e,t,n,o)=>{const i=fl.fromRangeStart(e.selection.getRng());return Mi(e.schema,o)?nv(e,o):ov(e,n,t,o,i)})(e,t,o,n)))},av=(e,t)=>{const n=yn.fromDom(e.selection.getStart(!0)),o=Lh(e);return e.selection.isCollapsed()&&0===o.length?sv(e,t,n):((e,t,n)=>{const o=yn.fromDom(e.getBody()),i=e.selection.getRng();return 0!==n.length?qO(e,n,L.none()):JO(e,o,i,t)})(e,n,o)},lv=(e,t)=>{let n=t;for(;n&&n!==e;){if(Oi(n)||vi(n))return n;n=n.parentNode}return null},cv=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],uv=It.each,dv=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),o=e=>W(cv,(t=>We(e,t)))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const i=e=>{const n={};return uv(t.getAttribs(e),(i=>{const r=i.nodeName.toLowerCase();"style"===r||o(r)||(n[r]=t.getAttrib(e,r))})),n},r=(e,t)=>{for(const n in e)if(Ce(e,n)){const o=t[n];if(y(o))return!1;if(e[n]!==o)return!1;delete t[n]}for(const e in t)if(Ce(t,e))return!1;return!0};if(ei(e)&&ei(n)){if(!r(i(e),i(n)))return!1;if(!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!Qh(e)&&!Qh(n)},isAttributeInternal:o}},hv=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),fv=(e,t,n,o)=>{const i=n.name;for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.name===i){const e=o.nodes[i];e?e.nodes.push(n):o.nodes[i]={filter:r,nodes:[n]}}}if(n.attributes)for(let e=0,i=t.length;e<i;e++){const i=t[e],r=i.name;if(r in n.attributes.map){const e=o.attributes[r];e?e.nodes.push(n):o.attributes[r]={filter:i,nodes:[n]}}}},pv=(e,t)=>{const n=(e,n)=>{Oe(e,(e=>{const o=he(e.nodes);Y(e.filter.callbacks,(i=>{for(let t=o.length-1;t>=0;t--){const i=o[t];(n?void 0!==i.attr(e.filter.name):i.name===e.filter.name)&&!x(i.parent)||o.splice(t,1)}o.length>0&&i(o,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},mv=(e,t,n,o={})=>{const i=((e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&((e,t)=>{let n=e;for(;n=n.walk();)t(n)})(n,(n=>{fv(e,t,n,o)})),o})(e,t,n);pv(i,o)},gv=(e,t,n,o)=>{if((e.pad_empty_with_br||t.insert)&&n(o)){const e=new Mm("br",1);t.insert&&e.attr("data-mce-bogus","1"),o.empty().append(e)}else o.empty().append(new Mm("#text",3)).value=Uo},Ov=(e,t)=>{const n=null==e?void 0:e.firstChild;return w(n)&&n===e.lastChild&&n.name===t},vv=(e,t,n,o)=>o.isEmpty(t,n,(t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t))),bv=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return L.from(t)},yv=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const e of o)n&&!t.isValidChild(n.name,e.name)&&yv(e,t,n);e.unwrap()}},xv=(e,t,n,o=C)=>{const i=t.getTextBlockElements(),r=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=It.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),l=new Set,c=e=>e!==n&&!a[e.name];for(let n=0;n<e.length;n++){const a=e[n];let u,d,h;if(!a.parent||l.has(a))continue;if(i[a.name]&&"li"===a.parent.name){let e=a.next;for(;e&&i[e.name];)e.name="li",l.add(e),a.parent.insert(e,a.parent),e=e.next;a.unwrap();continue}const f=[a];for(u=a.parent;u&&!t.isValidChild(u.name,a.name)&&c(u);u=u.parent)f.push(u);if(u&&f.length>1)if(wv(t,a,u))yv(a,t);else{f.reverse(),d=f[0].clone(),o(d);let e=d;for(let n=0;n<f.length-1;n++){t.isValidChild(e.name,f[n].name)&&n>0?(h=f[n].clone(),o(h),e.append(h)):h=e;for(let e=f[n].firstChild;e&&e!==f[n+1];){const t=e.next;h.append(e),e=t}e=h}vv(t,r,s,d)?u.insert(a,f[0],!0):(u.insert(d,f[0],!0),u.insert(a,d)),u=f[0],(vv(t,r,s,u)||Ov(u,"br"))&&u.empty().remove()}else if(a.parent){if("li"===a.name){let e=a.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(a);continue}if(e=a.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(a,e.firstChild,!0);continue}const t=new Mm("ul",1);o(t),a.wrap(t);continue}if(t.isValidChild(a.parent.name,"div")&&t.isValidChild("div",a.name)){const e=new Mm("div",1);o(e),a.wrap(e)}else yv(a,t)}}},wv=(e,t,n=t.parent)=>!!n&&(!(!e.children[t.name]||e.isValidChild(n.name,t.name))||(!("a"!==t.name||!((e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1})(n,"a"))||!(!(e=>"summary"===e.name)(n)||!hv(t))&&!((null==n?void 0:n.firstChild)===t&&(null==n?void 0:n.lastChild)===t))),Sv=e=>{const t=fl.fromRangeStart(e),n=fl.fromRangeEnd(e),o=e.commonAncestorContainer;return lh(!1,o,n).map((i=>!Dd(t,n,o)&&Dd(t,i,o)?((e,t,n,o)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(n,o),i})(t.container(),t.offset(),i.container(),i.offset()):e)).getOr(e)},_v=e=>e.collapsed?e:Sv(e),kv=(e,t)=>e.getBlockElements()[t.name]&&(e=>w(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===Uo)(t.firstChild),Cv=(e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),((e,t)=>{const n=e.getNonEmptyElements();return w(t)&&(t.isEmpty(n)||kv(e,t))})(e,o)&&(o=null==o?void 0:o.prev),!(!n||n!==o)&&("ul"===n.name||"ol"===n.name)},Tv=e=>w(null==e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&(e=>e.data===Uo||mi(e))(e.firstChild),$v=e=>{return e.length>0&&(!(t=e[e.length-1]).firstChild||Tv(t))?e.slice(0,-1):e;var t},Pv=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Av=(e,t)=>{const n=fl.after(e),o=oh(t).prev(n);return o?o.toRange():null},Qv=(e,t,n)=>{const o=e.parentNode;return o&&It.each(t,(t=>{o.insertBefore(t,e)})),((e,t)=>{const n=fl.before(e),o=oh(t).next(n);return o?o.toRange():null})(e,n)},Ev=(e,t,n,o)=>{const i=((e,t,n)=>{const o=t.serialize(n);return(e=>{var t,n;const o=e.firstChild,i=e.lastChild;return o&&"META"===o.nodeName&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o)),i&&"mce_marker"===i.id&&(null===(n=i.parentNode)||void 0===n||n.removeChild(i)),e})(e.createFragment(o))})(t,e,o),r=Pv(t,n.startContainer),s=$v((a=i.firstChild,H(null!==(l=null==a?void 0:a.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var a,l;const c=t.getRoot(),u=e=>{const o=fl.fromRangeStart(n),i=oh(t.getRoot()),s=1===e?i.prev(o):i.next(o),a=null==s?void 0:s.getNode();return!a||Pv(t,a)!==r};return r?u(1)?Qv(r,s,c):u(2)?((e,t,n,o)=>(o.insertAfter(t.reverse(),e),Av(t[0],n)))(r,s,c,t):((e,t,n,o)=>{const i=((e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]})(e,o),r=e.parentNode;return r&&(r.insertBefore(i[0],e),It.each(t,(t=>{r.insertBefore(t,e)})),r.insertBefore(i[1],e),r.removeChild(e)),Av(t[t.length-1],n)})(r,s,c,n):null},Mv=["pre"],Dv=yi,Iv=(e,t,n)=>{var o;"all"===n.getAttribute("data-mce-bogus")?null===(o=n.parentNode)||void 0===o||o.insertBefore(e.dom.createFragment(t),n):((e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const e=t.childNodes;return 1===e.length&&mi(e[0])||0===e.length}return!1})(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})},Rv=(e,t,n)=>{L.from(e.getParent(t,"td,th")).map(yn.fromDom).each((e=>((e,t)=>{Ln(e).each((n=>{En(n).each((o=>{t.isBlock(Wt(e))&&na(n)&&t.isBlock(Wt(o))&&wo(n)}))}))})(e,n)))},zv=(e,t)=>{var n,o,i;let r;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=lv(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const u=t.previousSibling;if(ci(u)){c.setStart(u,null!==(o=null===(n=u.nodeValue)||void 0===n?void 0:n.length)&&void 0!==o?o:0);const e=t.nextSibling;ci(e)&&(u.appendData(e.data),null===(i=e.parentNode)||void 0===i||i.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const d=s.getParent(t,s.isBlock);if(s.remove(t),d&&s.isEmpty(d)){const t=Dv(d);xo(yn.fromDom(d)),c.setStart(d,0),c.setEnd(d,0),t||(e=>!!e.getAttribute("data-mce-fragment"))(d)||!(r=(t=>{let n=fl.fromRangeStart(t);return n=oh(e.getBody()).next(n),null==n?void 0:n.toRange()})(c))?s.add(d,s.create("br",t?{}:{"data-mce-bogus":"1"})):(c=r,s.remove(d))}a.setRng(c)},Nv=e=>{const t=e.dom,n=_v(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,Dv);((e,t,n)=>{if(w(n))return n===e.getParent(t.endContainer,Dv)&&Zh(yn.fromDom(n),t);return!1})(t,n,o)?GO(e,n,yn.fromDom(o)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&ci(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},Lv=(e,t,n)=>{var o,i;const r=e.selection,s=e.dom,a=e.parser,l=n.merge,c=Jm({validate:!0},e.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=pa(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,u);let d=r.getRng();const h=d.startContainer,f=e.getBody();h===f&&r.isCollapsed()&&s.isBlock(f.firstChild)&&((e,t)=>w(t)&&!e.schema.getVoidElements()[t.nodeName])(e,f.firstChild)&&s.isEmpty(f.firstChild)&&(d=s.createRng(),d.setStart(f.firstChild,0),d.setEnd(f.firstChild,0),r.setRng(d)),r.isCollapsed()||Nv(e);const p=r.getNode(),m={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},g=a.parse(t,m);if(!0===n.paste&&Cv(e.schema,g)&&((e,t)=>!!Pv(e,t))(s,p))return d=Ev(c,s,r.getRng(),g),d&&r.setRng(d),t;!0===n.paste&&((e,t,n,o)=>{var i;const r=t.firstChild,s=t.lastChild,a=r===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=X(Mv,r.name);if(a&&l){const t="false"!==r.attr("contenteditable"),s=(null===(i=e.getParent(n,e.isBlock))||void 0===i?void 0:i.nodeName.toLowerCase())===r.name,a=L.from(lv(o,n)).forall(Oi);return t&&s&&a}return!1})(s,g,p,e.getBody())&&(null===(o=g.firstChild)||void 0===o||o.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let O=g.lastChild;if(O&&"mce_marker"===O.attr("id")){const t=O;for(O=O.prev;O&&"table"!==O.name;O=O.walk(!0))if(3===O.type||!s.isBlock(O.name)){O.parent&&e.schema.isValidChild(O.parent.name,"span")&&O.parent.insert(t,O,"br"===O.name);break}}if(e._selectionOverrides.showBlockCaretContainer(p),m.invalid||((e,t,n)=>{var o;return W(n.children(),hv)&&"SUMMARY"===(null===(o=e.getParent(t,e.isBlock))||void 0===o?void 0:o.nodeName)})(s,p,g)){e.selection.setContent(u);let n,o=r.getNode();const l=e.getBody();for(fi(o)?o=n=l:n=o;n&&n!==l;)o=n,n=n.parentNode;t=o===l?l.innerHTML:s.getOuterHTML(o);const d=a.parse(t),h=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return L.some(t);return L.none()})(d),f=h.bind(bv).getOr(d);h.each((e=>e.replace(g)));const p=g.children(),m=null!==(i=g.parent)&&void 0!==i?i:d;g.unwrap();const O=H(p,(t=>wv(e.schema,t,m)));xv(O,e.schema,f),mv(a.getNodeFilters(),a.getAttributeFilters(),d),t=c.serialize(d),o===l?s.setHTML(l,t):s.setOuterHTML(o,t)}else t=c.serialize(g),Iv(e,t,p);var v;return((e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const t=e.getBody(),i=dv(e),r="*[data-mce-fragment]",s=o.select(r);It.each(s,(e=>{const s=e=>w(n[e.nodeName.toLowerCase()]),a=e=>1===e.childNodes.length;if(!ig(o,l=e)&&!rg(o,l)&&s(e)&&a(e)){const n=og(o,e),l=(e,t)=>ie(e,(e=>X(t,e))),c=t=>a(e)&&o.is(t,r)&&s(t)&&(t.nodeName===e.nodeName&&l(n,og(o,t))||c(t.children[0])),u=n=>w(n)&&n!==t&&(i.compare(e,n)||u(n.parentElement)),d=n=>w(n)&&n!==t&&o.is(n,r)&&(sg(o,e,n)||d(n.parentElement));(c(e.children[0])||u(e.parentElement)&&!d(e.parentElement))&&o.remove(e,!0)}var l}))}})(e,l),zv(e,s.get("mce_marker")),v=e.getBody(),It.each(v.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),Rv(s,r.getStart(),e.schema),((e,t,n)=>{const o=Qn(yn.fromDom(n),(e=>_n(e,yn.fromDom(t))));ce(o,o.length-2).filter(qt).fold((()=>qi(e,t)),(t=>qi(e,t.dom)))})(e.schema,e.getBody(),r.getStart()),t},jv=e=>e instanceof Mm,Vv=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{wp(e)&&ph(e.getBody()).each((t=>{const n=t.getNode(),o=si(n)?ph(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e)},Bv=(e,t,n)=>L.from(e.getBody()).map((o=>jv(t)?((e,t,n,o)=>{mv(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const i=Jm({validate:!1},e.schema).serialize(n),r=pa(la(yn.fromDom(t))?i:It.trim(i));return Vv(e,r,o.no_selection),{content:n,html:r}})(e,o,t,n):((e,t,n,o)=>{if(0===(n=pa(n)).length||/^\s+$/.test(n)){const i='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>");const r=pc(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=i,n=e.dom.createHTML(r,mc(e),n)):n||(n=i),Vv(e,n,o.no_selection),{content:n,html:n}}{"raw"!==o.format&&(n=Jm({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const i=la(yn.fromDom(t))?n:It.trim(n);return Vv(e,i,o.no_selection),{content:i,html:i}}})(e,o,t,n))).getOr({content:t,html:jv(n.content)?"":n.content}),Zv=e=>S(e)?e:z,Xv=(e,t,n)=>{const o=t(e),i=Zv(n);return o.orThunk((()=>i(e)?L.none():((e,t,n)=>{let o=e.dom;const i=Zv(n);for(;o.parentNode;){o=o.parentNode;const e=yn.fromDom(o),n=t(e);if(n.isSome())return n;if(i(e))break}return L.none()})(e,t,i)))},Wv=rf,Uv=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let n=0;n<o.length;n++){const i=o[n];if(ff(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return!0}return!1},Yv=(e,t,n,o,i)=>{const r=e.dom.getRoot();if(t===r)return!1;const s=e.dom.getParent(t,(t=>!!Uv(e,t,n)||(t.parentNode===r||!!Hv(e,t,n,o,!0))));return!!Hv(e,s,n,o,i)},Fv=(e,t,n)=>!(!pf(n)||!Wv(t,n.inline))||(!(!hf(n)||!Wv(t,n.block))||!!ff(n)&&(ei(t)&&e.is(t,n.selector))),qv=(e,t,n,o,i,r)=>{const s=n[o],a="attributes"===o;if(S(n.onmatch))return n.onmatch(t,n,o);if(s)if(Pe(s)){for(let n=0;n<s.length;n++)if(a?e.getAttrib(t,s[n]):af(e,t,s[n]))return!0}else for(const o in s)if(Ce(s,o)){const l=a?e.getAttrib(t,o):af(e,t,o),c=of(s[o],r),u=x(l)||Ke(l);if(u&&x(c))continue;if(i&&u&&!n.exact)return!1;if((!i||n.exact)&&!Wv(l,sf(c,o)))return!1}return!0},Hv=(e,t,n,o,i)=>{const r=e.formatter.get(n),s=e.dom;if(r&&ei(t))for(let n=0;n<r.length;n++){const a=r[n];if(Fv(e.dom,t,a)&&qv(s,t,a,"attributes",i,o)&&qv(s,t,a,"styles",i,o)){const n=a.classes;if(n)for(let i=0;i<n.length;i++)if(!e.dom.hasClass(t,of(n[i],o)))return;return a}}},Gv=(e,t,n,o,i)=>{if(o)return Yv(e,o,t,n,i);if(o=e.selection.getNode(),Yv(e,o,t,n,i))return!0;const r=e.selection.getStart();return!(r===o||!Yv(e,r,t,n,i))},Kv=(e,t)=>{const n=t=>_n(t,yn.fromDom(e.getBody()));return L.from(e.selection.getStart(!0)).bind((o=>Xv(yn.fromDom(o),(n=>fe(t,(t=>((t,n)=>Hv(e,t.dom,n)?L.some(n):L.none())(n,t)))),n))).getOrNull()},Jv=(e,t,n)=>K(n,((n,o)=>{const i=((e,t)=>uf(e,t,(e=>{const t=e=>S(e)||e.length>1&&"%"===e.charAt(0);return W(["styles","attributes"],(n=>ke(e,n).exists((e=>{const n=O(e)?e:_e(e);return W(n,t)}))))})))(e,o);return e.formatter.matchNode(t,o,{},i)?n.concat([o]):n}),[]),eb=ha,tb=e=>{if(e){const t=new Xo(e,e);for(let e=t.current();e;e=t.next())if(ci(e))return e}return null},nb=e=>{const t=yn.fromTag("span");return nn(t,{id:gh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&vo(t,yn.fromText(eb)),t},ob=(e,t,n)=>{const o=e.dom,i=e.selection;if(gf(t))pO(e,!1,yn.fromDom(t),n,!0);else{const e=i.getRng(),n=o.getParent(t,o.isBlock),r=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=tb(e);return t&&t.data.charAt(0)===eb&&t.deleteData(0,1),t})(t);o.remove(t,!0),r===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),n&&o.isEmpty(n)&&da(yn.fromDom(n)),i.setRng(e)}},ib=(e,t,n)=>{const o=e.dom,i=e.selection;if(t)ob(e,t,n);else if(!(t=vh(e.getBody(),i.getStart())))for(;t=o.get(gh);)ob(e,t,n)},rb=(e,t)=>(e.appendChild(t),t),sb=(e,t)=>{var n;const o=G(e,((e,t)=>rb(e,t.cloneNode(!1))),t),i=null!==(n=o.ownerDocument)&&void 0!==n?n:document;return rb(o,i.createTextNode(eb))},ab=e=>ea(e,Js(e).replace(new RegExp(`${Uo}$`)," ")),lb=(e,t)=>{const n=()=>{null===t||e.dom.isEmpty(t)||En(yn.fromDom(t)).each((e=>{Ht(e)?ab(e):Kn(e,(e=>Ht(e))).each((e=>{Ht(e)&&ab(e)}))}))};e.once("input",(t=>{t.data&&!Dh(t.data)&&(t.isComposing?e.once("compositionend",(()=>{n()})):n())}))},cb=(e,t,n,o)=>{const i=e.dom,r=e.selection;let s=!1;const a=e.formatter.get(t);if(!a)return;const l=r.getRng(),c=l.startContainer,u=l.startOffset;let d=c;ci(c)&&(u!==c.data.length&&(s=!0),d=d.parentNode);const h=[];let f;for(;d;){if(Hv(e,d,t,n,o)){f=d;break}d.nextSibling&&(s=!0),h.push(d),d=d.parentNode}if(f)if(s){const s=r.getBookmark();l.collapse(!0);let c=Ef(i,l,a,{includeTrailingSpace:!0});c=em(c),e.formatter.remove(t,n,c,o),r.moveToBookmark(s)}else{const s=vh(e.getBody(),f),a=w(s)?i.getParents(f.parentNode,N,s):[],l=nb(!1).dom;((e,t,n)=>{var o,i;const r=e.dom,s=r.getParent(n,E(Jh,e.schema));s&&r.isEmpty(s)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):(ca(yn.fromDom(n)),r.isEmpty(n)?null===(i=n.parentNode)||void 0===i||i.replaceChild(t,n):r.insertAfter(t,n))})(e,l,null!=s?s:f);const c=((e,t,n,o,i,r)=>{const s=e.formatter,a=e.dom,l=H(me(s.get()),(e=>e!==o&&!Xe(e,"removeformat"))),c=Jv(e,n,l);if(H(c,(t=>!df(e,t,o))).length>0){const e=n.cloneNode(!1);return a.add(t,e),s.remove(o,i,e,r),a.remove(e),L.some(e)}return L.none()})(e,l,f,t,n,o),u=sb([...h,...c.toArray(),...a],l);s&&ob(e,s,w(s)),r.setCursorLocation(u,1),lb(e,l),i.isEmpty(f)&&i.remove(f)}},ub=e=>{e.on("mouseup keydown",(t=>{var n;((e,t,n)=>{const o=e.selection,i=e.getBody();ib(e,null,n),8!==t&&46!==t||!o.isCollapsed()||o.getStart().innerHTML!==eb||ib(e,vh(i,o.getStart()),!0),37!==t&&39!==t||ib(e,vh(i,o.getStart()),!0)})(e,t.keyCode,(n=e.selection.getRng().endContainer,ci(n)&&Ue(n.data,Uo)))}))},db=e=>{const t=nb(!1),n=sb(e,t.dom);return{caretContainer:t,caretPosition:fl(n,0)}},hb=(e,t)=>{const{caretContainer:n,caretPosition:o}=db(t);return mo(yn.fromDom(e),n),wo(yn.fromDom(e)),o},fb=(e,t)=>{if(Oh(t.dom))return!1;const n=e.schema.getTextInlineElements();return Ce(n,Wt(t))&&!Oh(t.dom)&&!ri(t.dom)},pb={},mb=oi(["pre"]);((e,t)=>{pb[e]||(pb[e]=[]),pb[e].push(t)})("pre",(e=>{const t=e.selection.getRng();if(!t.collapsed){const t=e.selection.getSelectedBlocks(),n=H(H(t,mb),(e=>t=>{const n=t.previousSibling;return mb(n)&&X(e,n)})(t));Y(n,(e=>{((e,t)=>{const n=yn.fromDom(t),o=Tn(n).dom;wo(n),yo(yn.fromDom(e),[yn.fromTag("br",o),yn.fromTag("br",o),...Rn(n)])})(e.previousSibling,e)}))}}));const gb=["fontWeight","fontStyle","color","fontSize","fontFamily"],Ob=e=>ee(e,(e=>pf(e)&&"span"===e.inline&&(e=>m(e.styles)&&W(me(e.styles),(e=>X(gb,e))))(e))),vb=(e,t)=>{const n=e.get(t);return O(n)?Ob(n):L.none()},bb=(e,t)=>fh(t,fl.fromRangeStart(e)).isNone(),yb=(e,t)=>!1===hh(t,fl.fromRangeEnd(e)).exists((e=>!mi(e.getNode())||hh(t,e).isSome())),xb=e=>t=>Si(t)&&e.isEditable(t),wb=e=>H((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return bb(n,t[0])&&yb(n,t[0])?t:[];{const e=ue(t).filter((e=>bb(n,e))).toArray(),o=de(t).filter((e=>yb(n,e))).toArray(),i=t.slice(1,-1);return e.concat(i).concat(o)}})(e),xb(e.dom)),Sb=e=>H(e.getSelectedBlocks(),xb(e.dom)),_b=It.each,kb=e=>ei(e)&&!Qh(e)&&!Oh(e)&&!ri(e),Cb=(e,t)=>{for(let n=e;n;n=n[t]){if(ci(n)&&Ge(n.data))return e;if(ei(n)&&!Qh(n))return n}return e},Tb=(e,t,n)=>{const o=dv(e),i=ti(t)&&e.dom.isEditable(t),r=ti(n)&&e.dom.isEditable(n);if(i&&r){const i=Cb(t,"previousSibling"),r=Cb(n,"nextSibling");if(o.compare(i,r)){for(let e=i.nextSibling;e&&e!==r;){const t=e;e=e.nextSibling,i.appendChild(t)}return e.dom.remove(r),It.each(It.grep(r.childNodes),(e=>{i.appendChild(e)})),i}}return n},$b=(e,t,n,o)=>{var i;if(o&&!1!==t.merge_siblings){const t=null!==(i=Tb(e,Kh(o),o))&&void 0!==i?i:o;Tb(e,t,Kh(t,!0))}},Pb=(e,t,n)=>{_b(e.childNodes,(e=>{kb(e)&&(t(e)&&n(e),e.hasChildNodes()&&Pb(e,t,n))}))},Ab=(e,t)=>n=>!(!n||!af(e,n,t)),Qb=(e,t,n)=>o=>{e.setStyle(o,t,n),""===o.getAttribute("style")&&o.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,o)},Eb=Ll([{keep:[]},{rename:["name"]},{removed:[]}]),Mb=/^(src|href|style)$/,Db=It.each,Ib=rf,Rb=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),zb=(e,t,n)=>{let o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];if(ei(o)){const e=o.childNodes.length-1;!n&&i&&i--,o=o.childNodes[i>e?e:i]}return ci(o)&&n&&i>=o.data.length&&(o=new Xo(o,e.getBody()).next()||o),ci(o)&&!n&&0===i&&(o=new Xo(o,e.getBody()).prev()||o),o},Nb=(e,t)=>{const n=t?"firstChild":"lastChild",o=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&o?"TR"===e.nodeName&&o[n]||o:e},Lb=(e,t,n,o)=>{var i;const r=e.create(n,o);return null===(i=t.parentNode)||void 0===i||i.insertBefore(r,t),r.appendChild(t),r},jb=(e,t,n,o,i)=>{const r=yn.fromDom(t),s=yn.fromDom(e.create(o,i)),a=n?In(r):Dn(r);return yo(s,a),n?(mo(r,s),Oo(s,r)):(go(r,s),vo(s,r)),s.dom},Vb=(e,t,n)=>{const o=t.parentNode;let i;const r=e.dom,s=pc(e);hf(n)&&o===r.getRoot()&&(n.list_block&&Ib(t,n.list_block)||Y(he(t.childNodes),(t=>{ef(e,s,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=Lb(r,t,s),r.setAttribs(i,mc(e))):i=null}))),(e=>ff(e)&&pf(e)&&Rt(ke(e,"mixed"),!0))(n)&&!Ib(n.inline,t)||r.remove(t,!0)},Bb=(e,t,n)=>_(e)?{name:t,value:null}:{name:e,value:of(t,n)},Zb=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Xb=(e,t,n,o,i)=>{let r=!1;Db(n.styles,((s,a)=>{const{name:l,value:c}=Bb(a,s,o),u=sf(c,l);(n.remove_similar||v(c)||!ei(i)||Ib(af(e,i,l),u))&&e.setStyle(t,l,""),r=!0})),r&&Zb(e,t)},Wb=(e,t,n,o,i)=>{const r=e.dom,s=dv(e),a=e.schema;if(pf(t)&&Ki(a,t.inline)&&er(a,o)&&o.parentElement===e.getBody())return Vb(e,o,t),Eb.removed();if(!t.ceFalseOverride&&o&&"false"===r.getContentEditableParent(o))return Eb.keep();if(o&&!Fv(r,o,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(o,t))return Eb.keep();const l=o,c=t.preserve_attributes;if(pf(t)&&"all"===t.remove&&O(c)){const e=H(r.getAttribs(l),(e=>X(c,e.name.toLowerCase())));if(r.removeAllAttribs(l),Y(e,(e=>r.setAttrib(l,e.name,e.value))),e.length>0)return Eb.rename("span")}if("all"!==t.remove){Xb(r,l,t,n,i),Db(t.attributes,((e,o)=>{const{name:s,value:a}=Bb(o,e,n);if(t.remove_similar||v(a)||!ei(i)||Ib(r.getAttrib(i,s),a)){if("class"===s){const e=r.getAttrib(l,s);if(e){let t="";if(Y(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void r.setAttrib(l,s,t)}}if(Mb.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&oi(["li"])(l)&&"none"===r.getStyle(l,"list-style-type"))return l.removeAttribute(s),void r.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),Db(t.classes,(e=>{e=of(e,n),ei(i)&&!r.hasClass(i,e)||r.removeClass(l,e)}));const e=r.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!s.isAttributeInternal(n))return Eb.keep()}}return"none"!==t.remove?(Vb(e,l,t),Eb.removed()):Eb.keep()},Ub=(e,t,n,o)=>Wb(e,t,n,o,o).fold(P(o),(t=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,t))),P(null)),Yb=(e,t,n,o,i)=>{const r=e.formatter.get(t),s=r[0],a=e.dom,l=e.selection,c=o=>{const a=((e,t,n,o,i)=>{let r;return t.parentNode&&Y(cf(e.dom,t.parentNode).reverse(),(t=>{if(!r&&ei(t)&&"_start"!==t.id&&"_end"!==t.id){const s=Hv(e,t,n,o,i);s&&!1!==s.split&&(r=t)}})),r})(e,o,t,n,i);return((e,t,n,o,i,r,s,a)=>{var l,c;let u,d;const h=e.dom;if(n){const f=n.parentNode;for(let n=o.parentNode;n&&n!==f;n=n.parentNode){let o=h.clone(n,!1);for(let n=0;n<t.length&&(o=Ub(e,t[n],a,o),null!==o);n++);o&&(u&&o.appendChild(u),d||(d=o),u=o)}!r||s.mixed&&h.isBlock(n)||(o=null!==(l=h.split(n,o))&&void 0!==l?l:o),u&&d&&(null===(c=i.parentNode)||void 0===c||c.insertBefore(u,i),d.appendChild(i),pf(s)&&$b(e,s,0,u))}return o})(e,r,a,o,o,!0,s,n)},u=t=>W(r,(o=>qb(e,o,n,t,t))),d=t=>{const n=he(t.childNodes),o=u(t)||W(r,(e=>Fv(a,t,e))),i=t.parentNode;if(!o&&w(i)&&mf(s)&&u(i),s.deep&&n.length)for(let e=0;e<n.length;e++)d(n[e]);Y(["underline","line-through","overline"],(n=>{ei(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&lf(a,t.parentNode)===n&&qb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)}))},h=e=>{const t=a.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>Qh(e)&&ei(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),ci(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),n}return null},f=t=>{let n,o,i=Ef(a,t,r,{includeTrailingSpace:t.collapsed});if(s.split){if(i=em(i),n=zb(e,i,!0),o=zb(e,i),n!==o){if(n=Nb(n,!0),o=Nb(o,!1),Rb(a,n,o)){const e=L.from(n.firstChild).getOr(n);return c(jb(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(Rb(a,o,n)){const e=L.from(o.lastChild).getOr(o);return c(jb(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=Lb(a,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=Lb(a,o,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(n),e.setEndBefore(o),Mf(a,e,(e=>{Y(e,(e=>{Qh(e)||Qh(e.parentNode)||c(e)}))})),c(n),c(o),n=h(!0),o=h()}else n=o=c(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=a.nodeIndex(n),i.endContainer=o.parentNode?o.parentNode:o,i.endOffset=a.nodeIndex(o)+1}Mf(a,i,(e=>{Y(e,d)}))};if(o){if(Fh(o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),f(e)}else f(o);ql(e,t,o,n)}else l.isCollapsed()&&pf(s)&&!Lh(e).length?cb(e,t,n,i):(Hh(e,(()=>Uh(e,f)),(o=>pf(s)&&Gv(e,t,n,o))),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?Y(Sb(e.selection),(t=>{Y(gb,(n=>e.dom.setStyle(t,n,""))),Zb(e.dom,t)})):vb(e.formatter,t).each((t=>{Y(Sb(e.selection),(o=>Xb(e.dom,o,t,n,null)))}))})(e,t,n),ql(e,t,o,n)},Fb=(e,t,n,o,i)=>{(o||e.selection.isEditable())&&Yb(e,t,n,o,i)},qb=(e,t,n,o,i)=>Wb(e,t,n,o,i).fold(z,(t=>(e.dom.rename(o,t),!0)),N),Hb=It.each,Gb=(e,t,n,o)=>{Hb(t,(t=>{pf(t)&&Hb(e.dom.select(t.inline,o),(o=>{kb(o)&&qb(e,t,n,o,t.exact?o:null)})),((e,t,n)=>{if(t.clear_child_styles){const o=t.links?"*:not(a)":"*";_b(e.select(o,n),(n=>{kb(n)&&e.isEditable(n)&&_b(t.styles,((t,o)=>{e.setStyle(n,o,"")}))}))}})(e.dom,t,o)}))},Kb=It.each,Jb=(e,t,n,o)=>{if(Kb(n.styles,((n,i)=>{e.setStyle(t,i,of(n,o))})),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},ey=(e,t,n,o)=>{const i=e.formatter.get(t),r=i[0],s=!o&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=r)=>{S(t.onformat)&&t.onformat(e,t,n,o),Jb(a,e,t,n),Kb(t.attributes,((t,o)=>{a.setAttrib(e,o,of(t,n))})),Kb(t.classes,(t=>{const o=of(t,n);a.hasClass(e,o)||a.addClass(e,o)}))},u=(e,t)=>{let n=!1;return Kb(e,(e=>!!ff(e)&&("false"===a.getContentEditable(t)&&!e.ceFalseOverride||(!(!w(e.collapsed)||e.collapsed===s)||(!(a.is(t,e.selector)&&!Oh(t))||(c(t,e),n=!0,!1)))))),n},d=e=>{if(p(e)){const t=a.create(e);return c(t),t}return null},h=(o,s,a)=>{const l=[];let h=!0;const f=r.inline||r.block,p=d(f),m=o=>(e=>hf(e)&&!0===e.wrapper)(r)&&Hv(e,o,t,n),g=(t,n,o)=>{const i=(e=>hf(e)&&!0!==e.wrapper)(r)&&Jh(e.schema,t)&&ef(e,n,f);return o&&i};Mf(o,s,(t=>{let n;const s=t=>{let d=!1,O=h,v=!1;const b=t.parentNode,y=b.nodeName.toLowerCase(),x=o.getContentEditable(t);w(x)&&(O=h,h="true"===x,d=!0,v=nf(e,t));const S=h&&!d;if(mi(t)&&!((e,t,n,o)=>{if(Jc(e)&&pf(t)&&n.parentNode){const t=Zr(e.schema),i=Bo(yn.fromDom(n),(e=>Oh(e.dom)));return Te(t,o)&&Ei(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!i}return!1})(e,r,t,y))return n=null,void(hf(r)&&o.remove(t));if(m(t))n=null;else{if(g(t,y,S)){const e=o.rename(t,f);return c(e),l.push(e),void(n=null)}if(ff(r)){let e=u(i,t);if(!e&&w(b)&&mf(r)&&(e=u(i,b)),!pf(r)||e)return void(n=null)}w(p)&&((t,n,i,s)=>{const l=t.nodeName.toLowerCase(),c=ef(e,f,l)&&ef(e,n,f),u=!a&&ci(t)&&fa(t.data),d=Oh(t),h=!pf(r)||!o.isBlock(t);return(i||s)&&c&&!u&&!d&&h})(t,y,S,v)?(n||(n=o.clone(p,!1),b.insertBefore(n,t),l.push(n)),v&&d&&(h=O),n.appendChild(t)):(n=null,Y(he(t.childNodes),s),d&&(h=O),n=null)}};Y(t,s)})),!0===r.links&&Y(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,r),Y(he(e.childNodes),t)};t(e)})),Y(l,(s=>{const a=(e=>{let t=0;return Y(e.childNodes,(e=>{(e=>w(e)&&ci(e)&&0===e.length)(e)||Qh(e)||t++})),t})(s);!(l.length>1)&&o.isBlock(s)||0!==a?(pf(r)||hf(r)&&r.wrapper)&&(r.exact||1!==a||(s=(e=>{const t=ee(e.childNodes,qh).filter((e=>"false"!==o.getContentEditable(e)&&Fv(o,e,r)));return t.map((t=>{const n=o.clone(t,!1);return c(n),o.replace(n,e,!0),o.remove(t,!0),n})).getOr(e)})(s)),Gb(e,i,n,s),((e,t,n,o,i)=>{const r=i.parentNode;Hv(e,r,n,o)&&qb(e,t,o,i)||t.merge_with_parents&&r&&e.dom.getParent(r,(r=>!!Hv(e,r,n,o)&&(qb(e,t,o,i),!0)))})(e,r,t,n,s),((e,t,n,o)=>{if(t.styles&&t.styles.backgroundColor){const i=Ab(e,"fontSize");Pb(o,(t=>i(t)&&e.isEditable(t)),Qb(e,"backgroundColor",of(t.styles.backgroundColor,n)))}})(o,r,n,s),((e,t,n,o)=>{const i=t=>{if(ti(t)&&ei(t.parentNode)&&e.isEditable(t)){const n=lf(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(It.walk(o,i,"childNodes"),i(o))})(o,r,0,s),((e,t,n,o)=>{if(pf(t)&&("sub"===t.inline||"sup"===t.inline)){const n=Ab(e,"fontSize");Pb(o,(t=>n(t)&&e.isEditable(t)),Qb(e,"fontSize",""));const i=H(e.select("sup"===t.inline?"sub":"sup",o),e.isEditable);e.remove(i,!0)}})(o,r,0,s),$b(e,r,0,s)):o.remove(s,!0)}))},f=Fh(o)?o:l.getNode();if("false"===a.getContentEditable(f)&&!nf(e,f))return u(i,o=f),void Fl(e,t,o,n);if(r){if(o)if(Fh(o)){if(!u(i,o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),h(a,Ef(a,e,i),!0)}}else h(a,o,!0);else s&&pf(r)&&!Lh(e).length?((e,t,n)=>{let o;const i=e.selection,r=e.formatter.get(t);if(!r)return;const s=i.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;o=vh(e.getBody(),i.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const o=i.getBookmark();s.collapse(!0);let a=Ef(e.dom,s,r);a=em(a),e.formatter.apply(t,n,a),i.moveToBookmark(o)}else{let r=o?tb(o):null;o&&(null==r?void 0:r.data)===eb||(u=e.getDoc(),d=nb(!0).dom,o=u.importNode(d,!0),r=o.firstChild,s.insertNode(o),a=1,lb(e,o)),e.formatter.apply(t,n,o),i.setCursorLocation(r,a)}var u,d})(e,t,n):(l.setRng(_v(l.getRng())),Hh(e,(()=>{Uh(e,((e,t)=>{const n=t?e:Ef(a,e,i);h(a,n,!1)}))}),N),e.nodeChanged()),vb(e.formatter,t).each((t=>{Y(wb(e.selection),(e=>Jb(a,e,t,n)))}));((e,t)=>{Ce(pb,e)&&Y(pb[e],(e=>{e(t)}))})(t,e)}Fl(e,t,o,n)},ty=(e,t,n,o)=>{(o||e.selection.isEditable())&&ey(e,t,n,o)},ny=e=>Ce(e,"vars"),oy=e=>e.selection.getStart(),iy=(e,t,n,o,i)=>J(t,(t=>{const r=e.formatter.matchNode(t,n,null!=i?i:{},o);return!y(r)}),(t=>!!Uv(e,t,n)||!o&&w(e.formatter.matchNode(t,n,i,!0)))),ry=(e,t)=>{const n=null!=t?t:oy(e);return H(cf(e.dom,n),(e=>ei(e)&&!ri(e)))},sy=(e,t,n)=>{const o=ry(e,t);Oe(n,((n,i)=>{const r=n=>{const r=iy(e,o,i,n.similar,ny(n)?n.vars:void 0),s=r.isSome();if(n.state.get()!==s){n.state.set(s);const e=r.getOr(t);ny(n)?n.callback(s,{node:e,format:i,parents:o}):Y(n.callbacks,(t=>t(s,{node:e,format:i,parents:o})))}};Y([n.withSimilar,n.withoutSimilar],r),Y(n.withVars,r)}))},ay=(e,t,n,o,i,r)=>(((e,t,n,o,i,r)=>{const s=t.get();Y(n.split(","),(t=>{const n=ke(s,t).getOrThunk((()=>{const e={withSimilar:{state:Ii(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ii(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),a=()=>{const n=ry(e);return iy(e,n,t,i,r).isSome()};if(y(r)){const e=i?n.withSimilar:n.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(a())}else n.withVars.push({state:Ii(a()),similar:i,vars:r,callback:o})})),t.set(s)})(e,t,n,o,i,r),{unbind:()=>((e,t,n)=>{const o=e.get();Y(t.split(","),(e=>ke(o,e).each((t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:H(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:H(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:H(t.withVars,(e=>e.callback!==n))}})))),e.set(o)})(t,n,o)}),ly=It.explode,cy=()=>{const e={};return{addFilter:(t,n)=>{Y(ly(t),(t=>{Ce(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},getFilters:()=>_e(e),removeFilter:(t,n)=>{Y(ly(t),(t=>{if(Ce(e,t))if(w(n)){const o=e[t],i=H(o.callbacks,(e=>e!==n));i.length>0?o.callbacks=i:delete e[t]}else delete e[t]}))}}},uy=(e,t,n)=>{e.addNodeFilter("font",(e=>{Y(e,(e=>{const o=t.parse(e.attr("style")),i=e.attr("color"),r=e.attr("face"),s=e.attr("size");i&&(o.color=i),r&&(o["font-family"]=r),s&&Je(s).each((e=>{o["font-size"]=n[e-1]})),e.name="span",e.attr("style",t.serialize(o)),((e,t)=>{Y(t,(t=>{e.attr(t,null)}))})(e,["color","face","size"])}))}))},dy=(e,t,n)=>{var o;const i=ts();t.convert_fonts_to_spans&&uy(e,i,It.explode(null!==(o=t.font_size_legacy_values)&&void 0!==o?o:"")),((e,t,n)=>{e.addNodeFilter("strike",(e=>{const o="html4"!==t.type;Y(e,(e=>{if(o)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))})(e,n,i)},hy=e=>{const[t,...n]=e.split(","),o=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const e=";base64"===i[2],t=(e=>{try{return decodeURIComponent(e)}catch(t){return e}})(o),n=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(t):t;return L.some({type:i[1],data:n,base64Encoded:e})}return L.none()},fy=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch(e){return L.none()}const i=new Uint8Array(o.length);for(let e=0;e<i.length;e++)i[e]=o.charCodeAt(e);return L.some(new Blob([i],{type:e}))},py=e=>{return We(e,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))))(e):We(e,"data:")?(t=e,new Promise(((e,n)=>{hy(t).bind((({type:e,data:t,base64Encoded:n})=>fy(e,t,n))).fold((()=>n("Invalid data URI")),e)}))):Promise.reject("Unknown URI format");var t},my=e=>new Promise(((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;n(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)}));let gy=0;const Oy=(e,t,n)=>hy(e).bind((({data:e,type:o,base64Encoded:i})=>{if(t&&!i)return L.none();{const t=i?e:btoa(e);return n(t,o)}})),vy=(e,t,n)=>{const o=e.create((i||"blobid")+gy++,t,n);var i;return e.add(o),o},by=(e,t,n=!1)=>Oy(t,n,((t,n)=>L.from(e.getByData(t,n)).orThunk((()=>fy(n,t).map((n=>vy(e,n,t))))))),yy=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,xy=e=>L.from(e.match(yy)).bind((e=>ce(e,1))).map((e=>We(e,"www.")?e.substring(4):e)),wy=(e,t)=>{L.from(e.attr("src")).bind(xy).forall((e=>!X(t,e)))&&e.attr("sandbox","")},Sy=(e,t)=>We(e,`${t}/`),_y=({type:e,src:t,width:n,height:o}={},i,r)=>{const s=(e=>y(e)?"iframe":Sy(e,"image")?"img":Sy(e,"video")?"video":Sy(e,"audio")?"audio":"iframe")(e),a=new Mm(s,1);return a.attr("audio"===s?{src:t}:{src:t,width:n,height:o}),"audio"!==s&&"video"!==s||a.attr("controls",""),"iframe"===s&&i&&wy(a,r),a},ky=(e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Qt.transparentSrc||w(e.attr("data-mce-placeholder")))(e)||(e=>w(e.attr("data-mce-bogus")))(e)||x(t)||by(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>Y(e,t)))}},{entries:Cy,setPrototypeOf:Ty,isFrozen:$y,getPrototypeOf:Py,getOwnPropertyDescriptor:Ay}=Object;let{freeze:Qy,seal:Ey,create:My}=Object,{apply:Dy,construct:Iy}="undefined"!=typeof Reflect&&Reflect;Qy||(Qy=function(e){return e}),Ey||(Ey=function(e){return e}),Dy||(Dy=function(e,t,n){return e.apply(t,n)}),Iy||(Iy=function(e,t){return new e(...t)});const Ry=Gy(Array.prototype.forEach),zy=Gy(Array.prototype.lastIndexOf),Ny=Gy(Array.prototype.pop),Ly=Gy(Array.prototype.push),jy=Gy(Array.prototype.splice),Vy=Gy(String.prototype.toLowerCase),By=Gy(String.prototype.toString),Zy=Gy(String.prototype.match),Xy=Gy(String.prototype.replace),Wy=Gy(String.prototype.indexOf),Uy=Gy(String.prototype.trim),Yy=Gy(Object.prototype.hasOwnProperty),Fy=Gy(RegExp.prototype.test),qy=(Hy=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Iy(Hy,t)});var Hy;function Gy(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return Dy(e,t,o)}}function Ky(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vy;Ty&&Ty(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&($y(t)||(t[o]=e),i=e)}e[i]=!0}return e}function Jy(e){for(let t=0;t<e.length;t++){Yy(e,t)||(e[t]=null)}return e}function ex(e){const t=My(null);for(const[n,o]of Cy(e)){Yy(e,n)&&(Array.isArray(o)?t[n]=Jy(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=ex(o):t[n]=o)}return t}function tx(e,t){for(;null!==e;){const n=Ay(e,t);if(n){if(n.get)return Gy(n.get);if("function"==typeof n.value)return Gy(n.value)}e=Py(e)}return function(){return null}}const nx=Qy(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ox=Qy(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ix=Qy(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rx=Qy(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),sx=Qy(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ax=Qy(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lx=Qy(["#text"]),cx=Qy(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ux=Qy(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),dx=Qy(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),hx=Qy(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fx=Ey(/\{\{[\w\W]*|[\w\W]*\}\}/gm),px=Ey(/<%[\w\W]*|[\w\W]*%>/gm),mx=Ey(/\$\{[\w\W]*/gm),gx=Ey(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ox=Ey(/^aria-[\-\w]+$/),vx=Ey(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bx=Ey(/^(?:\w+script|data):/i),yx=Ey(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xx=Ey(/^html$/i),wx=Ey(/^[a-z][.\w]*(-[.\w]+)+$/i);var Sx=Object.freeze({__proto__:null,ARIA_ATTR:Ox,ATTR_WHITESPACE:yx,CUSTOM_ELEMENT:wx,DATA_ATTR:gx,DOCTYPE_NAME:xx,ERB_EXPR:px,IS_ALLOWED_URI:vx,IS_SCRIPT_OR_DATA:bx,MUSTACHE_EXPR:fx,TMPLIT_EXPR:mx});const _x=1,kx=3,Cx=7,Tx=8,$x=9,Px=function(){return"undefined"==typeof window?null:window};var Ax=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Px();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==$x||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const i=o,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:p}=t,m=c.prototype,g=tx(m,"cloneNode"),O=tx(m,"remove"),v=tx(m,"nextSibling"),b=tx(m,"childNodes"),y=tx(m,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let x,w="";const{implementation:S,createNodeIterator:_,createDocumentFragment:k,getElementsByTagName:C}=o,{importNode:T}=i;let $={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Cy&&"function"==typeof y&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:P,ERB_EXPR:A,TMPLIT_EXPR:Q,DATA_ATTR:E,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:R}=Sx;let{IS_ALLOWED_URI:z}=Sx,N=null;const L=Ky({},[...nx,...ox,...ix,...sx,...lx]);let j=null;const V=Ky({},[...cx,...ux,...dx,...hx]);let B=Object.seal(My(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Z=null,X=null,W=!0,U=!0,Y=!1,F=!0,q=!1,H=!0,G=!1,K=!1,J=!1,ee=!1,te=!1,ne=!1,oe=!0,ie=!1,re=!0,se=!1,ae={},le=null;const ce=Ky({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=Ky({},["audio","video","img","source","image","track"]);let he=null;const fe=Ky({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let Oe=ge,ve=!1,be=null;const ye=Ky({},[pe,me,ge],By);let xe=Ky({},["mi","mo","mn","ms","mtext"]),we=Ky({},["annotation-xml"]);const Se=Ky({},["title","style","font","a","script"]);let _e=null;const ke=["application/xhtml+xml","text/html"];let Ce=null,Te=null;const $e=o.createElement("form"),Pe=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Te||Te!==e){if(e&&"object"==typeof e||(e={}),e=ex(e),_e=-1===ke.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ce="application/xhtml+xml"===_e?By:Vy,N=Yy(e,"ALLOWED_TAGS")?Ky({},e.ALLOWED_TAGS,Ce):L,j=Yy(e,"ALLOWED_ATTR")?Ky({},e.ALLOWED_ATTR,Ce):V,be=Yy(e,"ALLOWED_NAMESPACES")?Ky({},e.ALLOWED_NAMESPACES,By):ye,he=Yy(e,"ADD_URI_SAFE_ATTR")?Ky(ex(fe),e.ADD_URI_SAFE_ATTR,Ce):fe,ue=Yy(e,"ADD_DATA_URI_TAGS")?Ky(ex(de),e.ADD_DATA_URI_TAGS,Ce):de,le=Yy(e,"FORBID_CONTENTS")?Ky({},e.FORBID_CONTENTS,Ce):ce,Z=Yy(e,"FORBID_TAGS")?Ky({},e.FORBID_TAGS,Ce):{},X=Yy(e,"FORBID_ATTR")?Ky({},e.FORBID_ATTR,Ce):{},ae=!!Yy(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,U=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,F=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,q=e.SAFE_FOR_TEMPLATES||!1,H=!1!==e.SAFE_FOR_XML,G=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,re=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,z=e.ALLOWED_URI_REGEXP||vx,Oe=e.NAMESPACE||ge,xe=e.MATHML_TEXT_INTEGRATION_POINTS||xe,we=e.HTML_INTEGRATION_POINTS||we,B=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(B.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(U=!1),te&&(ee=!0),ae&&(N=Ky({},lx),j=[],!0===ae.html&&(Ky(N,nx),Ky(j,cx)),!0===ae.svg&&(Ky(N,ox),Ky(j,ux),Ky(j,hx)),!0===ae.svgFilters&&(Ky(N,ix),Ky(j,ux),Ky(j,hx)),!0===ae.mathMl&&(Ky(N,sx),Ky(j,dx),Ky(j,hx))),e.ADD_TAGS&&(N===L&&(N=ex(N)),Ky(N,e.ADD_TAGS,Ce)),e.ADD_ATTR&&(j===V&&(j=ex(j)),Ky(j,e.ADD_ATTR,Ce)),e.ADD_URI_SAFE_ATTR&&Ky(he,e.ADD_URI_SAFE_ATTR,Ce),e.FORBID_CONTENTS&&(le===ce&&(le=ex(le)),Ky(le,e.FORBID_CONTENTS,Ce)),re&&(N["#text"]=!0),G&&Ky(N,["html","head","body"]),N.table&&(Ky(N,["tbody"]),delete Z.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw qy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw qy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=e.TRUSTED_TYPES_POLICY,w=x.createHTML("")}else void 0===x&&(x=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(p,r)),null!==x&&"string"==typeof w&&(w=x.createHTML(""));Qy&&Qy(e),Te=e}},Qe=Ky({},[...ox,...ix,...rx]),Ee=Ky({},[...sx,...ax]),Me=function(e){Ly(n.removed,{element:e});try{y(e).removeChild(e)}catch(t){O(e)}},De=function(e,t){try{Ly(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Ly(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Me(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ie=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=Zy(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===_e&&Oe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=x?x.createHTML(e):e;if(Oe===ge)try{t=(new f).parseFromString(i,_e)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(Oe,"template",null);try{t.documentElement.innerHTML=ve?w:i}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),Oe===ge?C.call(t,G?"html":"body")[0]:G?t.documentElement:r},Re=function(e){return _.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ze=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ne=function(e){return"function"==typeof l&&e instanceof l};function Le(e,t,o){Ry(e,(e=>{e.call(n,t,o,Te)}))}const je=function(e){let t=null;if(Le($.beforeSanitizeElements,e,null),ze(e))return Me(e),!0;const o=Ce(e.nodeName);if(Le($.uponSanitizeElement,e,{tagName:o,allowedTags:N}),e.hasChildNodes()&&!Ne(e.firstElementChild)&&Fy(/<[/\w]/g,e.innerHTML)&&Fy(/<[/\w]/g,e.textContent))return Me(e),!0;if(e.nodeType===Cx)return Me(e),!0;if(H&&e.nodeType===Tx&&Fy(/<[/\w]/g,e.data))return Me(e),!0;if(!N[o]||Z[o]){if(!Z[o]&&Be(o)){if(B.tagNameCheck instanceof RegExp&&Fy(B.tagNameCheck,o))return!1;if(B.tagNameCheck instanceof Function&&B.tagNameCheck(o))return!1}if(re&&!le[o]){const t=y(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=g(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,v(e))}}}return Me(e),!0}return e instanceof c&&!function(e){let t=y(e);t&&t.tagName||(t={namespaceURI:Oe,tagName:"template"});const n=Vy(e.tagName),o=Vy(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===n:t.namespaceURI===pe?"svg"===n&&("annotation-xml"===o||xe[o]):Boolean(Qe[n]):e.namespaceURI===pe?t.namespaceURI===ge?"math"===n:t.namespaceURI===me?"math"===n&&we[o]:Boolean(Ee[n]):e.namespaceURI===ge?!(t.namespaceURI===me&&!we[o])&&!(t.namespaceURI===pe&&!xe[o])&&!Ee[n]&&(Se[n]||!Qe[n]):!("application/xhtml+xml"!==_e||!be[e.namespaceURI]))}(e)?(Me(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!Fy(/<\/no(script|embed|frames)/i,e.innerHTML)?(q&&e.nodeType===kx&&(t=e.textContent,Ry([P,A,Q],(e=>{t=Xy(t,e," ")})),e.textContent!==t&&(Ly(n.removed,{element:e.cloneNode()}),e.textContent=t)),Le($.afterSanitizeElements,e,null),!1):(Me(e),!0)},Ve=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in o||n in $e))return!1;if(U&&!X[t]&&Fy(E,t));else if(W&&Fy(M,t));else if(!j[t]||X[t]){if(!(Be(e)&&(B.tagNameCheck instanceof RegExp&&Fy(B.tagNameCheck,e)||B.tagNameCheck instanceof Function&&B.tagNameCheck(e))&&(B.attributeNameCheck instanceof RegExp&&Fy(B.attributeNameCheck,t)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(t))||"is"===t&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&Fy(B.tagNameCheck,n)||B.tagNameCheck instanceof Function&&B.tagNameCheck(n))))return!1}else if(he[t]);else if(Fy(z,Xy(n,I,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Wy(n,"data:")||!ue[e]){if(Y&&!Fy(D,Xy(n,I,"")));else if(n)return!1}else;return!0},Be=function(e){return"annotation-xml"!==e&&Zy(e,R)},Ze=function(e){Le($.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||ze(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j,forceKeepAttr:void 0};let i=t.length;for(;i--;){const r=t[i],{name:s,namespaceURI:a,value:l}=r,c=Ce(s);let u="value"===s?l:Uy(l);const d=u;if(o.attrName=c,o.attrValue=u,o.keepAttr=!0,o.forceKeepAttr=void 0,Le($.uponSanitizeAttribute,e,o),u=o.attrValue,!ie||"id"!==c&&"name"!==c||(De(s,e),u="user-content-"+u),H&&Fy(/((--!?|])>)|<\/(style|title)/i,u)){De(s,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){De(s,e);continue}if(!F&&Fy(/\/>/i,u)){De(s,e);continue}q&&Ry([P,A,Q],(e=>{u=Xy(u,e," ")}));const h=Ce(e.nodeName);if(Ve(h,c,u)){if(x&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(a);else switch(p.getAttributeType(h,c)){case"TrustedHTML":u=x.createHTML(u);break;case"TrustedScriptURL":u=x.createScriptURL(u)}if(u!==d)try{a?e.setAttributeNS(a,s,u):e.setAttribute(s,u),ze(e)?Me(e):Ny(n.removed)}catch(e){}}else De(s,e)}Le($.afterSanitizeAttributes,e,null)},Xe=function e(t){let n=null;const o=Re(t);for(Le($.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Le($.uponSanitizeShadowNode,n,null),je(n),Ze(n),n.content instanceof s&&e(n.content);Le($.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,r=null,a=null,c=null;if(ve=!e,ve&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ne(e)){if("function"!=typeof e.toString)throw qy("toString is not a function");if("string"!=typeof(e=e.toString()))throw qy("dirty is not a string, aborting")}if(!n.isSupported)return e;if(K||Ae(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Ce(e.nodeName);if(!N[t]||Z[t])throw qy("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=Ie("\x3c!----\x3e"),r=o.ownerDocument.importNode(e,!0),r.nodeType===_x&&"BODY"===r.nodeName||"HTML"===r.nodeName?o=r:o.appendChild(r);else{if(!ee&&!q&&!G&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(o=Ie(e),!o)return ee?null:ne?w:""}o&&J&&Me(o.firstChild);const u=Re(se?e:o);for(;a=u.nextNode();)je(a),Ze(a),a.content instanceof s&&Xe(a.content);if(se)return e;if(ee){if(te)for(c=k.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(j.shadowroot||j.shadowrootmode)&&(c=T.call(i,c,!0)),c}let d=G?o.outerHTML:o.innerHTML;return G&&N["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Fy(xx,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),q&&Ry([P,A,Q],(e=>{d=Xy(d,e," ")})),x&&ne?x.createHTML(d):d},n.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),K=!0},n.clearConfig=function(){Te=null,K=!1},n.isValidAttribute=function(e,t,n){Te||Ae({});const o=Ce(e),i=Ce(t);return Ve(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&Ly($[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=zy($[e],t);return-1===n?void 0:jy($[e],n,1)[0]}return Ny($[e])},n.removeHooks=function(e){$[e]=[]},n.removeAllHooks=function(){$={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Qx=It.each,Ex=It.trim,Mx=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Dx={ftp:21,http:80,https:443,mailto:25},Ix=["img","video"],Rx=(e,t,n)=>{const o=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?((e,t)=>w(e)?!e:!w(t)||!X(Ix,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class zx{static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const o=Cr.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!Rx(n,o,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}constructor(e,t={}){this.path="",this.directory="",e=Ex(e),this.settings=t;const n=t.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);const i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new zx(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+o.toAbsPath(t,e);else{const i=/([^#?]*)([#?]?.*)/.exec(e);i&&(e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(t,i[1])+i[2])}}e=e.replace(/@@/g,"(mce_at)");const r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);r&&Qx(Mx,((e,t)=>{let n=r[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),i&&(o.protocol="")}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new zx(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),o=t.getURI();if(n===o||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===o)return n;let i=this.toRelPath(this.path,t.path);return t.query&&(i+="?"+t.query),t.anchor&&(i+="#"+t.anchor),i}toAbsolute(e,t){const n=new zx(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?Dx[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,o,i=0,r="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(n=0,o=s.length;n<o;n++)if(n>=a.length||s[n]!==a[n]){i=n+1;break}if(s.length<a.length)for(n=0,o=a.length;n<o;n++)if(n>=s.length||s[n]!==a[n]){i=n+1;break}if(1===i)return t;for(n=0,o=s.length-(i-1);n<o;n++)r+="../";for(n=i-1,o=a.length;n<o;n++)r+=n!==i-1?"/"+a[n]:a[n];return r}toAbsPath(e,t){let n=0;const o=/\/$/.test(t)?"/":"",i=e.split("/"),r=t.split("/"),s=[];Qx(i,(e=>{e&&s.push(e)}));const a=[];for(let e=r.length-1;e>=0;e--)0!==r[e].length&&"."!==r[e]&&(".."!==r[e]?n>0?n--:a.push(r[e]):n++);const l=s.length-n;let c;return c=l<=0?re(a).join("/"):s.slice(0,l).join("/")+"/"+re(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),o&&c.lastIndexOf("/")!==c.length-1&&(c+=o),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const Nx=It.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Lx="data-mce-type";let jx=0;const Vx=(e,t,n,o,i)=>{var r,s,a,l;const c=t.validate,u=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(r=e.nodeValue)&&void 0!==r?r:"")&&(e.nodeValue=" "+e.nodeValue);const d=null!==(s=null==i?void 0:i.tagName)&&void 0!==s?s:e.nodeName.toLowerCase();if("html"!==o&&n.isValid(o))return void(w(i)&&(i.allowedTags[d]=!0));if(1!==e.nodeType||"body"===d)return;const h=yn.fromDom(e),f=sn(h,Lx),m=on(h,"data-mce-bogus");if(!f&&p(m))return void("all"===m?wo(h):So(h));const g=n.getElementRule(d);if(!c||g){if(w(i)&&(i.allowedTags[d]=!0),c&&g&&!f){if(Y(null!==(a=g.attributesForced)&&void 0!==a?a:[],(e=>{tn(h,e.name,"{$uid}"===e.value?"mce_"+jx++:e.value)})),Y(null!==(l=g.attributesDefault)&&void 0!==l?l:[],(e=>{sn(h,e.name)||tn(h,e.name,"{$uid}"===e.value?"mce_"+jx++:e.value)})),g.attributesRequired&&!W(g.attributesRequired,(e=>sn(h,e))))return void So(h);if(g.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(h))return void So(h);g.outputName&&g.outputName!==d&&qs(h,g.outputName)}}else Ce(u,d)?wo(h):So(h)},Bx=(e,t,n,o,i,r)=>"html"!==n&&!Li(o)||!(i in Nx&&Rx(e,r,o))&&(!e.validate||t.isValid(o,i)||We(i,"data-")||We(i,"aria-")),Zx=(e,t)=>e.hasAttribute(Lx)&&("id"===t||"class"===t||"style"===t),Xx=(e,t)=>e in t.getBoolAttrs(),Wx=(e,t,n,o)=>{const{attributes:i}=e;for(let r=i.length-1;r>=0;r--){const s=i[r],a=s.name,l=s.value;Bx(t,n,o,e.tagName.toLowerCase(),a,l)||Zx(e,a)?Xx(a,n)&&e.setAttribute(a,a):e.removeAttribute(a)}},Ux=(e,t,n)=>{const o=Ax();return o.addHook("uponSanitizeElement",((o,i)=>{Vx(o,e,t,n.track(o),i)})),o.addHook("uponSanitizeAttribute",((o,i)=>{((e,t,n,o,i)=>{const r=e.tagName.toLowerCase(),{attrName:s,attrValue:a}=i;i.keepAttr=Bx(t,n,o,r,s,a),i.keepAttr?(i.allowedAttributes[s]=!0,Xx(s,n)&&(i.attrValue=s),t.allow_svg_data_urls&&We(a,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):Zx(e,s)&&(i.forceKeepAttr=!0)})(o,e,t,n.current(),i)})),o},Yx=(e,t)=>{const n=Ax(),o=t.allow_mathml_annotation_encodings,i=O(o)&&o.length>0,r=(e,n)=>i&&"semantics"===n?L.some(!0):"annotation"===n?L.some(ei(e)&&(e=>{const t=e.getAttribute("encoding");return i&&p(t)&&X(o,t)})(e)):O(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(n)?L.from(!0):L.none();n.addHook("uponSanitizeElement",((e,n)=>{var o;const i=null!==(o=n.tagName)&&void 0!==o?o:e.nodeName.toLowerCase();r(e,i).each((o=>{n.allowedTags[i]=o,!o&&t.sanitize&&ei(e)&&e.remove()}))})),n.addHook("uponSanitizeAttribute",((e,n)=>{if(O(t.extended_mathml_attributes)){t.extended_mathml_attributes.includes(n.attrName)&&(n.forceKeepAttr=!0)}})),n.sanitize(e,{IN_PLACE:!0,USE_PROFILES:{mathMl:!0}})},Fx=e=>t=>{const n=Vi(t);if("svg"===n)(e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map((e=>`xlink:${e}`)),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Ax().sanitize(e,n)})(t);else{if("math"!==n)throw new Error("Not a namespace element");Yx(t,e)}},qx=(e,t)=>{const n=(()=>{const e=zi(),t=()=>e.get().map(Vi).getOr("html");return{track:n=>(ji(n)?e.set(n):e.get().exists((e=>!e.contains(n)))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}})();if(e.sanitize){const o=Ux(e,t,n),i=(t,i)=>{o.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,i)),o.removed=[],n.reset()};return{sanitizeHtmlElement:i,sanitizeNamespaceElement:Fx(e)}}return{sanitizeHtmlElement:(o,i)=>{const r=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let s;for(;s=r.nextNode();){const o=n.track(s);Vx(s,e,t,o),ei(s)&&Wx(s,e,t,o)}n.reset()},sanitizeNamespaceElement:C}},Hx=It.makeMap,Gx=It.extend,Kx=(e,t,n,o)=>{const i=e.name,r=i in n&&"title"!==i&&"textarea"!==i&&"noscript"!==i,s=t.childNodes;for(let t=0,i=s.length;t<i;t++){const i=s[t],a=new Mm(i.nodeName.toLowerCase(),i.nodeType);if(ei(i)){const e=i.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];a.attr(n.name,n.value)}Li(a.name)&&(o(i),a.value=i.innerHTML)}else ci(i)?(a.value=i.data,r&&(a.raw=!0)):(hi(i)||ui(i)||di(i))&&(a.value=i.data);Li(a.name)||Kx(a,i,n,o),e.append(a)}},Jx=(e,t,n,o)=>{const i=n.validate,r=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Gx(Hx("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=Zr(t),c=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,h=e=>{let t=e.parent;for(;w(t);){if(t.name in s)return!0;t=t.parent}return!1},f=n=>n.name in a||nr(t,n)||Li(n.name)&&n.parent===e,p=(t,n)=>{const i=n?t.prev:t.next;return!w(i)&&!x(t.parent)&&(f(t.parent)&&(t.parent!==e||!0===o.isRootContent))};return[e=>{var t;if(3===e.type&&!h(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(((e,t)=>w(e)&&(t(e)||"br"===e.name))(e.prev,f)||p(e,!0))&&(n=n.replace(u,"")),0===n.length||" "===n&&e.prev&&8===e.prev.type&&e.next&&8===e.next.type?e.remove():e.value=n}},e=>{var a;if(1===e.type){const a=t.getElementRule(e.name);if(i&&a){const i=vv(t,r,s,e);a.paddInEmptyBlock&&i&&(e=>{let n=e;for(;w(n);){if(n.name in l)return vv(t,r,s,n);n=n.parent}return!1})(e)?gv(n,o,f,e):a.removeEmpty&&i?f(e)?e.remove():e.unwrap():a.paddEmpty&&(i||(e=>{var t;return Ov(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===Uo})(e))&&gv(n,o,f,e)}}else if(3===e.type&&!h(e)){let t=null!==(a=e.value)&&void 0!==a?a:"";(e.next&&f(e.next)||p(e,!1))&&(t=t.replace(d,"")),0===t.length?e.remove():e.value=t}}]},ew=(e={},t=Wr())=>{const n=cy(),o=cy(),i={validate:!0,root_name:"body",sanitize:!0,...e},r=new DOMParser,s=qx(i,t),a=n.addFilter,l=n.getFilters,c=n.removeFilter,u=o.addFilter,d=o.getFilters,h=o.removeFilter,f=(e,n)=>{const o=p(n.attr(Lx)),i=1===n.type&&!Ce(e,n.name)&&!nr(t,n)&&!Li(n.name);return 3===n.type||i&&!o},m={schema:t,addAttributeFilter:u,getAttributeFilters:d,removeAttributeFilter:h,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(e,n={})=>{var o;const a=i.validate,c=null!==(o=n.context)&&void 0!==o?o:i.root_name,u=((e,n,o="html")=>{const i="xhtml"===o?"application/xhtml+xml":"text/html",a=Ce(t.getSpecialElements(),n.toLowerCase()),l=a?`<${n}>${e}</${n}>`:e,c=r.parseFromString("xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:/^[\s]*<head/i.test(e)||/^[\s]*<html/i.test(e)||/^[\s]*<!DOCTYPE/i.test(e)?`<html>${l}</html>`:`<body>${l}</body>`,i).body;return s.sanitizeHtmlElement(c,i),a?c.firstChild:c})(e,c,n.format);qi(t,u);const h=new Mm(c,11);Kx(h,u,t.getSpecialElements(),s.sanitizeNamespaceElement),u.innerHTML="";const[p,m]=Jx(h,t,i,n),g=[],O=a?e=>((e,n)=>{wv(t,e)&&n.push(e)})(e,g):C,v={nodes:{},attributes:{}},b=e=>fv(l(),d(),e,v);if(((e,t,n)=>{const o=[];for(let n=e,i=n;n;i=n,n=n.walk()){const r=n;Y(t,(e=>e(r))),x(r.parent)&&r!==e?n=i:o.push(r)}for(let e=o.length-1;e>=0;e--){const t=o[e];Y(n,(e=>e(t)))}})(h,[p,b],[m,O]),g.reverse(),a&&g.length>0)if(n.context){const{pass:e,fail:o}=q(g,(e=>e.parent===h));xv(o,t,h,b),n.invalid=e.length>0}else xv(g,t,h,b);const y=((e,t)=>{var n;const o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?"":!0===o?"p":o})(i,n);return y&&("body"===h.name||n.isRootContent)&&((e,n)=>{const o=Gx(Hx("script,style,head,html,body,title,meta,param"),t.getBlockElements()),r=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const c=e=>{var t,n;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(r,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(n=a.value)||void 0===n?void 0:n.replace(s,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;a;){const t=a.next;f(o,a)?(l||(l=new Mm(n,1),l.attr(i.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(c(l),l=null),a=t}c(l)}})(h,y),n.invalid||pv(v,n),h}};return((e,t)=>{var n,o;const i=e.schema;e.addAttributeFilter("href",(e=>{let n=e.length;const o=e=>{const t=e?It.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",o(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,o,i,r=e.length;for(;r--;)if(i=e[r],"a"===i.name&&i.firstChild&&!i.attr("href"))for(o=i.parent,t=i.lastChild;t&&o;)n=t.prev,o.insert(t,i),t=n})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,o=e.length;for(;o--;)if(t=e[o],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new Mm("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const r=i.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",(e=>{var t;let n=e.length;for(;n--;){const o=e[n],i=null!==(t=o.attr("class"))&&void 0!==t?t:"",s=It.explode(i," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let n=!1,i=r["*"];i&&i[t]&&(n=!0),i=r[o.name],!n&&i&&i[t]&&(n=!0),n&&(a&&(a+=" "),a+=t)}a.length||(a=null),o.attr("class",a)}})),ky(e,t);const s=null!==(n=t.sandbox_iframes)&&void 0!==n&&n,a=pe(null!==(o=t.sandbox_iframes_exclusions)&&void 0!==o?o:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",(e=>Y(e,(e=>{e.replace(_y({type:e.attr("type"),src:"object"===e.name?e.attr("data"):e.attr("src"),width:e.attr("width"),height:e.attr("height")},s,a))})))),s&&e.addNodeFilter("iframe",(e=>Y(e,(e=>wy(e,a)))))})(m,i),((e,t,n)=>{t.inline_styles&&dy(e,t,n)})(m,i,t),m},tw=(e,t,n)=>{const o=(e=>jv(e)?Jm({validate:!1}).serialize(e):e)(e),i=t(o);if(i.isDefaultPrevented())return i;if(jv(e)){if(i.content!==o){const t=ew({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:t}}return{...i,content:e}}return i},nw=e=>({sanitize:Xu(e),sandbox_iframes:Hu(e),sandbox_iframes_exclusions:Gu(e)}),ow=(e,t)=>{if(t.no_events)return Nl.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?Nl.error(Gl(e,{content:"",...n}).content):Nl.value(n)}},iw=(e,t,n)=>{if(n.no_events)return t;{const o=tw(t,(t=>Gl(e,{...n,content:t})),nw(e));return o.content}},rw=(e,t)=>{if(t.no_events)return Nl.value(t);{const n=tw(t.content,(n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n})),nw(e));return n.isDefaultPrevented()?(Hl(e,n),Nl.error(void 0)):Nl.value(n)}},sw=(e,t,n)=>{n.no_events||Hl(e,{...n,content:t})},aw=(e,t,n)=>({element:e,width:t,rows:n}),lw=(e,t)=>({element:e,cells:t}),cw=(e,t)=>({x:e,y:t}),uw=(e,t)=>rn(e,t).bind(Je).getOr(1),dw=(e,t,n)=>{const o=e.rows;return!!(o[n]?o[n].cells:[])[t]},hw=e=>K(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),fw=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const o=n[e].cells;for(let n=0;n<o.length;n++)if(_n(o[n],t))return L.some(cw(n,e))}return L.none()},pw=(e,t,n,o,i)=>{const r=[],s=e.rows;for(let e=n;e<=i;e++){const n=s[e].cells,i=t<o?n.slice(t,o+1):n.slice(o,t+1);r.push(lw(s[e].element,i))}return r},mw=e=>{const t=aw(Ys(e),0,[]);return Y(jo(e,"tr"),((e,n)=>{Y(jo(e,"td,th"),((o,i)=>{((e,t,n,o,i)=>{const r=uw(i,"rowspan"),s=uw(i,"colspan"),a=e.rows;for(let e=n;e<n+r;e++){a[e]||(a[e]=lw(Fs(o),[]));for(let o=t;o<t+s;o++)a[e].cells[o]=e===n&&o===t?i:Ys(i)}})(t,((e,t,n)=>{for(;dw(e,t,n);)t++;return t})(t,i,n),n,e,o)}))})),aw(t.element,hw(t.rows),t.rows)},gw=e=>((e,t)=>{const n=Ys(e.element),o=yn.fromTag("tbody");return yo(o,t),vo(n,o),n})(e,(e=>U(e.rows,(e=>{const t=U(e.cells,(e=>{const t=Fs(e);return an(t,"colspan"),an(t,"rowspan"),t})),n=Ys(e.element);return yo(n,t),n})))(e)),Ow=(e,t,n)=>fw(e,t).bind((t=>fw(e,n).map((n=>((e,t,n)=>{const o=t.x,i=t.y,r=n.x,s=n.y,a=i<s?pw(e,o,i,r,s):pw(e,o,s,r,i);return aw(e.element,hw(a),a)})(e,t,n))))),vw=(e,t)=>ee(e,(e=>"li"===Wt(e)&&Zh(e,t))).fold(P([]),(t=>(e=>ee(e,(e=>"ul"===Wt(e)||"ol"===Wt(e))))(e).map((e=>{const t=yn.fromTag(Wt(e)),n=we(fo(e),((e,t)=>We(t,"list-style")));return lo(t,n),[yn.fromTag("li"),t]})).getOr([]))),bw=(e,t,n)=>{const o=yn.fromDom(t.commonAncestorContainer),i=Sg(o,e),r=H(i,(e=>n.isWrapper(Wt(e)))),s=vw(i,t),a=r.concat(s.length?s:(e=>ra(e)?Pn(e).filter(ia).fold(P([]),(t=>[e,t])):ia(e)?[e]:[])(o));return U(a,Ys)},yw=()=>Vp([]),xw=(e,t,n)=>((e,t)=>{const n=K(t,((e,t)=>(vo(t,e),t)),e);return t.length>0?Vp([n]):n})(yn.fromDom(t.cloneContents()),bw(e,t,n)),ww=(e,t)=>((e,t)=>Jn(t,"table",E(_n,e)))(e,t[0]).bind((e=>{const n=t[0],o=t[t.length-1],i=mw(e);return Ow(i,n,o).map((e=>Vp([gw(e)])))})).getOrThunk(yw),Sw=(e,t,n)=>{const o=Nh(t,e);return o.length>0?ww(e,o):((e,t,n)=>t.length>0&&t[0].collapsed?yw():xw(e,t[0],n))(e,t,n)},_w=(e,t)=>t>=0&&t<e.length&&Dh(e.charAt(t)),kw=e=>pa(e.innerText),Cw=(e,t)=>{if("text"===t.format)return(e=>L.from(e.selection.getRng()).map((t=>{var n;const o=L.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),r=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(o),s=yn.fromDom(t.cloneContents());Ym(s),Fm(s);const a=e.dom.add(i,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=kw(a),c=pa(null!==(n=a.textContent)&&void 0!==n?n:"");if(e.dom.remove(a),_w(c,0)||_w(c,c.length-1)){const e=o.getOr(i),t=kw(e),n=t.indexOf(l);return-1===n?l:(_w(t,n-1)?" ":"")+l+(_w(t,n+l.length)?" ":"")}return l})).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),r=$m(e,Rh(i)),s=t.contextual?Sw(yn.fromDom(e.getBody()),r,e.schema).dom:n.cloneContents();return s&&o.appendChild(s),e.selection.serializer.serialize(o,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}},Tw=e=>ei(e)?e.outerHTML:ci(e)?Cr.encodeRaw(e.data,!1):hi(e)?"\x3c!--"+e.data+"--\x3e":"",$w=(e,t,n)=>{const o=(e=>{let t;const n=document.createElement("div"),o=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)o.appendChild(t);return o})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(o,t)}else e.appendChild(o)},Pw=(e,t)=>(((e,t)=>{let n=0;Y(e,(e=>{0===e[0]?n++:1===e[0]?($w(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)}))})(((e,t)=>{const n=e.length+t.length+2,o=new Array(n),i=new Array(n),r=(n,o,i,s,l)=>{const c=a(n,o,i,s);if(null===c||c.start===o&&c.diag===o-s||c.end===n&&c.diag===n-i){let r=n,a=i;for(;r<o||a<s;)r<o&&a<s&&e[r]===t[a]?(l.push([0,e[r]]),++r,++a):o-n>s-i?(l.push([2,e[r]]),++r):(l.push([1,t[a]]),++a)}else{r(n,c.start,i,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);r(c.end,o,c.end-c.diag,s,l)}},s=(n,o,i,r)=>{let s=n;for(;s-o<r&&s<i&&e[s]===t[s-o];)++s;return((e,t,n)=>({start:e,end:t,diag:n}))(n,s,o)},a=(n,r,a,l)=>{const c=r-n,u=l-a;if(0===c||0===u)return null;const d=c-u,h=u+c,f=(h%2==0?h:h+1)/2;let p,m,g,O,v;for(o[1+f]=n,i[1+f]=r+1,p=0;p<=f;++p){for(m=-p;m<=p;m+=2){for(g=m+f,m===-p||m!==p&&o[g-1]<o[g+1]?o[g]=o[g+1]:o[g]=o[g-1]+1,O=o[g],v=O-n+a-m;O<r&&v<l&&e[O]===t[v];)o[g]=++O,++v;if(d%2!=0&&d-p<=m&&m<=d+p&&i[g-d]<=o[g])return s(i[g-d],m+n-a,r,l)}for(m=d-p;m<=d+p;m+=2){for(g=m+f-d,m===d-p||m!==d+p&&i[g+1]<=i[g-1]?i[g]=i[g+1]-1:i[g]=i[g-1],O=i[g]-1,v=O-n+a-m;O>=n&&v>=a&&e[O]===t[v];)i[g]=O--,v--;if(d%2==0&&-p<=m&&m<=p&&i[g]<=o[g+d])return s(i[g],m+n-a,r,l)}}return null},l=[];return r(0,e.length,0,t.length,l),l})(U(he(t.childNodes),Tw),e),t),t),Aw=ze((()=>document.implementation.createHTMLDocument("undo"))),Qw=e=>{const t=e.serializer.getTempAttrs(),n=Um(e.getBody(),t);return(e=>null!==e.querySelector("iframe"))(n)?(o=((e,t)=>H(U(he(e.childNodes),t?T(pa,Tw):Tw),(e=>e.length>0)))(n,!0),{type:"fragmented",fragments:o,content:"",bookmark:null,beforeBookmark:null}):{type:"complete",fragments:null,content:pa(n.innerHTML),bookmark:null,beforeBookmark:null};var o},Ew=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?Pw(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!w(o)||!yh(o)||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},Mw=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Dw=e=>{const t=yn.fromTag("body",Aw());return Co(t,Mw(e)),Y(jo(t,"*[data-mce-bogus]"),So),ko(t)},Iw=(e,t)=>!(!e||!t)&&(!!((e,t)=>Mw(e)===Mw(t))(e,t)||((e,t)=>Dw(e)===Dw(t))(e,t)),Rw=e=>0===e.get(),zw=(e,t,n)=>{Rw(n)&&(e.typing=t)},Nw=(e,t)=>{e.typing&&(zw(e,!1,t),e.add())},Lw=e=>({init:{bindEvents:C},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{Rw(t)&&n.set(Il(e.selection))})(e,t,n),add:(t,n,o,i,r,s)=>((e,t,n,o,i,r,s)=>{const a=Qw(e),l=It.extend(r||{},a);if(!Rw(o)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&Iw(c,l))return null;t.data[n.get()]&&i.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const u=au(e);if(u&&t.data.length>u){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=Il(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const d={level:l,lastLevel:c,originalEvent:s};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),l})(e,t,n,o,i,r,s),undo:(t,n,o)=>((e,t,n,o)=>{let i;return t.typing&&(t.add(),t.typing=!1,zw(t,!1,n)),o.get()>0&&(o.set(o.get()-1),i=t.data[o.get()],Ew(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i})(e,t,n,o),redo:(t,n)=>((e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],Ew(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Iw(Qw(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(Nw(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,o,i)=>((e,t,n,o,i)=>{if(t.transact(o)){const o=t.data[n.get()].bookmark,r=t.data[n.get()-1];Ew(e,r,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=o)}})(e,t,n,o,i)},formatter:{match:(t,n,o,i)=>Gv(e,t,n,o,i),matchAll:(t,n)=>((e,t,n)=>{const o=[],i={},r=e.selection.getStart();return e.dom.getParent(r,(r=>{for(let s=0;s<t.length;s++){const a=t[s];!i[a]&&Hv(e,r,a,n)&&(i[a]=!0,o.push(a))}}),e.dom.getRoot()),o})(e,t,n),matchNode:(t,n,o,i)=>Hv(e,t,n,o,i),canApply:t=>((e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n&&e.selection.isEditable()){const t=e.selection.getStart(),i=cf(o,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!ff(t))return!0;for(let e=i.length-1;e>=0;e--)if(o.is(i[e],t.selector))return!0}}return!1})(e,t),closest:t=>Kv(e,t),apply:(t,n,o)=>ty(e,t,n,o),remove:(t,n,o,i)=>Fb(e,t,n,o,i),toggle:(t,n,o)=>((e,t,n,o)=>{const i=e.formatter.get(t);i&&(!Gv(e,t,n,o)||"toggle"in i[0]&&!i[0].toggle?ty(e,t,n,o):Fb(e,t,n,o))})(e,t,n,o),formatChanged:(t,n,o,i,r)=>ay(e,t,n,o,i,r)},editor:{getContent:t=>((e,t)=>L.from(e.getBody()).fold(P("tree"===t.format?new Mm("body",11):""),(n=>Hm(e,t,n))))(e,t),setContent:(t,n)=>Bv(e,t,n),insertContent:(t,n)=>Lv(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,o=w(t)?t:e.getBody();Y(n.select("table,a",o),(t=>{switch(t.nodeName){case"TABLE":const o=gu(e),i=n.getAttrib(t,"border");i&&"0"!==i||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case"A":if(!n.getAttrib(t,"href")){const o=n.getAttrib(t,"name")||t.id,i=Ou(e);o&&e.hasVisual?n.addClass(t,i):n.removeClass(t,i)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const o=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return ow(e,o).fold(A,(t=>{const n=Cw(e,t);return iw(e,n,t)}))})(e,t,n)},autocompleter:{addDecoration:C,removeDecoration:C},raw:{getModel:()=>L.none()}}),jw=e=>Ce(e.plugins,"rtc"),Vw=e=>{const t=e;return(e=>ke(e.plugins,"rtc").bind((e=>L.from(e.setup))))(e).fold((()=>(t.rtcInstance=Lw(e),L.none())),(e=>(t.rtcInstance=(()=>{const e=P(null),t=P("");return{init:{bindEvents:C},undoManager:{beforeChange:C,add:e,undo:e,redo:e,clear:C,reset:C,hasUndo:z,hasRedo:z,transact:e,ignore:C,extra:C},formatter:{match:z,matchAll:P([]),matchNode:P(void 0),canApply:z,closest:t,apply:C,remove:C,toggle:C,formatChanged:P({unbind:C})},editor:{getContent:t,setContent:P({content:"",html:""}),insertContent:P(""),addVisual:C},selection:{getContent:t},autocompleter:{addDecoration:C,removeDecoration:C},raw:{getModel:P(L.none())}}})(),L.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>m(e)?e:{},{init:n,undoManager:o,formatter:i,editor:r,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,n)=>o.transact(n),ignore:(e,t)=>o.ignore(t),extra:(e,t,n,i)=>o.extra(n,i)},formatter:{match:(e,n,o,r)=>i.match(e,t(n),r),matchAll:i.matchAll,matchNode:i.matchNode,canApply:e=>i.canApply(e),closest:e=>i.closest(e),apply:(e,n,o)=>i.apply(e,t(n)),remove:(e,n,o,r)=>i.remove(e,t(n)),toggle:(e,n,o)=>i.toggle(e,t(n)),formatChanged:(e,t,n,o,r)=>i.formatChanged(t,n,o,r)},editor:{getContent:e=>r.getContent(e),setContent:(e,t)=>({content:r.setContent(e,t),html:""}),insertContent:(e,t)=>(r.insertContent(e),""),addVisual:r.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>L.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))},Bw=e=>e.rtcInstance?e.rtcInstance:Lw(e),Zw=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Xw=e=>Zw(e).init.bindEvents(),Ww=(e,t={})=>((e,t,n)=>Zw(e).selection.getContent(t,n))(e,t.format?t.format:"html",t),Uw=e=>0===e.dom.length?(wo(e),L.none()):L.some(e),Yw=(e,t,n,o,i)=>{e.bind((e=>((o?oO:nO)(e.dom,o?e.dom.length:0,i),t.filter(Ht).map((t=>((e,t,n,o,i)=>{const r=e.dom,s=t.dom,a=o?r.length:s.length;o?(iO(r,s,i,!1,!o),n.setStart(s,a)):(iO(s,r,i,!1,!o),n.setEnd(s,a))})(e,t,n,o,i)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>Bf.isBookmarkNode(e.dom))).bind(t?Mn:En))(t,o).or(t).filter(Ht);return e.map((e=>((e,t,n)=>{Pn(e).each((o=>{const i=e.dom;t&&Ug(o,fl(i,0),n)?nO(i,0,n):!t&&Yg(o,fl(i,i.length),n)&&oO(i,i.length,n)}))})(e,o,i)))}))},Fw=(e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);rw(e,o).each((t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=o?{context:o.nodeName.toLowerCase()}:{},r=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Jm({validate:!1},e.schema).serialize(r)}return t.content})(e,t),o=e.selection.getRng();((e,t,n)=>{const o=L.from(t.firstChild).map(yn.fromDom),i=L.from(t.lastChild).map(yn.fromDom);e.deleteContents(),e.insertNode(t);const r=o.bind(En).filter(Ht).bind(Uw),s=i.bind(Mn).filter(Ht).bind(Uw);Yw(r,o,e,!0,n),Yw(s,i,e,!1,n),e.collapse(!1)})(o,o.createContextualFragment(n),e.schema),e.selection.setRng(o),wm(e,o),sw(e,n,t)}))},qw=(e,t,n)=>{if(Ce(e,t)){const o=H(e[t],(e=>e!==n));0===o.length?delete e[t]:e[t]=o}};var Hw=(e,t)=>{let n,o;const i=(t,n)=>ee(n,(n=>e.is(n,t))),r=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(n||(n={},o={},t.on("NodeChange",(e=>{const t=e.element,s=r(t),a={};Oe(n,((e,t)=>{i(t,s).each((n=>{o[t]||(Y(e,(e=>{e(!0,{node:n,selector:t,parents:s})})),o[t]=e),a[t]=e}))})),Oe(o,((e,n)=>{a[n]||(delete o[n],Y(e,(e=>{e(!1,{node:t,selector:n,parents:s})})))}))}))),n[e]||(n[e]=[]),n[e].push(s),i(e,r(t.selection.getStart())).each((()=>{o[e]=n[e]})),{unbind:()=>{qw(n,e,s),qw(o,e,s)}})}};const Gw=e=>!(!e||!e.ownerDocument)&&kn(yn.fromDom(e.ownerDocument),yn.fromDom(e)),Kw=(e,t,n,o)=>{let i,r;const{selectorChangedWithUnbind:s}=Hw(e,o),a=(e,t)=>Fw(o,e,t),l=e=>{const t=u();t.collapse(!!e),d(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,u=()=>{let n;const s=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},a=t.document;if(w(o.bookmark)&&!wp(o)){const e=ap(o);if(e.isSome())return e.map((e=>$m(o,[e])[0])).getOr(a.createRange())}try{const e=c();e&&!Jo(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):a.createRange(),n=$m(o,[n])[0])}catch(e){}if(n||(n=a.createRange()),fi(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return i&&r&&(0===s(n.START_TO_START,n,i)&&0===s(n.END_TO_END,n,i)?n=r:(i=null,r=null)),n},d=(e,t)=>{if(!(e=>!!e&&Gw(e.startContainer)&&Gw(e.endContainer))(e))return;const n=c();if(e=o.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){r=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},h=()=>{const t=c(),n=null==t?void 0:t.anchorNode,o=null==t?void 0:t.focusNode;if(!t||!n||!o||Jo(n)||Jo(o))return!0;const i=e.createRng(),r=e.createRng();try{i.setStart(n,t.anchorOffset),i.collapse(!0),r.setStart(o,t.focusOffset),r.collapse(!0)}catch(e){return!0}return i.compareBoundaryPoints(i.START_TO_START,r)<=0},f={dom:e,win:t,serializer:n,editor:o,expand:(t={type:"word"})=>d(tm(e).expand(u(),t)),collapse:l,setCursorLocation:(t,n)=>{const i=e.createRng();w(t)&&w(n)?(i.setStart(t,n),i.setEnd(t,n),d(i),l(!1)):(Xh(e,i,o.getBody(),!0),d(i))},getContent:e=>Ww(o,e),setContent:a,getBookmark:(e,t)=>p.getBookmark(e,t),moveToBookmark:e=>p.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>L.from(t).bind((t=>L.from(t.parentNode).map((o=>{const i=e.nodeIndex(t),r=e.createRng();return r.setStart(o,i),r.setEnd(o,i+1),n&&(Xh(e,r,t,!0),Xh(e,r,t,!1)),r})))))(e,t,n).each(d),t),isCollapsed:()=>{const e=u(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{if(o.mode.isReadOnly())return!1;const t=u(),n=o.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?ie(n,(t=>e.isEditable(t.parentElement))):Sm(e,t)},isForward:h,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,o=t.endContainer;const i=t.startOffset,r=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(n===o&&r-i<2&&n.hasChildNodes()&&(s=n.childNodes[i]),ci(n)&&ci(o)&&(n=n.length===i?Tm(n.nextSibling,!0):n.parentNode,o=0===r?Tm(o.previousSibling,!1):o.parentNode,n&&n===o&&(s=n)));const a=ci(s)?s.parentNode:s;return ti(a)?a:e})(o.getBody(),u()),getSel:c,setRng:d,getRng:u,getStart:e=>km(o.getBody(),u(),e),getEnd:e=>Cm(o.getBody(),u(),e),getSelectedBlocks:(t,n)=>((e,t,n,o)=>{const i=[],r=e.getRoot(),s=e.getParent(n||km(r,t,t.collapsed),e.isBlock),a=e.getParent(o||Cm(r,t,t.collapsed),e.isBlock);if(s&&s!==r&&i.push(s),s&&a&&s!==a){let t;const n=new Xo(s,r);for(;(t=n.next())&&t!==a;)e.isBlock(t)&&i.push(t)}return a&&s!==a&&a!==r&&i.push(a),i})(e,u(),t,n),normalize:()=>{const t=u(),n=c();if(!(Rh(n).length>1)&&Wh(o)){const n=Kp(e,t);return n.each((e=>{d(e,h())})),n.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),f),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{w(e)?((e,t,n)=>{(e.inline?bm:xm)(e,t,n)})(o,e,t):wm(o,u(),t)},placeCaretAt:(e,t)=>d(Xp(e,t,o.getDoc())),getBoundingClientRect:()=>{const e=u();return e.collapsed?fl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=i=r=null,m.destroy()}},p=Bf(f),m=Qp(f,o);return f.bookmarkManager=p,f.controlSelection=m,f},Jw=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,o)=>{const i="data-mce-"+o,r=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(i);void 0!==l?(t.attr(o,l.length>0?l:null),t.attr(i,null)):(l=t.attr(o),"style"===o?l=n.serializeStyle(n.parseStyle(l),t.name):r&&(l=r.call(s,l,o,t.name)),t.attr(o,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const n=e[t];let o=n.attr("class");o&&(o=o.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",o.length>0?o:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let o=e.length;for(;o--;){const t=e[o];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=L.from(t.firstChild).exists((e=>{var t;return!fa(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("script,style",((e,n)=>{var o;const i=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let r=e.length;for(;r--;){const s=e[r],a=s.firstChild,l=null!==(o=null==a?void 0:a.value)&&void 0!==o?o:"";if("script"===n){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+i(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+i(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let o=e.length;for(;o--;){const i=e[o],r=i.value;t.preserve_cdata&&0===(null==r?void 0:r.indexOf("[CDATA["))?(i.name="#cdata",i.type=4,i.value=n.decode(r.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==r?void 0:r.indexOf("mce:protected "))&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(r).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];7===o.type?o.remove():1===o.type&&("input"!==t||o.attr("type")||o.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{Y(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.remove_trailing_brs&&((e,t,n)=>{t.addNodeFilter("br",((t,o,i)=>{const r=It.extend({},n.getBlockElements()),s=n.getNonEmptyElements(),a=n.getWhitespaceElements();r.body=1;const l=e=>e.name in r||nr(n,e);for(let o=0,c=t.length;o<c;o++){let c=t[o],u=c.parent;if(u&&l(u)&&c===u.lastChild){let t=c.prev;for(;t;){const e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(c=null);break}t=t.prev}if(c&&(c.remove(),vv(n,s,a,u))){const t=n.getElementRule(u.name);t&&(t.removeEmpty?u.remove():t.paddEmpty&&gv(e,i,l,u))}}else{let e=c;for(;u&&u.firstChild===e&&u.lastChild===e&&(e=u,!r[u.name]);)u=u.parent;if(e===u){const e=new Mm("#text",3);e.value=Uo,c.replace(e)}}}}))})(t,e,e.schema)},eS=(e,t,n)=>((e,t)=>w(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let o;const i=e.dom;let r=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");It.each("BODY"===r.nodeName?r.childNodes:[r],(t=>{e.body.appendChild(e.importNode(t,!0))})),r="BODY"!==r.nodeName?e.body.firstChild:e.body,o=i.doc,i.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:r}),o&&(i.doc=o),r})(e,t,n):t,tS=(e,t,n)=>{-1===It.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},nS=(e,t,n,o,i)=>{const r=((e,t,n)=>Jm(e,t).serialize(n))(t,n,o);return((e,t,n)=>{if(!t.no_events&&e){const o=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n});return o.content}return n})(e,i,r)},oS=(e,t)=>{const n=["data-mce-selected"],o={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:xs.DOM,r=t&&t.schema?t.schema:Wr(o),s=ew(o,r);Jw(s,o,i);return{schema:r,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:(e,n={})=>{const a={format:"html",...n},l=eS(t,e,a),c=((e,t,n)=>{const o=pa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||la(yn.fromDom(t))?o:It.trim(o)})(i,l,a),u=((e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,o);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(i),i})(s,c,a);return"tree"===a.format?u:nS(t,o,r,u,a)},addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:E(tS,s,n),getTempAttrs:P(n),getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters,removeNodeFilter:s.removeNodeFilter,removeAttributeFilter:s.removeAttributeFilter}},iS=(e,t)=>{const n=oS(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},rS=(e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return ow(e,n).fold(A,(t=>{const n=((e,t)=>Bw(e).editor.getContent(t))(e,t);return iw(e,n,t)}))},sS=(e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return rw(e,o).map((t=>{const n=((e,t,n)=>Bw(e).editor.setContent(t,n))(e,t.content,t);return sw(e,n.html,t),n.content})).getOr(t)},aS="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),lS=[],cS="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),uS=[],dS=(e,t)=>{const n=H(t,(t=>Ce(e,t)));return le(n)},hS=e=>{const t=dS(e,aS),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),le(t)},fS=e=>dS(e,lS),pS=(e,t)=>{const n=It.makeMap(e.plugins," "),o=H(t,(e=>Ce(n,e)));return le(o)},mS=e=>pS(e,cS),gS=e=>pS(e,uS.map((e=>e.name))),OS=e=>ee(uS,(t=>t.name===e)).fold((()=>e),(t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e)),vS=(e,t)=>{((e,t)=>{const n=hS(e),o=mS(t),i=o.length>0,r=n.length>0,s="mobile"===t.theme;if(i||r||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=i?`\n\nPlugins:${e}${o.join(e)}`:"",l=r?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+t+a+l)}})(e,t),((e,t)=>{const n=fS(e),o=gS(t),i=o.length>0,r=n.length>0;if(i||r){const e="\n- ",t=i?`\n\nPlugins:${e}${o.map(OS).join(e)}`:"",s=r?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)},bS=xs.DOM,yS=e=>L.from(e).each((e=>e.destroy())),xS=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),i=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&w(null==i?void 0:i.nextSibling)&&bS.remove(i.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&o&&(e=>{bS.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),bS.remove(e.getContainer()),yS(t),yS(n),e.destroy()}},wS=(e,t)=>{const{selection:n,dom:o}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),yS(n),yS(o)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),bS.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())},SS=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ce(e,t)}})(),_S=$s.ModelManager,kS=(e,t)=>t.dom[e],CS=(e,t)=>parseInt(co(t,e),10),TS=E(kS,"clientWidth"),$S=E(kS,"clientHeight"),PS=E(CS,"margin-top"),AS=E(CS,"margin-left"),QS=(e,t,n)=>{const o=yn.fromDom(e.getBody()),i=e.inline?o:(r=o,yn.fromDom(Tn(r).dom.documentElement));var r;const s=((e,t,n,o)=>{const i=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?i.left+t.dom.clientLeft+AS(t):0),y:o-(e?i.top+t.dom.clientTop+PS(t):0)}})(e.inline,i,t,n);return((e,t,n)=>{const o=TS(e),i=$S(e);return t>=0&&n>=0&&t<=o&&n<=i})(i,s.x,s.y)},ES=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return(n=t,L.from(n).map(yn.fromDom)).map(Yn).getOr(!1);var n};const MS=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},o=()=>L.from(t[0]),i=()=>{o().each((e=>{e.reposition()}))},r=e=>{te(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(o,s=!0)=>e.removed||!ES(e)?{}:(s&&e.dispatch("BeforeOpenNotification",{notification:o}),ee(t,(e=>{return t=n().getArgs(e),i=o,!(t.type!==i.type||t.text!==i.text||t.progressBar||t.timeout||i.progressBar||i.timeout);var t,i})).getOrThunk((()=>{e.editorManager.setActive(e);const s=n().open(o,(()=>{r(s)}),(()=>Sp(e)));return(e=>{t.push(e)})(s),i(),e.dispatch("OpenNotification",{notification:{...s}}),s}))),a=P(t);return(e=>{e.on("SkinLoaded",(()=>{const t=Wc(e);t&&s({text:t,type:"warning",timeout:0},!1),i()})),e.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",(()=>{requestAnimationFrame(i)})),e.on("remove",(()=>{Y(t.slice(),(e=>{n().close(e)}))})),e.on("keydown",(e=>{var t;const n="f12"===(null===(t=e.key)||void 0===t?void 0:t.toLowerCase())||123===e.keyCode;e.altKey&&n&&(e.preventDefault(),o().map((e=>yn.fromDom(e.getEl()))).each((e=>Wf(e))))}))})(e),{open:s,close:()=>{o().each((e=>{n().close(e),r(e),i()}))},getNotifications:a}},DS=$s.PluginManager,IS=$s.ThemeManager;const RS=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},o=(e,t)=>(...n)=>t?t.apply(e,n):void 0,i=n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)},r=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=H(t,(e=>e!==n)),0===t.length&&e.focus()},s=t=>{e.editorManager.setActive(e),sp(e),e.ui.show();const n=t();return i(n),n};return e.on("remove",(()=>{Y(t,(e=>{n().close(e)}))})),{open:(e,t)=>s((()=>n().open(e,t,r))),openUrl:e=>s((()=>n().openUrl(e,r))),alert:(e,t,i)=>{const r=n();r.alert(e,o(i||r,t))},confirm:(e,t,i)=>{const r=n();r.confirm(e,o(i||r,t))},close:()=>{L.from(t[t.length-1]).each((e=>{n().close(e),r(e)}))}}},zS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},NS=(e,t)=>{e._skinLoaded?zS(e,t):e.on("SkinLoaded",(()=>{zS(e,t)}))},LS=(e,t,n)=>{Yl(e,t,{message:n}),console.error(n)},jS=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,VS=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},BS=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},ZS=(e,t,n)=>{vn(e,t)&&!n?gn(e,t):n&&pn(e,t)},XS=e=>{const t=yn.fromDom(e.getBody());ZS(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{L.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e)},WS=e=>{const t=yn.fromDom(e.getBody());ZS(t,"mce-content-readonly",!1),e.hasEditableRoot()&&io(t,!0),((e,t)=>{BS(e,"StyleWithCSS",t),BS(e,"enableInlineTableEditing",t),BS(e,"enableObjectResizing",t)})(e,!1),Sp(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged()},US=e=>td(e),YS="data-mce-contenteditable",FS=(e,t)=>{const n=yn.fromDom(e.getBody());t?(XS(e),io(n,!1),Y(jo(n,'*[contenteditable="true"]'),(e=>{tn(e,YS,"true"),io(e,!1)}))):((e=>{Y(jo(e,`*[${YS}="true"]`),(e=>{an(e,YS),io(e,!0)}))})(n),WS(e))},qS=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{US(e)&&Y(t,(e=>{e.attr(YS,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(YS,(t=>{US(e)&&Y(t,(e=>{e.attr("contenteditable",e.attr(YS))}))})),e.serializer.addTempAttr(YS)},HS=["copy"],GS=(e,t)=>{if((e=>"click"===e.type)(t)&&!Cp.metaKeyPressed(t)){const n=yn.fromDom(t.target);((e,t)=>to(t,"a",(t=>_n(t,yn.fromDom(e.getBody())))).bind((e=>rn(e,"href"))))(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${Ze(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>X(HS,e.type))(t)&&e.dispatch(t.type,t)},KS=e=>{(e=>{e.serializer?qS(e):e.on("PreInit",(()=>{qS(e)}))})(e),(e=>{e.on("ShowCaret ObjectSelected",(t=>{US(e)&&t.preventDefault()})),e.on("DisabledStateChange",(t=>{t.isDefaultPrevented()||FS(e,t.state)}))})(e)},JS=e=>"content/"+e+"/content.css",e_=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return U(t,(t=>(e=>tinymce.Resource.has(JS(e)))(t)?t:(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${o}`:e.documentBaseURI.toAbsolute(t)))},t_=e=>{e.contentCSS=e.contentCSS.concat((e=>e_(e,Rc(e)))(e),(e=>e_(e,Nc(e)))(e))},n_=(e,t)=>{const n={};return{findAll:(o,i=N)=>{const r=H((e=>e?he(e.getElementsByTagName("img")):[])(o),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Qt.transparentSrc)&&(We(n,"blob:")?!e.isUploaded(n)&&i(t):!!We(n,"data:")&&i(t))))})),s=U(r,(e=>{const o=e.src;if(Ce(n,o))return n[o].then((t=>p(t)?t:{image:e,blobInfo:t.blobInfo}));{const i=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(We(t,"blob:")){const o=e.getByUri(t);return w(o)?Promise.resolve(o):py(t).then((t=>my(t).then((o=>Oy(o,!1,(n=>L.some(vy(e,t,n)))).getOrThunk(n)))))}return We(t,"data:")?by(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,o).then((t=>(delete n[o],{image:e,blobInfo:t}))).catch((e=>(delete n[o],e)));return n[o]=i,i}}));return Promise.all(s)}}},o_=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,o)=>{e[n]=t(2,o)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let i_=0;const r_=e=>e+i_+++(()=>{const e=()=>Math.round(4294967295*Zs()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),s_=(e,t)=>{const n={},o=(e,n)=>new Promise(((o,i)=>{const r=new XMLHttpRequest;r.open("POST",t.url),r.withCredentials=t.credentials,r.upload.onprogress=e=>{n(e.loaded/e.total*100)},r.onerror=()=>{i("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=()=>{if(r.status<200||r.status>=300)return void i("HTTP Error: "+r.status);const e=JSON.parse(r.responseText);var n,s;e&&p(e.location)?o((n=t.basePath,s=e.location,n?n.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):i("Invalid JSON: "+r.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),r.send(s)})),i=S(t.handler)?t.handler:o,r=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{It.each(n[e],(e=>{e(t)})),delete n[e]},l=(t,o)=>(t=It.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(It.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))})(t):((t,n,o)=>(e.markPending(t.blobUri()),new Promise((i=>{let l,c;try{const u=()=>{l&&(l.close(),c=C)},d=n=>{u(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),r(t,n)),i(r(t,n))},h=n=>{u(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,n)),i(s(t,n))};c=e=>{e<0||e>100||L.from(l).orThunk((()=>L.from(o).map(I))).each((t=>{l=t,t.progressBar.value(e)}))},n(t,c).then(d,(e=>{h(p(e)?{message:e}:e)}))}catch(e){i(s(t,e))}}))))(t,i,o)))));return{upload:(e,n)=>t.url||i!==o?l(e,n):new Promise((e=>{e([])}))}},a_=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),l_=(e,t)=>s_(t,{url:Cc(e),basePath:Tc(e),credentials:$c(e),handler:Pc(e)}),c_=e=>t=>{((e,t)=>e.dom.isEmpty(t.dom)&&w(e.schema.getTextBlockElements()[Wt(t)]))(e,t)&&vo(t,yn.fromHtml('<br data-mce-bogus="1" />'))},u_=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||r_("blobid"),n=e.name||t,o=e.blob;return{id:P(t),name:P(n),filename:P(e.filename||n+"."+(i=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[i.toLowerCase()]||"dat")),blob:P(o),base64:P(e.base64),blobUri:P(e.blobUri||URL.createObjectURL(o)),uri:P(e.uri)};var i},n=t=>ee(e,t).getOrUndefined(),o=e=>n((t=>t.id()===e));return{create:(e,n,o,i,r)=>{if(p(e))return t({id:e,name:i,filename:r,blob:n,base64:o});if(m(e))return t(e);throw new Error("Unknown input type")},add:t=>{o(t.id())||e.push(t)},get:o,getByUri:e=>n((t=>t.blobUri()===e)),getByData:(e,t)=>n((n=>n.base64()===e&&n.blob().type===t)),findFirst:n,removeByUri:t=>{e=H(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{Y(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let n,o;const i=o_(),r=[],s=t=>n=>e.selection?t(n):[],a=(e,t,n)=>{let o=0;do{o=e.indexOf(t,o),-1!==o&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},l=(e,t,n)=>{const o=`src="${n}"${n===Qt.transparentSrc?' data-mce-placeholder="1"':""}`;return e=a(e,`src="${t}"`,o),e=a(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=(t,n)=>{Y(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=U(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},u=()=>(n||(n=l_(e,i)),f().then(s((o=>{const i=U(o,(e=>e.blobInfo));return n.upload(i,a_(e)).then(s((n=>{const i=[];let r=!1;const s=U(n,((n,s)=>{const{blobInfo:a,image:l}=o[s];let u=!1;return n.status&&Sc(e)?(n.url&&!Xe(l.src,n.url)&&(r=!0),t.removeByUri(l.src),jw(e)||((t,n)=>{const o=e.convertURL(n,"src");var i;c(t.src,n),nn(yn.fromDom(t),{src:wc(e)?(i=n,i+(-1===i.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})})(l,n.url)):n.error&&(n.error.remove&&(c(l.src,Qt.transparentSrc),i.push(l),u=!0),((e,t)=>{NS(e,Ts.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:a,removed:u}}));return i.length>0&&!jw(e)?e.undoManager.transact((()=>{Y(_o(i),(n=>{const o=Pn(n);wo(n),o.each(c_(e)),t.removeByUri(n.dom.src)}))})):r&&e.undoManager.dispatchChange(),s})))})))),d=()=>xc(e)?u():Promise.resolve([]),h=e=>ie(r,(t=>t(e))),f=()=>(o||(o=n_(i,t)),o.findAll(e.getBody(),h).then(s((t=>{const n=H(t,(t=>p(t)?(NS(e,t),!1):"blob"!==t.uriType));return jw(e)||Y(n,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),g=n=>n.replace(/src="(blob:[^"]+)"/g,((n,o)=>{const r=i.getResultUri(o);if(r)return'src="'+r+'"';let s=t.getByUri(o);if(s||(s=K(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o)),void 0)),s){return'src="data:'+s.blob().type+";base64,"+s.base64()+'"'}return n}));return e.on("SetContent",(()=>{xc(e)?d():f()})),e.on("RawSaveContent",(e=>{e.content=g(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{Y(e,(e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const o=i.getResultUri(n);o&&e.attr("src",o)}))}))})),{blobCache:t,addFilter:e=>{r.push(e)},uploadImages:u,uploadImagesAuto:d,scanForImages:f,destroy:()=>{t.destroy(),i.destroy(),o=n=null}}},d_={remove_similar:!0,inherit:!1},h_={selector:"td,th",...d_},f_={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...h_},tablecellverticalalign:{styles:{"vertical-align":"%value"},...h_},tablecellbordercolor:{styles:{borderColor:"%value"},...h_},tablecellclass:{classes:["%value"],...h_},tableclass:{selector:"table",classes:["%value"],...d_},tablecellborderstyle:{styles:{borderStyle:"%value"},...h_},tablecellborderwidth:{styles:{borderWidth:"%value"},...h_}},p_=P(f_),m_=e=>{const t={},n=(e,o)=>{e&&(p(e)?(O(o)||(o=[o]),Y(o,(e=>{y(e.deep)&&(e.deep=!ff(e)),y(e.split)&&(e.split=!ff(e)||pf(e)),y(e.remove)&&ff(e)&&!pf(e)&&(e.remove="none"),ff(e)&&pf(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=o):Oe(e,((e,t)=>{n(t,e)})))};return n((e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>ei(e)&&e.hasAttribute("href"),onformat:(e,n,o)=>{It.each(o,((n,o)=>{t.setAttrib(e,o,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return It.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),(e=>{o[e]={block:e,remove:"all"}})),o})(e)),n(p_()),n(Gc(e)),{get:e=>w(e)?t[e]:t,has:e=>Ce(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}},g_=It.each,O_=xs.DOM,v_=e=>w(e)&&m(e),b_=(e,t)=>{const n=t&&t.schema||Wr({}),o=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,n=O_.create(t.name);return((e,t)=>{t.classes.length>0&&O_.addClass(e,t.classes.join(" ")),O_.setAttribs(e,t.attrs)})(n,t),n},i=(e,t,r)=>{let s;const a=t[0],l=v_(a)?a.name:void 0,c=((e,t)=>{const o=n.getElementRule(e.nodeName.toLowerCase()),i=null==o?void 0:o.parentsRequired;return!(!i||!i.length)&&(t&&X(i,t)?t:i[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!r)return e;const u=s?o(s):O_.create("div");u.appendChild(e),r&&It.each(r,(t=>{const n=o(t);u.insertBefore(n,e)}));const d=v_(s)?s.siblings:void 0;return i(u,t,d)},r=O_.create("div");if(e.length>0){const t=e[0],n=o(t),s=v_(t)?t.siblings:void 0;r.appendChild(i(n,e.slice(1),s))}return r},y_=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=It.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,o,i,r)=>{switch(t){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==It.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o)}if("["===i){const e=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},x_=(e,t)=>{let n="",o=Kc(e);if(""===o)return"";const i=e=>p(e)?e.replace(/%(\w+)/g,""):"",r=(t,n)=>O_.getStyle(null!=n?n:e.getBody(),t,!0);if(p(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";o=e||o}let s,a=t.block||t.inline||"span";const l=(c=t.selector,p(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),It.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=It.map(e.split(/(?:~\+|~|\+)/),y_),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=b_(l,e)):s=b_([a],e);const u=O_.select(a,s)[0]||s.firstChild;g_(t.styles,((e,t)=>{const n=i(e);n&&O_.setStyle(u,t,n)})),g_(t.attributes,((e,t)=>{const n=i(e);n&&O_.setAttrib(u,t,n)})),g_(t.classes,(e=>{const t=i(e);O_.hasClass(u,t)||O_.addClass(u,t)})),e.dispatch("PreviewFormats"),O_.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const d=r("fontSize"),h=/px$/.test(d)?parseInt(d,10):0;return g_(o.split(" "),(e=>{let t=r(e,u);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=r(e),"#ffffff"===es(t).toLowerCase())||"color"===e&&"#000000"===es(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===h)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*h+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),O_.remove(s),n},w_=e=>{const t=m_(e),n=Ii({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),ub(e),jw(e)||((e,t)=>{e.set({}),t.on("NodeChange",(n=>{sy(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const o=L.from(n.node).map((e=>Fh(e)?e:e.startContainer)).bind((e=>ei(e)?L.some(e):L.from(e.parentElement))).getOrThunk((()=>oy(t)));sy(t,o,e.get())}))})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,o)=>{((e,t,n,o)=>{Zw(e).formatter.apply(t,n,o)})(e,t,n,o)},remove:(t,n,o,i)=>{((e,t,n,o,i)=>{Zw(e).formatter.remove(t,n,o,i)})(e,t,n,o,i)},toggle:(t,n,o)=>{((e,t,n,o)=>{Zw(e).formatter.toggle(t,n,o)})(e,t,n,o)},match:(t,n,o,i)=>((e,t,n,o,i)=>Zw(e).formatter.match(t,n,o,i))(e,t,n,o,i),closest:t=>((e,t)=>Zw(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>Zw(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,o,i)=>((e,t,n,o,i)=>Zw(e).formatter.matchNode(t,n,o,i))(e,t,n,o,i),canApply:t=>((e,t)=>Zw(e).formatter.canApply(t))(e,t),formatChanged:(t,o,i,r)=>((e,t,n,o,i,r)=>Zw(e).formatter.formatChanged(t,n,o,i,r))(e,n,t,o,i,r),getCssText:E(x_,e)}},S_=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},__=e=>{const t=zi(),n=Ii(0),o=Ii(0),i={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{Zw(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(r,s)=>((e,t,n,o,i,r,s)=>Zw(e).undoManager.add(t,n,o,i,r,s))(e,i,o,n,t,r,s),dispatchChange:()=>{e.setDirty(!0);const t=Qw(e);t.bookmark=Il(e.selection),e.dispatch("change",{level:t,lastLevel:ce(i.data,o.get()).getOrUndefined()})},undo:()=>((e,t,n,o)=>Zw(e).undoManager.undo(t,n,o))(e,i,n,o),redo:()=>((e,t,n)=>Zw(e).undoManager.redo(t,n))(e,o,i.data),clear:()=>{((e,t,n)=>{Zw(e).undoManager.clear(t,n)})(e,i,o)},reset:()=>{((e,t)=>{Zw(e).undoManager.reset(t)})(e,i)},hasUndo:()=>((e,t,n)=>Zw(e).undoManager.hasUndo(t,n))(e,i,o),hasRedo:()=>((e,t,n)=>Zw(e).undoManager.hasRedo(t,n))(e,i,o),transact:t=>((e,t,n,o)=>Zw(e).undoManager.transact(t,n,o))(e,i,n,t),ignore:t=>{((e,t,n)=>{Zw(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,o,i)=>{Zw(e).undoManager.extra(t,n,o,i)})(e,i,o,t,n)}};return jw(e)||((e,t,n)=>{const o=Ii(!1),i=e=>{zw(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const o=e.command;S_(o)||(Nw(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;S_(t)||i(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",(n=>{const r=n.keyCode;if(n.isDefaultPrevented())return;const s=Qt.os.isMacOS()&&"Meta"===n.key;(r>=33&&r<=36||r>=37&&r<=40||45===r||n.ctrlKey||s)&&(i(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),o.get()&&t.typing&&!Iw(Qw(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged())})),e.on("keydown",(e=>{const r=e.keyCode;if(e.isDefaultPrevented())return;if(r>=33&&r<=36||r>=37&&r<=40||45===r)return void(t.typing&&i(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;if((r<16||r>20)&&224!==r&&91!==r&&!t.typing&&!s)return t.beforeChange(),zw(t,!0,n),t.add({},e),void o.set(!0);(Qt.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()})),e.on("mousedown",(e=>{t.typing&&i(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&i(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,i,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),i},k_=[9,27,Cp.HOME,Cp.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Cp.DOWN,Cp.UP,Cp.LEFT,Cp.RIGHT].concat(Qt.browser.isFirefox()?[224]:[]),C_="data-mce-placeholder",T_=e=>"keydown"===e.type||"keyup"===e.type,$_=e=>{const t=e.keyCode;return t===Cp.BACKSPACE||t===Cp.DELETE},P_=e=>{var t;const n=e.dom,o=pc(e),i=null!==(t=Zc(e))&&void 0!==t?t:"",r=(t,s)=>{if((e=>{if(T_(e)){const t=e.keyCode;return!$_(e)&&(Cp.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||X(k_,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>T_(e)&&!($_(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===o.nodeName.toLowerCase()}return!1})(n,a,o);(""!==n.getAttrib(a,C_)!==l||s)&&(n.setAttrib(a,C_,l?i:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",r),e.off(l?"keyup":"keydown",r))};Ge(i)&&e.on("init",(t=>{r(t,!0),e.on("change SetContent ExecCommand",r),e.on("paste",(t=>cp.setEditorTimeout(e,(()=>r(t)))))}))},A_=(e,t)=>({from:e,to:t}),Q_=(e,t)=>{const n=yn.fromDom(e),o=yn.fromDom(t.container());return CO(n,o).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},E_=(e,t)=>Hn(t,(e=>aa(e)||Oi(e.dom)),(t=>_n(t,e))).filter(qt).getOr(e),M_=(e,t,n,o)=>{const i=Q_(t,fl.fromRangeStart(o)),r=i.bind((o=>lh(n,t,o.position).bind((o=>Q_(t,o).map((o=>((e,t,n,o)=>mi(o.position.getNode())&&!Mi(e,o.block)?dh(!1,o.block.dom).bind((e=>e.isEqual(o.position)?lh(n,t,e).bind((e=>Q_(t,e))):L.some(o))).getOr(o):o)(e,t,n,o)))))));return Nt(i,r,A_).filter((e=>(e=>!_n(e.from.block,e.to.block))(e)&&((e,t)=>{const n=yn.fromDom(e);return _n(E_(n,t.from.block),E_(n,t.to.block))})(t,e)&&(e=>!1===vi(e.from.block.dom)&&!1===vi(e.to.block.dom))(e)&&(e=>{const t=e=>oa(e)||Gi(e.dom)||ra(e);return t(e.from.block)&&t(e.to.block)})(e)&&(e=>!(kn(e.to.block,e.from.block)||kn(e.from.block,e.to.block)))(e)))},D_=(e,t)=>{const n=((e,t)=>{const n=Rn(e);return te(n,(e=>t.isBlock(Wt(e)))).fold(P(n),(e=>n.slice(0,e)))})(e,t);return Y(n,wo),n},I_=(e,t,n)=>{const o=Sg(n,t);return ee(o.reverse(),(t=>Mi(e,t))).each(wo)},R_=(e,t,n,o,i)=>{if(Mi(o,n))return da(n),ph(n.dom);((e,t)=>0===H(Dn(t),(t=>!Mi(e,t))).length)(o,i)&&Mi(o,t)&&mo(i,yn.fromTag("br"));const r=fh(n.dom,fl.before(i.dom));return Y(D_(t,o),(e=>{mo(i,e)})),I_(o,e,t),r},z_=(e,t,n,o)=>{if(Mi(o,n)){if(Mi(o,t)){const e=e=>{const t=(e,n)=>Nn(e).fold((()=>n),(e=>((e,t)=>e.isInline(Wt(t)))(o,e)?t(e,n.concat(Ys(e))):n));return t(e,[])},i=G(e(n),((e,t)=>(bo(e,t),t)),ua());xo(t),vo(t,i)}return wo(n),ph(t.dom)}const i=mh(n.dom);return Y(D_(t,o),(e=>{vo(n,e)})),I_(o,e,t),i},N_=(e,t)=>kn(t,e)?((e,t)=>{const n=Sg(t,e);return L.from(n[n.length-1])})(t,e):L.none(),L_=(e,t)=>{dh(e,t.dom).bind((e=>L.from(e.getNode()))).map(yn.fromDom).filter(na).each(wo)},j_=(e,t,n,o)=>(L_(!0,t),L_(!1,n),N_(t,n).fold(E(z_,e,t,n,o),E(R_,e,t,n,o))),V_=(e,t,n,o,i)=>t?j_(e,o,n,i):j_(e,n,o,i),B_=(e,t)=>{const n=yn.fromDom(e.getBody()),o=((e,t,n,o)=>o.collapsed?M_(e,t,n,o):L.none())(e.schema,n.dom,t,e.selection.getRng()).map((o=>()=>{V_(n,t,o.from.block,o.to.block,e.schema).each((t=>{e.selection.setRng(t.toRange())}))}));return o},Z_=(e,t)=>{const n=yn.fromDom(t),o=E(_n,e);return qn(n,aa,o).isSome()},X_=(e,t)=>{const n=fh(e.dom,fl.fromRangeStart(t)).isNone(),o=hh(e.dom,fl.fromRangeEnd(t)).isNone();return!((e,t)=>Z_(e,t.startContainer)||Z_(e,t.endContainer))(e,t)&&n&&o},W_=e=>{const t=yn.fromDom(e.getBody()),n=e.selection.getRng();return X_(t,n)?(e=>L.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t,n)=>{const o=t.getRng();return Nt(CO(e,yn.fromDom(o.startContainer)),CO(e,yn.fromDom(o.endContainer)),((i,r)=>_n(i,r)?L.none():L.some((()=>{o.deleteContents(),V_(e,!0,i,r,n).each((e=>{t.setRng(e.toRange())}))})))).getOr(L.none())})(t,e.selection,e.schema)},U_=(e,t)=>e.selection.isCollapsed()?L.none():W_(e),Y_=(e,t,n,o,i)=>L.from(t._selectionOverrides.showCaret(e,n,o,i)),F_=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?L.none():L.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),q_=(e,t,n)=>t.collapsed?((e,t,n)=>{const o=Vd(1,e.getBody(),t),i=fl.fromRangeStart(o),r=i.getNode();if(vd(r))return Y_(1,e,r,!i.isAtEnd(),!1);const s=i.getNode(!0);if(vd(s))return Y_(1,e,s,!1,!1);const a=lv(e.dom.getRoot(),i.getNode());return vd(a)?Y_(1,e,a,!1,n):L.none()})(e,t,n).getOr(t):t,H_=e=>yg(e)||gg(e),G_=e=>xg(e)||Og(e),K_=(e,t,n,o,i,r)=>{Y_(o,e,r.getNode(!i),i,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();i?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),((e,t)=>{ci(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},J_=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!ci(n.commonAncestorContainer))return L.none();const o=t?1:-1,i=oh(e.getBody()),r=E(Wd,t?i.next:i.prev),s=t?H_:G_,a=Zd(o,e.getBody(),n),l=r(a),c=l?bO(t,l):l;if(!c||!Ud(a,c))return L.none();if(s(c))return L.some((()=>K_(e,n,a.getNode(),o,t,c)));const u=r(c);return u&&s(u)&&Ud(c,u)?L.some((()=>K_(e,n,a.getNode(),o,t,u))):L.none()})(e,t),ek=(e,t)=>{const n=e.getBody();return t?ph(n).filter(yg):mh(n).filter(xg)},tk=e=>{const t=e.selection.getRng();return!t.collapsed&&(ek(e,!0).exists((e=>e.isEqual(fl.fromRangeStart(t))))||ek(e,!1).exists((e=>e.isEqual(fl.fromRangeEnd(t)))))},nk=Ll([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ok=(e,t,n,o,i)=>{const r=i.getNode(!n);return CO(yn.fromDom(t),yn.fromDom(o.getNode())).map((t=>Mi(e,t)?nk.remove(t.dom):nk.moveToElement(r))).orThunk((()=>L.some(nk.moveToElement(r))))},ik=(e,t,n,o)=>lh(t,e,n).bind((i=>{return r=i.getNode(),w(r)&&(aa(yn.fromDom(r))||ra(yn.fromDom(r)))||((e,t,n,o,i)=>{const r=t=>i.isInline(t.nodeName.toLowerCase())&&!Dd(n,o,e);return Bd(!t,n).fold((()=>Bd(t,o).fold(z,r)),r)})(e,t,n,i,o)?L.none():t&&vi(i.getNode())||!t&&vi(i.getNode(!0))?ok(o,e,t,n,i):t&&xg(n)||!t&&yg(n)?L.some(nk.moveToPosition(i)):L.none();var r})),rk=(e,t,n,o)=>((e,t)=>{const n=t.getNode(!e),o=e?"after":"before";return ei(n)&&n.getAttribute("data-mce-caret")===o})(t,n)?((e,t)=>x(t)?L.none():e&&vi(t.nextSibling)?L.some(nk.moveToElement(t.nextSibling)):!e&&vi(t.previousSibling)?L.some(nk.moveToElement(t.previousSibling)):L.none())(t,n.getNode(!t)).orThunk((()=>ik(e,t,n,o))):ik(e,t,n,o).bind((t=>((e,t,n)=>n.fold((e=>L.some(nk.remove(e))),(e=>L.some(nk.moveToElement(e))),(n=>Dd(t,n,e)?L.none():L.some(nk.moveToPosition(n)))))(e,n,t))),sk=(e,t)=>L.from(lv(e.getBody(),t)),ak=(e,t)=>{const n=e.selection.getNode();return sk(e,n).filter(vi).fold((()=>((e,t,n,o)=>{const i=Vd(t?1:-1,e,n),r=fl.fromRangeStart(i),s=yn.fromDom(e);return!t&&xg(r)?L.some(nk.remove(r.getNode(!0))):t&&yg(r)?L.some(nk.remove(r.getNode())):!t&&yg(r)&&Ig(s,r,o)?Rg(s,r,o).map((e=>nk.remove(e.getNode()))):t&&xg(r)&&Dg(s,r,o)?zg(s,r,o).map((e=>nk.remove(e.getNode()))):rk(e,t,r,o)})(e.getBody(),t,e.selection.getRng(),e.schema).map((n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),pO(e,t,yn.fromDom(n)),!0))(e,t),((e,t)=>n=>{const o=t?fl.before(n):fl.after(n);return e.selection.setRng(o.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>L.some(C)))},lk=(e,t)=>{const n=e.selection.getNode();if(vi(n)&&!yi(n)){return sk(e,n.parentNode).filter(vi).fold((()=>L.some((()=>{var n;n=yn.fromDom(e.getBody()),Y(jo(n,".mce-offscreen-selection"),wo),pO(e,t,yn.fromDom(e.selection.getNode())),TO(e)}))),(()=>L.some(C)))}return tk(e)?L.some((()=>{AO(e,e.selection.getRng(),yn.fromDom(e.getBody()))})):L.none()},ck=e=>{const t=e.dom,n=e.selection,o=lv(e.getBody(),n.getNode());if(Oi(o)&&t.isBlock(o)&&t.isEmpty(o)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),n.setRng(fl.before(e).toRange())}return!0},uk=(e,t)=>e.selection.isCollapsed()?ak(e,t):lk(e,t),dk=e=>e.hasOwnProperty("text"),hk=e=>e.hasOwnProperty("marker"),fk=(e,t)=>{const n=(e,n)=>{if(ci(e))return{text:e,offset:n};{const o=t(),i=e.childNodes;return n<i.length?(e.insertBefore(o,i[n]),{marker:o,before:!0}):(e.appendChild(o),{marker:o,before:!1})}},o=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:o}},pk=e=>{var t,n;const{start:o,end:i}=e,r=new window.Range;return dk(o)?r.setStart(o.text,o.offset):hk(o)&&(o.before?r.setStartBefore(o.marker):r.setStartAfter(o.marker),null===(t=o.marker.parentNode)||void 0===t||t.removeChild(o.marker)),dk(i)?r.setEnd(i.text,i.offset):hk(i)&&(i.before?r.setEndBefore(i.marker):r.setEndAfter(i.marker),null===(n=i.marker.parentNode)||void 0===n||n.removeChild(i.marker)),r},mk=(e,t)=>{var n;const o=e.dom,i=o.getParent(e.selection.getStart(),o.isBlock),r=o.getParent(e.selection.getEnd(),o.isBlock),s=e.getBody();if("div"===(null===(n=null==i?void 0:i.nodeName)||void 0===n?void 0:n.toLowerCase())&&i&&r&&i===s.firstChild&&r===s.lastChild&&!o.isEmpty(s)){const n=i.cloneNode(!1),o=()=>{if(t?_O(e):SO(e),s.firstChild!==i){const t=fk(e.selection.getRng(),(()=>document.createElement("span")));Array.from(s.childNodes).forEach((e=>n.appendChild(e))),s.appendChild(n),e.selection.setRng(pk(t))}};return L.some(o)}return L.none()},gk=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=fl.fromRangeStart(e.selection.getRng());return lh(t,e.getBody(),n).filter((e=>t?pg(e):mg(e))).bind((e=>Id(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):L.none(),Ok=ci,vk=e=>Ok(e)&&e.data[0]===ha,bk=e=>Ok(e)&&e.data[e.data.length-1]===ha,yk=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(ha)},xk=(e,t)=>e?(e=>{var t;if(Ok(e.previousSibling))return bk(e.previousSibling)||e.previousSibling.appendData(ha),e.previousSibling;if(Ok(e))return vk(e)||e.insertData(0,ha),e;{const n=yk(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(Ok(e.nextSibling))return vk(e.nextSibling)||e.nextSibling.insertData(0,ha),e.nextSibling;if(Ok(e))return bk(e)||e.appendData(ha),e;{const o=yk(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(o),o}})(t),wk=E(xk,!0),Sk=E(xk,!1),_k=(e,t)=>ci(e.container())?xk(t,e.container()):xk(t,e.getNode()),kk=(e,t)=>{const n=t.get();return n&&e.container()===n&&va(n)},Ck=(e,t)=>t.fold((t=>{dd(e.get());const n=wk(t);return e.set(n),L.some(fl(n,n.length-1))}),(t=>ph(t).map((t=>{if(kk(t,e)){const t=e.get();return fl(t,1)}{dd(e.get());const n=_k(t,!0);return e.set(n),fl(n,1)}}))),(t=>mh(t).map((t=>{if(kk(t,e)){const t=e.get();return fl(t,t.length-1)}{dd(e.get());const n=_k(t,!1);return e.set(n),fl(n,n.length-1)}}))),(t=>{dd(e.get());const n=Sk(t);return e.set(n),L.some(fl(n,1))})),Tk=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return L.none()},$k=Ll([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Pk=(e,t)=>{const n=Md(t,e);return n||e},Ak=(e,t,n)=>{const o=yO(n),i=Pk(t,o.container());return vO(e,i,o).fold((()=>hh(i,o).bind(E(vO,e,i)).map((e=>$k.before(e)))),L.none)},Qk=(e,t)=>null===vh(e,t),Ek=(e,t,n)=>vO(e,t,n).filter(E(Qk,t)),Mk=(e,t,n)=>{const o=xO(n);return Ek(e,t,o).bind((e=>fh(e,o).isNone()?L.some($k.start(e)):L.none()))},Dk=(e,t,n)=>{const o=yO(n);return Ek(e,t,o).bind((e=>hh(e,o).isNone()?L.some($k.end(e)):L.none()))},Ik=(e,t,n)=>{const o=xO(n),i=Pk(t,o.container());return vO(e,i,o).fold((()=>fh(i,o).bind(E(vO,e,i)).map((e=>$k.after(e)))),L.none)},Rk=e=>!OO(Nk(e)),zk=(e,t,n)=>Tk([Ak,Mk,Dk,Ik],[e,t,n]).filter(Rk),Nk=e=>e.fold(A,A,A,A),Lk=e=>e.fold(P("before"),P("start"),P("end"),P("after")),jk=e=>e.fold($k.before,$k.before,$k.after,$k.after),Vk=e=>e.fold($k.start,$k.start,$k.end,$k.end),Bk=(e,t,n,o,i,r)=>Nt(vO(t,n,o),vO(t,n,i),((t,o)=>t!==o&&((e,t,n)=>{const o=Md(t,e),i=Md(n,e);return w(o)&&o===i})(n,t,o)?$k.after(e?t:o):r)).getOr(r),Zk=(e,t)=>e.fold(N,(e=>{return o=t,!(Lk(n=e)===Lk(o)&&Nk(n)===Nk(o));var n,o})),Xk=(e,t)=>e?t.fold(T(L.some,$k.start),L.none,T(L.some,$k.after),L.none):t.fold(L.none,T(L.some,$k.before),L.none,T(L.some,$k.end)),Wk=(e,t,n,o)=>{const i=bO(e,o),r=zk(t,n,i);return zk(t,n,i).bind(E(Xk,e)).orThunk((()=>((e,t,n,o,i)=>{const r=bO(e,i);return lh(e,n,r).map(E(bO,e)).fold((()=>o.map(jk)),(i=>zk(t,n,i).map(E(Bk,e,t,n,r,i)).filter(E(Zk,o)))).filter(Rk)})(e,t,n,r,o)))},Uk=(e,t,n)=>{const o=e?1:-1;return t.setRng(fl(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Yk=(e,t)=>{const n=t.selection.getRng(),o=e?fl.fromRangeEnd(n):fl.fromRangeStart(n);return!!(e=>S(e.selection.getSel().modify))(t)&&(e&&xa(o)?Uk(!0,t.selection,o):!(e||!wa(o))&&Uk(!1,t.selection,o))};var Fk;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Fk||(Fk={}));const qk=(e,t)=>-1===e?re(t):t,Hk=(e,t,n)=>1===e?t.next(n):t.prev(n),Gk=(e,t,n,o)=>mi(o.getNode(1===t))?Fk.Br:!1===Dd(n,o)?Fk.Block:Fk.Wrap,Kk=(e,t,n,o)=>{const i=oh(n);let r=o;const s=[];for(;r;){const n=Hk(t,i,r);if(!n)break;if(mi(n.getNode(!1)))return 1===t?{positions:qk(t,s).concat([n]),breakType:Fk.Br,breakAt:L.some(n)}:{positions:qk(t,s),breakType:Fk.Br,breakAt:L.some(n)};if(n.isVisible()){if(e(r,n)){const e=Gk(0,t,r,n);return{positions:qk(t,s),breakType:e,breakAt:L.some(n)}}s.push(n),r=n}else r=n}return{positions:qk(t,s),breakType:Fk.Eol,breakAt:L.none()}},Jk=(e,t,n,o)=>t(n,o).breakAt.map((o=>{const i=t(n,o).positions;return-1===e?i.concat(o):[o].concat(i)})).getOr([]),eC=(e,t)=>K(e,((e,n)=>e.fold((()=>L.some(n)),(o=>Nt(ue(o.getClientRects()),ue(n.getClientRects()),((e,i)=>{const r=Math.abs(t-e.left);return Math.abs(t-i.left)<=r?n:o})).or(e)))),L.none()),tC=(e,t)=>ue(t.getClientRects()).bind((t=>eC(e,t.left))),nC=E(Kk,fl.isAbove,-1),oC=E(Kk,fl.isBelow,1),iC=E(Jk,-1,nC),rC=E(Jk,1,oC),sC=(e,t)=>nC(e,t).breakAt.isNone(),aC=(e,t)=>oC(e,t).breakAt.isNone(),lC=(e,t)=>tC(iC(e,t),t),cC=(e,t)=>tC(rC(e,t),t),uC=vi,dC=(e,t)=>Math.abs(e.left-t),hC=(e,t)=>Math.abs(e.right-t),fC=(e,t)=>De(e,((e,n)=>{const o=Math.min(dC(e,t),hC(e,t)),i=Math.min(dC(n,t),hC(n,t));return i===o&&Te(n,"node")&&uC(n.node)||i<o?n:e})),pC=e=>{const t=t=>U(t,(t=>{const n=$a(t);return n.node=e,n}));if(ei(e))return t(e.getClientRects());if(ci(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},mC=e=>oe(e,pC);var gC;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(gC||(gC={}));const OC=(e,t,n,o,i,r)=>{let s=0;const a=[],l=o=>{let r=mC([o]);e===gC.Up&&(r=r.reverse());for(let e=0;e<r.length;e++){const o=r[e];if(!n(o,c)){if(a.length>0&&t(o,Re(a))&&s++,o.line=s,i(o))return!0;a.push(o)}}return!1},c=Re(r.getClientRects());if(!c)return a;const u=r.getNode();return u&&(l(u),((e,t,n,o)=>{let i=o;for(;i=Ed(i,e,Fa,t);)if(n(i))return})(e,o,l,u)),a},vC=E(OC,gC.Up,Qa,Ea),bC=E(OC,gC.Down,Ea,Qa),yC=e=>Re(e.getClientRects()),xC=e=>t=>((e,t)=>t.line>e)(e,t),wC=e=>t=>((e,t)=>t.line===e)(e,t),SC=(e,t)=>{e.selection.setRng(t),wm(e,e.selection.getRng())},_C=(e,t,n)=>L.some(q_(e,t,n)),kC=(e,t,n,o,i,r)=>{const s=1===t,a=oh(e.getBody()),l=E(Wd,s?a.next:a.prev),c=s?o:i;if(!n.collapsed){const o=Da(n);if(r(o))return Y_(t,e,o,-1===t,!1);if(tk(e)){const e=n.cloneRange();return e.collapse(-1===t),L.from(e)}}const u=Zd(t,e.getBody(),n);if(c(u))return F_(e,u.getNode(!s));let d=l(u);const h=Ca(n);if(!d)return h?L.some(n):L.none();if(d=bO(s,d),c(d))return Y_(t,e,d.getNode(!s),s,!1);const f=l(d);return f&&c(f)&&Ud(d,f)?Y_(t,e,f.getNode(!s),s,!1):h?_C(e,d.toRange(),!1):L.none()},CC=(e,t,n,o,i,r)=>{const s=Zd(t,e.getBody(),n),a=Re(s.getClientRects()),l=t===gC.Down,c=e.getBody();if(!a)return L.none();if(tk(e)){const e=l?fl.fromRangeEnd(n):fl.fromRangeStart(n);return(l?cC:lC)(c,e).orThunk((()=>L.from(e))).map((e=>e.toRange()))}const u=(l?bC:vC)(c,xC(1),s),d=H(u,wC(1)),h=a.left,f=fC(d,h);if(f&&r(f.node)){const n=Math.abs(h-f.left),o=Math.abs(h-f.right);return Y_(t,e,f.node,n<o,!1)}let p;if(p=o(s)?s.getNode():i(s)?s.getNode(!0):Da(n),p){const n=((e,t,n,o)=>{const i=oh(t);let r,s,a,l;const c=[];let u=0;e===gC.Down?(r=i.next,s=Ea,a=Qa,l=fl.after(o)):(r=i.prev,s=Qa,a=Ea,l=fl.before(o));const d=yC(l);do{if(!l.isVisible())continue;const e=yC(l);if(a(e,d))continue;c.length>0&&s(e,Re(c))&&u++;const t=$a(e);if(t.position=l,t.line=u,n(t))return c;c.push(t)}while(l=r(l));return c})(t,c,xC(1),p);let o=fC(H(n,wC(1)),h);if(o)return _C(e,o.position.toRange(),!1);if(o=Re(H(n,wC(0))),o)return _C(e,o.position.toRange(),!1)}return 0===d.length?TC(e,l).filter(l?i:o).map((t=>q_(e,t.toRange(),!1))):L.none()},TC=(e,t)=>{const n=e.selection.getRng(),o=t?fl.fromRangeEnd(n):fl.fromRangeStart(n),i=(r=o.container(),s=e.getBody(),qn(yn.fromDom(r),(e=>yd(e.dom)),(e=>e.dom===s)).map((e=>e.dom)).getOr(s));var r,s;if(t){const e=oC(i,o);return de(e.positions)}{const e=nC(i,o);return ue(e.positions)}},$C=(e,t,n)=>TC(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),PC=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},AC=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},QC=(e,t,n)=>Ck(t,n).map((t=>(PC(e,t),n))),EC=(e,t,n)=>{const o=e.getBody(),i=((e,t,n)=>{const o=fl.fromRangeStart(e);if(e.collapsed)return o;{const i=fl.fromRangeEnd(e);return n?fh(t,i).getOr(i):hh(t,o).getOr(o)}})(e.selection.getRng(),o,n),r=E(gO,e);return Wk(n,r,o,i).bind((n=>QC(e,t,n)))},MC=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const o=fl.fromRangeStart(e.selection.getRng());fl.isTextPosition(o)&&!(e=>xa(e)||wa(e))(o)&&(PC(e,ud(n,o)),t.set(null))}},DC=(e,t,n)=>!!Hc(e)&&EC(e,t,n).isSome(),IC=(e,t,n)=>!!Hc(t)&&Yk(e,t),RC=e=>{const t=Ii(null),n=E(gO,e);return e.on("NodeChange",(o=>{Hc(e)&&(((e,t,n)=>{const o=U(jo(yn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),i=H(o,e),r=H(n,e);Y(se(i,r),E(AC,!1)),Y(se(r,i),E(AC,!0))})(n,e.dom,o.parents),MC(e,t),((e,t,n,o)=>{if(t.selection.isCollapsed()){const i=H(o,e);Y(i,(o=>{const i=fl.fromRangeStart(t.selection.getRng());zk(e,t.getBody(),i).bind((e=>QC(t,n,e)))}))}})(n,e,t,o.parents))})),t},zC=E(IC,!0),NC=E(IC,!1),LC=(e,t,n)=>{if(Hc(e)){const o=TC(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?fl.fromRangeEnd(n):fl.fromRangeStart(n)}));return zk(E(gO,e),e.getBody(),o).exists((t=>{const o=jk(t);return Ck(n,o).exists((t=>(PC(e,t),!0)))}))}return!1},jC=(e,t)=>n=>Ck(t,n).map((t=>()=>PC(e,t))),VC=(e,t,n,o)=>{const i=e.getBody(),r=E(gO,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,o)),SO(e),zk(r,i,fl.fromRangeStart(e.selection.getRng())).map(Vk).bind(jC(e,t)).each(R)})),e.nodeChanged()},BC=(e,t,n,o)=>{const i=((e,t)=>{const n=Md(t,e);return n||e})(e.getBody(),o.container()),r=E(gO,e),s=zk(r,i,o);return s.bind((e=>n?e.fold(P(L.some(Vk(e))),L.none,P(L.some(jk(e))),L.none):e.fold(L.none,P(L.some(jk(e))),L.none,P(L.some(Vk(e)))))).map(jC(e,t)).getOrThunk((()=>{const a=ch(n,i,o),l=a.bind((e=>zk(r,i,e)));return Nt(s,l,(()=>vO(r,i,o).bind((t=>(e=>Nt(ph(e),mh(e),((t,n)=>{const o=bO(!0,t),i=bO(!1,n);return hh(e,o).forall((e=>e.isEqual(i)))})).getOr(!0))(t)?L.some((()=>{pO(e,n,yn.fromDom(t))})):L.none())))).getOrThunk((()=>l.bind((()=>a.map((i=>()=>{n?VC(e,t,o,i):VC(e,t,i,o)}))))))}))},ZC=(e,t,n)=>{if(e.selection.isCollapsed()&&Hc(e)){const o=fl.fromRangeStart(e.selection.getRng());return BC(e,t,n,o)}return L.none()},XC=(e,t)=>{const n=yn.fromDom(e.getBody()),o=yn.fromDom(e.selection.getStart()),i=Sg(o,n);return te(i,t).fold(P(i),(e=>i.slice(0,e)))},WC=e=>1===jn(e),UC=e=>XC(e,(t=>e.schema.isBlock(Wt(t))||(e=>jn(e)>1)(t))),YC=(e,t)=>{const n=E(fb,e);return oe(t,(e=>n(e)?[e.dom]:[]))},FC=e=>{const t=(e=>XC(e,(t=>e.schema.isBlock(Wt(t)))))(e);return YC(e,t)},qC=(e,t)=>{const n=H(UC(e),WC);return de(n).bind((o=>{const i=fl.fromRangeStart(e.selection.getRng());return $O(t,i,o.dom)&&!Of(o)?L.some((()=>((e,t,n,o)=>{const i=YC(t,o);if(0===i.length)pO(t,e,n);else{const e=hb(n.dom,i);t.selection.setRng(e.toRange())}})(t,e,o,n))):L.none()}))},HC=(e,t)=>{const n=e.selection.getStart(),o=((e,t)=>{const n=t.parentElement;return mi(t)&&!v(n)&&e.dom.isEmpty(n)})(e,n)||(i=n,Of(yn.fromDom(i)))?hb(n,t):((e,t)=>{const{caretContainer:n,caretPosition:o}=db(t);return e.insertNode(n.dom),o})(e.selection.getRng(),t);var i;e.selection.setRng(o.toRange())},GC=e=>ci(e.startContainer),KC=e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!v(t)&&!v(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(ci(t)?t.length:t.childNodes.length)})(e),JC=e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&GC(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!v(n)&&fb(e,yn.fromDom(n))})(e,t)&&(e=>KC(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)},eT=e=>{if(JC(e)){const t=FC(e);return L.some((()=>{SO(e),((e,t)=>{const n=se(t,FC(e));n.length>0&&HC(e,n)})(e,t)}))}return L.none()},tT=(e,t)=>e.selection.isCollapsed()?qC(e,t):eT(e),nT=e=>{return t=yn.fromDom(e.selection.getStart()),n=e.schema,Vo(t,(e=>Oh(e.dom)),(e=>n.isBlock(Wt(e))));var t,n},oT=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(GC(t)||e.dom.isEmpty(t.startContainer))&&!nT(e)})(e)&&HC(e,[]),!0),iT=(e,t,n)=>w(n)?L.some((()=>{e._selectionOverrides.hideFakeCaret(),pO(e,t,yn.fromDom(n))})):L.none(),rT=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?gg:Og,o=Zd(t?1:-1,e.getBody(),e.selection.getRng());return n(o)?iT(e,t,o.getNode(!t)):L.from(bO(t,o)).filter((e=>n(e)&&Ud(o,e))).bind((n=>iT(e,t,n.getNode(!t))))})(e,t):((e,t)=>{const n=e.selection.getNode();return wi(n)?iT(e,t,n):L.none()})(e,t),sT=e=>Je(null!=e?e:"").getOr(0),aT=(e,t)=>(e||"table"===Wt(t)?"margin":"padding")+("rtl"===co(t,"direction")?"-right":"-left"),lT=e=>{const t=uT(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>ie(t,(t=>{const n=aT(Dc(e),t),o=ho(t,n).map(sT).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&o>0})))(e,t))},cT=e=>ia(e)||ra(e),uT=e=>H(_o(e.selection.getSelectedBlocks()),(e=>!cT(e)&&!(e=>Pn(e).exists(cT))(e)&&Hn(e,(e=>Oi(e.dom)||vi(e.dom))).exists((e=>Oi(e.dom))))),dT=(e,t)=>{var n,o;if(e.mode.isReadOnly())return;const{dom:i}=e,r=Ic(e),s=null!==(o=null===(n=/[a-z%]+$/i.exec(r))||void 0===n?void 0:n[0])&&void 0!==o?o:"px",a=sT(r),l=Dc(e);Y(uT(e),(e=>{((e,t,n,o,i,r)=>{const s=aT(n,yn.fromDom(r)),a=sT(e.getStyle(r,s));if("outdent"===t){const t=Math.max(0,a-o);e.setStyle(r,s,t?t+i:"")}else{const t=a+o+i;e.setStyle(r,s,t)}})(i,t,l,a,s,e.dom)}))},hT=e=>dT(e,"outdent"),fT=e=>{if(e.selection.isCollapsed()&&lT(e)){const t=e.dom,n=e.selection.getRng(),o=fl.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(null!==i&&$g(yn.fromDom(i),o,e.schema))return L.some((()=>hT(e)))}return L.none()},pT=(e,t,n)=>fe([fT,uk,J_,(e,n)=>ZC(e,t,n),B_,av,gk,rT,U_,tT,mk],(t=>t(e,n))).filter((t=>e.selection.isEditable())),mT=(e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{pT(e,t,!1).fold((()=>{e.selection.isEditable()&&(SO(e),TO(e))}),R)})(e,t)})),e.addCommand("forwardDelete",(()=>{((e,t)=>{pT(e,t,!0).fold((()=>{e.selection.isEditable()&&_O(e)}),R)})(e,t)}))},gT=e=>void 0===e.touches||1!==e.touches.length?L.none():L.some(e.touches[0]),OT=e=>{const t=zi(),n=Ii(!1),o=As((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),400);e.on("touchstart",(e=>{gT(e).each((i=>{o.cancel();const r={x:i.clientX,y:i.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(r)}))}),!0),e.on("touchmove",(i=>{o.cancel(),gT(i).each((o=>{t.on((i=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(o,i)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(i=>{o.cancel(),"touchcancel"!==i.type&&t.get().filter((e=>e.target.isEqualNode(i.target))).each((()=>{n.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})}))}),!0)},vT=(e,t)=>Ce(e,t.nodeName),bT=(e,t)=>!!ci(t)||!!ei(t)&&!(vT(e.getBlockElements(),t)||Qh(t)||er(e,t)||ji(t)),yT=(e,t)=>{if(ci(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||vT(e,t.nextSibling)||ji(t.nextSibling)}return!1},xT=e=>e.dom.create(pc(e),mc(e)),wT=e=>{const t=e.dom,n=e.selection,o=e.schema,i=o.getBlockElements(),r=n.getStart(),s=e.getBody();let a,l,c=null;const u=pc(e);if(!r||!ei(r))return;const d=s.nodeName.toLowerCase();if(!o.isValidChild(d,u.toLowerCase())||((e,t,n)=>W(wg(yn.fromDom(n),yn.fromDom(t)),(t=>vT(e,t.dom))))(i,s,r))return;if(s.firstChild===s.lastChild&&mi(s.firstChild))return a=xT(e),a.appendChild(ua().dom),s.replaceChild(a,s.firstChild),e.selection.setCursorLocation(a,0),void e.nodeChanged();let h=s.firstChild;for(;h;)if(ei(h)&&Hi(o,h),bT(o,h)){if(yT(i,h)){l=h,h=h.nextSibling,t.remove(l);continue}if(!a){if(!c&&e.hasFocus()&&(c=fk(e.selection.getRng(),(()=>document.createElement("span")))),!h.parentNode){h=null;break}a=xT(e),s.insertBefore(a,h)}l=h,h=h.nextSibling,a.appendChild(l)}else a=null,h=h.nextSibling;c&&(e.selection.setRng(pk(c)),e.nodeChanged())},ST=(e,t,n)=>{const o=yn.fromDom(xT(e)),i=ua();vo(o,i),n(t,o);const r=document.createRange();return r.setStartBefore(i.dom),r.setEndBefore(i.dom),r},_T=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),kT=(e,t,n)=>function(o){const i=arguments,r=i[i.length-2],s=r>0?t.charAt(r-1):"";if('"'===s)return o;if(">"===s){const e=t.lastIndexOf("<",r);if(-1!==e){if(-1!==t.substring(e,r).indexOf('contenteditable="false"'))return o}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode("string"==typeof i[1]?i[1]:i[0])+"</span>"},CT=(e,t)=>ie(e,(e=>{const n=t.match(e);return null!==n&&n[0].length===t.length})),TT=e=>{const t="contenteditable",n=" "+It.trim(ju(e))+" ",o=" "+It.trim(Lu(e))+" ",i=_T(n),r=_T(o),s=Vu(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,n)=>{let o=t.length,i=n.content;if("raw"!==n.format){for(;o--;)i=i.replace(t[o],kT(e,i,Lu(e)));n.content=i}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;for(;n--;){const o=e[n];i(o)?o.attr(t,"true"):r(o)&&o.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const o=e[n];if(!i(o)&&!r(o))continue;const a=o.attr("data-mce-content");s.length>0&&a?CT(s,a)?(o.name="#text",o.type=3,o.raw=!0,o.value=a):o.remove():o.attr(t,null)}}))},$T=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ka(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},PT=(e,t)=>{const n=(e=>eo(yn.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void $T(e,n)):void(ya(n)&&($T(e,n),e.undoManager.add()))},AT=vi,QT=(e,t,n)=>{const o=oh(e.getBody()),i=E(Wd,1===t?o.next:o.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;if(!i(fl.fromRangeStart(n))){const n=yn.fromDom((e=>{const t=e.dom.create(pc(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?go(yn.fromDom(o),n):mo(yn.fromDom(o),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},ET=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return((e,t,n)=>kC(t,e,n,yg,xg,AT))(n,e,o).orThunk((()=>(QT(e,n,o),L.none())))},MT=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return((e,t,n)=>CC(t,e,n,(e=>yg(e)||vg(e)),(e=>xg(e)||bg(e)),AT))(n,e,o).orThunk((()=>(QT(e,n,o),L.none())))},DT=(e,t)=>ET(e,((e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return OO(n)?!t:t})(e.selection,t)).exists((t=>(SC(e,t),!0))),IT=(e,t)=>MT(e,t).exists((t=>(SC(e,t),!0))),RT=(e,t)=>$C(e,t,t?xg:yg),zT=(e,t)=>ek(e,!t).map((n=>{const o=n.toRange(),i=e.selection.getRng();return t?o.setStart(i.startContainer,i.startOffset):o.setEnd(i.endContainer,i.endOffset),o})).exists((t=>(SC(e,t),!0))),NT=e=>X(["figcaption"],Wt(e)),LT=(e,t)=>{const n=yn.fromDom(e.getBody()),o=fl.fromRangeStart(e.selection.getRng());return((e,t,n)=>{const o=E(_n,t);return Hn(yn.fromDom(e.container()),(e=>n.isBlock(Wt(e))),o).filter(NT)})(o,n,e.schema).exists((()=>{if(((e,t,n)=>t?aC(e.dom,n):sC(e.dom,n))(n,t,o)){const o=ST(e,n,t?vo:Oo);return e.selection.setRng(o),!0}return!1}))},jT=(e,t)=>!!e.selection.isCollapsed()&&LT(e,t),VT=(e,t)=>t?L.from(e.dom.getParent(e.selection.getNode(),"details")).map((t=>((e,t)=>{const n=e.selection.getRng(),o=fl.fromRangeStart(n);return!(e.getBody().lastChild!==t||!aC(t,o)||(e.execCommand("InsertNewBlockAfter"),0))})(e,t))).getOr(!1):L.from(e.dom.getParent(e.selection.getNode(),"summary")).bind((t=>L.from(e.dom.getParent(t,"details")).map((n=>((e,t,n)=>{const o=e.selection.getRng(),i=fl.fromRangeStart(o);return!(e.getBody().firstChild!==t||!sC(n,i)||(e.execCommand("InsertNewBlockBefore"),0))})(e,n,t))))).getOr(!1),BT=(e,t)=>VT(e,t),ZT={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},XT=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,WT=(e,t)=>oe((e=>U(e,(e=>({...ZT,...e}))))(e),(e=>XT(e,t)?[e]:[])),UT=(e,t)=>oe((e=>U(e,(e=>({...ZT,...e}))))(e),(e=>XT(e,t)?[e]:[])),YT=(e,...t)=>()=>e.apply(null,t),FT=(e,t)=>ee(WT(e,t),(e=>e.action())),qT=(e,t)=>fe(UT(e,t),(e=>e.action())),HT=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return kC(e,n,o,gg,Og,wi).exists((t=>(SC(e,t),!0)))},GT=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return CC(e,n,o,gg,Og,wi).exists((t=>(SC(e,t),!0)))},KT=(e,t)=>$C(e,t,t?Og:gg),JT=Ll([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),e$={...JT,none:e=>JT.none(e)},t$=(e,t,n)=>oe(Rn(e),(e=>wn(e,t)?n(e)?[e]:[]:t$(e,t,n))),n$=(e,t)=>((e,t,n=z)=>n(t)?L.none():X(e,Wt(t))?L.some(t):Jn(t,e.join(","),(e=>wn(e,"table")||n(e))))(["td","th"],e,t),o$=e=>t$(e,"th,td",N),i$=(e,t)=>to(e,"table",t),r$=(e,t,n,o,i=N)=>{const r=1===o;if(!r&&n<=0)return e$.first(e[0]);if(r&&n>=e.length-1)return e$.last(e[e.length-1]);{const r=n+o,s=e[r];return i(s)?e$.middle(t,s):r$(e,t,r,o,i)}},s$=(e,t)=>i$(e,t).bind((t=>{const n=o$(t);return te(n,(t=>_n(e,t))).map((e=>({index:e,all:n})))})),a$=e=>{return(t=e,Ks.getOption(t)).filter((e=>0!==e.trim().length||e.indexOf(Uo)>-1)).isSome();var t},l$=["img","br"],c$=e=>a$(e)||X(l$,Wt(e))||(e=>Ft(e)&&"false"===on(e,"contenteditable"))(e),u$=(e,t,n,o,i)=>{const r=jo(yn.fromDom(n),"td,th,caption").map((e=>e.dom)),s=H(((e,t)=>oe(t,(t=>{const n=((e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}))($a(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})))(e,r),(e=>t(e,i)));return((e,t,n)=>K(e,((e,o)=>e.fold((()=>L.some(o)),(e=>{const i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),r=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return L.some(r<i?o:e)}))),L.none()))(s,o,i).map((e=>e.cell))},d$=E(u$,(e=>e.bottom),((e,t)=>e.y<t)),h$=E(u$,(e=>e.top),((e,t)=>e.y>t)),f$=(e,t)=>ue(t.getClientRects()).bind((t=>d$(e,t.left,t.top))).bind((e=>{return tC(mh(n=e).map((e=>nC(n,e).positions.concat(e))).getOr([]),t);var n})),p$=(e,t)=>de(t.getClientRects()).bind((t=>h$(e,t.left,t.top))).bind((e=>{return tC(ph(n=e).map((e=>[e].concat(oC(n,e).positions))).getOr([]),t);var n})),m$=(e,t,n)=>{const o=e(t,n);return(e=>e.breakType===Fk.Wrap&&0===e.positions.length)(o)||!mi(n.getNode())&&(e=>e.breakType===Fk.Br&&1===e.positions.length)(o)?!((e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())))(e,t,o):o.breakAt.isNone()},g$=E(m$,nC),O$=E(m$,oC),v$=(e,t,n,o)=>{const i=e.selection.getRng(),r=t?1:-1;return!(!Od()||!((e,t,n)=>{const o=fl.fromRangeStart(t);return dh(!e,n).exists((e=>e.isEqual(o)))})(t,i,n))&&(Y_(r,e,n,!t,!1).each((t=>{SC(e,t)})),!0)},b$=(e,t)=>{const n=t.getNode(e);return si(n)?L.some(n):L.none()},y$=(e,t,n)=>{const o=b$(!!t,n),i=!1===t;o.fold((()=>SC(e,n.toRange())),(o=>dh(i,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>SC(e,n.toRange())),(n=>((e,t,n)=>{t.undoManager.transact((()=>{const o=e?go:mo,i=ST(t,yn.fromDom(n),o);SC(t,i)}))})(t,e,o)))))},x$=(e,t,n,o)=>{const i=e.selection.getRng(),r=fl.fromRangeStart(i),s=e.getBody();if(!t&&g$(o,r)){const o=((e,t,n)=>f$(t,n).orThunk((()=>ue(n.getClientRects()).bind((n=>eC(iC(e,fl.before(t)),n.left))))).getOr(fl.before(t)))(s,n,r);return y$(e,t,o),!0}if(t&&O$(o,r)){const o=((e,t,n)=>p$(t,n).orThunk((()=>ue(n.getClientRects()).bind((n=>eC(rC(e,fl.after(t)),n.left))))).getOr(fl.after(t)))(s,n,r);return y$(e,t,o),!0}return!1},w$=(e,t,n)=>L.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((o=>L.from(e.dom.getParent(o,"table")).map((i=>n(e,t,i,o))))).getOr(!1),S$=(e,t)=>w$(e,t,v$),_$=(e,t)=>w$(e,t,x$),k$=(e,t,n)=>n.fold(L.none,L.none,((e,t)=>{return(n=t,Kn(n,c$)).map((e=>(e=>{const t=Kf.exact(e,0,e,0);return Bp(t)})(e)));var n}),(n=>e.mode.isReadOnly()||!C$(n)?L.none():(e.execCommand("mceTableInsertRowAfter"),T$(e,t,n)))),C$=e=>Hn(e,Jt("table")).exists(no),T$=(e,t,n)=>k$(e,t,((e,t,n)=>s$(e,n).fold((()=>e$.none(e)),(n=>r$(n.all,e,n.index,1,t))))(n,P$)),$$=(e,t,n)=>k$(e,t,((e,t,n)=>s$(e,n).fold((()=>e$.none()),(n=>r$(n.all,e,n.index,-1,t))))(n,P$)),P$=e=>no(e)||Zo(e,A$),A$=e=>Ft(e)&&no(e),Q$=(e,t)=>{const n=["table","li","dl"],o=yn.fromDom(e.getBody()),i=e=>{const t=Wt(e);return _n(e,o)||X(n,t)},r=e.selection.getRng(),s=yn.fromDom(t?r.endContainer:r.startContainer);return n$(s,i).map((n=>{i$(n,i).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t);return(t?T$:$$)(e,i,n).each((t=>{e.selection.setRng(t)})),!0})).getOr(!1)},E$=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Qt.os.isMacOS()||Qt.os.isiOS();FT([{keyCode:Cp.RIGHT,action:YT(DT,e,!0)},{keyCode:Cp.LEFT,action:YT(DT,e,!1)},{keyCode:Cp.UP,action:YT(IT,e,!1)},{keyCode:Cp.DOWN,action:YT(IT,e,!0)},...o?[{keyCode:Cp.UP,action:YT(zT,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Cp.DOWN,action:YT(zT,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Cp.RIGHT,action:YT(S$,e,!0)},{keyCode:Cp.LEFT,action:YT(S$,e,!1)},{keyCode:Cp.UP,action:YT(_$,e,!1)},{keyCode:Cp.DOWN,action:YT(_$,e,!0)},{keyCode:Cp.UP,action:YT(_$,e,!1)},{keyCode:Cp.UP,action:YT(BT,e,!1)},{keyCode:Cp.DOWN,action:YT(BT,e,!0)},{keyCode:Cp.RIGHT,action:YT(HT,e,!0)},{keyCode:Cp.LEFT,action:YT(HT,e,!1)},{keyCode:Cp.UP,action:YT(GT,e,!1)},{keyCode:Cp.DOWN,action:YT(GT,e,!0)},{keyCode:Cp.RIGHT,action:YT(DC,e,t,!0)},{keyCode:Cp.LEFT,action:YT(DC,e,t,!1)},{keyCode:Cp.RIGHT,ctrlKey:!o,altKey:o,action:YT(zC,e,t)},{keyCode:Cp.LEFT,ctrlKey:!o,altKey:o,action:YT(NC,e,t)},{keyCode:Cp.UP,action:YT(jT,e,!1)},{keyCode:Cp.DOWN,action:YT(jT,e,!0)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))},M$=(e,t)=>({container:e,offset:t}),D$=xs.DOM,I$=e=>t=>e===t?-1:0,R$=(e,t,n)=>{if(ci(e)&&t>=0)return L.some(M$(e,t));{const o=Gs(D$);return L.from(o.backwards(e,t,I$(e),n)).map((e=>M$(e.container,e.container.data.length)))}},z$=(e,t,n)=>{if(!ci(e))return L.none();const o=e.data;if(t>=0&&t<=o.length)return L.some(M$(e,t));{const o=Gs(D$);return L.from(o.backwards(e,t,I$(e),n)).bind((e=>{const o=e.container.data;return z$(e.container,t+o.length,n)}))}},N$=(e,t,n)=>{if(!ci(e))return L.none();const o=e.data;if(t<=o.length)return L.some(M$(e,t));{const i=Gs(D$);return L.from(i.forwards(e,t,I$(e),n)).bind((e=>N$(e.container,t-o.length,n)))}},L$=(e,t,n,o,i)=>{const r=Gs(e,(e=>t=>e.isBlock(t)||X(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return L.from(r.backwards(t,n,o,i))},j$=e=>""!==e&&-1!=="  \ufeff\f\n\r\t\v".indexOf(e),V$=(e,t)=>e.substring(t.length),B$=(e,t,n,o=!1)=>{if(!(i=t).collapsed||!ci(i.startContainer))return L.none();var i;const r={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return L$(e,t.startContainer,t.startOffset,((e,t,i)=>(r.text=i+r.text,r.offset+=t,((e,t,n,o=!1)=>{let i;const r=n.charAt(0);for(i=t-1;i>=0;i--){const s=e.charAt(i);if(!o&&j$(s))return L.none();if(r===s&&Xe(e,n,i,t))break}return L.some(i)})(r.text,r.offset,n,o).getOr(t))),s).bind((e=>{const o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return L.none();const i=(e=>pa(e.toString().replace(/\u00A0/g," ")))(o);return 0!==i.lastIndexOf(n)?L.none():L.some({text:V$(i,n),range:o,trigger:n})}))},Z$=e=>{if((e=>3===e.nodeType)(e))return M$(e,e.data.length);{const t=e.childNodes;return t.length>0?Z$(t[t.length-1]):M$(e,t.length)}},X$=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?X$(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?Z$(n[n.length-1]):M$(e,t)},W$=e=>t=>{const n=X$(t.startContainer,t.startOffset);return!((e,t)=>{var n;const o=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return L$(e,t.container,t.offset,((e,t)=>0===t?-1:t),o).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!j$(t)})).isSome()})(e,n)},U$=(e,t)=>{const n=t(),o=e.selection.getRng();return((e,t,n)=>fe(n.triggers,(n=>B$(e,t,n))))(e.dom,o,n).bind((n=>Y$(e,t,n)))},Y$=(e,t,n,o={})=>{var i;const r=t(),s=null!==(i=e.selection.getRng().startContainer.nodeValue)&&void 0!==i?i:"",a=H(r.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>W$(e.dom)))(n.range,s,n.text)));if(0===a.length)return L.none();const l=Promise.all(U(a,(e=>e.fetch(n.text,e.maxResults,o).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return L.some({lookupData:l,context:n})};var F$;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(F$||(F$={}));const q$=(e,t,n)=>e.stype===F$.Error?t(e.serror):n(e.svalue),H$=e=>({stype:F$.Value,svalue:e}),G$=e=>({stype:F$.Error,serror:e}),K$=e=>q$(e,Nl.error,Nl.value),J$=H$,eP=e=>{const t=[],n=[];return Y(e,(e=>{q$(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},tP=G$,nP=(e,t)=>e.stype===F$.Error?t(e.serror):e,oP=(e,t)=>e.stype===F$.Value?{stype:F$.Value,svalue:t(e.svalue)}:e,iP=(e,t)=>e.stype===F$.Error?{stype:F$.Error,serror:t(e.serror)}:e,rP=q$,sP=e=>m(e)&&me(e).length>100?" removed due to size":JSON.stringify(e,null,2),aP=(e,t)=>tP([{path:e,getErrorInfo:t}]),lP=(e,t,n,o)=>ke(n,o).fold((()=>((e,t,n)=>aP(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+sP(t))))(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t))),cP=(e,t)=>({extract:(n,o)=>ke(o,e).fold((()=>((e,t)=>aP(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>lP(n,o,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+me(t)}),uP=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const i=t[o];for(const t in i)Ce(i,t)&&(n[t]=e(n[t],i[t]))}return n},dP=uP(((e,t)=>g(e)&&g(t)?dP(e,t):t)),hP=uP(((e,t)=>t)),fP=e=>({tag:"defaultedThunk",process:P(e)}),pP=e=>T(tP,ne)(e),mP=e=>{const t=eP(e);return t.errors.length>0?pP(t.errors):J$(t.values)},gP=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},OP=e=>({extract:(t,n)=>nP(e(n),(e=>((e,t)=>aP(e,P(t)))(t,e))),toString:P("val")}),vP=OP(J$),bP=(e,t,n,o)=>ke(t,n).fold((()=>((e,t,n)=>aP(e,(()=>'Could not find valid *required* value for "'+t+'" in '+sP(n))))(e,n,t)),o),yP=(e,t,n,o)=>o(ke(e,t).getOrThunk((()=>n(e)))),xP=(e,t,n,o,i)=>{const r=e=>i.extract(t.concat([o]),e),s=e=>e.fold((()=>J$(L.none())),(e=>{const n=i.extract(t.concat([o]),e);return oP(n,L.some)}));switch(e.tag){case"required":return bP(t,n,o,r);case"defaultedThunk":return yP(n,o,e.process,r);case"option":return((e,t,n)=>n(ke(e,t)))(n,o,s);case"defaultedOptionThunk":return((e,t,n,o)=>o(ke(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,s);case"mergeWithThunk":return yP(n,o,P({}),(t=>{const o=dP(e.process(n),t);return r(o)}))}},wP=e=>({extract:(t,n)=>((e,t,n)=>{const o={},i=[];for(const r of n)gP(r,((n,r,s,a)=>{const l=xP(s,e,t,n,a);rP(l,(e=>{i.push(...e)}),(e=>{o[r]=e}))}),((e,n)=>{o[e]=n(t)}));return i.length>0?tP(i):J$(o)})(t,n,e),toString:()=>{const t=U(e,(e=>gP(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),SP=e=>({extract:(t,n)=>{const o=U(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return mP(o)},toString:()=>"array("+e.toString()+")"}),_P=T(SP,wP),kP=(e,t,n)=>K$(((e,t,n)=>{const o=t.extract([e],n);return iP(o,(e=>({input:n,errors:e})))})(e,t,n)),CP=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:P("... (only showing first ten failures)")}]):e;return U(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+sP(e.input),TP=(e,t)=>cP(e,ve(t,wP)),$P=P(vP),PP=(e,t)=>OP((n=>{const o=typeof n;return e(n)?J$(n):tP(`Expected type: ${t} but got: ${o}`)})),AP=PP(_,"number"),QP=PP(p,"string"),EP=PP(b,"boolean"),MP=PP(S,"function"),DP=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),IP=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),RP=e=>{return t=t=>X(e,t)?Nl.value(t):Nl.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),OP((e=>t(e).fold(tP,J$)));var t},zP=(e,t)=>DP(e,e,{tag:"required",process:{}},t),NP=e=>zP(e,QP),LP=(e,t)=>DP(e,e,{tag:"required",process:{}},RP(t)),jP=e=>zP(e,MP),VP=(e,t)=>DP(e,e,{tag:"required",process:{}},SP(t)),BP=(e,t)=>DP(e,e,{tag:"option",process:{}},t),ZP=e=>BP(e,QP),XP=(e,t,n)=>DP(e,e,fP(t),n),WP=(e,t)=>XP(e,t,AP),UP=(e,t)=>XP(e,t,QP),YP=(e,t,n)=>XP(e,t,RP(n)),FP=(e,t)=>XP(e,t,EP),qP=(e,t)=>XP(e,t,MP),HP=NP("type"),GP=jP("fetch"),KP=jP("onAction"),JP=qP("onSetup",(()=>C)),eA=ZP("text"),tA=ZP("icon"),nA=ZP("tooltip"),oA=ZP("label"),iA=FP("active",!1),rA=FP("enabled",!0),sA=FP("primary",!1),aA=e=>UP("type",e),lA=wP([HP,NP("trigger"),WP("minChars",1),(uA=1,((e,t)=>DP(e,e,fP(t),$P()))("columns",uA)),WP("maxResults",10),(cA="matches",BP(cA,MP)),GP,KP,((e,t,n)=>XP(e,t,SP(n)))("highlightOn",[],QP)]);var cA,uA;const dA=[rA,nA,tA,eA,JP,UP("context","mode:design")],hA=[iA].concat(dA),fA=[qP("predicate",z),YP("scope","node",["node","editor"]),YP("position","selection",["node","selection","line"])],pA=dA.concat([aA("contextformbutton"),UP("align","end"),sA,KP,IP("original",A)]),mA=hA.concat([aA("contextformbutton"),UP("align","end"),sA,KP,IP("original",A)]),gA=dA.concat([aA("contextformbutton")]),OA=hA.concat([aA("contextformtogglebutton")]),vA=[oA,VP("commands",TP("type",{contextformbutton:pA,contextformtogglebutton:mA})),BP("launch",TP("type",{contextformbutton:gA,contextformtogglebutton:OA})),qP("onInput",C),qP("onSetup",C)];TP("type",{contextform:[...fA,...vA,LP("type",["contextform"]),qP("initValue",P("")),ZP("placeholder")],contextsliderform:[...fA,...vA,LP("type",["contextsliderform"]),qP("initValue",P(0)),qP("min",P(0)),qP("max",P(100))],contextsizeinputform:[...fA,...vA,LP("type",["contextsizeinputform"]),qP("initValue",P({width:"",height:""}))]});const bA=dA.concat([aA("contexttoolbarbutton")]);wP([aA("contexttoolbar"),((e,t)=>BP(e,wP(t)))("launch",bA),zP("items",((e,t)=>{const n=void 0!==t?t:A;return{extract:(t,o)=>{const i=[];for(const r of e){const e=r.extract(t,o);if(e.stype===F$.Value)return{stype:F$.Value,svalue:n(e.svalue)};i.push(e)}return mP(i)},toString:()=>"oneOf("+U(e,(e=>e.toString())).join(", ")+")"}})([QP,_P([ZP("name"),ZP("label"),VP("items",QP)])]))].concat(fA));const yA=e=>{const t=e.ui.registry.getAll().popups,n=ve(t,(e=>{return(t=e,kP("Autocompleter",lA,t)).fold((e=>{throw new Error(CP(e))}),A);var t})),o=$e(Se(n,(e=>e.trigger))),i=_e(n);return{dataset:n,triggers:o,lookupByTrigger:e=>H(i,(t=>t.trigger===e))}},xA=e=>{const t=zi(),n=Ii(!1),o=t.isSet,i=()=>{o()&&((e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},r=ze((()=>yA(e))),s=s=>{(n=>t.get().map((t=>B$(e.dom,e.selection.getRng(),t.trigger,!0).bind((t=>Y$(e,r,t,n))))).getOrThunk((()=>U$(e,r))))(s).fold(i,(i=>{(e=>{o()||t.set({trigger:e.trigger,matchLength:e.text.length})})(i.context),i.lookupData.then((o=>{t.get().map((r=>{const s=i.context;r.trigger===s.trigger&&(t.set({...r,matchLength:s.text.length}),n.get()?(Kl(e,{range:s.range}),((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:o})):(n.set(!0),Kl(e,{range:s.range}),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:o})))}))}))}))},a=()=>t.get().bind((({trigger:t})=>{const o=e.selection.getRng();return B$(e.dom,o,t,n.get()).filter((({range:e})=>((e,t)=>{const n=e.compareBoundaryPoints(window.Range.START_TO_START,t),o=e.compareBoundaryPoints(window.Range.END_TO_END,t);return n>=0&&o<=0})(o,e))).map((({range:e})=>e))}));e.addCommand("mceAutocompleterReload",((e,t)=>{const n=m(t)?t.fetchOptions:{};s(n)})),e.addCommand("mceAutocompleterClose",i),e.addCommand("mceAutocompleterRefreshActiveRange",(()=>{a().each((t=>{Kl(e,{range:t})}))})),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",(()=>a().isSome())),((e,t)=>{const n=As(t.load,50);e.on("input",(t=>{("insertCompositionText"!==t.inputType||e.composing)&&n.throttle()})),e.on("keydown",(e=>{const o=e.which;8===o?n.throttle():27===o?(n.cancel(),t.cancelIfNecessary()):38!==o&&40!==o||n.cancel()}),!0),e.on("remove",n.cancel)})(e,{cancelIfNecessary:i,load:s})},wA=_t().browser.isSafari(),SA=e=>da(yn.fromDom(e)),_A=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},kA=(e,t)=>L.from(e.getParent(t.container(),"details")),CA=(e,t)=>kA(e,t).isSome(),TA=(e,t)=>t.startSummary.exists((t=>((e,t)=>ph(t).exists((t=>t.isEqual(e))))(e,t))),$A=(e,t)=>t.startSummary.exists((t=>((e,t)=>mh(t).exists((n=>mi(n.getNode())&&fh(t,n).exists((t=>t.isEqual(e)))||n.isEqual(e))))(e,t))),PA=(e,t)=>{const n=t.getNode();y(n)||e.selection.setCursorLocation(n,t.offset())},AA=(e,t,n)=>{const o=e.dom.getParent(t.container(),"details");if(o&&!o.open){const t=e.dom.select("summary",o)[0];if(t){(n?ph(t):mh(t)).each((t=>PA(e,t)))}}else PA(e,t)},QA=(e,t,n)=>{const{dom:o,selection:i}=e,r=e.getBody();if("character"===n){const n=fl.fromRangeStart(i.getRng()),s=o.getParent(n.container(),o.isBlock),a=kA(o,n),l=s&&o.isEmpty(s),c=v(null==s?void 0:s.previousSibling),u=v(null==s?void 0:s.nextSibling);if(l){if(t?u:c){if(ch(!t,r,n).exists((e=>CA(o,e)&&!zt(a,kA(o,e)))))return!0}}return ch(t,r,n).fold(z,(n=>{const i=kA(o,n);if(CA(o,n)&&!zt(a,i)){if(t||AA(e,n,!1),s&&l){if(t&&c)return!0;if(!t&&u)return!0;AA(e,n,t),e.dom.remove(s)}return!0}return!1}))}return!1},EA=(e,t,n,o)=>{const i=e.selection.getRng(),r=fl.fromRangeStart(i),s=e.getBody();return"selection"===o?((e,t)=>{const n=t.startSummary.exists((t=>t.contains(e.startContainer))),o=t.startSummary.exists((t=>t.contains(e.endContainer))),i=t.startDetails.forall((e=>t.endDetails.forall((t=>e!==t))));return(n||o)&&!(n&&o)||i})(i,t):n?$A(r,t)||((e,t,n)=>n.startDetails.exists((n=>hh(e,t).forall((e=>!n.contains(e.container()))))))(s,r,t):TA(r,t)||((e,t)=>t.startDetails.exists((n=>fh(n,e).forall((n=>t.startSummary.exists((t=>!t.contains(e.container())&&t.contains(n.container()))))))))(r,t)},MA=(e,t,n)=>((e,t)=>{const n=L.from(e.getParent(t.startContainer,"details")),o=L.from(e.getParent(t.endContainer,"details"));if(n.isSome()||o.isSome()){const t=n.bind((t=>L.from(e.select("summary",t)[0])));return L.some({startSummary:t,startDetails:n,endDetails:o})}return L.none()})(e.dom,e.selection.getRng()).fold((()=>QA(e,t,n)),(o=>EA(e,o,t,n)||QA(e,t,n))),DA=(e,t,n)=>{const o=e.selection,i=o.getNode(),r=o.getRng(),s=fl.fromRangeStart(r);return!!ki(i)&&("selection"===n&&_A(r,i)||$O(t,s,i)?SA(i):e.undoManager.transact((()=>{const r=o.getSel();let{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c}=null!=r?r:{};const u=()=>{w(s)&&w(a)&&w(l)&&w(c)&&(null==r||r.setBaseAndExtent(s,a,l,c))},d=(e,t)=>{Y(e.childNodes,(e=>{Fh(e)&&t.appendChild(e)}))},h=e.dom.create("span",{"data-mce-bogus":"1"});d(i,h),i.appendChild(h),u(),"word"!==n&&"line"!==n||null==r||r.modify("extend",t?"right":"left",n),!o.isCollapsed()&&_A(o.getRng(),h)?SA(i):(e.execCommand(t?"ForwardDelete":"Delete"),s=null==r?void 0:r.anchorNode,a=null==r?void 0:r.anchorOffset,l=null==r?void 0:r.focusNode,c=null==r?void 0:r.focusOffset,d(h,i),u()),e.dom.remove(h)})),!0)},IA=(e,t,n)=>MA(e,t,n)||wA&&DA(e,t,n)?L.some(C):L.none(),RA=e=>(t,n,o={})=>{const i=t.getBody(),r={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:C,inputType:n},s=is(new InputEvent(e));return t.dispatch(e,{...s,...r,...o})},zA=RA("input"),NA=RA("beforeinput"),LA=_t(),jA=LA.os,VA=jA.isMacOS()||jA.isiOS(),BA=LA.browser.isFirefox(),ZA=(e,t)=>{let n=!1;e.on("keydown",(o=>{n=o.keyCode===Cp.BACKSPACE,o.isDefaultPrevented()||((e,t,n)=>{const o=n.keyCode===Cp.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),r=i?"character":"selection",s=e=>i?e?"word":"line":"selection";qT([{keyCode:Cp.BACKSPACE,action:YT(fT,e)},{keyCode:Cp.BACKSPACE,action:YT(uk,e,!1)},{keyCode:Cp.DELETE,action:YT(uk,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(J_,e,!1)},{keyCode:Cp.DELETE,action:YT(J_,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(ZC,e,t,!1)},{keyCode:Cp.DELETE,action:YT(ZC,e,t,!0)},{keyCode:Cp.BACKSPACE,action:YT(av,e,!1)},{keyCode:Cp.DELETE,action:YT(av,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(IA,e,!1,r)},{keyCode:Cp.DELETE,action:YT(IA,e,!0,r)},...VA?[{keyCode:Cp.BACKSPACE,altKey:!0,action:YT(IA,e,!1,s(!0))},{keyCode:Cp.DELETE,altKey:!0,action:YT(IA,e,!0,s(!0))},{keyCode:Cp.BACKSPACE,metaKey:!0,action:YT(IA,e,!1,s(!1))}]:[{keyCode:Cp.BACKSPACE,ctrlKey:!0,action:YT(IA,e,!1,s(!0))},{keyCode:Cp.DELETE,ctrlKey:!0,action:YT(IA,e,!0,s(!0))}],{keyCode:Cp.BACKSPACE,action:YT(gk,e,!1)},{keyCode:Cp.DELETE,action:YT(gk,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(rT,e,!1)},{keyCode:Cp.DELETE,action:YT(rT,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(U_,e,!1)},{keyCode:Cp.DELETE,action:YT(U_,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(B_,e,!1)},{keyCode:Cp.DELETE,action:YT(B_,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(tT,e,!1)},{keyCode:Cp.DELETE,action:YT(tT,e,!0)},{keyCode:Cp.BACKSPACE,action:YT(mk,e,!1)},{keyCode:Cp.DELETE,action:YT(mk,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault(),NA(e,o).isDefaultPrevented()||(t(),zA(e,o))}))})(e,t,o)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,n)=>{FT([{keyCode:Cp.BACKSPACE,action:YT(ck,e)},{keyCode:Cp.DELETE,action:YT(ck,e)},...VA?[{keyCode:Cp.BACKSPACE,altKey:!0,action:YT(oT,e)},{keyCode:Cp.DELETE,altKey:!0,action:YT(oT,e)},...n?[{keyCode:BA?224:91,action:YT(oT,e)}]:[]]:[{keyCode:Cp.BACKSPACE,ctrlKey:!0,action:YT(oT,e)},{keyCode:Cp.DELETE,ctrlKey:!0,action:YT(oT,e)}]],t)})(e,t,n),n=!1}))},XA=(e,t)=>{const n=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(ei(e)||ci(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(Uo),t.firstChild)}const i=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Xo(t,t);let n,r=t;for(;n=e.current();){if(ci(n)){i.setStart(n,0),i.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}r=n,n=e.next()}n||(i.setStart(r,0),i.setEnd(r,0))}else mi(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),wm(e,i)},WA=(e,t)=>{const n=e.getRoot();let o,i=t;for(;i!==n&&i&&"false"!==e.getContentEditable(i);){if("true"===e.getContentEditable(i)){o=i;break}i=i.parentNode}return i!==n?o:n},UA=e=>L.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),YA=e=>{e.innerHTML='<br data-mce-bogus="1">'},FA=(e,t)=>{if(pc(e).toLowerCase()===t.tagName.toLowerCase()){((e,t,n)=>{const o=e.dom;L.from(n.style).map(o.parseStyle).each((e=>{const n={...fo(yn.fromDom(t)),...e};o.setStyles(t,n)}));const i=L.from(n.class).map((e=>e.split(/\s+/))),r=L.from(t.className).map((e=>H(e.split(/\s+/),(e=>""!==e))));Nt(i,r,((e,n)=>{const i=H(n,(t=>!X(e,t))),r=[...e,...i];o.setAttrib(t,"class",r.join(" "))}));const s=["style","class"],a=we(n,((e,t)=>!X(s,t)));o.setAttribs(t,a)})(e,t,mc(e))}},qA=(e,t,n,o,i=!0,r,s)=>{const a=e.dom,l=e.schema,c=pc(e),u=n?n.nodeName.toUpperCase():"";let d=t;const h=l.getTextInlineElements();let f;f=r||"TABLE"===u||"HR"===u?a.create(r||c,s||{}):n.cloneNode(!1);let p=f;if(i){do{if(h[d.nodeName]){if(Oh(d)||Qh(d))continue;const e=d.cloneNode(!1);a.setAttrib(e,"id",""),f.hasChildNodes()?(e.appendChild(f.firstChild),f.appendChild(e)):(p=e,f.appendChild(e))}}while((d=d.parentNode)&&d!==o)}else a.setAttrib(f,"style",null),a.setAttrib(f,"class",null);return FA(e,f),YA(p),f},HA=(e,t,n)=>!t&&n.nodeName.toLowerCase()===pc(e)&&e.dom.isEmpty(n)&&((e,t,n)=>{let o=t;for(;o&&o!==e&&v(o.nextSibling);){const e=o.parentElement;if(!e||!n(e))return _i(e);o=e}return!1})(e.getBody(),n,(t=>Ce(e.schema.getTextBlockElements(),t.nodeName.toLowerCase()))),GA=(e,t,n)=>{var o,i,r;const s=t(pc(e)),a=((e,t)=>e.dom.getParent(t,_i))(e,n);a&&(e.dom.insertAfter(s,a),XA(e,s),(null!==(r=null===(i=null===(o=n.parentElement)||void 0===o?void 0:o.childNodes)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>1&&e.dom.remove(n))},KA=(e,t)=>{const n=null==e?void 0:e.parentNode;return w(n)&&n.nodeName===t},JA=e=>w(e)&&/^(OL|UL|LI)$/.test(e.nodeName),eQ=e=>w(e)&&/^(LI|DT|DD)$/.test(e.nodeName),tQ=e=>{const t=e.parentNode;return eQ(t)?t:e},nQ=(e,t,n)=>{let o=e[n?"firstChild":"lastChild"];for(;o&&!ei(o);)o=o[n?"nextSibling":"previousSibling"];return o===t},oQ=e=>K(Se(fo(yn.fromDom(e)),((e,t)=>`${t}: ${e};`)),((e,t)=>e+t),""),iQ=(e,t,n,o,i)=>{const r=e.dom,s=e.selection.getRng(),a=n.parentNode;if(n===e.getBody()||!a)return;var l;JA(l=n)&&JA(l.parentNode)&&(i="LI");const c=eQ(o)?oQ(o):void 0;let u=eQ(o)&&c?t(i,{style:oQ(o)}):t(i);if(nQ(n,o,!0)&&nQ(n,o,!1))if(KA(n,"LI")){const e=tQ(n);r.insertAfter(u,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?r.remove(e):r.remove(n)}else r.replace(u,n);else if(nQ(n,o,!0))KA(n,"LI")?(r.insertAfter(u,tQ(n)),u.appendChild(r.doc.createTextNode(" ")),u.appendChild(n)):a.insertBefore(u,n),r.remove(o);else if(nQ(n,o,!1))r.insertAfter(u,tQ(n)),r.remove(o);else{n=tQ(n);const e=s.cloneRange();e.setStartAfter(o),e.setEndAfter(n);const t=e.extractContents();if("LI"===i&&((e,t)=>e.firstChild&&e.firstChild.nodeName===t)(t,"LI")){const e=H(U(u.children,yn.fromDom),M(Jt("br")));u=t.firstChild,r.insertAfter(t,n),Y(e,(e=>Oo(yn.fromDom(u),e))),c&&u.setAttribute("style",c)}else r.insertAfter(t,n),r.insertAfter(u,n);r.remove(o)}XA(e,u)},rQ=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),sQ=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,aQ=(e,t)=>w(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),lQ=(e,t,n)=>ci(t)?e?1===n&&t.data.charAt(n-1)===ha?0:n:n===t.data.length-1&&t.data.charAt(n)===ha?t.data.length:n:n,cQ={insert:(e,t)=>{let n,o,i,r,s=!1;const a=e.dom,l=e.schema.getNonEmptyElements(),c=e.selection.getRng(),u=pc(e),d=yn.fromDom(c.startContainer),h=zn(d,c.startOffset),f=h.exists((e=>Ft(e)&&!no(e))),m=c.collapsed&&f,g=(t,o)=>qA(e,n,_,S,bc(e),t,o),O=e=>{const t=lQ(e,n,o);if(ci(n)&&(e?t>0:t<n.data.length))return!1;if((n.parentNode===_||n===_)&&s&&!e)return!0;if(e&&ei(n)&&n===_.firstChild)return!0;if(sQ(n,"TABLE")||sQ(n,"HR"))return((e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t)(n,"BR")?!e:s&&!e||!s&&e;const i=new Xo(n,_);let r;for(ci(n)&&(e&&0===t?i.prev():e||t!==n.data.length||i.next());r=i.current();){if(ei(r)){if(!r.getAttribute("data-mce-bogus")){const e=r.nodeName.toLowerCase();if(l[e]&&"br"!==e)return!1}}else if(ci(r)&&!qo(r.data))return!1;e?i.prev():i.next()}return!0},v=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&"HGROUP"!==k?g(u):g(),((e,t)=>{const n=yc(e);return!x(t)&&(p(n)?X(It.explode(n),t.nodeName.toLowerCase()):n)})(e,r)&&aQ(a,r)&&a.isEmpty(_,void 0,{includeZwsp:!0})?t=a.split(r,_):a.insertAfter(t,_),XA(e,t),t};Kp(a,c).each((e=>{c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)})),n=c.startContainer,o=c.startOffset;const b=!(!t||!t.shiftKey),y=!(!t||!t.ctrlKey);ei(n)&&n.hasChildNodes()&&!m&&(s=o>n.childNodes.length-1,n=n.childNodes[Math.min(o,n.childNodes.length-1)]||n,o=s&&ci(n)?n.data.length:0);const S=WA(a,n);if(!S||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;b||(n=((e,t,n,o,i)=>{var r,s;const a=e.dom,l=null!==(r=WA(a,o))&&void 0!==r?r:a.getRoot();let c=a.getParent(o,a.isBlock);if(!c||!aQ(a,c)){if(c=c||l,!c.hasChildNodes()){const o=a.create(t);return FA(e,o),c.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o}let r,u=o;for(;u&&u.parentNode!==c;)u=u.parentNode;for(;u&&!a.isBlock(u);)r=u,u=u.previousSibling;const d=null===(s=null==r?void 0:r.parentElement)||void 0===s?void 0:s.nodeName;if(r&&d&&e.schema.isValidChild(d,t.toLowerCase())){const s=r.parentNode,l=a.create(t);for(FA(e,l),s.insertBefore(l,r),u=r;u&&!a.isBlock(u);){const e=u.nextSibling;l.appendChild(u),u=e}n.setStart(o,i),n.setEnd(o,i)}}return o})(e,u,c,n,o));let _=a.getParent(n,a.isBlock)||a.getRoot();r=w(null==_?void 0:_.parentNode)?a.getParent(_.parentNode,a.isBlock):null,i=_?_.nodeName.toUpperCase():"";const k=r?r.nodeName.toUpperCase():"";if("LI"===k&&!y){_=r,r=r.parentNode,i=k}if(ei(r)&&HA(e,b,_))return GA(e,g,_);if(/^(LI|DT|DD)$/.test(i)&&ei(r)&&a.isEmpty(_))return void iQ(e,g,r,_,u);if(!(m||_!==e.getBody()&&aQ(a,_)))return;const C=_.parentNode;let T;if(m)T=g(u),h.fold((()=>{vo(d,yn.fromDom(T))}),(e=>{mo(e,yn.fromDom(T))})),e.selection.setCursorLocation(T,0);else if(Oa(_))T=ka(_),a.isEmpty(_)&&YA(_),FA(e,T),XA(e,T);else if(O(!1))T=v();else if(O(!0)&&C){const t=fl.fromRangeStart(c),n=bg(t),o=yn.fromDom(_),i=Ig(o,t,e.schema)?Rg(o,t,e.schema).bind((e=>L.from(e.getNode()))):L.none();T=C.insertBefore(g(),_);const r=sQ(_,"HR")||n?T:i.getOr(_);XA(e,r)}else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,lQ(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,lQ(!1,e.endContainer,e.endOffset)),t})(c).cloneRange();t.setEndAfter(_);const n=t.extractContents();(e=>{Y(Lo(yn.fromDom(e),Ht),(e=>{const t=e.dom;t.nodeValue=pa(t.data)}))})(n),(e=>{let t=e;do{ci(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),T=n.firstChild,a.insertAfter(n,_),((e,t,n)=>{var o;const i=[];if(!n)return;let r=n;for(;r=r.firstChild;){if(e.isBlock(r))return;ei(r)&&!t[r.nodeName.toLowerCase()]&&i.push(r)}let s=i.length;for(;s--;)r=i[s],(!r.hasChildNodes()||r.firstChild===r.lastChild&&""===(null===(o=r.firstChild)||void 0===o?void 0:o.nodeValue)||rQ(e,r))&&e.remove(r)})(a,l,T),((e,t)=>{t.normalize();const n=t.lastChild;(!n||ei(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(a,_),a.isEmpty(_)&&YA(_),T.normalize(),a.isEmpty(T)?(a.remove(T),v()):(FA(e,T),XA(e,T))}a.setAttrib(T,"id",""),e.dispatch("NewBlock",{newBlock:T})},fakeEventName:"insertParagraph"},uQ=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),wm(e,o)},dQ=(e,t)=>{const n=e.selection,o=e.dom,i=n.getRng();let r,s=!1;Kp(o,i).each((e=>{i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)}));let a=i.startOffset,l=i.startContainer;if(ei(l)&&l.hasChildNodes()){const e=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=e&&ci(l)?l.data.length:0}let c=o.getParent(l,o.isBlock);const u=c&&c.parentNode?o.getParent(c.parentNode,o.isBlock):null,d=u?u.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==d||h||(c=u),ci(l)&&a>=l.data.length&&(((e,t,n)=>{const o=new Xo(t,n);let i;const r=e.getNonEmptyElements();for(;i=o.next();)if(r[i.nodeName.toLowerCase()]||ci(i)&&i.length>0)return!0;return!1})(e.schema,l,c||o.getRoot())||(r=o.create("br"),i.insertNode(r),i.setStartAfter(r),i.setEndAfter(r),s=!0)),r=o.create("br"),ml(o,i,r),uQ(e,r,s),e.undoManager.add()},hQ=(e,t)=>{const n=yn.fromTag("br");mo(yn.fromDom(t),n),e.undoManager.add()},fQ=(e,t)=>{pQ(e.getBody(),t)||go(yn.fromDom(t),yn.fromTag("br"));const n=yn.fromTag("br");go(yn.fromDom(t),n),uQ(e,n.dom,!1),e.undoManager.add()},pQ=(e,t)=>{return n=fl.after(t),!!mi(n.getNode())||hh(e,fl.after(t)).map((e=>mi(e.getNode()))).getOr(!1);var n},mQ=e=>e&&"A"===e.nodeName&&"href"in e,gQ=e=>e.fold(z,mQ,mQ,z),OQ=(e,t)=>{t.fold(C,E(hQ,e),E(fQ,e),C)},vQ={insert:(e,t)=>{const n=(e=>{const t=E(gO,e),n=fl.fromRangeStart(e.selection.getRng());return zk(t,e.getBody(),n).filter(gQ)})(e);n.isSome()?n.each(E(OQ,e)):dQ(e,t)},fakeEventName:"insertLineBreak"},bQ=(e,t)=>UA(e).filter((e=>t.length>0&&wn(yn.fromDom(e),t))).isSome(),yQ=Ll([{br:[]},{block:[]},{none:[]}]),xQ=(e,t)=>(e=>bQ(e,vc(e)))(e),wQ=e=>(t,n)=>(e=>UA(e).filter((e=>ra(yn.fromDom(e)))).isSome())(t)===e,SQ=(e,t)=>(n,o)=>{const i=(e=>UA(e).fold(P(""),(e=>e.nodeName.toUpperCase())))(n)===e.toUpperCase();return i===t},_Q=e=>{const t=WA(e.dom,e.selection.getStart());return x(t)},kQ=e=>SQ("pre",e),CQ=e=>(t,n)=>fc(t)===e,TQ=(e,t)=>(e=>bQ(e,Oc(e)))(e),$Q=(e,t)=>t,PQ=e=>{const t=pc(e),n=WA(e.dom,e.selection.getStart());return w(n)&&e.schema.isValidChild(n.nodeName,t)},AQ=e=>{const t=e.selection.getRng(),n=yn.fromDom(t.startContainer),o=zn(n,t.startOffset).map((e=>Ft(e)&&!no(e)));return t.collapsed&&o.getOr(!0)},QQ=(e,t)=>(n,o)=>K(e,((e,t)=>e&&t(n,o)),!0)?L.some(t):L.none(),EQ=(e,t,n)=>{if(!t.mode.isReadOnly()){if(t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),w(n)){if(NA(t,e.fakeEventName).isDefaultPrevented())return}e.insert(t,n),w(n)&&zA(t,e.fakeEventName)}},MQ=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>EQ(vQ,e,t),o=()=>EQ(cQ,e,t),i=((e,t)=>Tk([QQ([xQ],yQ.none()),QQ([kQ(!0),_Q],yQ.none()),QQ([SQ("summary",!0)],yQ.br()),QQ([kQ(!0),CQ(!1),$Q],yQ.br()),QQ([kQ(!0),CQ(!1)],yQ.block()),QQ([kQ(!0),CQ(!0),$Q],yQ.block()),QQ([kQ(!0),CQ(!0)],yQ.br()),QQ([wQ(!0),$Q],yQ.br()),QQ([wQ(!0)],yQ.block()),QQ([TQ],yQ.br()),QQ([$Q],yQ.br()),QQ([PQ],yQ.block()),QQ([AQ],yQ.block())],[e,!(!t||!t.shiftKey)]).getOr(yQ.none()))(e,t);switch(gc(e)){case"linebreak":i.fold(n,n,C);break;case"block":i.fold(o,o,C);break;case"invert":i.fold(o,n,C);break;default:i.fold(n,o,C)}},DQ=_t(),IQ=DQ.os.isiOS()&&DQ.browser.isSafari(),RQ=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((()=>{MQ(e,t)})))},zQ=e=>{let t=L.none();e.on("keydown",(n=>{n.keyCode===Cp.ENTER&&(IQ&&(e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(ci(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,o=t.data.charAt(e.startOffset-1);return n.test(o)}return!1})(e.selection.getRng())?(e=>{t=L.some(e.selection.getBookmark()),e.undoManager.add()})(e):RQ(e,n))})),e.on("keyup",(n=>{n.keyCode===Cp.ENTER&&t.each((()=>((e,n)=>{e.undoManager.undo(),t.fold(C,(t=>e.selection.moveToBookmark(t))),RQ(e,n),t=L.none()})(e,n)))}))},NQ=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Qt.os.isMacOS()||Qt.os.isiOS();FT([{keyCode:Cp.END,action:YT(RT,e,!0)},{keyCode:Cp.HOME,action:YT(RT,e,!1)},...o?[]:[{keyCode:Cp.HOME,action:YT(zT,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Cp.END,action:YT(zT,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Cp.END,action:YT(KT,e,!0)},{keyCode:Cp.HOME,action:YT(KT,e,!1)},{keyCode:Cp.END,action:YT(LC,e,!0,t)},{keyCode:Cp.HOME,action:YT(LC,e,!1,t)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))},LQ=e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=yn.fromDom(e.getBody());e.selection.isCollapsed()&&eO(t,fl.fromRangeStart(e.selection.getRng()),e.schema).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))},jQ=_t(),VQ=e=>e.stopImmediatePropagation(),BQ=e=>e.keyCode===Cp.PAGE_UP||e.keyCode===Cp.PAGE_DOWN,ZQ=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",VQ,!0):!n&&e.get()&&t.off("NodeChange",VQ),e.set(n)},XQ=(e,t)=>{if(jQ.os.isMacOS())return;const n=Ii(!1);e.on("keydown",(t=>{BQ(t)&&ZQ(n,e,!0)})),e.on("keyup",(o=>{o.isDefaultPrevented()||((e,t,n)=>{FT([{keyCode:Cp.PAGE_UP,action:YT(LC,e,!1,t)},{keyCode:Cp.PAGE_DOWN,action:YT(LC,e,!0,t)}],n)})(e,t,o),BQ(o)&&n.get()&&(ZQ(n,e,!1),e.nodeChanged())}))},WQ=(e,t)=>e===t||e.contains(t),UQ=e=>{e.on("beforeinput",(t=>{e.selection.isEditable()&&!W(t.getTargetRanges(),(t=>!((e,t)=>!WQ(e.getBody(),t.startContainer)||!WQ(e.getBody(),t.endContainer)||Sm(e.dom,t))(e,t)))||t.preventDefault()}))},YQ=(e,t)=>{const n=t.container(),o=t.offset();return ci(n)?(n.insertData(o,e),L.some(fl(n,o+e.length))):Xd(t).map((n=>{const o=yn.fromText(e);return t.isAtEnd()?go(n,o):mo(n,o),fl(o.dom,e.length)}))},FQ=E(YQ,Uo),qQ=E(YQ," "),HQ=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},GQ=e=>{const t=fl.fromRangeStart(e.selection.getRng()),n=yn.fromDom(e.getBody());if(e.selection.isCollapsed()){const o=E(gO,e),i=fl.fromRangeStart(e.selection.getRng());return zk(o,e.getBody(),i).bind((e=>t=>t.fold((t=>fh(e.dom,fl.before(t))),(e=>ph(e)),(e=>mh(e)),(t=>hh(e.dom,fl.after(t)))))(n)).map((o=>()=>((e,t,n)=>o=>Wg(e,o,n)?FQ(t):qQ(t))(n,t,e.schema)(o).each(HQ(e))))}return L.none()},KQ=e=>{return Lt(Qt.browser.isFirefox()&&e.selection.isEditable()&&(t=e.dom,n=e.selection.getRng().startContainer,t.isEditable(t.getParent(n,"summary"))),(()=>{const t=yn.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");((e,t,n)=>Wg(e,t,n)?FQ(t):qQ(t))(t,fl.fromRangeStart(e.selection.getRng()),e.schema).each(HQ(e))}));var t,n},JQ=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{qT([{keyCode:Cp.SPACEBAR,action:YT(GQ,e)},{keyCode:Cp.SPACEBAR,action:YT(KQ,e)}],t).each((n=>{t.preventDefault(),NA(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),zA(e,"insertText",{data:" "}))}))})(e,t)}))},eE=e=>Yu(e)?[{keyCode:Cp.TAB,action:YT(Q$,e,!0)},{keyCode:Cp.TAB,shiftKey:!0,action:YT(Q$,e,!1)}]:[],tE=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{FT([...eE(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))},nE=e=>{if(e.addShortcut("Meta+P","","mcePrint"),xA(e),jw(e))return Ii(null);{const t=RC(e);return UQ(e),(e=>{e.on("keyup compositionstart",E(PT,e))})(e),E$(e,t),ZA(e,t),zQ(e),JQ(e),LQ(e),tE(e),NQ(e,t),XQ(e,t),t}};class oE{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const o=e.selection.getRng(),i={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==n.type&&Wp(i,t)||e.dispatch("SelectionChange"),t=i})),e.on("contextmenu",(()=>{sp(e),e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Wh(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Wh(e)&&("IMG"===e.selection.getNode().nodeName?cp.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor,n=t.selection;let o;if(t.initialized&&n&&!lu(t)&&!td(t)){const i=t.getBody();o=n.getStart(!0)||i,o.ownerDocument===t.getDoc()&&t.dom.isChildOf(o,i)||(o=i);const r=[];t.dom.getParent(o,(e=>e===i||(r.push(e),!1))),t.dispatch("NodeChange",{...e,element:o,parents:r})}}isSameElementPath(e){let t;const n=this.editor,o=re(n.dom.getParents(e,N,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}const iE=Ws("image"),rE=Ws("event"),sE=e=>t=>{t[rE]=e},aE=sE(0),lE=sE(2),cE=sE(1),uE=(dE=0,e=>{const t=e;return L.from(t[rE]).exists((e=>e===dE))});var dE;const hE=Ws("mode"),fE=e=>t=>{t[hE]=e},pE=(e,t)=>fE(t)(e),mE=fE(0),gE=fE(2),OE=fE(1),vE=e=>t=>{const n=t;return L.from(n[hE]).exists((t=>t===e))},bE=vE(0),yE=vE(1),xE=["none","copy","link","move"],wE=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],SE=()=>{const e=new window.DataTransfer;let t="move",n="all";const o={get dropEffect(){return t},set dropEffect(e){X(xE,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){uE(o)&&X(wE,e)&&(n=e)},get items(){return((e,t)=>({...t,get length(){return t.length},add:(n,o)=>{if(bE(e)){if(!p(n))return t.add(n);if(!y(o))return t.add(n,o)}return null},remove:n=>{bE(e)&&t.remove(n)},clear:()=>{bE(e)&&t.clear()}}))(o,e.items)},get files(){return yE(o)?Object.freeze({length:0,item:e=>null}):e.files},get types(){return e.types},setDragImage:(t,n,i)=>{var r;bE(o)&&(r={image:t,x:n,y:i},o[iE]=r,e.setDragImage(t,n,i))},getData:t=>yE(o)?"":e.getData(t),setData:(t,n)=>{bE(o)&&e.setData(t,n)},clearData:t=>{bE(o)&&e.clearData(t)}};return mE(o),o},_E=e=>{const t=SE(),n=(e=>{const t=e;return L.from(t[hE])})(e);return gE(e),aE(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,(e=>{const t=e;return L.from(t[iE])})(e).each((e=>t.setDragImage(e.image,e.x,e.y))),Y(e.types,(n=>{"Files"!==n&&t.setData(n,e.getData(n))})),Y(e.files,(e=>t.items.add(e))),(e=>{const t=e;return L.from(t[rE])})(e).each((e=>{((e,t)=>{sE(t)(e)})(t,e)})),n.each((n=>{pE(e,n),pE(t,n)})),t},kE=(e,t)=>e.setData("text/html",t),CE="x-tinymce/html",TE=P(CE),$E="\x3c!-- "+CE+" --\x3e",PE=e=>$E+e,AE=e=>-1!==e.indexOf($E),QE=(e,t,n)=>{const o=e.split(/\n\n/),i=((e,t)=>{let n="<"+e;const o=Se(t,((e,t)=>t+'="'+Cr.encodeAllRaw(e)+'"'));return o.length&&(n+=" "+o.join(" ")),n+">"})(t,n),r="</"+t+">",s=U(o,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:U(s,(e=>i+e+r)).join("")},EE="%MCEPASTEBIN%",ME=e=>e.dom.get("mcepastebin"),DE=e=>w(e)&&"mcepastebin"===e.id,IE=e=>e===EE,RE=e=>{const t=Ii(null);return{create:()=>((e,t)=>{const{dom:n,selection:o}=e,i=e.getBody();t.set(o.getRng());const r=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},EE);Qt.browser.isFirefox()&&n.setStyle(r,"left","rtl"===n.getStyle(i,"direction",!0)?65535:-65535),n.bind(r,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),r.focus(),o.select(r,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(ME(e)){let o;const i=t.get();for(;o=ME(e);)n.remove(o),n.unbind(o);i&&e.selection.setRng(i)}t.set(null)})(e,t),getEl:()=>ME(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[o,...i]=H(e.getBody().childNodes,DE);Y(i,(e=>{n(o,e)}));const r=t.select("div[id=mcepastebin]",o);for(let e=r.length-1;e>=0;e--){const i=t.create("div");o.insertBefore(i,r[e]),n(i,r[e])}return o?o.innerHTML:""})(e),getLastRng:t.get}},zE=(e,t)=>(It.each(t,(t=>{e=f(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),NE=e=>e=zE(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?Uo:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),LE=(e,t)=>({content:e,cancelled:t}),jE=(e,t,n)=>{const o=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),i=((e,t)=>{const n=ew({sanitize:Xu(e),sandbox_iframes:Hu(e),sandbox_iframes_exclusions:Gu(e),convert_unsafe_embeds:Ku(e)},e.schema);n.addNodeFilter("meta",(e=>{It.each(e,(e=>{e.remove()}))}));const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Jm({validate:!0},e.schema).serialize(o)})(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?((e,t,n)=>{const o=e.dom.create("div",{style:"display:none"},t),i=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,o,n);return LE(i.node.innerHTML,i.isDefaultPrevented())})(e,i,n):LE(i,o.isDefaultPrevented())},VE=(e,t)=>(e.insertContent(t,{merge:Eu(e),paste:!0}),!0),BE=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),ZE=(e,t,n)=>!(e.selection.isCollapsed()||!BE(t))&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,n),XE=(e,t,n)=>!!((e,t)=>BE(t)&&W(Uu(e),(e=>Ue(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,n),WE=(e,t,n)=>{n||!Mu(e)?VE(e,t):((e,t)=>{It.each([ZE,XE,VE],(n=>!n(e,t,VE)))})(e,t)},UE=(e=>{let t=0;return()=>e+t++})("mceclip"),YE=e=>{const t=SE();return kE(t,e),gE(t),t},FE=(e,t,n,o,i)=>{const r=((e,t,n)=>jE(e,t,n))(e,t,n);if(!r.cancelled){const t=r.content,n=()=>WE(e,t,o);if(i){NA(e,"insertFromPaste",{dataTransfer:YE(t)}).isDefaultPrevented()||(n(),zA(e,"insertFromPaste"))}else n()}},qE=(e,t,n,o)=>{const i=n||AE(t);FE(e,(e=>e.replace($E,""))(t),i,!1,o)},HE=(e,t,n)=>{const o=e.dom.encode(t).replace(/\r\n/g,"\n"),i=Go(o,Iu(e)),r=QE(i,pc(e),mc(e));FE(e,r,!1,!0,n)},GE=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const o=e.types[n];try{t[o]=e.getData(o)}catch(e){t[o]=""}}return t},KE=(e,t)=>t in e&&e[t].length>0,JE=e=>KE(e,"text/html")||KE(e,"text/plain"),eM=(e,t,n,o)=>{const i=UE(),r=wc(e)&&w(n.name),s=r?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return w(n)?e.dom.encode(n[1]):void 0})(e,n.name):i,a=r?n.name:void 0,l=t.create(i,n,o,s,a);return t.add(l),l},tM=e=>{const t=Uu(e);return e=>We(e.type,"image/")&&W(t,(t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return It.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type))},nM=(e,t,n)=>{const o="paste"===t.type?t.clipboardData:t.dataTransfer;var i;if(Cu(e)&&o){const r=((e,t)=>{const n=t.items?oe(he(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],o=t.files?he(t.files):[];return H(n.length>0?n:o,tM(e))})(e,o);if(r.length>0)return t.preventDefault(),(i=r,Promise.all(U(i,(e=>my(e).then((t=>({file:e,uri:t}))))))).then((t=>{n&&e.selection.setRng(n),Y(t,(t=>{((e,t)=>{hy(t.uri).each((({data:n,type:o,base64Encoded:i})=>{const r=i?n:btoa(n),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(r,o),c=null!=l?l:eM(e,a,s,r);qE(e,`<img src="${c.blobUri()}">`,!1,!0)}))})(e,t)}))})),!0}return!1},oM=(e,t,n,o,i)=>{let r=NE(n);const s=KE(t,TE())||AE(n),a=!s&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(r),l=BE(r);(IE(r)||!r.length||a&&!l)&&(o=!0),(o||l)&&(r=KE(t,"text/plain")&&a?t["text/plain"]:(e=>{const t=Wr(),n=ew({},t);let o="";const i=t.getVoidElements(),r=It.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(i[n]&&(o+=" "),r[n])o+=" ";else{if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[n]&&l.next&&(o+="\n","p"===n&&(o+="\n"))}}else o+="\n"};return e=zE(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),o})(r)),IE(r)||(o?HE(e,r,i):qE(e,r,s,i))},iM=(e,t,n)=>{let o;e.on("keydown",(e=>{(e=>Cp.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)})),e.on("paste",(i=>{if(i.isDefaultPrevented()||(e=>{var t,n;return Qt.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(i))return;const r="text"===n.get()||o;o=!1;const s=GE(i.clipboardData);!JE(s)&&nM(e,i,t.getLastRng()||e.selection.getRng())||(KE(s,"text/html")?(i.preventDefault(),oM(e,s,s["text/html"],r,!0)):KE(s,"text/plain")&&KE(s,"text/uri-list")?(i.preventDefault(),oM(e,s,s["text/plain"],r,!0)):(t.create(),cp.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),oM(e,s,n,r,!1)}),0)))}))},rM=(e,t,n)=>{iM(e,t,n),(e=>{const t=e=>We(e,"webkit-fake-url"),n=e=>We(e,"data:");e.parser.addNodeFilter("img",((o,i,r)=>{if(!Cu(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(r))for(const i of o){const o=i.attr("src");p(o)&&!i.attr("data-mce-object")&&o!==Qt.transparentSrc&&(t(o)||!Ru(e)&&n(o))&&i.remove()}}))})(e)},sM=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),Jl(e,!1)):(t.set("text"),Jl(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&qE(e,n.html,n.internal,!1),n.text&&HE(e,n.text,!1)}))},aM=(e,t,n,o)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(TE(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},lM=e=>(t,n)=>{const{dom:o,selection:i}=e,r=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=o.create("div",{contenteditable:"true"},t);o.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(s),o.add(e.getBody(),r);const a=i.getRng();s.focus();const l=o.createRng();l.selectNodeContents(s),i.setRng(l),cp.setEditorTimeout(e,(()=>{i.setRng(a),o.remove(r),n()}),0)},cM=e=>({html:PE(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),uM=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),dM=e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&uM(e)&&e.selection.isEditable()&&aM(t,cM(e),lM(e),(()=>{if(Qt.browser.isChromium()||Qt.browser.isFirefox()){const t=e.selection.getRng();cp.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&uM(e)&&aM(t,cM(e),lM(e),C)})(e))},hM=(e,t)=>{var n,o;return tm.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},fM=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},pM=(e,t)=>{ku(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),Cu(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>W(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented())return;const o=hM(e,n);if(x(o))return;const i=GE(n.dataTransfer),r=KE(i,TE());if((!JE(i)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(i))&&nM(e,n,o))return;const s=i[TE()],a=s||i["text/html"]||i["text/plain"],l=((e,t,n,o)=>{const i=e.getParent(n,(e=>er(t,e)));if(!v(e.getParent(n,"summary")))return!0;if(i&&Ce(o,"text/html")){const e=(new DOMParser).parseFromString(o["text/html"],"text/html").body;return!v(e.querySelector(i.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,o.startContainer,i),c=t.get();c&&!l||a&&(n.preventDefault(),cp.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{(s||c&&l)&&e.execCommand("Delete"),fM(e,o);const t=NE(a);i["text/html"]?qE(e,t,r,!0):HE(e,t,!0)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{Cu(e)&&!t.get()&&(n.preventDefault(),fM(e,hM(e,n))),"dragend"===n.type&&t.set(!1)})),(e=>{e.on("input",(t=>{const n=e=>v(e.querySelector("summary"));if("deleteByDrag"===t.inputType){const t=H(e.dom.select("details"),n);Y(t,(t=>{mi(t.firstChild)&&t.firstChild.remove();const n=e.dom.create("summary");n.appendChild(ua().dom),t.prepend(n)}))}}))})(e)},mM=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,gM=e=>It.trim(e).replace(mM,es).toLowerCase(),OM=(e,t,n)=>{const o=Au(e);if(n||"all"===o||!Qu(e))return t;const i=o?o.split(/[, ]/):[];if(i&&"none"!==o){const n=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,r,s)=>{const a=n.parseStyle(n.decode(r)),l={};for(let e=0;e<i.length;e++){const t=a[i[e]];let r=t,s=n.getStyle(o,i[e],!0);/color/.test(i[e])&&(r=gM(r),s=gM(s)),s!==r&&(l[i[e]]=t)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,o)=>t+' style="'+n+'"'+o)),t},vM=e=>{const t=Ii(!1),n=Ii(Du(e)?"text":"html"),o=RE(e);(e=>{(Qt.browser.isChromium()||Qt.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))})(e,OM)})(e),sM(e,n),(e=>{const t=t=>n=>{t(e,n)},n=Tu(e);S(n)&&e.on("PastePreProcess",t(n));const o=$u(e);S(o)&&e.on("PastePostProcess",t(o))})(e),e.addQueryStateHandler("mceTogglePlainTextPaste",(()=>"text"===n.get())),e.on("PreInit",(()=>{dM(e),pM(e,t),rM(e,o,n)}))},bM=e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(t=>{const n=Fu(e);Y(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))})),e.serializer.addNodeFilter("details",(t=>{const n=qu(e);Y(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))}))})(e)},yM=mi,xM=ci,wM=e=>vi(e.dom),SM=e=>t=>_n(yn.fromDom(e),t),_M=(e,t,n)=>Hn(yn.fromDom(e),(e=>(e=>Oi(e.dom))(e)||n.isBlock(Wt(e))),SM(t)).getOr(yn.fromDom(t)).dom,kM=(e,t)=>Hn(yn.fromDom(e),wM,SM(t)),CM=(e,t,n)=>{const o=new Xo(e,t),i=n?o.next.bind(o):o.prev.bind(o);let r=e;for(let t=n?e:i();t&&!yM(t);t=i())Ua(t)&&(r=t);return r},TM=e=>{const t=((e,t,n)=>{const o=fl.fromRangeStart(e).getNode(),i=_M(o,t,n),r=CM(o,i,!1),s=CM(o,i,!0),a=document.createRange();return kM(r,i).fold((()=>{xM(r)?a.setStart(r,0):a.setStartBefore(r)}),(e=>a.setStartBefore(e.dom))),kM(s,i).fold((()=>{xM(s)?a.setEnd(s,s.data.length):a.setEndAfter(s)}),(e=>a.setEndAfter(e.dom))),a})(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(_v(t))};var $M;!function(e){e.Before="before",e.After="after"}($M||($M={}));const PM=(e,t)=>Math.abs(e.left-t),AM=(e,t)=>Math.abs(e.right-t),QM=(e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5},EM=(e,t)=>(e=>K(e,((e,t)=>e.fold((()=>L.some(t)),(e=>{const n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),i=Math.max(t.right,e.right),r=Math.max(t.bottom,e.bottom);return L.some({top:o,right:i,bottom:r,left:n,width:i-n,height:r-o})}))),L.none()))(H(e,(e=>{return(n=t)>=(o=e).top&&n<=o.bottom;var n,o}))).fold((()=>[[],e]),(t=>{const{pass:n,fail:o}=q(e,(e=>QM(e,t)));return[n,o]})),MM=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),DM=(e,t,n,o)=>{const i=e=>Ua(e.node)?L.some(e):ei(e.node)?DM(he(e.node.childNodes),t,n,!1):L.none(),r=(e,r)=>{const s=le(e,((e,o)=>r(e,t,n)-r(o,t,n)));return fe(s,i).map((e=>o&&!ci(e.node)&&s.length>1?((e,o,r)=>i(o).filter((o=>Math.abs(r(e,t,n)-r(o,t,n))<2&&ci(o.node))))(e,s[1],r).getOr(e):e))},[s,a]=EM(mC(e),n),{pass:l,fail:c}=q(a,(e=>e.top<n));return r(s,MM).orThunk((()=>r(c,Ma))).orThunk((()=>r(l,Ma)))},IM=(e,t,n)=>{const o=yn.fromDom(e),i=Tn(o),r=yn.fromPoint(i,t,n).filter((e=>kn(o,e))).getOr(o);return((e,t,n,o)=>{const i=(t,r)=>{const s=H(t.dom.childNodes,M((e=>ei(e)&&e.classList.contains("mce-drag-container"))));return r.fold((()=>DM(s,n,o,!0)),(e=>{const t=H(s,(t=>t!==e.dom));return DM(t,n,o,!0)})).orThunk((()=>(_n(t,e)?L.none():An(t)).bind((e=>i(e,L.some(t))))))};return i(t,L.none())})(o,r,t,n)},RM=(e,t,n)=>IM(e,t,n).filter((e=>bd(e.node))).map((e=>((e,t)=>({node:e.node,position:PM(e,t)<AM(e,t)?$M.Before:$M.After}))(e,t))),zM=e=>{var t,n;const o=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,s=i.defaultView;return{top:o.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-r.clientTop,left:o.left+(null!==(n=null==s?void 0:s.scrollX)&&void 0!==n?n:0)-r.clientLeft}},NM=(e,t)=>{return n=(e=>e.inline?zM(e.getBody()):{left:0,top:0})(e),o=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),i=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=zM(e.getContentAreaContainer()),o=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:i})(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:i.left-n.left+o.left,pageY:i.top-n.top+o.top};var n,o,i},LM=e=>({target:e,srcElement:e}),jM=(e,t,n,o)=>{const i=((e,t)=>{const n=_E(e);return"dragstart"===t?(aE(n),mE(n)):"drop"===t?(lE(n),gE(n)):(cE(n),OE(n)),n})(n,e);return y(o)?((e,t,n)=>{const o=D("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:C,stopImmediatePropagation:C,stopPropagation:C,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:n,...LM(t)}})(e,t,i):((e,t,n,o)=>({...t,dataTransfer:o,type:e,...LM(n)}))(e,o,t,i)},VM=vi,BM=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(VM,Oi),ZM=(e,t,n,o)=>{const i=e.dom,r=t.cloneNode(!0);i.setStyles(r,{width:n,height:o}),i.setAttrib(r,"data-mce-selected",null);const s=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),i.setStyles(r,{margin:0,boxSizing:"border-box"}),s.appendChild(r),s},XM=(e,t)=>n=>()=>{const o="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:o+t,behavior:"smooth"})},WM=XM("left",-32),UM=XM("left",32),YM=XM("top",-32),FM=XM("top",32),qM=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},HM=(e,t)=>n=>{if((e=>0===e.button)(n)){const o=ee(t.dom.getParents(n.target),BM).getOr(null);if(w(o)&&((e,t,n)=>VM(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),o)){const i=t.dom.getPos(o),r=t.getBody(),s=t.getDoc().documentElement;e.set({element:o,dataTransfer:SE(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?r.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:s.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:o.offsetWidth,height:o.offsetHeight,ghost:ZM(t,o,o.offsetWidth,o.offsetHeight),intervalId:Ri(100)})}}},GM=(e,t,n,o,i)=>{"dragstart"===t&&kE(o,e.dom.getOuterHTML(n));const r=jM(t,n,o,i);return e.dispatch(t,r)},KM=(e,t)=>{const n=Ps(((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),RM(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(o=>{const i=e._selectionOverrides.showCaret(1,o.node,o.position===$M.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)}))})(t,e,n)),0);t.on("remove",n.cancel);const o=e;return i=>e.on((e=>{const r=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(!e.dragging&&r>10){const n=GM(t,"dragstart",e.element,e.dataTransfer,i);if(w(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const r=i.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,NM(t,i));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,n,o,i,r,s,a,l,c,u,d)=>{let h=0,f=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(h=t.pageX+n-i),t.pageY+o>r&&(f=t.pageY+o-r),e.style.width=n-h+"px",e.style.height=o-f+"px";const p=l.clientHeight,m=l.clientWidth,g=s+l.getBoundingClientRect().top,O=a+l.getBoundingClientRect().left;u.on((e=>{e.intervalId.clear(),e.dragging&&d&&(s+8>=p?e.intervalId.set(FM(c)):s-8<=0?e.intervalId.set(YM(c)):a+8>=m?e.intervalId.set(UM(c)):a-8<=0?e.intervalId.set(WM(c)):g+16>=window.innerHeight?e.intervalId.set(FM(window)):g-16<=0?e.intervalId.set(YM(window)):O+16>=window.innerWidth?e.intervalId.set(UM(window)):O-16<=0&&e.intervalId.set(WM(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),o,r),n.throttle(i.clientX,i.clientY)}var s,a}))},JM=(e,t)=>n=>{e.on((e=>{var o;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!x(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(w(t)){const e=t.getRangeAt(0).startContainer;return ci(e)?e.parentNode:e}return null})(t.selection),e.element)){const i=null!==(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==o?o:t.getBody();GM(t,"drop",i,e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);qM(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&da(yn.fromDom(n))})(t.dom,e.element),(e=>{const t=e.getData("text/html");return""===t?L.none():L.some(t)})(e.dataTransfer).each((e=>t.insertContent(e))),t._selectionOverrides.hideFakeCaret()}))}GM(t,"dragend",t.getBody(),e.dataTransfer,n)}})),tD(e)},eD=(e,t,n)=>{e.on((e=>{e.intervalId.clear(),e.dragging&&n.fold((()=>GM(t,"dragend",e.element,e.dataTransfer)),(n=>GM(t,"dragend",e.element,e.dataTransfer,n)))})),tD(e)},tD=e=>{e.on((e=>{e.intervalId.clear(),qM(e.ghost)})),e.clear()},nD=e=>{const t=zi(),n=xs.DOM,o=document,i=HM(t,e),r=KM(t,e),s=JM(t,e),a=((e,t)=>n=>eD(e,t,L.some(n)))(t,e);e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",s),n.bind(o,"mousemove",r),n.bind(o,"mouseup",a),e.on("remove",(()=>{n.unbind(o,"mousemove",r),n.unbind(o,"mouseup",a)})),e.on("keydown",(n=>{n.keyCode===Cp.ESC&&eD(t,e,L.none())}))},oD=e=>{nD(e),pu(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(X(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&NS(e,"Dropped file type is not supported"))}},n=n=>{pp(e,n.target)&&t(n)},o=()=>{const o=xs.DOM,i=e.dom,r=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];Y(a,(e=>{o.bind(r,e,n),i.bind(s,e,t)})),e.on("remove",(()=>{Y(a,(e=>{o.unbind(r,e,n),i.unbind(s,e,t)}))}))};e.on("init",(()=>{cp.setEditorTimeout(e,o,0)}))})(e)},iD=vi,rD=(e,t)=>lv(e.getBody(),t),sD=e=>{const t=e.selection,n=e.dom,o=e.getBody(),i=gd(e,o,n.isBlock,(()=>wp(e))),r="sel-"+n.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==o&&(iD(e)||wi(e))&&n.isChildOf(e,o)&&n.isEditable(e.parentNode),c=(n,o,r,s=!0)=>e.dispatch("ShowCaret",{target:o,direction:n,before:r}).isDefaultPrevented()?null:(s&&t.scrollIntoView(o,-1===n),i.show(r,o)),u=()=>{e.on("click",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",g),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",(t=>{const n=t.target,o=rD(e,n);iD(o)?(t.preventDefault(),F_(e,o).each(m)):l(n)&&F_(e,n).each(m)}),!0),e.on("mousedown",(i=>{const r=i.target;if(r!==o&&"HTML"!==r.nodeName&&!n.isChildOf(r,o))return;if(!QS(e,i.clientX,i.clientY))return;g(),O();const s=rD(e,r);iD(s)?(i.preventDefault(),F_(e,s).each(m)):RM(o,i.clientX,i.clientY).each((n=>{i.preventDefault();(e=>{e&&t.setRng(e)})(c(1,n.node,n.position===$M.Before,!1)),ti(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Cp.modifierPressed(e)||iD(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=f(e.range);const t=m(e.range,e.forward);t&&(e.range=t)}));e.on("AfterSetSelectionRange",(e=>{const t=e.range,o=t.startContainer.parentElement;var i;h(t)||ei(i=o)&&"mcepastebin"===i.id||O(),(e=>w(e)&&n.hasClass(e,"mce-offscreen-selection"))(o)||g()})),oD(e),(e=>{const t=Ps((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=q_(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(wi(n)){const t=lv(e.getBody(),n),o=vi(t)?t:n;e.selection.getNode()!==o&&F_(e,o).each((t=>e.selection.setRng(t)))}}))}))})(e)},d=e=>ba(e)||Sa(e)||_a(e),h=e=>d(e.startContainer)||d(e.endContainer),f=t=>{const o=e.schema.getVoidElements(),i=n.createRng(),r=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return Ce(o,r.nodeName.toLowerCase())?0===s?i.setStartBefore(r):i.setStartAfter(r):i.setStart(r,s),Ce(o,a.nodeName.toLowerCase())?0===l?i.setEndBefore(a):i.setEndAfter(a):i.setEnd(a,l),i},p=o=>{const i=o.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:o,targetClone:i});if(l.isDefaultPrevented())return null;const c=((o,i)=>{const s=yn.fromDom(e.getBody()),a=e.getDoc(),l=eo(s,"#"+r).getOrThunk((()=>{const e=yn.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return tn(e,"id",r),vo(s,e),e})),c=n.createRng();xo(l),yo(l,[yn.fromText(Uo,a),yn.fromDom(i),yn.fromText(Uo,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),lo(l,{top:n.getPos(o,e.getBody()).y+"px"}),Wf(l);const u=t.getSel();return u&&(u.removeAllRanges(),u.addRange(c)),c})(o,l.targetClone),u=yn.fromDom(o);return Y(jo(yn.fromDom(e.getBody()),`*[${s}]`),(e=>{_n(u,e)||an(e,s)})),n.getAttrib(o,s)||o.setAttribute(s,"1"),a=o,O(),c},m=(e,t)=>{if(!e)return null;if(e.collapsed){if(!h(e)){const i=t?1:-1,r=Zd(i,o,e),s=r.getNode(!t);if(w(s)){if(bd(s))return c(i,s,!!t&&!r.isAtEnd(),!1);if(va(s)&&vi(s.nextSibling)){const e=n.createRng();return e.setStart(s,0),e.setEnd(s,0),e}}const a=r.getNode(t);if(w(a)){if(bd(a))return c(i,a,!t&&!r.isAtEnd(),!1);if(va(a)&&vi(a.previousSibling)){const e=n.createRng();return e.setStart(a,1),e.setEnd(a,1),e}}}return null}let i=e.startContainer,r=e.startOffset;const s=e.endOffset;if(ci(i)&&0===r&&iD(i.parentNode)&&(i=i.parentNode,r=n.nodeIndex(i),i=i.parentNode),!ei(i))return null;if(s===r+1&&i===e.endContainer){const e=i.childNodes[r];if(l(e))return p(e)}return null},g=()=>{a&&a.removeAttribute(s),eo(yn.fromDom(e.getBody()),"#"+r).each(wo),a=null},O=()=>{i.hide()};return jw(e)||u(),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(ka(e),t.scrollIntoView(e))},hideFakeCaret:O,destroy:()=>{i.destroy(),a=null}}},aD=(e,t)=>{let n=t;for(let t=e.previousSibling;ci(t);t=t.previousSibling)n+=t.data.length;return n},lD=(e,t,n,o,i)=>{if(ci(n)&&(o<0||o>n.data.length))return[];const r=i&&ci(n)?[aD(n,o)]:[o];let s=n;for(;s!==t&&s.parentNode;)r.push(e.nodeIndex(s,i)),s=s.parentNode;return s===t?r.reverse():[]},cD=(e,t,n,o,i,r,s=!1)=>({start:lD(e,t,n,o,s),end:lD(e,t,i,r,s)}),uD=(e,t)=>{const n=t.slice(),o=n.pop();if(_(o)){return K(n,((e,t)=>e.bind((e=>L.from(e.childNodes[t])))),L.some(e)).bind((e=>ci(e)&&(o<0||o>e.data.length)?L.none():L.some({node:e,offset:o})))}return L.none()},dD=(e,t)=>uD(e,t.start).bind((({node:n,offset:o})=>uD(e,t.end).map((({node:e,offset:t})=>{const i=document.createRange();return i.setStart(n,o),i.setEnd(e,t),i})))),hD=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t,ci(t.firstChild)&&qo(t.firstChild.data)),hD(e,o,n)}},fD=(e,t,n,o=!0)=>{const i=t.startContainer.parentNode,r=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(ci(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),ci(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),hD(e,i,n),i!==r&&hD(e,r,n))},pD=(e,t)=>L.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),mD=(e,t,n)=>{const o=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Zl(o).concat(e.blockPatterns),inlinePatterns:Xl(o).concat(e.inlinePatterns)}},gD=(e,t,n,o)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(n,o),i.toString()},OD=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),vD=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},bD=(e,t,n)=>{const o=dD(e.getRoot(),n).getOrDie("Unable to resolve path range"),i=o.startContainer,r=o.endContainer,s=0===o.endOffset?r:r.splitText(o.endOffset),a=0===o.startOffset?i:i.splitText(o.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(OD(e,t+"-end"),s),start:l.insertBefore(OD(e,t+"-start"),a)}},yD=(e,t,n)=>{hD(e,e.get(t.prefix+"-end"),n),hD(e,e.get(t.prefix+"-start"),n)},xD=e=>0===e.start.length,wD=(e,t,n,o)=>{const i=t.start;var r;return L$(e,o.container,o.offset,(r=i,(e,t)=>{const n=e.data.substring(0,t),o=n.lastIndexOf(r.charAt(r.length-1)),i=n.lastIndexOf(r);return-1!==i?i+r.length:-1!==o?o+1:-1}),n).bind((o=>{var r,s;const a=null!==(s=null===(r=n.textContent)||void 0===r?void 0:r.indexOf(i))&&void 0!==s?s:-1;if(-1!==a&&o.offset>=a+i.length){const t=e.createRng();return t.setStart(o.container,o.offset-i.length),t.setEnd(o.container,o.offset),L.some(t)}{const r=o.offset-i.length;return z$(o.container,r,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((e=>e.toString()===i)).orThunk((()=>wD(e,t,n,M$(o.container,0))))}}))},SD=(e,t,n,o)=>{const i=e.dom,r=i.getRoot(),s=n.pattern,a=n.position.container,l=n.position.offset;return z$(a,l-n.pattern.end.length,t).bind((c=>{const u=cD(i,r,c.container,c.offset,a,l,o);if(xD(s))return L.some({matches:[{pattern:s,startRng:u,endRng:u}],position:c});{const a=_D(e,n.remainingPatterns,c.container,c.offset,t,o),l=a.getOr({matches:[],position:c}),d=l.position,h=((e,t,n,o,i,r=!1)=>{if(0===t.start.length&&!r){const t=e.createRng();return t.setStart(n,o),t.setEnd(n,o),L.some(t)}return R$(n,o,i).bind((n=>wD(e,t,i,n).bind((e=>{var t;if(r){if(e.endContainer===n.container&&e.endOffset===n.offset)return L.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return L.none()}return L.some(e)}))))})(i,s,d.container,d.offset,t,a.isNone());return h.map((e=>{const t=((e,t,n,o=!1)=>cD(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,o))(i,r,e,o);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:u}]),position:M$(e.startContainer,e.startOffset)}}))}}))},_D=(e,t,n,o,i,r)=>{const s=e.dom;return R$(n,o,s.getRoot()).bind((a=>{const l=gD(s,i,n,o);for(let s=0;s<t.length;s++){const c=t[s];if(!Ue(l,c.end))continue;const u=t.slice();u.splice(s,1);const d=SD(e,i,{pattern:c,remainingPatterns:u,position:a},r);if(d.isNone()&&o>0)return _D(e,t,n,o-1,i,r);if(d.isSome())return d}return L.none()}))},kD=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?Y(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},CD=(e,t,n,o,i,r)=>{var s;return((e,t)=>{const n=ie(e,(e=>W(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t})(_D(e,i.inlinePatterns,n,o,t,r).fold((()=>[]),(e=>e.matches)),_D(e,(s=i.inlinePatterns,le(s,((e,t)=>t.end.length-e.end.length))),n,o,t,r).fold((()=>[]),(e=>e.matches)))},TD=(e,t)=>{if(0===t.length)return;const n=e.dom,o=e.selection.getBookmark(),i=((e,t)=>{const n=Ws("mce_textpattern"),o=G(t,((t,o)=>{const i=bD(e,n+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:i}])}),[]);return G(o,((t,i)=>{const r=o.length-t.length-1,s=xD(i.pattern)?i.endMarker:bD(e,n+`_start${r}`,i.startRng);return t.concat([{...i,startMarker:s}])}),[])})(n,t);Y(i,(t=>{const o=n.getParent(t.startMarker.start,n.isBlock),i=e=>e===o;xD(t.pattern)?((e,t,n,o)=>{const i=vD(e.dom,n);fD(e.dom,i,o),kD(e,t,i)})(e,t.pattern,t.endMarker,i):((e,t,n,o,i)=>{const r=e.dom,s=vD(r,o),a=vD(r,n);fD(r,a,i),fD(r,s,i);const l={prefix:n.prefix,start:n.end,end:o.start},c=vD(r,l);kD(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,i),yD(n,t.endMarker,i),yD(n,t.startMarker,i)})),e.selection.moveToBookmark(o)},$D=(e,t,n)=>((e,t,n)=>{if(ci(e)&&t>=e.length)return L.some(M$(e,t));{const o=Gs(D$);return L.from(o.forwards(e,t,I$(e),n)).map((e=>M$(e.container,0)))}})(t,0,t).map((o=>{const i=o.container;return N$(i,n.start.length,t).each((n=>{const o=e.createRng();o.setStart(i,0),o.setEnd(n.container,n.offset),fD(e,o,(e=>e===t))})),i})),PD=e=>(t,n)=>{const o=t.dom,i=n.pattern,r=dD(o.getRoot(),n.range).getOrDie("Unable to resolve path range");return pD(t,r).each((n=>{"block-format"===i.type?((e,t)=>{const n=t.get(e);return O(n)&&ue(n).exists((e=>Ce(e,"block")))})(i.format,t.formatter)&&t.undoManager.transact((()=>{e(t.dom,n,i),t.formatter.apply(i.format)})):"block-command"===i.type&&t.undoManager.transact((()=>{e(t.dom,n,i),t.execCommand(i.cmd,!1,i.value)}))})),!0},AD=e=>(t,n)=>{const o=(e=>le(e,((e,t)=>t.start.length-e.start.length)))(t),i=n.replace(Uo," ");return ee(o,(t=>e(t,n,i)))},QD=(e,t)=>(n,o,i,r,s)=>{var a;void 0===s&&(s=null!==(a=o.textContent)&&void 0!==a?a:"");const l=n.dom,c=pc(n);return l.is(o,c)?e(i.blockPatterns,s).map((e=>t&&It.trim(s).length===e.start.length?[]:[{pattern:e,range:cD(l,l.getRoot(),o,0,o,0,r)}])).getOr([]):[]},ED=PD(((e,t,n)=>{$D(e,t,n).each((e=>{const t=yn.fromDom(e),n=Js(t);/^\s[^\s]/.test(n)&&ea(t,n.slice(1))}))})),MD=AD(((e,t,n)=>0===t.indexOf(e.start)||0===n.indexOf(e.start))),DD=QD(MD,!0),ID=PD($D),RD=AD(((e,t,n)=>t===e.start||n===e.start)),zD=QD(RD,!1),ND=(e,t)=>((e,t)=>{const n=e.selection.getRng();return pD(e,n).map((o=>{var i;const r=Math.max(0,n.startOffset),s=mD(t,o,null!==(i=o.textContent)&&void 0!==i?i:"");return{inlineMatches:CD(e,o,n.startContainer,r,s,!0),blockMatches:DD(e,o,s,!0)}})).filter((({inlineMatches:e,blockMatches:t})=>t.length>0||e.length>0))})(e,t).fold(z,(({inlineMatches:t,blockMatches:n})=>(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{(e=>{e.insertContent(ha,{preserve_zwsp:!0})})(e),TD(e,t),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();Y(t,(t=>ED(e,t))),e.selection.moveToBookmark(n)})(e,n);const o=e.selection.getRng(),i=R$(o.startContainer,o.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),i.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===Wo&&(n.deleteData(t.offset-1,1),hD(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0))),LD=(e,t)=>((e,t)=>{const n=e.selection.getRng();return pD(e,n).map((o=>{const i=Math.max(0,n.startOffset),r=gD(e.dom,o,n.startContainer,i),s=mD(t,o,r);return zD(e,o,s,!1,r)})).filter((e=>e.length>0))})(e,t).fold(z,(t=>(e.undoManager.transact((()=>{((e,t)=>{Y(t,(t=>ID(e,t)))})(e,t)})),!0))),jD=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},VD=e=>{const t=[",",".",";",":","!","?"],n=[32],o=()=>{return t=zu(e).filter((t=>"inline-command"!==t.type&&"block-command"!==t.type||e.queryCommandSupported(t.cmd))),n=Nu(e),{inlinePatterns:Xl(t),blockPatterns:Zl(t),dynamicPatternsLookup:n};var t,n},i=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!Cp.modifierPressed(t)&&e.selection.isCollapsed()&&e.selection.isEditable()){const n=Wl(o(),"enter");(n.inlinePatterns.length>0||n.blockPatterns.length>0||i())&&ND(e,n)&&t.preventDefault()}}),!0),e.on("keydown",(t=>{if(32===t.keyCode&&e.selection.isCollapsed()&&e.selection.isEditable()){const n=Wl(o(),"space");(n.blockPatterns.length>0||i())&&LD(e,n)&&t.preventDefault()}}),!0);const r=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const t=Wl(o(),"space");(t.inlinePatterns.length>0||i())&&((e,t)=>{const n=e.selection.getRng();pD(e,n).map((o=>{const i=Math.max(0,n.startOffset-1),r=gD(e.dom,o,n.startContainer,i),s=mD(t,o,r),a=CD(e,o,n.startContainer,i,s,!1);a.length>0&&e.undoManager.transact((()=>{TD(e,a)}))}))})(e,t)}};e.on("keyup",(e=>{jD(n,e,((e,t)=>e===t.keyCode&&!Cp.modifierPressed(t)))&&r()})),e.on("keypress",(n=>{jD(t,n,((e,t)=>e.charCodeAt(0)===t.charCode))&&cp.setEditorTimeout(e,r)}))},BD=e=>{const t=It.each,n=Cp.BACKSPACE,o=Cp.DELETE,i=e.dom,r=e.selection,s=e.parser,a=Qt.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),u=Qt.deviceType.isiPhone()||Qt.deviceType.isiPad(),d=Qt.os.isMacOS()||Qt.os.isiOS(),h=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},f=e=>e.isDefaultPrevented(),p=()=>{const t=e=>{const t=i.create("body"),n=e.cloneContents();return t.appendChild(n),r.serializer.serialize(t,{format:"html"})};e.on("keydown",(r=>{const s=r.keyCode;if(!f(r)&&(s===o||s===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),o=e.getBody();if(n&&!Ei(e.schema,o))return;if(!n&&!(n=>{const o=t(n),r=i.createRng();return r.selectNode(e.getBody()),o===t(r)})(e.selection.getRng()))return;r.preventDefault(),e.setContent(""),o.firstChild&&i.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}}))},m=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},g=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=r.getRng(),e.getBody().focus(),"mousedown"===t.type){if(ba(n.startContainer))return;r.placeCaretAt(t.clientX,t.clientY)}else r.setRng(n)}))},O=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!f(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),cp.setEditorTimeout(e,(()=>{t.focus()}))}}))},v=()=>{const t=Ou(e);e.on("click",(n=>{const o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&i.isEditable(o)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&i.hasClass(o,t)&&0===o.childNodes.length&&i.isEditable(o.parentNode)&&(n.preventDefault(),r.select(o))}))},b=()=>{e.on("keydown",(e=>{if(!f(e)&&e.keyCode===n&&r.isCollapsed()&&0===r.getRng().startOffset){const t=r.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},y=()=>{const t=()=>{h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),Vc(e)||h("enableObjectResizing",!1)};cu(e)||e.on("BeforeExecCommand mousedown",t)},x=()=>{e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(i.select("a:not([data-mce-block])"),(e=>{var t;let n=e.parentNode;const o=i.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!i.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===o)return;n=n.parentNode}i.add(n,"br",{"data-mce-bogus":1})}}))}))},w=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},S=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},_=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},k=()=>{d&&e.on("keydown",(t=>{if(Cp.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},T=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},$=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},P=C,A=()=>{e.on("keydown",(t=>{if(f(t)||t.keyCode!==Cp.BACKSPACE)return;let n=r.getRng();const o=n.startContainer,s=n.startOffset,a=i.getRoot();let l=o;if(n.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=i.createRng(),n.setStart(o,0),n.setEnd(o,0),r.setRng(n))}})),p(),Qt.windowsPhone||e.on("keyup focusin mouseup",(t=>{Cp.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||r.normalize()}),!0),c&&(g(),v(),e.on("init",(()=>{h("DefaultParagraphSeparator",pc(e))})),$(),b(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),u?(S(),_(),T()):m()),l&&(e.on("keydown",(t=>{if(!f(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(r.isCollapsed()&&0===r.getRng().startOffset){const e=r.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return i.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(i.remove(n),t.preventDefault())}}})),O(),(()=>{const n=()=>{const n=i.getAttribs(r.getStart().cloneNode(!1));return()=>{const o=r.getStart();o!==e.getBody()&&(i.setAttrib(o,"style",null),t(n,(e=>{o.setAttributeNode(e.cloneNode(!0))})))}},o=()=>!r.isCollapsed()&&i.getParent(r.getStart(),i.isBlock)!==i.getParent(r.getEnd(),i.isBlock);e.on("keypress",(t=>{let i;return!(!(f(t)||8!==t.keyCode&&46!==t.keyCode)&&o()&&(i=n(),e.getDoc().execCommand("delete",!1),i(),t.preventDefault(),1))})),i.bind(e.getDoc(),"cut",(t=>{if(!f(t)&&o()){const t=n();cp.setEditorTimeout(e,(()=>{t()}))}}))})(),y(),x(),w(),k(),b())};return jw(e)?(c&&(g(),v(),$(),m(),u&&(S(),_(),T())),l&&(O(),y(),w(),k())):A(),{refreshContentEditable:P,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},ZD=xs.DOM,XD=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,WD=e=>we(e,(e=>!1===y(e))),UD=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return WD({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:XD(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Gu(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},YD=e=>{const t=e.options.get;return WD({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},FD=e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Wh(e)&&e.selection.getStart(!0)!==t||ph(t).each((t=>{const n=t.getNode(),o=si(n)?ph(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e),e.nodeChanged({initial:!0});const t=yu(e);S(t)&&t.call(e,e),(e=>{const t=wu(e);t&&cp.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)})(e),US(e)&&FS(e,!0)},qD=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,HD=e=>{const t=qD(e),n=Nc(e),o=e.contentCSS,i=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},r=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let t="";It.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,n)=>{const{pass:o,fail:i}=q(t,(e=>tinymce.Resource.has(JS(e)))),r=o.map((t=>{const n=tinymce.Resource.get(JS(t));return p(n)?Promise.resolve(qD(e).loadRawCss(t,n)):Promise.resolve()})),s=[...r,qD(e).loadAll(i)];return e.inline?s:s.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,o,n)).then(r).catch(r),a=zc(e);return a&&((e,t)=>{const n=yn.fromDom(e.getBody()),o=Zn(Bn(n)),i=yn.fromTag("style");tn(i,"type","text/css"),vo(i,yn.fromText(t)),vo(o,i),e.on("remove",(()=>{wo(i)}))})(e,a),s},GD=e=>{!0!==e.removed&&((e=>{jw(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),FD(e))},KD=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(ZD.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=cu(e),e._editableRoot=uu(e),!td(e)&&e.hasEditableRoot()&&(e.inline&&"static"===ZD.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=u_(e),e.schema=Wr(YD(e)),e.dom=xs(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Ac(e),referrerPolicy:Qc(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=ew(UD(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{const o=e.dom,i="data-mce-"+n;let r=t.length;for(;r--;){const s=t[r];let a=s.attr(n);if(a&&!s.attr(i)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===n?(a=o.serializeStyle(o.parseStyle(a),s.name),a.length||(a=null),s.attr(i,a),s.attr(n,a)):"tabindex"===n?(s.attr(i,a),s.attr(n,null)):s.attr(i,e.convertURL(a,n,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const n=e[t],o=n.attr("type")||"no/type";0!==o.indexOf("mce-")&&n.attr("type","mce-"+o)}})),Bu(e)&&t.addNodeFilter("#cdata",(t=>{var n;let o=t.length;for(;o--;){const i=t[o];i.type=8,i.name="#comment",i.value="[CDATA["+e.dom.encode(null!==(n=i.value)&&void 0!==n?n:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const o=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new Mm("br",1))}})),t})(e),e.serializer=iS((e=>{const t=e.options.get;return{...UD(e),...YD(e),...WD({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=Kw(e.dom,e.getWin(),e.serializer,e),e.annotator=Vf(e),e.formatter=w_(e),e.undoManager=__(e),e._nodeChangeDispatcher=new oE(e),e._selectionOverrides=sD(e),OT(e),bM(e),TT(e),jw(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),TM(e))}))})(e),(e=>{VD(e)})(e));const i=nE(e);mT(e,i),(e=>{e.on("NodeChange",(()=>wT(e)))})(e),P_(e),vM(e);const r=Vw(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),Su(e)||(t.body.spellcheck=!1,ZD.setAttrib(n,"spellcheck","false")),e.quirks=BD(e),(e=>{e.dispatch("PostRender")})(e);const o=Lc(e);void 0!==o&&(n.dir=o);const i=_u(e);i&&e.on("BeforeSetContent",(e=>{It.each(i,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),(e=>{const t=Ju(e);p(ed(e))||!y(t)&&"INVALID"!==(e=>(e=>"gpl"===e.toLowerCase())(e)||(e=>e.length>=64&&e.length<=255)(e)?"VALID":"INVALID")(t)||console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")})(e),r.fold((()=>{const t=(e=>{let t=!1;const n=setTimeout((()=>{t||e.setProgressState(!0)}),500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}})(e);HD(e).then((()=>{GD(e),t()}))}),(t=>{e.setProgressState(!0),HD(e).then((()=>{t().then((t=>{e.setProgressState(!1),GD(e),Xw(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),GD(e),Xw(e)}))}))}))},JD=N,eI=xs.DOM,tI=(e,t)=>{const n=Qt.browser.isFirefox()?vu(e):"Rich Text Area",o=e.translate(n),i=rn(yn.fromDom(e.getElement()),"tabindex").bind(Je),r=((e,t,n,o)=>{const i=yn.fromTag("iframe");return o.each((e=>tn(i,"tabindex",e))),nn(i,n),nn(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),pn(i,"tox-edit-area__iframe"),i})(e.id,o,ac(e),i).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=(e=>{let t=lc(e)+"<html><head>";cc(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=uc(e),o=dc(e),i=e.translate(vu(e));return hc(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+hc(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t})(e),eI.add(t.iframeContainer,r)},nI=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,KD(e)};if(Wu(e)||Qt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{const i=(o=yn.fromDom(t),$o(o,"load",JD,(()=>{i.unbind(),n()})));t.srcdoc=e.iframeHTML}var o},oI=xs.DOM,iI=(e,t,n)=>{const o=DS.get(n),i=DS.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=It.trim(n),o&&-1===It.inArray(t,n)){if(e.plugins[n])return;try{const r=o(e,i)||{};e.plugins[n]=r,S(r.init)&&(r.init(e,i),t.push(n))}catch(t){((e,t,n)=>{const o=Ts.translate(["Failed to initialize plugin: {0}",t]);Yl(e,"PluginLoadError",{message:o}),VS(o,n),NS(e,o)})(e,n,t)}}},rI=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),sI=e=>{const t=e.getElement();return e.inline?rI(null):(e=>{const t=oI.create("div");return oI.insertAfter(t,e),rI(t,t)})(t)},aI=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(Uc(e))?(e=>{const t=e.theme.renderUI;return t?t():sI(e)})(e):S(Uc(e))?(e=>{const t=e.getElement(),n=Uc(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):sI(e)},lI=async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=It.trim(_c(e)),n=e.ui.registry.getAll().icons,o={...SS.get("default").icons,...SS.get(t).icons};Oe(o,((t,o)=>{Ce(n,o)||e.ui.registry.addIcon(o,t)}))})(e),(e=>{const t=Uc(e);if(p(t)){const n=IS.get(t);e.theme=n(e,IS.urls[t])||{},S(e.theme.init)&&e.theme.init(e,IS.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=Fc(e),n=_S.get(t);e.model=n(e,_S.urls[t])})(e),(e=>{const t=[];Y(hu(e),(n=>{iI(e,t,(e=>e.replace(/^\-/,""))(n))}))})(e);const t=await aI(e);((e,t)=>{const n={show:L.from(t.show).getOr(C),hide:L.from(t.hide).getOr(C),isEnabled:L.from(t.isEnabled).getOr(N),setEnabled:n=>{n&&("readonly"===e.mode.get()||US(e))||L.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}})(e,L.from(t.api).getOr({})),e.editorContainer=t.editorContainer,t_(e),e.inline?KD(e):((e,t)=>{tI(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=eI.isHidden(t.editorContainer)),e.getElement().style.display="none",eI.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,nI(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},cI=xs.DOM,uI=e=>"-"===e.charAt(0),dI=(e,t)=>{const n=Ec(t),o=Mc(t);if(!Ts.hasCode(n)&&"en"!==n){const i=Ge(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch((()=>{((e,t,n)=>{LS(e,"LanguageLoadError",jS("language",t,n))})(t,i,n)}))}},hI=(e,t)=>{const n=Uc(e);if(p(n)&&!uI(n)&&!Ce(IS.urls,n)){const o=Yc(e),i=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;IS.load(n,i).catch((()=>{((e,t,n)=>{LS(e,"ThemeLoadError",jS("theme",t,n))})(e,i,n)}))}},fI=(e,t)=>{const n=Fc(e);if("plugin"!==n&&!Ce(_S.urls,n)){const o=qc(e),i=p(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;_S.load(n,i).catch((()=>{((e,t,n)=>{LS(e,"ModelLoadError",jS("model",t,n))})(e,i,n)}))}},pI=(e,t,n)=>L.from(t).filter((e=>Ge(e)&&!SS.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:L.some(t)}))),mI=(e,t,n)=>{const o=pI(t,"default",n),i=(e=>L.from(kc(e)).filter(Ge).map((e=>({url:e,name:L.none()}))))(t).orThunk((()=>pI(t,_c(t),"")));Y((e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})([o,i]),(n=>{e.add(n.url).catch((()=>{((e,t,n)=>{LS(e,"IconsLoadError",jS("icons",t,n))})(t,n.url,n.name.getOrUndefined())}))}))},gI=(e,t)=>{const n=(t,n)=>{DS.load(t,n).catch((()=>{((e,t,n)=>{LS(e,"PluginLoadError",jS("plugin",t,n))})(e,n,t)}))};Oe(fu(e),((t,o)=>{n(o,t),e.options.set("plugins",hu(e).concat(o))})),Y(hu(e),(e=>{!(e=It.trim(e))||DS.urls[e]||uI(e)||n(e,`plugins/${e}/plugin${t}.js`)}))},OI=(e,t)=>{const n=Ss.ScriptLoader,o=()=>{!e.removed&&(e=>{const t=Uc(e);return!p(t)||w(IS.get(t))})(e)&&(e=>{const t=Fc(e);return w(_S.get(t))})(e)&&lI(e)};hI(e,t),fI(e,t),dI(n,e),mI(n,e,t),gI(e,t),n.loadQueue().then(o,o)},vI=e=>{const t=e.id;Ts.setCode(Ec(e));const n=()=>{cI.unbind(window,"ready",n),e.render()};if(!ds.Event.domLoaded)return void cI.bind(window,"ready",n);if(!e.getElement())return;const o=yn.fromDom(e.getElement()),i=ln(o);e.on("remove",(()=>{F(o.dom.attributes,(e=>an(o,e.name))),nn(o,i)})),e.ui.styleSheetLoader=((e,t)=>lr.forElement(e,{contentCssCors:du(t),referrerPolicy:Qc(t)}))(o,e),nu(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const r=e.getElement().form||cI.getParent(t,"form");r&&(e.formElement=r,ou(e)&&!li(e.getElement())&&(cI.insertAfter(cI.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},cI.bind(r,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!iu(e)||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)))),e.windowManager=RS(e),e.notificationManager=MS(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=cI.encode(e.content))})),ru(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),su(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),OI(e,e.suffix)},bI=_t().deviceType,yI=bI.isPhone(),xI=bI.isTablet(),wI=e=>{if(x(e))return[];{const t=O(e)?e:e.split(/[ ,]/),n=U(t,Fe);return H(n,Ge)}},SI=(e,t)=>{const n=((e,t)=>{const n={},o={};return xe(e,t,ye(n),ye(o)),{t:n,f:o}})(t,((t,n)=>X(e,n)));return o=n.t,i=n.f,{sections:P(o),options:P(i)};var o,i},_I=(e,t)=>Ce(e.sections(),t),kI=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:ke(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),CI=(e,t)=>{var n;const o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?It.extend({},e.external_plugins,o):o},TI=(e,t,n,o)=>{const i=wI(n.forced_plugins),r=wI(o.plugins),s=((e,t)=>_I(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t,n,o)=>e&&_I(t,"mobile")?o:n)(e,t,r,s.plugins?wI(s.plugins):r),l=((e,t)=>[...wI(e),...wI(t)])(i,a);return It.extend(o,{forced_plugins:i,plugins:l})},$I=(e,t,n,o,i)=>{var r;const s=e?{mobile:kI(null!==(r=i.mobile)&&void 0!==r?r:{},t)}:{},a=SI(["mobile"],dP(s,i)),l=It.extend(n,o,a.options(),((e,t)=>e&&_I(t,"mobile"))(e,a)?((e,t,n={})=>{const o=e.sections(),i=ke(o,t).getOr({});return It.extend({},n,i)})(a,"mobile"):{},{external_plugins:CI(o,a.options())});return TI(e,a,o,l)},PI=(e,t)=>((e,t)=>Zw(e).editor.addVisual(t))(e,t),AI=e=>{const t=t=>()=>{Y("left,center,right,justify".split(","),(n=>{t!==n&&e.formatter.remove("align"+n)})),"none"!==t&&((t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})},QI=e=>{AI(e),(e=>{const t=t=>()=>{const n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return W(o,(n=>w(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)},EI=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?((e,t,n,o)=>{const i=yn.fromDom(e.getRoot());return n=Ug(i,fl.fromRangeStart(t),o)?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),Yg(i,fl.fromRangeEnd(t),o)?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(o,n.getRng(),t,e.schema):t},MI=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:o}=(e=>{if("string"!=typeof e){const t=It.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);rw(e,{...o,content:EI(e,n),format:"html",set:!1,selection:!0}).each((t=>{const n=((e,t,n)=>Bw(e).editor.insertContent(t,n))(e,t.content,o);sw(e,n,t),e.addVisual()}))}},DI={"font-size":"size","font-family":"face"},II=Jt("font"),RI=(e,t,n)=>Xv(yn.fromDom(n),(t=>(t=>ho(t,e).orThunk((()=>II(t)?ke(DI,e).bind((e=>rn(t,e))):L.none())))(t)),(e=>_n(yn.fromDom(t),e))),zI=e=>(t,n)=>L.from(n).map(yn.fromDom).filter(qt).bind((n=>RI(e,t,n.dom).or(((e,t)=>L.from(xs.DOM.getStyle(t,e,!0)))(e,n.dom)))).getOr(""),NI=zI("font-size"),LI=T((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),zI("font-family")),jI=e=>ph(e.getBody()).bind((e=>{const t=e.container();return L.from(ci(t)?t.parentNode:t)})),VI=(e,t)=>(e=>L.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?L.none():L.from(e.selection.getStart(!0))})))(e).orThunk(E(jI,e)).map(yn.fromDom).filter(qt).bind(t),BI=(e,t)=>VI(e,$(L.some,t)),ZI=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=(e=>It.explode(e.options.get("font_size_style_values")))(e),i=(e=>It.explode(e.options.get("font_size_classes")))(e);return i.length>0?i[n-1]||t:o[n-1]||t}return t}return t},XI=e=>{const t=e.split(/\s*,\s*/);return U(t,(e=>-1===e.indexOf(" ")||We(e,'"')||We(e,"'")?e:`'${e}'`)).join(",")},WI=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,o)=>{t(e,{value:o})},BackColor:(e,n,o)=>{t("hilitecolor",{value:o})},FontName:(t,n,o)=>{((e,t)=>{const n=ZI(e,t);e.formatter.toggle("fontname",{value:XI(n)}),e.nodeChanged()})(e,o)},FontSize:(t,n,o)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:ZI(e,t)}),e.nodeChanged()})(e,o)},LineHeight:(t,n,o)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,o)},Lang:(e,n,o)=>{var i;t(e,{value:o.code,customValue:null!==(i=o.customCode)&&void 0!==i?i:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,o)=>{t(p(o)?o:"p")},mceToggleFormat:(e,n,o)=>{t(o)}})},UI=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>BI(e,(t=>LI(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>BI(e,(t=>NI(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>BI(e,(t=>{const n=yn.fromDom(e.getBody()),o=Xv(t,(e=>ho(e,"line-height")),E(_n,n));return o.getOrThunk((()=>{const e=parseFloat(co(t,"line-height")),n=parseFloat(co(t,"font-size"));return String(e/n)}))})).getOr(""))(e)))},YI=e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{dT(e,"indent")})(e)},Outdent:()=>{hT(e)}}),e.editorCommands.addCommands({Outdent:()=>lT(e)},"state")},FI=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,o=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),r=t?o.startContainer:o.endContainer,s=WA(n,r);if(!s||!s.isContentEditable)return;const a=t?mo:go,l=pc(e);((e,t,n,o)=>{const i=e.dom,r=e=>i.isBlock(e)&&e.parentElement===n,s=r(t)?t:i.getParent(o,r,n);return L.from(s).map(yn.fromDom)})(e,i,s,r).each((t=>{const n=qA(e,r,t.dom,s,!1,l);a(t,yn.fromDom(n)),e.selection.setCursorLocation(n,0),e.dispatch("NewBlock",{newBlock:n}),zA(e,"insertParagraph")}))},qI=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{(e=>{FI(e,!0)})(e)},InsertNewBlockAfter:()=>{(e=>{FI(e,!1)})(e)}})},HI=e=>{QI(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch(e){o=!0}if("paste"!==t||n.queryCommandEnabled(t)||(o=!0),o||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Qt.os.isMacOS()||Qt.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let i=0;e.dom.getParent(e.selection.getNode(),(t=>!ei(t)||i++!==o||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Oi);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{MI(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,o)=>{MI(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{MI(e,o)},mceInsertContent:(t,n,o)=>{MI(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Pu(e))}})})(e),(e=>{const t=(t,n,o)=>{if(e.mode.isReadOnly())return;const i=p(o)?{href:o}:o,r=e.dom.getParent(e.selection.getNode(),"a");m(i)&&p(i.href)&&(i.href=i.href.replace(/ /g,"%20"),r&&i.href||e.formatter.remove("link"),i.href&&e.formatter.apply("link",i,r))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})})(e),YI(e),qI(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{EQ(cQ,e)},mceInsertNewLine:(t,n,o)=>{MQ(e,o)},InsertLineBreak:(t,n,o)=>{EQ(vQ,e)}})})(e),(e=>{WI(e),UI(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const i=null!=o?o:e.selection.getNode();if(i!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{kp(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},GI=["toggleview"],KI=e=>X(GI,e.toLowerCase());class JI{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,o){const i=this.editor,r=e.toLowerCase(),s=null==o?void 0:o.skip_focus;if(i.removed)return!1;"mcefocus"!==r&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(r)||s?(e=>{ap(e).each((t=>e.selection.setRng(t)))})(i):i.focus());if(i.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const a=this.commands.exec[r];return!!S(a)&&(a(r,t,n),i.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!KI(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!S(n)&&n(t)}queryCommandValue(e){if(!KI(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return S(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;Oe(e,((e,o)=>{Y(o.toLowerCase().split(","),(o=>{n[t][o]=e}))}))}addCommand(e,t,n){const o=e.toLowerCase();this.commands.exec[o]=(e,o,i)=>t.call(null!=n?n:this.editor,o,i)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const eR=It.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class tR{static isNative(e){return!!eR[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||z}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),o=rs(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const i=this.bindings[n];if(i)for(let e=0,t=i.length;e<t;e++){const t=i[e];if(!t.removed){if(t.once&&this.off(n,t.func),o.isImmediatePropagationStopped())return o;if(!1===t.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(e,t,n,o){if(!1===t&&(t=z),t){const i={func:t,removed:!1};o&&It.extend(i,o);const r=e.toLowerCase().split(" ");let s=r.length;for(;s--;){const e=r[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[i,...t]:[...t,i],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let o=n.length;for(;o--;){const i=n[o];let r=this.bindings[i];if(!i)return Oe(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(r){if(t){const e=q(r,(e=>e.func===t));r=e.fail,this.bindings[i]=r,Y(e.pass,(e=>{e.removed=!0}))}else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}}else Oe(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const nR=e=>(e._eventDispatcher||(e._eventDispatcher=new tR({scope:e,toggleEvent:(t,n)=>{tR.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),oR={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&"remove"!==e&&"detach"!==e)return rs(e.toLowerCase(),null!=t?t:{},o);const i=nR(o).dispatch(e,t);if(!1!==n&&o.parent){let t=o.parent();for(;t&&!i.isPropagationStopped();)t.dispatch(e,i,!1),t=t.parent?t.parent():void 0}return i},on(e,t,n){return nR(this).on(e,t,n)},off(e,t){return nR(this).off(e,t)},once(e,t){return nR(this).once(e,t)},hasEventListeners(e){return nR(this).has(e)}},iR=xs.DOM;let rR;const sR=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Xc(e);return n?(e.eventRoot||(e.eventRoot=iR.select(n)[0]),e.eventRoot):e.getBody()},aR=(e,t,n)=>{(e=>!e.hidden&&!US(e))(e)?e.dispatch(t,n):US(e)&&GS(e,n)},lR=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=sR(e,t);if(Xc(e)){if(rR||(rR={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||rR&&(Oe(rR,((t,n)=>{e.dom.unbind(sR(e,n))})),rR=null)}))),rR[t])return;const o=n=>{const o=n.target,i=e.editorManager.get();let r=i.length;for(;r--;){const e=i[r].getBody();(e===o||iR.isChildOf(o,e))&&aR(i[r],t,n)}};rR[t]=o,iR.bind(n,t,o)}else{const o=n=>{aR(e,t,n)};iR.bind(n,t,o),e.delegates[t]=o}},cR={...oR,bindPendingEventDelegates(){const e=this;It.each(e._pendingNativeEvents,(t=>{lR(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?lR(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(sR(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Oe(e.delegates,((t,n)=>{e.dom.unbind(sR(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},uR=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:k(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},dR=(e,t)=>e+(Ke(t.message)?"":`. ${t.message}`),hR=e=>e.valid,fR=(e,t,n="")=>{const o=t(e);return b(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},pR=(e,t,n=t)=>{const o={},i={},r=(e,t,n)=>{const o=fR(t,n);return hR(o)?(i[e]=o.value,!0):(console.warn(dR(`Invalid value passed for the ${e} option`,o)),!1)},s=e=>Ce(o,e);return{register:(e,n)=>{const s=(e=>p(e.processor))(n)?(e=>{const t=(()=>{switch(e){case"array":return O;case"boolean":return b;case"function":return S;case"number":return _;case"object":return m;case"string":return p;case"string[]":return uR;case"object[]":return e=>k(e,m);case"regexp":return e=>f(e,RegExp);default:return N}})();return n=>fR(n,t,`The value must be a ${e}.`)})(n.processor):n.processor,a=((e,t,n)=>{if(!y(t)){const o=fR(t,n);if(hR(o))return o.value;console.error(dR(`Invalid default value passed for the "${e}" option`,o))}})(e,n.default,s);o[e]={...n,default:a,processor:s};ke(i,e).orThunk((()=>ke(t,e))).each((t=>r(e,t,s)))},isRegistered:s,get:e=>ke(i,e).orThunk((()=>ke(o,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(s(e)){const n=o[e];return n.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):r(e,t,n.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=s(e);return t&&delete i[e],t},isSet:e=>Ce(i,e),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,((e,t)=>b(t)||_(t)||p(t)||v(t)||O(t)||g(t)?t:Object.prototype.toString.call(t)))))}catch(e){console.error(e)}}}},mR=e=>e.readonly,gR=["design","readonly"],OR=(e,t,n,o)=>{const i=n[t.get()],r=n[o];try{r.activate()}catch(e){return void console.error(`problem while activating editor mode ${o}:`,e)}i.deactivate(),i.editorReadOnly!==r.editorReadOnly&&((e,t)=>{const n=yn.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&((e,t)=>{e.dom.contentEditable=t?"true":"false"})(n,!0),XS(e)):(e.readonly=!1,WS(e))})(e,r.editorReadOnly),t.set(o),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,o)},vR=e=>{const t=Ii("design"),n=Ii({design:{activate:C,deactivate:C,editorReadOnly:!1},readonly:{activate:C,deactivate:C,editorReadOnly:!0}});return(e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",(t=>{mR(e)&&t.preventDefault()})),e.on("BeforeExecCommand",(t=>{"Undo"!==t.command&&"Redo"!==t.command||!mR(e)||t.preventDefault()})),e.on("input",(t=>{if(!t.isComposing&&mR(e)){const t=e.undoManager.add();w(t)&&e.undoManager.undo()}})),e.on("compositionend",(()=>{if(mR(e)){const t=e.undoManager.add();w(t)&&e.undoManager.undo()}}))})(e),KS(e),{isReadOnly:()=>mR(e),set:o=>((e,t,n,o)=>{if(!(o===n.get()||e.initialized&&US(e))){if(!Ce(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?OR(e,n,t,o):e.on("init",(()=>OR(e,n,t,o)))}})(e,n.get(),t,o),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(X(gR,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}},bR=It.each,yR=It.explode,xR={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},wR=It.makeMap("alt,ctrl,shift,meta,access"),SR=e=>{const t={},n=Qt.os.isMacOS()||Qt.os.isiOS();bR(yR(e.toLowerCase(),"+"),(e=>{(e=>e in wR)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=xR[e]||e.toUpperCase().charCodeAt(0))}));const o=[t.keyCode];let i;for(i in wR)t[i]?o.push(i):t[i]=!1;return t.id=o.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class _R{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(bR(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,o){const i=this,r=i.normalizeCommandFunc(n);return bR(yR(It.trim(e)),(e=>{const n=i.createShortcut(e,t,r,o);i.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:It.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,o){const i=It.map(yR(e,">"),SR);return i[i.length-1]=It.extend(i[i.length-1],{func:n,scope:o||this.editor}),It.extend(i[0],{desc:this.editor.translate(t),subpatterns:i.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const kR=()=>{const e=(()=>{const e={},t={},n={},o={},i={},r={},s={},a={},l={},c=(e,t)=>(n,o)=>{e[n.toLowerCase()]={...o,type:t}};return{addButton:c(e,"button"),addGroupToolbarButton:c(e,"grouptoolbarbutton"),addToggleButton:c(e,"togglebutton"),addMenuButton:c(e,"menubutton"),addSplitButton:c(e,"splitbutton"),addMenuItem:c(t,"menuitem"),addNestedMenuItem:c(t,"nestedmenuitem"),addToggleMenuItem:c(t,"togglemenuitem"),addAutocompleter:c(n,"autocompleter"),addContextMenu:c(i,"contextmenu"),addContextToolbar:c(r,"contexttoolbar"),addContextForm:((e,t)=>(n,o)=>{e[n.toLowerCase()]={type:t,...o}})(r,"contextform"),addSidebar:c(a,"sidebar"),addView:c(l,"views"),addIcon:(e,t)=>o[e.toLowerCase()]=t,addContext:(e,t)=>s[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:i,contextToolbars:r,sidebars:a,views:l,contexts:s})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},CR=xs.DOM,TR=It.extend,$R=It.each;class PR{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,TR(this,cR);const o=this;this.id=e,this.hidden=!1;const i=((e,t)=>{const n=hP(t);return $I(yI||xI,yI,n,e,n)})(n.defaultOptions,t);this.options=pR(0,i,t),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:sc(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:sc(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&Ge(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=X(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>b(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||k(e,p);return t?p(e)?{value:U(e.split(","),Fe),valid:t}:O(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:nu(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||k(e,p);return t?{value:O(e)?e:U(e.split(","),Fe),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=b(e)||p(e);return t?!1===e||ec.isiPhone()||ec.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!tc}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||S(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:t=>b(t)?(e.initialized&&td(e)!==t&&Promise.resolve().then((()=>{((e,t)=>{e.dispatch("DisabledStateChange",{state:t})})(e,t)})),{valid:!0,value:t}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:e=>{const t=k(e,p);return t?{value:e,valid:t}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:rc}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:rc}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:rc}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:rc}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>k(e,m)||!1===e?{value:Ul(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:e=>{return S(e)?{value:(t=e,e=>{const n=t(e);return Ul(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>k(e,oc)?{value:e,valid:!0}:oc(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{const t=X(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{const t=X(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Ts.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:nc.getAttrib(e.getElement(),"placeholder")})}))})(o);const r=this.options.get;r("deprecation_warnings")&&vS(t,i);const s=r("suffix");s&&(n.suffix=s),this.suffix=n.suffix;const a=r("base_url");a&&n._setBaseUrl(a),this.baseUri=n.baseURI;const l=Qc(o);l&&(Ss.ScriptLoader._setReferrerPolicy(l),xs.DOM.styleSheetLoader._setReferrerPolicy(l));const c=du(o);w(c)&&xs.DOM.styleSheetLoader._setContentCssCors(c),$s.languageLoad=r("language_load"),$s.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new zx(cc(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=nu(o),this.hasVisual=mu(o),this.shortcuts=new _R(this),this.editorCommands=new JI(this),HI(this);const u=r("cache_suffix");u&&(Qt.cacheSuffix=u.replace(/^[\?\&]+/,"")),this.ui={registry:kR(),styleSheetLoader:void 0,show:C,hide:C,setEnabled:C,isEnabled:N},this.mode=vR(o),n.dispatch("SetupEditor",{editor:this});const d=bu(o);S(d)&&d.call(o,o)}render(){vI(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return wp(this)}translate(e){return Ts.translate(e)}getParam(e,t,n){const o=this.options;return o.isRegistered(e)||(w(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:N,default:t})),o.isSet(e)||y(t)?o.get(e):t}hasPlugin(e,t){return!!X(hu(this),e)&&(!t||void 0!==DS.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,o){this.shortcuts.add(e,t,n,o)}execCommand(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(CR.show(e.getContainer()),CR.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(CR.hide(e.getContainer()),CR.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const o={...e,load:!0},i=li(n)?n.value:n.innerHTML,r=t.setContent(i,o);return o.no_events||t.dispatch("LoadContent",{...o,element:n}),r}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const o={...e,save:!0,element:n};let i=t.getContent(o);const r={...o,content:i};if(r.no_events||t.dispatch("SaveContent",r),"raw"===r.format&&t.dispatch("RawSaveContent",r),i=r.content,li(n))n.value=i;else{!e.is_removing&&t.inline||(n.innerHTML=i);const o=CR.getParent(t.id,"form");o&&$R(o.elements,(e=>e.name!==t.id||(e.value=i,!1)))}return r.element=o.element=n=null,!1!==r.set_dirty&&t.setDirty(!1),i}setContent(e,t){return sS(this,e,t)}getContent(e){return rS(this,e)}insertContent(e,t){t&&(e=TR({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?sS(this,this.startContent,{format:"raw"}):sS(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||CR.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=CR.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const o=this,i=o.options.get,r=xu(o);if(S(r))return r.call(o,e,n,!0,t);if(!i("convert_urls")||"link"===n||m(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length)return e;const s=new zx(e);return"http"!==s.protocol&&"https"!==s.protocol&&""!==s.protocol?e:i("relative_urls")?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,i("remove_script_host"))}addVisual(e){PI(this,e)}setEditableRoot(e){((e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,US(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),((e,t)=>{e.dispatch("EditableRootStateChange",{state:t})})(e,t))})(this,e)}hasEditableRoot(){return this._editableRoot}remove(){xS(this)}destroy(e){wS(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const AR=xs.DOM,QR=It.each;let ER,MR=!1,DR=[];const IR=e=>{const t=e.type;QR(LR.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},RR=e=>{if(e!==MR){const t=xs.DOM;e?(t.bind(window,"resize",IR),t.bind(window,"scroll",IR)):(t.unbind(window,"resize",IR),t.unbind(window,"scroll",IR)),MR=e}},zR=e=>{const t=DR;return DR=H(DR,(t=>e!==t)),LR.activeEditor===e&&(LR.activeEditor=DR.length>0?DR[0]:null),LR.focusedEditor===e&&(LR.focusedEditor=null),t.length!==DR.length},NR="CSS1Compat"!==document.compatMode,LR={...oR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"8.0",releaseDate:"TBD",i18n:Ts,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",o=zx.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{const e=document.getElementsByTagName("script");for(let o=0;o<e.length;o++){const i=e[o].src||"";if(""===i)continue;const r=i.substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==r.indexOf(".min")&&(n=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var r;e.baseURL=new zx(o).toAbsolute(t),e.documentBaseURL=o,e.baseURI=new zx(e.baseURL),e.suffix=n,(r=e).on("AddEditor",E(gp,r)),r.on("RemoveEditor",E(Op,r))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;void 0!==o&&Oe(o,((e,t)=>{$s.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const o=It.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let i=e=>{n=e};const r=()=>{let n=0;const s=[];let a;AR.unbind(window,"ready",r),(n=>{const o=e[n];if(o)o.apply(t,[])})("onpageload"),a=pe((e=>Qt.browser.isIE()||Qt.browser.isEdge()?(VS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):NR?(VS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?AR.select(e.selector):w(e.target)?[e.target]:[])(e)),It.each(a,(e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(zR(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)})),a=It.grep(a,(e=>!t.get(e.id))),0===a.length?i([]):QR(a,(r=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in o)(e,r)?VS("Could not initialize inline editor on invalid inline target element",r):((e,o,r)=>{const l=new PR(e,o,t);s.push(l),l.on("init",(()=>{++n===a.length&&i(s)})),l.targetElm=l.targetElm||r,l.render()})((e=>{let t=e.id;return t||(t=ke(e,"name").filter((e=>!AR.get(e))).getOrThunk(AR.uniqueId),e.setAttribute("id",t)),t})(r),e,r)}))};return AR.bind(window,"ready",r),new Promise((e=>{n?e(n):i=t=>{e(t)}}))},get(e){return 0===arguments.length?DR.slice(0):p(e)?ee(DR,(t=>t.id===e)).getOr(null):_(e)&&DR[e]?DR[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&DR.push(e),RR(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),ER||(ER=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",ER))),e},createEditor(e,t){return this.add(new PR(e,t,this))},remove(e){const t=this;let n;if(e){if(!p(e))return n=e,v(t.get(n.id))?null:(zR(n)&&t.dispatch("RemoveEditor",{editor:n}),0===DR.length&&window.removeEventListener("beforeunload",ER),n.remove(),RR(DR.length>0),n);QR(AR.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let e=DR.length-1;e>=0;e--)t.remove(DR[e])},execCommand(e,t,n){var o;const i=this,r=m(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case"mceAddEditor":if(!i.get(r)){const e=n.options;new PR(r,e,i).render()}return!0;case"mceRemoveEditor":{const e=i.get(r);return e&&e.remove(),!0}case"mceToggleEditor":{const e=i.get(r);return e?(e.isHidden()?e.show():e.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return!!i.activeEditor&&i.activeEditor.execCommand(e,t,n)},triggerSave:()=>{QR(DR,(e=>{e.save()}))},addI18n:(e,t)=>{Ts.add(e,t)},translate:e=>Ts.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new zx(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new zx(this.baseURL)}};LR.setup();const jR=(()=>{const e=zi();return{FakeClipboardItem:e=>({items:e,types:me(e),getType:t=>ke(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),VR=Math.min,BR=Math.max,ZR=Math.round,XR=(e,t,n)=>{let o=t.x,i=t.y;const r=e.w,s=e.h,a=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(i+=l),"r"===c[1]&&(o+=a),"c"===c[0]&&(i+=ZR(l/2)),"c"===c[1]&&(o+=ZR(a/2)),"b"===c[3]&&(i-=s),"r"===c[4]&&(o-=r),"c"===c[3]&&(i-=ZR(s/2)),"c"===c[4]&&(o-=ZR(r/2)),WR(o,i,r,s)},WR=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),UR={inflate:(e,t,n)=>WR(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:XR,findBestRelativePosition:(e,t,n,o)=>{for(let i=0;i<o.length;i++){const r=XR(e,t,o[i]);if(r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return o[i]}return null},intersect:(e,t)=>{const n=BR(e.x,t.x),o=BR(e.y,t.y),i=VR(e.x+e.w,t.x+t.w),r=VR(e.y+e.h,t.y+t.h);return i-n<0||r-o<0?null:WR(n,o,i-n,r-o)},clamp:(e,t,n)=>{let o=e.x,i=e.y,r=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=BR(0,t.x-o),u=BR(0,t.y-i),d=BR(0,r-a),h=BR(0,s-l);return o+=c,i+=u,n&&(r+=c,s+=u,o-=d,i-=h),r-=d,s-=h,WR(o,i,r-o,s-i)},create:WR,fromClientRect:e=>WR(e.left,e.top,e.width,e.height)},YR=(()=>{const e={},t={},n={};return{load:(n,o)=>{const i=`Script at URL "${o}" failed to load`,r=`Script at URL "${o}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const s=new Promise(((e,s)=>{const a=((e,t,n=1e3)=>{let o=!1,i=null;const r=e=>(...t)=>{o||(o=!0,null!==i&&(window.clearTimeout(i),i=null),e.apply(null,t))},s=r(e),a=r(t);return{start:(...e)=>{o||null!==i||(i=window.setTimeout((()=>a.apply(null,e)),n))},resolve:s,reject:a}})(e,s);t[n]=a.resolve,Ss.ScriptLoader.loadScript(o).then((()=>a.start(r)),(()=>a.reject(i)))}));return e[n]=s,s}},add:(o,i)=>{void 0!==t[o]&&(t[o](i),delete t[o]),e[o]=Promise.resolve(i),n[o]=i},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t],delete n[t]}}})();let FR;try{const e="__storage_test__";FR=window.localStorage,FR.setItem(e,e),FR.removeItem(e)}catch(e){FR=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,o)=>{t.push(n),e[n]=String(o)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const qR={geom:{Rect:UR},util:{Delay:cp,Tools:It,VK:Cp,URI:zx,EventDispatcher:tR,Observable:oR,I18n:Ts,LocalStorage:FR,ImageUploader:e=>{const t=o_(),n=l_(e,t);return{upload:(t,o=!0)=>n.upload(t,o?a_(e):void 0)}}},dom:{EventUtils:ds,TreeWalker:Xo,TextSeeker:Gs,DOMUtils:xs,ScriptLoader:Ss,RangeUtils:tm,Serializer:iS,StyleSheetLoader:ar,ControlSelection:Qp,BookmarkManager:Bf,Selection:Kw,Event:ds.Event},html:{Styles:ts,Entities:Cr,Node:Mm,Schema:Wr,DomParser:ew,Writer:Km,Serializer:Jm},Env:Qt,AddOnManager:$s,Annotator:Vf,Formatter:w_,UndoManager:__,EditorCommands:JI,WindowManager:RS,NotificationManager:MS,EditorObservable:cR,Shortcuts:_R,Editor:PR,FocusManager:lp,EditorManager:LR,DOM:xs.DOM,ScriptLoader:Ss.ScriptLoader,PluginManager:DS,ThemeManager:IS,ModelManager:_S,IconManager:SS,Resource:YR,FakeClipboard:jR,trim:It.trim,isArray:It.isArray,is:It.is,toArray:It.toArray,makeMap:It.makeMap,each:It.each,map:It.map,grep:It.grep,inArray:It.inArray,extend:It.extend,walk:It.walk,resolve:It.resolve,explode:It.explode,_addCacheSuffix:It._addCacheSuffix},HR=It.extend(LR,qR);(e=>{window.tinymce=e,window.tinyMCE=e})(HR),(t=>{try{e.exports=t}catch(e){}})(HR)}()},5456:(e,t,n)=>{var o,i=n(8287).hp;self,o=function(e){return function(){var t={2777:function(e,t,n){var o,r,s,a,l,c,u,d,h,f,p,m,g,O,v,b,y,x,w,S,_,k,C=C||{version:"4.6.0"};if(t.fabric=C,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?C.document=document:C.document=document.implementation.createHTMLDocument(""),C.window=window;else{var T=new(n(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;C.document=T.document,C.jsdomImplForWrapper=n(6759).implForWrapper,C.nodeCanvas=n(6272).Canvas,C.window=T,DOMParser=C.window.DOMParser}function $(e,t){var n=e.canvas,o=t.targetCanvas,i=o.getContext("2d");i.translate(0,o.height),i.scale(1,-1);var r=n.height-o.height;i.drawImage(n,0,r,o.width,o.height,0,0,o.width,o.height)}function P(e,t){var n=t.targetCanvas.getContext("2d"),o=t.destinationWidth,i=t.destinationHeight,r=o*i*4,s=new Uint8Array(this.imageBuffer,0,r),a=new Uint8ClampedArray(this.imageBuffer,0,r);e.readPixels(0,0,o,i,e.RGBA,e.UNSIGNED_BYTE,s);var l=new ImageData(a,o,i);n.putImageData(l,0,0)}C.isTouchSupported="ontouchstart"in C.window||"ontouchstart"in C.document||C.window&&C.window.navigator&&C.window.navigator.maxTouchPoints>0,C.isLikelyNode=void 0!==i&&"undefined"==typeof window,C.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],C.DPI=96,C.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",C.commaWsp="(?:\\s+,?\\s*|,\\s*)",C.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,C.reNonWord=/[ \n\.,;!\?\-]/,C.fontPaths={},C.iMatrix=[1,0,0,1,0,0],C.svgNS="http://www.w3.org/2000/svg",C.perfLimitSizeTotal=2097152,C.maxCacheSideLimit=4096,C.minCacheSideLimit=256,C.charWidthsCache={},C.textureSize=2048,C.disableStyleCopyPaste=!1,C.enableGLFiltering=!0,C.devicePixelRatio=C.window.devicePixelRatio||C.window.webkitDevicePixelRatio||C.window.mozDevicePixelRatio||1,C.browserShadowBlurConstant=1,C.arcToSegmentsCache={},C.boundsOfCurveCache={},C.cachesBoundsOfCurve=!0,C.forceGLPutImageData=!1,C.initFilterBackend=function(){return C.enableGLFiltering&&C.isWebglSupported&&C.isWebglSupported(C.textureSize)?(console.log("max texture size: "+C.maxTextureSize),new C.WebglFilterBackend({tileSize:C.textureSize})):C.Canvas2dFilterBackend?new C.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=C),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:C.util.array.fill(n,!1)}}function t(e,t){var n=function(){t.apply(this,arguments),this.off(e,n)}.bind(this);this.on(e,n)}C.Observable={fire:function(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var o=0,i=n.length;o<i;o++)n[o]&&n[o].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this},on:function(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this},once:function(e,n){if(1===arguments.length)for(var o in e)t.call(this,o,e[o]);else t.call(this,e,n);return this},off:function(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"==typeof arguments[0])for(var o in t)e.call(this,o,t[o]);else e.call(this,t,n);return this}}}(),C.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var o=this._objects;return n?o[t]=e:o.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,o=0,i=arguments.length;o<i;o++)-1!==(e=t.indexOf(arguments[o]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[o]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),o=0,i=n.length;o<i;o++)e.call(t,n[o],o,n);return this},getObjects:function(e){return void 0===e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e,t){return this._objects.indexOf(e)>-1||!!t&&this._objects.some((function(t){return"function"==typeof t.contains&&t.contains(e,!0)}))},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},C.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof C.Gradient||this.set(t,new C.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof C.Pattern?n&&n():this.set(t,new C.Pattern(e,n))},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},o=t,r=Math.sqrt,s=Math.atan2,a=Math.pow,l=Math.PI/180,c=Math.PI/2,C.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/c){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/c){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*l},radiansToDegrees:function(e){return e/l},rotatePoint:function(e,t,n){var o=new C.Point(e.x-t.x,e.y-t.y),i=C.util.rotateVector(o,n);return new C.Point(i.x,i.y).addEquals(t)},rotateVector:function(e,t){var n=C.util.sin(t),o=C.util.cos(t);return{x:e.x*o-e.y*n,y:e.x*n+e.y*o}},transformPoint:function(e,t,n){return n?new C.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new C.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=C.util.transformPoint(e[n],t);var o=[e[0].x,e[1].x,e[2].x,e[3].x],i=C.util.array.min(o),r=C.util.array.max(o)-i,s=[e[0].y,e[1].y,e[2].y,e[3].y],a=C.util.array.min(s);return{left:i,top:a,width:r,height:C.util.array.max(s)-a}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],o=C.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-o.x,n[5]=-o.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),o=parseFloat(e);switch(t||(t=C.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return o*C.DPI/25.4;case"cm":return o*C.DPI/2.54;case"in":return o*C.DPI;case"pt":return o*C.DPI/72;case"pc":return o*C.DPI/72*12;case"em":return o*t;default:return o}},falseFunction:function(){return!1},getKlass:function(e,t){return e=C.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),C.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(e){if(!e)return C;var t,n=e.split("."),i=n.length,r=o||C.window;for(t=0;t<i;++t)r=r[n[t]];return r},loadImage:function(e,t,n,o){if(e){var i=C.util.createImage(),r=function(){t&&t.call(n,i,!1),i=i.onload=i.onerror=null};i.onload=r,i.onerror=function(){C.log("Error loading "+i.src),t&&t.call(n,null,!0),i=i.onload=i.onerror=null},0!==e.indexOf("data")&&null!=o&&(i.crossOrigin=o),"data:image/svg"===e.substring(0,14)&&(i.onload=null,C.util.loadImageInDom(i,r)),i.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=C.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),C.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,o){var i=[],r=0,s=(e=e||[]).length;function a(){++r===s&&t&&t(i.filter((function(e){return e})))}s?e.forEach((function(e,t){e&&e.type?C.util.getKlass(e.type,n).fromObject(e,(function(n,r){r||(i[t]=n),o&&o(e,n,r),a()})):a()})):t&&t(i)},enlivenPatterns:function(e,t){function n(){++i===r&&t&&t(o)}var o=[],i=0,r=(e=e||[]).length;r?e.forEach((function(e,t){e&&e.source?new C.Pattern(e,(function(e){o[t]=e,n()})):(o[t]=e,n())})):t&&t(o)},groupSVGElements:function(e,t,n){var o;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),o=new C.Group(e,t),void 0!==n&&(o.sourcePath=n),o)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var o=0,i=n.length;o<i;o++)n[o]in e&&(t[n[o]]=e[n[o]])},drawDashedLine:function(e,t,n,o,i,a){var l=o-t,c=i-n,u=r(l*l+c*c),d=s(c,l),h=a.length,f=0,p=!0;for(e.save(),e.translate(t,n),e.moveTo(0,0),e.rotate(d),t=0;u>t;)(t+=a[f++%h])>u&&(t=u),e[p?"lineTo":"moveTo"](t,0),p=!p;e.restore()},createCanvasElement:function(){return C.document.createElement("canvas")},copyCanvasElement:function(e){var t=C.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return C.document.createElement("img")},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var t=s(e[1],e[0]),n=a(e[0],2)+a(e[1],2),o=r(n),i=(e[0]*e[3]-e[2]*e[1])/o,c=s(e[0]*e[2]+e[1]*e[3],n);return{angle:t/l,scaleX:o,scaleY:i,skewX:c/l,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return C.iMatrix.concat();var t=C.util.degreesToRadians(e.angle),n=C.util.cos(t),o=C.util.sin(t);return[n,o,-o,n,0,0]},calcDimensionsMatrix:function(e){var t=void 0===e.scaleX?1:e.scaleX,n=void 0===e.scaleY?1:e.scaleY,o=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],i=C.util.multiplyTransformMatrices,r=C.util.degreesToRadians;return e.skewX&&(o=i(o,[1,0,Math.tan(r(e.skewX)),1],!0)),e.skewY&&(o=i(o,[1,Math.tan(r(e.skewY)),0,1],!0)),o},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=C.util.multiplyTransformMatrices;return e.angle&&(t=n(t,C.util.calcRotateMatrix(e))),(1!==e.scaleX||1!==e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,C.util.calcDimensionsMatrix(e))),t},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,t,n,o){o>0&&(t>o?t-=o:t=0,n>o?n-=o:n=0);var i,r=!0,s=e.getImageData(t,n,2*o||1,2*o||1),a=s.data.length;for(i=3;i<a&&0!=(r=s.data[i]<=0);i+=4);return s=null,r},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",o=e.split(" ");return o&&o.length&&("meet"!==(n=o.pop())&&"slice"!==n?(t=n,n="meet"):o.length&&(t=o.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?C.charWidthsCache[e]&&delete C.charWidthsCache[e]:C.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),o=Math.floor(t/n);return{x:Math.floor(n),y:o}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return C.util.toFixed(e,C.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(e,t){var n=C.util.invertTransform(t),o=C.util.multiplyTransformMatrices(n,e.calcOwnMatrix());C.util.applyTransformToObject(e,o)},addTransformToObject:function(e,t){C.util.applyTransformToObject(e,C.util.multiplyTransformMatrices(t,e.calcOwnMatrix()))},applyTransformToObject:function(e,t){var n=C.util.qrDecompose(t),o=new C.Point(n.translateX,n.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",n.scaleX),e.set("scaleY",n.scaleY),e.skewX=n.skewX,e.skewY=n.skewY,e.angle=n.angle,e.setPositionByOrigin(o,"center","center")},sizeAfterTransform:function(e,t,n){var o=e/2,i=t/2,r=[{x:-o,y:-i},{x:o,y:-i},{x:-o,y:i},{x:o,y:i}],s=C.util.calcDimensionsMatrix(n),a=C.util.makeBoundingBoxFromPoints(r,s);return{x:a.width,y:a.height}}},function(){var e=Array.prototype.join,t={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function o(e,t,n,o,i,r,s,a,l,c,u){var d=C.util.cos(e),h=C.util.sin(e),f=C.util.cos(t),p=C.util.sin(t),m=n*i*f-o*r*p+s,g=o*i*f+n*r*p+a;return["C",c+l*(-n*i*h-o*r*d),u+l*(-o*i*h+n*r*d),m+l*(n*i*p+o*r*f),g+l*(o*i*p-n*r*f),m,g]}function i(e,t,n,i,s,a,l){var c=Math.PI,u=l*c/180,d=C.util.sin(u),h=C.util.cos(u),f=0,p=0,m=-h*e*.5-d*t*.5,g=-h*t*.5+d*e*.5,O=(n=Math.abs(n))*n,v=(i=Math.abs(i))*i,b=g*g,y=m*m,x=O*v-O*b-v*y,w=0;if(x<0){var S=Math.sqrt(1-x/(O*v));n*=S,i*=S}else w=(s===a?-1:1)*Math.sqrt(x/(O*b+v*y));var _=w*n*g/i,k=-w*i*m/n,T=h*_-d*k+.5*e,$=d*_+h*k+.5*t,P=r(1,0,(m-_)/n,(g-k)/i),A=r((m-_)/n,(g-k)/i,(-m-_)/n,(-g-k)/i);0===a&&A>0?A-=2*c:1===a&&A<0&&(A+=2*c);for(var Q=Math.ceil(Math.abs(A/c*2)),E=[],M=A/Q,D=8/3*Math.sin(M/4)*Math.sin(M/4)/Math.sin(M/2),I=P+M,R=0;R<Q;R++)E[R]=o(P,I,h,d,n,i,T,$,D,f,p),f=E[R][5],p=E[R][6],P=I,I+=M;return E}function r(e,t,n,o){var i=Math.atan2(t,e),r=Math.atan2(o,n);return r>=i?r-i:2*Math.PI-(i-r)}function s(t,n,o,i,r,s,a,l){var c;if(C.cachesBoundsOfCurve&&(c=e.call(arguments),C.boundsOfCurveCache[c]))return C.boundsOfCurveCache[c];var u,d,h,f,p,m,g,O,v=Math.sqrt,b=Math.min,y=Math.max,x=Math.abs,w=[],S=[[],[]];d=6*t-12*o+6*r,u=-3*t+9*o-9*r+3*a,h=3*o-3*t;for(var _=0;_<2;++_)if(_>0&&(d=6*n-12*i+6*s,u=-3*n+9*i-9*s+3*l,h=3*i-3*n),x(u)<1e-12){if(x(d)<1e-12)continue;0<(f=-h/d)&&f<1&&w.push(f)}else(g=d*d-4*h*u)<0||(0<(p=(-d+(O=v(g)))/(2*u))&&p<1&&w.push(p),0<(m=(-d-O)/(2*u))&&m<1&&w.push(m));for(var k,T,$,P=w.length,A=P;P--;)k=($=1-(f=w[P]))*$*$*t+3*$*$*f*o+3*$*f*f*r+f*f*f*a,S[0][P]=k,T=$*$*$*n+3*$*$*f*i+3*$*f*f*s+f*f*f*l,S[1][P]=T;S[0][A]=t,S[1][A]=n,S[0][A+1]=a,S[1][A+1]=l;var Q=[{x:b.apply(null,S[0]),y:b.apply(null,S[1])},{x:y.apply(null,S[0]),y:y.apply(null,S[1])}];return C.cachesBoundsOfCurve&&(C.boundsOfCurveCache[c]=Q),Q}function a(e,t,n){for(var o=n[1],r=n[2],s=n[3],a=n[4],l=n[5],c=i(n[6]-e,n[7]-t,o,r,a,l,s),u=0,d=c.length;u<d;u++)c[u][1]+=e,c[u][2]+=t,c[u][3]+=e,c[u][4]+=t,c[u][5]+=e,c[u][6]+=t;return c}function l(e,t,n,o){return Math.sqrt((n-e)*(n-e)+(o-t)*(o-t))}function c(e,t,n,o,i,r,s,a){return function(l){var c,u=(c=l)*c*c,d=function(e){return 3*e*e*(1-e)}(l),h=function(e){return 3*e*(1-e)*(1-e)}(l),f=function(e){return(1-e)*(1-e)*(1-e)}(l);return{x:s*u+i*d+n*h+e*f,y:a*u+r*d+o*h+t*f}}}function u(e,t,n,o,i,r,s,a){return function(l){var c=1-l,u=3*c*c*(n-e)+6*c*l*(i-n)+3*l*l*(s-i),d=3*c*c*(o-t)+6*c*l*(r-o)+3*l*l*(a-r);return Math.atan2(d,u)}}function d(e,t,n,o,i,r){return function(s){var a,l=(a=s)*a,c=function(e){return 2*e*(1-e)}(s),u=function(e){return(1-e)*(1-e)}(s);return{x:i*l+n*c+e*u,y:r*l+o*c+t*u}}}function h(e,t,n,o,i,r){return function(s){var a=1-s,l=2*a*(n-e)+2*s*(i-n),c=2*a*(o-t)+2*s*(r-o);return Math.atan2(c,l)}}function f(e,t,n){var o,i,r={x:t,y:n},s=0;for(i=1;i<=100;i+=1)o=e(i/100),s+=l(r.x,r.y,o.x,o.y),r=o;return s}function p(e,t){for(var n,o,i,r=0,s=0,a=e.iterator,c={x:e.x,y:e.y},u=.01,d=e.angleFinder;s<t&&r<=1&&u>1e-4;)n=a(r),i=r,(o=l(c.x,c.y,n.x,n.y))+s>t?r-=u/=2:(c=n,r+=u,s+=o);return n.angle=d(i),n}function m(e){for(var t,n,o,i,r=0,s=e.length,a=0,p=0,m=0,g=0,O=[],v=0;v<s;v++){switch(o={x:a,y:p,command:(t=e[v])[0]},t[0]){case"M":o.length=0,m=a=t[1],g=p=t[2];break;case"L":o.length=l(a,p,t[1],t[2]),a=t[1],p=t[2];break;case"C":n=c(a,p,t[1],t[2],t[3],t[4],t[5],t[6]),i=u(a,p,t[1],t[2],t[3],t[4],t[5],t[6]),o.iterator=n,o.angleFinder=i,o.length=f(n,a,p),a=t[5],p=t[6];break;case"Q":n=d(a,p,t[1],t[2],t[3],t[4]),i=h(a,p,t[1],t[2],t[3],t[4]),o.iterator=n,o.angleFinder=i,o.length=f(n,a,p),a=t[3],p=t[4];break;case"Z":case"z":o.destX=m,o.destY=g,o.length=l(a,p,m,g),a=m,p=g}r+=o.length,O.push(o)}return O.push({length:r,x:a,y:p}),O}C.util.joinPath=function(e){return e.map((function(e){return e.join(" ")})).join(" ")},C.util.parsePath=function(e){var o,i,r,s,a,l=[],c=[],u=C.rePathCommand,d="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",h="("+d+")"+C.commaWsp,f="([01])"+C.commaWsp+"?",p=new RegExp(h+"?"+h+"?"+h+f+f+h+"?("+d+")","g");if(!e||!e.match)return l;for(var m,g=0,O=(a=e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;g<O;g++){s=(o=a[g]).slice(1).trim(),c.length=0;var v=o.charAt(0);if(m=[v],"a"===v.toLowerCase())for(var b;b=p.exec(s);)for(var y=1;y<b.length;y++)c.push(b[y]);else for(;r=u.exec(s);)c.push(r[0]);y=0;for(var x=c.length;y<x;y++)i=parseFloat(c[y]),isNaN(i)||m.push(i);var w=t[v.toLowerCase()],S=n[v]||v;if(m.length-1>w)for(var _=1,k=m.length;_<k;_+=w)l.push([v].concat(m.slice(_,_+w))),v=S;else l.push(m)}return l},C.util.makePathSimpler=function(e){var t,n,o,i,r,s,l=0,c=0,u=e.length,d=0,h=0,f=[];for(n=0;n<u;++n){switch(o=!1,(t=e[n].slice(0))[0]){case"l":t[0]="L",t[1]+=l,t[2]+=c;case"L":l=t[1],c=t[2];break;case"h":t[1]+=l;case"H":t[0]="L",t[2]=c,l=t[1];break;case"v":t[1]+=c;case"V":t[0]="L",c=t[1],t[1]=l,t[2]=c;break;case"m":t[0]="M",t[1]+=l,t[2]+=c;case"M":l=t[1],c=t[2],d=t[1],h=t[2];break;case"c":t[0]="C",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c,t[5]+=l,t[6]+=c;case"C":r=t[3],s=t[4],l=t[5],c=t[6];break;case"s":t[0]="S",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"S":"C"===i?(r=2*l-r,s=2*c-s):(r=l,s=c),l=t[3],c=t[4],t[0]="C",t[5]=t[3],t[6]=t[4],t[3]=t[1],t[4]=t[2],t[1]=r,t[2]=s,r=t[3],s=t[4];break;case"q":t[0]="Q",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"Q":r=t[1],s=t[2],l=t[3],c=t[4];break;case"t":t[0]="T",t[1]+=l,t[2]+=c;case"T":"Q"===i?(r=2*l-r,s=2*c-s):(r=l,s=c),t[0]="Q",l=t[1],c=t[2],t[1]=r,t[2]=s,t[3]=l,t[4]=c;break;case"a":t[0]="A",t[6]+=l,t[7]+=c;case"A":o=!0,f=f.concat(a(l,c,t)),l=t[6],c=t[7];break;case"z":case"Z":l=d,c=h}o||f.push(t),i=t[0]}return f},C.util.getSmoothPathFromPoints=function(e,t){var n,o=[],i=new C.Point(e[0].x,e[0].y),r=new C.Point(e[1].x,e[1].y),s=e.length,a=1,l=0,c=s>2;for(t=t||0,c&&(a=e[2].x<r.x?-1:e[2].x===r.x?0:1,l=e[2].y<r.y?-1:e[2].y===r.y?0:1),o.push(["M",i.x-a*t,i.y-l*t]),n=1;n<s;n++){if(!i.eq(r)){var u=i.midPointFrom(r);o.push(["Q",i.x,i.y,u.x,u.y])}i=e[n],n+1<e.length&&(r=e[n+1])}return c&&(a=i.x>e[n-2].x?1:i.x===e[n-2].x?0:-1,l=i.y>e[n-2].y?1:i.y===e[n-2].y?0:-1),o.push(["L",i.x+a*t,i.y+l*t]),o},C.util.getPathSegmentsInfo=m,C.util.getBoundsOfCurve=s,C.util.getPointOnPath=function(e,t,n){n||(n=m(e));for(var o=0;t-n[o].length>0&&o<n.length-2;)t-=n[o].length,o++;var i,r=n[o],s=t/r.length,a=r.command,l=e[o];switch(a){case"M":return{x:r.x,y:r.y,angle:0};case"Z":case"z":return(i=new C.Point(r.x,r.y).lerp(new C.Point(r.destX,r.destY),s)).angle=Math.atan2(r.destY-r.y,r.destX-r.x),i;case"L":return(i=new C.Point(r.x,r.y).lerp(new C.Point(l[1],l[2]),s)).angle=Math.atan2(l[2]-r.y,l[1]-r.x),i;case"C":case"Q":return p(r,t)}},C.util.transformPath=function(e,t,n){return n&&(t=C.util.multiplyTransformMatrices(t,[1,0,0,1,-n.x,-n.y])),e.map((function(e){for(var n=e.slice(0),o={},i=1;i<e.length-1;i+=2)o.x=e[i],o.y=e[i+1],o=C.util.transformPoint(o,t),n[i]=o.x,n[i+1]=o.y;return n}))},C.util.fromArcToBeizers=a,C.util.getBoundsOfArc=function(e,t,n,o,r,a,l,c,u){for(var d,h=0,f=0,p=[],m=i(c-e,u-t,n,o,a,l,r),g=0,O=m.length;g<O;g++)d=s(h,f,m[g][1],m[g][2],m[g][3],m[g][4],m[g][5],m[g][6]),p.push({x:d[0].x+e,y:d[0].y+t}),p.push({x:d[1].x+e,y:d[1].y+t}),h=m[g][5],f=m[g][6];return p},C.util.drawArc=function(e,t,n,o){a(t,n,o=o.slice(0).unshift("X")).forEach((function(t){e.bezierCurveTo.apply(e,t.slice(1))}))}}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var o=e.length-1,i=t?e[o][t]:e[o];if(t)for(;o--;)n(e[o][t],i)&&(i=e[o][t]);else for(;o--;)n(e[o],i)&&(i=e[o]);return i}}C.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var o=e.call(arguments,2),i=[],r=0,s=t.length;r<s;r++)i[r]=o.length?t[r][n].apply(t[r],o):t[r][n].call(t[r]);return i},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,o){if(o)if(!C.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var i=0,r=n.length;i<r;i++)t[i]=e({},n[i],o)}else if(n&&"object"==typeof n)for(var s in n)"canvas"===s||"group"===s?t[s]=null:n.hasOwnProperty(s)&&(t[s]=e({},n[s],o));else t=n;else for(var s in n)t[s]=n[s];return t}C.util.object={extend:e,clone:function(t,n){return e({},t,n)}},C.util.object.extend(C.util,C.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var o=e.charCodeAt(t+1);if(56320>o||o>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}C.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,o=0,i=[];for(o=0;o<t.length;o++)!1!==(n=e(t,o))&&i.push(n);return i}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),o=function(e,t,o){for(var i in t)i in e.prototype&&"function"==typeof e.prototype[i]&&(t[i]+"").indexOf("callSuper")>-1?e.prototype[i]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=o;var i=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return i}}(i):e.prototype[i]=t[i],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function i(){}function r(t){for(var n=null,o=this;o.constructor.superclass;){var i=o.constructor.superclass.prototype[t];if(o[t]!==i){n=i;break}o=o.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}C.util.createClass=function(){var n=null,s=e.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof s[0]&&(n=s.shift()),a.superclass=n,a.subclasses=[],n&&(i.prototype=n.prototype,a.prototype=new i,n.subclasses.push(a));for(var l=0,c=s.length;l<c;l++)o(a,s[l],n);return a.prototype.initialize||(a.prototype.initialize=t),a.prototype.constructor=a,a.prototype.callSuper=r,a}}(),u=!!C.document.createElement("div").attachEvent,d=["touchstart","touchmove","touchend"],C.util.addListener=function(e,t,n,o){e&&e.addEventListener(t,n,!u&&o)},C.util.removeListener=function(e,t,n,o){e&&e.removeEventListener(t,n,!u&&o)},C.util.getPointer=function(e){var t=e.target,n=C.util.getScrollLeftTop(t),o=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:o.clientX+n.left,y:o.clientY+n.top}},C.util.isTouchEvent=function(e){return d.indexOf(e.type)>-1||"touch"===e.pointerType},h=C.document.createElement("div"),f="string"==typeof h.style.opacity,p="string"==typeof h.style.filter,m=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,g=function(e){return e},f?g=function(e,t){return e.style.opacity=t,e}:p&&(g=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),m.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(m,t)):n.filter+=" alpha(opacity="+100*t+")",e}),C.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"==typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?g(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var o in t)"opacity"===o?g(e,t[o]):n["float"===o||"cssFloat"===o?void 0===n.styleFloat?"cssFloat":"styleFloat":o]=t[o];return e},function(){var e,t,n,o,i=Array.prototype.slice,r=function(e){return i.call(e,0)};try{e=r(C.document.childNodes)instanceof Array}catch(e){}function s(e,t){var n=C.document.createElement(e);for(var o in t)"class"===o?n.className=t[o]:"for"===o?n.htmlFor=t[o]:n.setAttribute(o,t[o]);return n}function a(e){for(var t=0,n=0,o=C.document.documentElement,i=C.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===C.document?(t=i.scrollLeft||o.scrollLeft||0,n=i.scrollTop||o.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}e||(r=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),t=C.document.defaultView&&C.document.defaultView.getComputedStyle?function(e,t){var n=C.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},n=C.document.documentElement.style,o="userSelect"in n?"userSelect":"MozUserSelect"in n?"MozUserSelect":"WebkitUserSelect"in n?"WebkitUserSelect":"KhtmlUserSelect"in n?"KhtmlUserSelect":"",C.util.makeElementUnselectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=C.util.falseFunction),o?e.style[o]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e},C.util.makeElementSelectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=null),o?e.style[o]="":"string"==typeof e.unselectable&&(e.unselectable=""),e},C.util.setImageSmoothing=function(e,t){e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=t},C.util.getById=function(e){return"string"==typeof e?C.document.getElementById(e):e},C.util.toArray=r,C.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},C.util.makeElement=s,C.util.wrapElement=function(e,t,n){return"string"==typeof t&&(t=s(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},C.util.getScrollLeftTop=a,C.util.getElementOffset=function(e){var n,o,i=e&&e.ownerDocument,r={left:0,top:0},s={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return s;for(var c in l)s[l[c]]+=parseInt(t(e,c),10)||0;return n=i.documentElement,void 0!==e.getBoundingClientRect&&(r=e.getBoundingClientRect()),o=a(e),{left:r.left+o.left-(n.clientLeft||0)+s.left,top:r.top+o.top-(n.clientTop||0)+s.top}},C.util.getNodeCanvas=function(e){var t=C.jsdomImplForWrapper(e);return t._canvas||t._image},C.util.cleanUpJsdomNode=function(e){if(C.isLikelyNode){var t=C.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}C.util.request=function(t,n){n||(n={});var o=n.method?n.method.toUpperCase():"GET",i=n.onComplete||function(){},r=new C.window.XMLHttpRequest,s=n.body||n.parameters;return r.onreadystatechange=function(){4===r.readyState&&(i(r),r.onreadystatechange=e)},"GET"===o&&(s=null,"string"==typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),r.open(o,t,!0),"POST"!==o&&"PUT"!==o||r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(s),r}}(),C.log=console.log,C.warn=console.warn,function(){function e(){return!1}function t(e,t,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+t}var n=C.window.requestAnimationFrame||C.window.webkitRequestAnimationFrame||C.window.mozRequestAnimationFrame||C.window.oRequestAnimationFrame||C.window.msRequestAnimationFrame||function(e){return C.window.setTimeout(e,1e3/60)},o=C.window.cancelAnimationFrame||C.window.clearTimeout;function i(){return n.apply(C.window,arguments)}C.util.animate=function(n){var o=!1;return i((function(r){n||(n={});var s,a=r||+new Date,l=n.duration||500,c=a+l,u=n.onChange||e,d=n.abort||e,h=n.onComplete||e,f=n.easing||t,p="startValue"in n?n.startValue:0,m="endValue"in n?n.endValue:100,g=n.byValue||m-p;n.onStart&&n.onStart(),function e(t){var n=(s=t||+new Date)>c?l:s-a,r=n/l,O=f(n,p,g,l),v=Math.abs((O-p)/g);if(!o){if(!d(O,v,r))return s>c?(u(m,1,1),void h(m,1,1)):(u(O,v,r),void i(e));h(m,1,1)}}(a)})),function(){o=!0}},C.util.requestAnimFrame=i,C.util.cancelAnimFrame=function(){return o.apply(C.window,arguments)}}(),function(){function e(e,t,n){var o="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return o+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),o+=")"}C.util.animateColor=function(t,n,o,i){var r=new C.Color(t).getSource(),s=new C.Color(n).getSource(),a=i.onComplete,l=i.onChange;return i=i||{},C.util.animate(C.util.object.extend(i,{duration:o||500,startValue:r,endValue:s,byValue:s,easing:function(t,n,o,r){return e(n,o,i.colorEasing?i.colorEasing(t,r):1-Math.cos(t/r*(Math.PI/2)))},onComplete:function(t,n,o){if(a)return a(e(s,s,0),n,o)},onChange:function(t,n,o){if(l){if(Array.isArray(t))return l(e(t,t,0),n,o);l(t,n,o)}}}))}}(),function(){function e(e,t,n,o){return e<Math.abs(t)?(e=t,o=n/4):o=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:o}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,i){return n-o(i-e,0,n,i)+t}function o(e,t,n,o){return(e/=o)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}C.util.ease={easeInQuad:function(e,t,n,o){return n*(e/=o)*e+t},easeOutQuad:function(e,t,n,o){return-n*(e/=o)*(e-2)+t},easeInOutQuad:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,o){return n*(e/=o)*e*e+t},easeOutCubic:function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,o){return n*(e/=o)*e*e*e+t},easeOutQuart:function(e,t,n,o){return-n*((e=e/o-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOutQuint:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,o){return n*Math.sin(e/o*(Math.PI/2))+t},easeInOutSine:function(e,t,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+t},easeInExpo:function(e,t,n,o){return 0===e?t:n*Math.pow(2,10*(e/o-1))+t},easeOutExpo:function(e,t,n,o){return e===o?t+n:n*(1-Math.pow(2,-10*e/o))+t},easeInOutExpo:function(e,t,n,o){return 0===e?t:e===o?t+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+t},easeOutCirc:function(e,t,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+t},easeInOutCirc:function(e,t,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,o,i,r){var s=0;return 0===n?o:1==(n/=r)?o+i:(s||(s=.3*r),-t(e(i,i,s,1.70158),n,r)+o)},easeOutElastic:function(t,n,o,i){var r=0;if(0===t)return n;if(1==(t/=i))return n+o;r||(r=.3*i);var s=e(o,o,r,1.70158);return s.a*Math.pow(2,-10*t)*Math.sin((t*i-s.s)*(2*Math.PI)/s.p)+s.c+n},easeInOutElastic:function(n,o,i,r){var s=0;if(0===n)return o;if(2==(n/=r/2))return o+i;s||(s=r*(.3*1.5));var a=e(i,i,s,1.70158);return n<1?-.5*t(a,n,r)+o:a.a*Math.pow(2,-10*(n-=1))*Math.sin((n*r-a.s)*(2*Math.PI)/a.p)*.5+a.c+o},easeInBack:function(e,t,n,o,i){return void 0===i&&(i=1.70158),n*(e/=o)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,o,i){return void 0===i&&(i=1.70158),n*((e=e/o-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,o,i){return void 0===i&&(i=1.70158),(e/=o/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:n,easeOutBounce:o,easeInOutBounce:function(e,t,i,r){return e<r/2?.5*n(2*e,0,i,r)+t:.5*o(2*e-r,0,i,r)+.5*i+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,o=t.util.object.clone,i=t.util.toFixed,r=t.util.parseUnit,s=t.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},l={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",u="clip-path";function d(e){return e in a?a[e]:e}function h(e,n,o,i){var a,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n){if("strokeUniform"===e)return"non-scaling-stroke"===n;if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=o&&o.transformMatrix?s(o.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,o&&!1===o.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),o&&void 0!==o.opacity&&(n*=o.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)a=r(n,i)/i*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill",(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e||"font"===e)return n;if("imageSmoothing"===e)return"optimizeQuality"===n;a=l?n.map(r):r(n,i)}}else n="";return!l&&isNaN(a)?n:a}function f(e){return new RegExp("^("+e.join("|")+")\\b","i")}function p(e,t){var n,o,i,r,s=[];for(i=0,r=t.length;i<r;i++)n=t[i],o=e.getElementsByTagName(n),s=s.concat(Array.prototype.slice.call(o));return s}function m(e,t){var n,o=!0;return(n=g(e,t.pop()))&&t.length&&(o=function(e,t){for(var n,o=!0;e.parentNode&&1===e.parentNode.nodeType&&t.length;)o&&(n=t.pop()),o=g(e=e.parentNode,n);return 0===t.length}(e,t)),n&&o&&0===t.length}function g(e,t){var n,o,i=e.nodeName,r=e.getAttribute("class"),s=e.getAttribute("id");if(n=new RegExp("^"+i,"i"),t=t.replace(n,""),s&&t.length&&(n=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),r&&t.length)for(o=(r=r.split(" ")).length;o--;)n=new RegExp("\\."+r[o]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function O(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var o,i,r,s=e.getElementsByTagName("*");for(i=0,r=s.length;i<r;i++)if(t===(o=s[i]).getAttribute("id"))return o}t.svgValidTagNamesRegEx=f(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=f(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=f(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=f(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,o){e[o]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,o=t.reNum,i=t.commaWsp,r="(?:(?:(matrix)\\s*\\(\\s*("+o+")"+i+"("+o+")"+i+"("+o+")"+i+"("+o+")"+i+"("+o+")"+i+"("+o+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+o+")(?:"+i+"("+o+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+o+")(?:"+i+"("+o+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+o+")(?:"+i+"("+o+")"+i+"("+o+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+o+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+o+")\\s*\\)))",s=new RegExp("^\\s*(?:(?:"+r+"(?:"+i+"*"+r+")*)?)\\s*$"),a=new RegExp(r,"g");return function(o){var i=n.concat(),l=[];if(!o||o&&!s.test(o))return i;o.replace(a,(function(o){var s=new RegExp(r).exec(o).filter((function(e){return!!e})),a=s[1],c=s.slice(2).map(parseFloat);switch(a){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(i,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var o=t.util.cos(n[0]),i=t.util.sin(n[0]),r=0,s=0;3===n.length&&(r=n[1],s=n[2]),e[0]=o,e[1]=i,e[2]=-i,e[3]=o,e[4]=r-(o*r-i*s),e[5]=s-(i*r+o*s)}(i,c);break;case"scale":!function(e,t){var n=t[0],o=2===t.length?t[1]:t[0];e[0]=n,e[3]=o}(i,c);break;case"skewX":e(i,c,2);break;case"skewY":e(i,c,1);break;case"matrix":i=c}l.push(i.concat()),i=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var v=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function b(e){if(!t.svgViewBoxElementsRegEx.test(e.nodeName))return{};var n,o,i,s,a,l,c=e.getAttribute("viewBox"),u=1,d=1,h=e.getAttribute("width"),f=e.getAttribute("height"),p=e.getAttribute("x")||0,m=e.getAttribute("y")||0,g=e.getAttribute("preserveAspectRatio")||"",O=!c||!(c=c.match(v)),b=!h||!f||"100%"===h||"100%"===f,y=O&&b,x={},w="",S=0,_=0;if(x.width=0,x.height=0,x.toBeParsed=y,O&&(p||m)&&e.parentNode&&"#document"!==e.parentNode.nodeName&&(w=" translate("+r(p)+" "+r(m)+") ",a=(e.getAttribute("transform")||"")+w,e.setAttribute("transform",a),e.removeAttribute("x"),e.removeAttribute("y")),y)return x;if(O)return x.width=r(h),x.height=r(f),x;if(n=-parseFloat(c[1]),o=-parseFloat(c[2]),i=parseFloat(c[3]),s=parseFloat(c[4]),x.minX=n,x.minY=o,x.viewBoxWidth=i,x.viewBoxHeight=s,b?(x.width=i,x.height=s):(x.width=r(h),x.height=r(f),u=x.width/i,d=x.height/s),"none"!==(g=t.util.parsePreserveAspectRatioAttribute(g)).alignX&&("meet"===g.meetOrSlice&&(d=u=u>d?d:u),"slice"===g.meetOrSlice&&(d=u=u>d?u:d),S=x.width-i*u,_=x.height-s*u,"Mid"===g.alignX&&(S/=2),"Mid"===g.alignY&&(_/=2),"Min"===g.alignX&&(S=0),"Min"===g.alignY&&(_=0)),1===u&&1===d&&0===n&&0===o&&0===p&&0===m)return x;if((p||m)&&"#document"!==e.parentNode.nodeName&&(w=" translate("+r(p)+" "+r(m)+") "),a=w+" matrix("+u+" 0 0 "+d+" "+(n*u+S)+" "+(o*d+_)+") ","svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else(l=e).removeAttribute("x"),l.removeAttribute("y"),a=l.getAttribute("transform")+a;return l.setAttribute("transform",a),x}function y(e,t){var n="xlink:href",o=O(e,t.getAttribute(n).substr(1));if(o&&o.getAttribute(n)&&y(e,o),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){o&&!t.hasAttribute(e)&&o.hasAttribute(e)&&t.setAttribute(e,o.getAttribute(e))})),!t.children.length)for(var i=o.cloneNode(!0);i.firstChild;)t.appendChild(i.firstChild);t.removeAttribute(n)}t.parseSVGDocument=function(e,n,i,r){if(e){!function(e){for(var n=p(e,["use","svg:use"]),o=0;n.length&&o<n.length;){var i=n[o],r=i.getAttribute("xlink:href")||i.getAttribute("href");if(null===r)return;var s,a,l,c,u=r.substr(1),d=i.getAttribute("x")||0,h=i.getAttribute("y")||0,f=O(e,u).cloneNode(!0),m=(f.getAttribute("transform")||"")+" translate("+d+", "+h+")",g=n.length,v=t.svgNS;if(b(f),/^svg$/i.test(f.nodeName)){var y=f.ownerDocument.createElementNS(v,"g");for(a=0,c=(l=f.attributes).length;a<c;a++)s=l.item(a),y.setAttributeNS(v,s.nodeName,s.nodeValue);for(;f.firstChild;)y.appendChild(f.firstChild);f=y}for(a=0,c=(l=i.attributes).length;a<c;a++)"x"!==(s=l.item(a)).nodeName&&"y"!==s.nodeName&&"xlink:href"!==s.nodeName&&"href"!==s.nodeName&&("transform"===s.nodeName?m=s.nodeValue+" "+m:f.setAttribute(s.nodeName,s.nodeValue));f.setAttribute("transform",m),f.setAttribute("instantiated_by_use","1"),f.removeAttribute("id"),i.parentNode.replaceChild(f,i),n.length===g&&o++}}(e);var s,a,l=t.Object.__uid++,c=b(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=r&&r.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var d=[];for(s=0,a=(u=e.selectNodes('//*[name(.)!="svg"]')).length;s<a;s++)d[s]=u[s];u=d}var h=u.filter((function(e){return b(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!h||h&&!h.length)n&&n([],{});else{var f={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");f[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=f,t.parseElements(h,(function(e,o){n&&(n(e,c,o,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),o(c),i,r)}}};var x=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(x);if(n){var o=n[1],i=n[3],s=n[4],a=n[5],l=n[6];o&&(t.fontStyle=o),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(t.fontSize=r(s)),l&&(t.fontFamily=l),a&&(t.lineHeight="normal"===a?1:a)}},getGradientDefs:function(e){var t,n=p(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),o=0,i={};for(o=n.length;o--;)(t=n[o]).getAttribute("xlink:href")&&y(e,t),i[t.getAttribute("id")]=t;return i},parseAttributes:function(e,o,s){if(e){var a,f,p,g={};void 0===s&&(s=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(g=t.parseAttributes(e.parentNode,o,s));var O=o.reduce((function(t,n){return(a=e.getAttribute(n))&&(t[n]=a),t}),{}),v=n(function(e,n){var o={};for(var i in t.cssRules[n])if(m(e,i.split(" ")))for(var r in t.cssRules[n][i])o[r]=t.cssRules[n][i][r];return o}(e,s),t.parseStyleAttribute(e));O=n(O,v),v[u]&&e.setAttribute(u,v[u]),f=p=g.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,O[c]&&(O[c]=f=r(O[c],p));var b,y,x={};for(var w in O)y=h(b=d(w),O[w],g,f),x[b]=y;x&&x.font&&t.parseFontDeclaration(x.font,x);var S=n(g,x);return t.svgValidParentsRegEx.test(e.nodeName)?S:function(e){for(var n in l)if(void 0!==e[l[n]]&&""!==e[n]){if(void 0===e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var o=new t.Color(e[n]);e[n]=o.setAlpha(i(o.getAlpha()*e[l[n]],2)).toRgba()}}return e}(S)}},parseElements:function(e,n,o,i,r){new t.ElementsParser(e,n,o,i,r).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"==typeof n?function(e,t){var n,o;e.replace(/;\s*$/,"").split(";").forEach((function(e){var i=e.split(":");n=i[0].trim().toLowerCase(),o=i[1].trim(),t[n]=o}))}(n,t):function(e,t){var n,o;for(var i in e)void 0!==e[i]&&(n=i.toLowerCase(),o=e[i],t[n]=o)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,o=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)o.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return o},getCSSRules:function(e){var n,o,i=e.getElementsByTagName("style"),r={};for(n=0,o=i.length;n<o;n++){var s=i[n].textContent;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var i=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),s={},a=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,o=a.length;n<o;n++){var l=a[n].split(/\s*:\s*/),c=l[0],u=l[1];s[c]=u}(e=i[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(r[e]?t.util.object.extend(r[e],s):r[e]=t.util.object.clone(s))}))}))}return r},loadSVGFromURL:function(e,n,o,i){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var r=e.responseXML;if(!r||!r.documentElement)return n&&n(null),!1;t.parseSVGDocument(r.documentElement,(function(e,t,o,i){n&&n(e,t,o,i)}),o,i)}})},loadSVGFromString:function(e,n,o,i){var r=(new t.window.DOMParser).parseFromString(e.trim(),"text/xml");t.parseSVGDocument(r.documentElement,(function(e,t,o,i){n(e,t,o,i)}),o,i)}})}(t),C.ElementsParser=function(e,t,n,o,i,r){this.elements=e,this.callback=t,this.options=n,this.reviver=o,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=r},(O=C.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},O.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},O.findTag=function(e){return C[C.util.string.capitalize(e.tagName.replace("svg:",""))]},O.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(e){C.log(e)}else this.checkIfDone()},O.createCallback=function(e,t){var n=this;return function(o){var i;n.resolveGradient(o,t,"fill"),n.resolveGradient(o,t,"stroke"),o instanceof C.Image&&o._originalElement&&(i=o.parsePreserveAspectRatioAttribute(t)),o._removeTransformMatrix(i),n.resolveClipPath(o,t),n.reviver&&n.reviver(t,o),n.instances[e]=o,n.checkIfDone()}},O.extractPropertyDefinition=function(e,t,n){var o=e[t],i=this.regexUrl;if(i.test(o)){i.lastIndex=0;var r=i.exec(o)[1];return i.lastIndex=0,C[n][this.svgUid][r]}},O.resolveGradient=function(e,t,n){var o=this.extractPropertyDefinition(e,n,"gradientDefs");if(o){var i=t.getAttribute(n+"-opacity"),r=C.Gradient.fromElement(o,e,i,this.options);e.set(n,r)}},O.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},O.resolveClipPath=function(e,t){var n,o,i,r,s=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(s){i=[],o=C.util.invertTransform(e.calcTransformMatrix());for(var a=s[0].parentNode,l=t;l.parentNode&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentNode;l.parentNode.appendChild(a);for(var c=0;c<s.length;c++)n=s[c],this.findTag(n).fromElement(n,this.createClipPathCallback(e,i),this.options);s=1===i.length?i[0]:new C.Group(i),r=C.util.multiplyTransformMatrices(o,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,l);var u=C.util.qrDecompose(r);s.flipX=!1,s.flipY=!1,s.set("scaleX",u.scaleX),s.set("scaleY",u.scaleY),s.angle=u.angle,s.skewX=u.skewX,s.skewY=0,s.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),e.clipPath=s}else delete e.clipPath},O.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return void 0===t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,o,i,r){var s,a=(r.x-i.x)*(e.y-i.y)-(r.y-i.y)*(e.x-i.x),l=(o.x-e.x)*(e.y-i.y)-(o.y-e.y)*(e.x-i.x),c=(r.y-i.y)*(o.x-e.x)-(r.x-i.x)*(o.y-e.y);if(0!==c){var u=a/c,d=l/c;0<=u&&u<=1&&0<=d&&d<=1?(s=new n("Intersection")).appendPoint(new t.Point(e.x+u*(o.x-e.x),e.y+u*(o.y-e.y))):s=new n}else s=new n(0===a||0===l?"Coincident":"Parallel");return s},t.Intersection.intersectLinePolygon=function(e,t,o){var i,r,s,a,l=new n,c=o.length;for(a=0;a<c;a++)i=o[a],r=o[(a+1)%c],s=n.intersectLineLine(e,t,i,r),l.appendPoints(s.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var o,i=new n,r=e.length;for(o=0;o<r;o++){var s=e[o],a=e[(o+1)%r],l=n.intersectLinePolygon(s,a,t);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i},t.Intersection.intersectPolygonRectangle=function(e,o,i){var r=o.min(i),s=o.max(i),a=new t.Point(s.x,r.y),l=new t.Point(r.x,s.y),c=n.intersectLinePolygon(r,a,e),u=n.intersectLinePolygon(a,s,e),d=n.intersectLinePolygon(s,l,e),h=n.intersectLinePolygon(l,r,e),f=new n;return f.appendPoints(c.points),f.appendPoints(u.points),f.appendPoints(d.points),f.appendPoints(h.points),f.points.length>0&&(f.status="Intersection"),f})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,o){e/=255,n/=255,o/=255;var i,r,s,a=t.util.array.max([e,n,o]),l=t.util.array.min([e,n,o]);if(s=(a+l)/2,a===l)i=r=0;else{var c=a-l;switch(r=s>.5?c/(2-a-l):c/(a+l),a){case e:i=(n-o)/c+(n<o?6:0);break;case n:i=(o-e)/c+2;break;case o:i=(e-n)/c+4}i/=6}return[Math.round(360*i),Math.round(100*r),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,o=this.getSource();return e=1===(e=o[0].toString(16)).length?"0"+e:e,t=1===(t=o[1].toString(16)).length?"0"+t:t,n=1===(n=o[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),o=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,o]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,o=[],i=this.getAlpha(),r=this.getSource(),s=e.getSource();for(t=0;t<3;t++)o.push(Math.round(.5*r[t]+.5*s[t]));return o[3]=i,this.setSource(o),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var o=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),i=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),r=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(o,10),parseInt(i,10),parseInt(r,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var i,r,s,a=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)i=r=s=c;else{var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u;i=o(d,u,a+1/3),r=o(d,u,a),s=o(d,u,a-1/3)}return[Math.round(255*i),Math.round(255*r),Math.round(255*s),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),o=3===t.length||4===t.length,i=8===t.length||4===t.length,r=o?t.charAt(0)+t.charAt(0):t.substring(0,2),s=o?t.charAt(1)+t.charAt(1):t.substring(2,4),a=o?t.charAt(2)+t.charAt(2):t.substring(4,6),l=i?o?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(r,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],o=["ns","nesw","ew","nwse"],i={},r="left",s="top",a="right",l="bottom",c="center",u={top:l,bottom:s,left:a,right:r,center:c},d=t.util.radiansToDegrees,h=Math.sign||function(e){return(e>0)-(e<0)||+e};function f(e,t){var n=e.angle+d(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function p(e,n){var o=n.transform.target,i=o.canvas,r=t.util.object.clone(n);r.target=o,i&&i.fire("object:"+e,r),o.fire(e,n)}function m(e,t){var n=t.canvas,o=e[n.uniScaleKey];return n.uniformScaling&&!o||!n.uniformScaling&&o}function g(e){return e.originX===c&&e.originY===c}function O(e,t,n){var o=e.lockScalingX,i=e.lockScalingY;return!((!o||!i)&&(t||!o&&!i||!n)&&(!o||"x"!==t)&&(!i||"y"!==t))}function v(e,t,n,o){return{e,transform:t,pointer:{x:n,y:o}}}function b(e){return function(t,n,o,i){var r=n.target,s=r.getCenterPoint(),a=r.translateToOriginPoint(s,n.originX,n.originY),l=e(t,n,o,i);return r.setPositionByOrigin(a,n.originX,n.originY),l}}function y(e,t){return function(n,o,i,r){var s=t(n,o,i,r);return s&&p(e,v(n,o,i,r)),s}}function x(e,n,o,i,r){var s=e.target,a=s.controls[e.corner],l=s.canvas.getZoom(),c=s.padding/l,u=s.toLocalPoint(new t.Point(i,r),n,o);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=a.offsetX,u.y-=a.offsetY,u}function w(e){return e.flipX!==e.flipY}function S(e,t,n,o,i){if(0!==e[t]){var r=i/e._getTransformedDimensions()[o]*e[n];e.set(n,r)}}function _(e,t,n,o){var i,c=t.target,u=c._getTransformedDimensions(0,c.skewY),h=x(t,t.originX,t.originY,n,o),f=Math.abs(2*h.x)-u.x,p=c.skewX;f<2?i=0:(i=d(Math.atan2(f/c.scaleX,u.y/c.scaleY)),t.originX===r&&t.originY===l&&(i=-i),t.originX===a&&t.originY===s&&(i=-i),w(c)&&(i=-i));var m=p!==i;if(m){var g=c._getTransformedDimensions().y;c.set("skewX",i),S(c,"skewY","scaleY","y",g)}return m}function k(e,t,n,o){var i,c=t.target,u=c._getTransformedDimensions(c.skewX,0),h=x(t,t.originX,t.originY,n,o),f=Math.abs(2*h.y)-u.y,p=c.skewY;f<2?i=0:(i=d(Math.atan2(f/c.scaleY,u.x/c.scaleX)),t.originX===r&&t.originY===l&&(i=-i),t.originX===a&&t.originY===s&&(i=-i),w(c)&&(i=-i));var m=p!==i;if(m){var g=c._getTransformedDimensions().x;c.set("skewY",i),S(c,"skewX","scaleX","x",g)}return m}function C(e,t,n,o,i){i=i||{};var r,s,a,l,c,d,f=t.target,p=f.lockScalingX,v=f.lockScalingY,b=i.by,y=m(e,f),w=O(f,b,y),S=t.gestureScale;if(w)return!1;if(S)s=t.scaleX*S,a=t.scaleY*S;else{if(r=x(t,t.originX,t.originY,n,o),c="y"!==b?h(r.x):1,d="x"!==b?h(r.y):1,t.signX||(t.signX=c),t.signY||(t.signY=d),f.lockScalingFlip&&(t.signX!==c||t.signY!==d))return!1;if(l=f._getTransformedDimensions(),y&&!b){var _=Math.abs(r.x)+Math.abs(r.y),k=t.original,C=_/(Math.abs(l.x*k.scaleX/f.scaleX)+Math.abs(l.y*k.scaleY/f.scaleY));s=k.scaleX*C,a=k.scaleY*C}else s=Math.abs(r.x*f.scaleX/l.x),a=Math.abs(r.y*f.scaleY/l.y);g(t)&&(s*=2,a*=2),t.signX!==c&&"y"!==b&&(t.originX=u[t.originX],s*=-1,t.signX=c),t.signY!==d&&"x"!==b&&(t.originY=u[t.originY],a*=-1,t.signY=d)}var T=f.scaleX,$=f.scaleY;return b?("x"===b&&f.set("scaleX",s),"y"===b&&f.set("scaleY",a)):(!p&&f.set("scaleX",s),!v&&f.set("scaleY",a)),T!==f.scaleX||$!==f.scaleY}i.scaleCursorStyleHandler=function(e,t,o){var i=m(e,o),r="";if(0!==t.x&&0===t.y?r="x":0===t.x&&0!==t.y&&(r="y"),O(o,r,i))return"not-allowed";var s=f(o,t);return n[s]+"-resize"},i.skewCursorStyleHandler=function(e,t,n){var i="not-allowed";if(0!==t.x&&n.lockSkewingY)return i;if(0!==t.y&&n.lockSkewingX)return i;var r=f(n,t)%4;return o[r]+"-resize"},i.scaleSkewCursorStyleHandler=function(e,t,n){return e[n.canvas.altActionKey]?i.skewCursorStyleHandler(e,t,n):i.scaleCursorStyleHandler(e,t,n)},i.rotationWithSnapping=y("rotating",b((function(e,t,n,o){var i=t,r=i.target,s=r.translateToOriginPoint(r.getCenterPoint(),i.originX,i.originY);if(r.lockRotation)return!1;var a,l=Math.atan2(i.ey-s.y,i.ex-s.x),c=Math.atan2(o-s.y,n-s.x),u=d(c-l+i.theta);if(r.snapAngle>0){var h=r.snapAngle,f=r.snapThreshold||h,p=Math.ceil(u/h)*h,m=Math.floor(u/h)*h;Math.abs(u-m)<f?u=m:Math.abs(u-p)<f&&(u=p)}return u<0&&(u=360+u),u%=360,a=r.angle!==u,r.angle=u,a}))),i.scalingEqually=y("scaling",b((function(e,t,n,o){return C(e,t,n,o)}))),i.scalingX=y("scaling",b((function(e,t,n,o){return C(e,t,n,o,{by:"x"})}))),i.scalingY=y("scaling",b((function(e,t,n,o){return C(e,t,n,o,{by:"y"})}))),i.scalingYOrSkewingX=function(e,t,n,o){return e[t.target.canvas.altActionKey]?i.skewHandlerX(e,t,n,o):i.scalingY(e,t,n,o)},i.scalingXOrSkewingY=function(e,t,n,o){return e[t.target.canvas.altActionKey]?i.skewHandlerY(e,t,n,o):i.scalingX(e,t,n,o)},i.changeWidth=y("resizing",b((function(e,t,n,o){var i=t.target,r=x(t,t.originX,t.originY,n,o),s=i.strokeWidth/(i.strokeUniform?i.scaleX:1),a=g(t)?2:1,l=i.width,c=Math.abs(r.x*a/i.scaleX)-s;return i.set("width",Math.max(c,0)),l!==c}))),i.skewHandlerX=function(e,t,n,o){var i,l=t.target,u=l.skewX,d=t.originY;return!l.lockSkewingX&&(0===u?i=x(t,c,c,n,o).x>0?r:a:(u>0&&(i=d===s?r:a),u<0&&(i=d===s?a:r),w(l)&&(i=i===r?a:r)),t.originX=i,y("skewing",b(_))(e,t,n,o))},i.skewHandlerY=function(e,t,n,o){var i,a=t.target,u=a.skewY,d=t.originX;return!a.lockSkewingY&&(0===u?i=x(t,c,c,n,o).y>0?s:l:(u>0&&(i=d===r?s:l),u<0&&(i=d===r?l:s),w(a)&&(i=i===s?l:s)),t.originY=i,y("skewing",b(k))(e,t,n,o))},i.dragHandler=function(e,t,n,o){var i=t.target,r=n-t.offsetX,s=o-t.offsetY,a=!i.get("lockMovementX")&&i.left!==r,l=!i.get("lockMovementY")&&i.top!==s;return a&&i.set("left",r),l&&i.set("top",s),(a||l)&&p("moving",v(e,t,n,o)),a||l},i.scaleOrSkewActionName=function(e,t,n){var o=e[n.canvas.altActionKey];return 0===t.x?o?"skewX":"scaleY":0===t.y?o?"skewY":"scaleX":void 0},i.rotationStyleHandler=function(e,t,n){return n.lockRotation?"not-allowed":t.cursorStyle},i.fireEvent=p,i.wrapWithFixedAnchor=b,i.wrapWithFireEvent=y,i.getLocalPoint=x,t.controlsUtils=i}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians,o=t.controlsUtils;o.renderCircleControl=function(e,t,n,o,i){o=o||{};var r,s=this.sizeX||o.cornerSize||i.cornerSize,a=this.sizeY||o.cornerSize||i.cornerSize,l=void 0!==o.transparentCorners?o.transparentCorners:i.transparentCorners,c=l?"stroke":"fill",u=!l&&(o.cornerStrokeColor||i.cornerStrokeColor),d=t,h=n;e.save(),e.fillStyle=o.cornerColor||i.cornerColor,e.strokeStyle=o.cornerStrokeColor||i.cornerStrokeColor,s>a?(r=s,e.scale(1,a/s),h=n*s/a):a>s?(r=a,e.scale(s/a,1),d=t*a/s):r=s,e.lineWidth=1,e.beginPath(),e.arc(d,h,r/2,0,2*Math.PI,!1),e[c](),u&&e.stroke(),e.restore()},o.renderSquareControl=function(e,t,o,i,r){i=i||{};var s=this.sizeX||i.cornerSize||r.cornerSize,a=this.sizeY||i.cornerSize||r.cornerSize,l=void 0!==i.transparentCorners?i.transparentCorners:r.transparentCorners,c=l?"stroke":"fill",u=!l&&(i.cornerStrokeColor||r.cornerStrokeColor),d=s/2,h=a/2;e.save(),e.fillStyle=i.cornerColor||r.cornerColor,e.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor,e.lineWidth=1,e.translate(t,o),e.rotate(n(r.angle)),e[c+"Rect"](-d,-h,s,a),u&&e.strokeRect(-d,-h,s,a),e.restore()}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Control=function(e){for(var t in e)this[t]=e[t]},t.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(e,t){return t.cursorStyle},getActionName:function(e,t){return t.actionName},getVisibility:function(e,t){var n=e._controlsVisibility;return n&&void 0!==n[t]?n[t]:this.visible},setVisibility:function(e){this.visible=e},positionHandler:function(e,n){return t.util.transformPoint({x:this.x*e.x+this.offsetX,y:this.y*e.y+this.offsetY},n)},calcCornerCoords:function(e,n,o,i,r){var s,a,l,c,u=r?this.touchSizeX:this.sizeX,d=r?this.touchSizeY:this.sizeY;if(u&&d&&u!==d){var h=Math.atan2(d,u),f=Math.sqrt(u*u+d*d)/2,p=h-t.util.degreesToRadians(e),m=Math.PI/2-h-t.util.degreesToRadians(e);s=f*t.util.cos(p),a=f*t.util.sin(p),l=f*t.util.cos(m),c=f*t.util.sin(m)}else f=.7071067812*(u&&d?u:n),p=t.util.degreesToRadians(45-e),s=l=f*t.util.cos(p),a=c=f*t.util.sin(p);return{tl:{x:o-c,y:i-l},tr:{x:o+s,y:i-a},bl:{x:o-s,y:i+a},br:{x:o+c,y:i+l}}},render:function(e,n,o,i,r){"circle"===((i=i||{}).cornerStyle||r.cornerStyle)?t.controlsUtils.renderCircleControl.call(this,e,n,o,i,r):t.controlsUtils.renderSquareControl.call(this,e,n,o,i,r)}}}(t),function(){function e(e,t){var n,o,i,r,s=e.getAttribute("style"),a=e.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,s){var l=s.split(/\s*;\s*/);for(""===l[l.length-1]&&l.pop(),r=l.length;r--;){var c=l[r].split(/\s*:\s*/),u=c[0].trim(),d=c[1].trim();"stop-color"===u?n=d:"stop-opacity"===u&&(i=d)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),i||(i=e.getAttribute("stop-opacity")),o=(n=new C.Color(n)).getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=o*t,{offset:a,color:n.toRgb(),opacity:i}}var t=C.util.object.clone;C.Gradient=C.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+C.Object.__uid++:this.id=C.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new C.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return C.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var o,i,r,s,a=t(this.coords,!0),l=(n=n||{},t(this.colorStops,!0)),c=a.r1>a.r2,u=this.gradientTransform?this.gradientTransform.concat():C.iMatrix.concat(),d=-this.offsetX,h=-this.offsetY,f=!!n.additionalTransform,p="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(l.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===p?(d/=e.width,h/=e.height):(d+=e.width/2,h+=e.height/2),"path"===e.type&&"percentage"!==this.gradientUnits&&(d-=e.pathOffset.x,h-=e.pathOffset.y),u[4]-=d,u[5]-=h,s='id="SVGID_'+this.id+'" gradientUnits="'+p+'"',s+=' gradientTransform="'+(f?n.additionalTransform+" ":"")+C.util.matrixToSVG(u)+'" ',"linear"===this.type?r=["<linearGradient ",s,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(r=["<radialGradient ",s,' cx="',c?a.x1:a.x2,'" cy="',c?a.y1:a.y2,'" r="',c?a.r1:a.r2,'" fx="',c?a.x2:a.x1,'" fy="',c?a.y2:a.y1,'">\n']),"radial"===this.type){if(c)for((l=l.concat()).reverse(),o=0,i=l.length;o<i;o++)l[o].offset=1-l[o].offset;var m=Math.min(a.r1,a.r2);if(m>0){var g=m/Math.max(a.r1,a.r2);for(o=0,i=l.length;o<i;o++)l[o].offset+=g*(1-l[o].offset)}}for(o=0,i=l.length;o<i;o++){var O=l[o];r.push("<stop ",'offset="',100*O.offset+"%",'" style="stop-color:',O.color,void 0!==O.opacity?";stop-opacity: "+O.opacity:";",'"/>\n')}return r.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),r.join("")},toLive:function(e){var t,n,o,i=C.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(i.x1,i.y1,i.x2,i.y2):"radial"===this.type&&(t=e.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2)),n=0,o=this.colorStops.length;n<o;n++){var r=this.colorStops[n].color,s=this.colorStops[n].opacity,a=this.colorStops[n].offset;void 0!==s&&(r=new C.Color(r).setAlpha(s).toRgba()),t.addColorStop(a,r)}return t}}}),C.util.object.extend(C.Gradient,{fromElement:function(t,n,o,i){var r=parseFloat(o)/(/%$/.test(o)?100:1);r=r<0?0:r>1?1:r,isNaN(r)&&(r=1);var s,a,l,c,u=t.getElementsByTagName("stop"),d="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",h=t.getAttribute("gradientTransform")||"",f=[],p=0,m=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(s="linear",a=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(s="radial",a=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),l=u.length;l--;)f.push(e(u[l],r));return c=C.parseTransformAttribute(h),function(e,t,n,o){var i,r;Object.keys(t).forEach((function(e){"Infinity"===(i=t[e])?r=1:"-Infinity"===i?r=0:(r=parseFloat(t[e],10),"string"==typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(r*=.01,"pixels"===o&&("x1"!==e&&"x2"!==e&&"r2"!==e||(r*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(r*=n.viewBoxHeight||n.height)))),t[e]=r}))}(0,a,i,d),"pixels"===d&&(p=-n.left,m=-n.top),new C.Gradient({id:t.getAttribute("id"),type:s,coords:a,colorStops:f,gradientUnits:d,gradientTransform:c,offsetX:p,offsetY:m})}})}(),function(){"use strict";var e=C.util.toFixed;C.Pattern=C.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=C.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!=typeof e.source)t&&t(this);else{var n=this;this.source=C.util.createImage(),C.util.loadImage(e.source,(function(e,o){n.source=e,t&&t(n,o)}),null,this.crossOrigin)}},toObject:function(t){var n,o,i=C.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),o={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,i),offsetY:e(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},C.util.populateWithProperties(this,o,t),o},toSVG:function(e){var t="function"==typeof this.source?this.source():this.source,n=t.width/e.width,o=t.height/e.height,i=this.offsetX/e.width,r=this.offsetY/e.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(o=1,r&&(o+=Math.abs(r))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,i&&(n+=Math.abs(i))),t.src?s=t.src:t.toDataURL&&(s=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+r+'" width="'+n+'" height="'+o+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t=this.source;if(!t)return"";if(void 0!==t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"==typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),o=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(o[1],10)||0,offsetY:parseFloat(o[2],10)||0,blur:parseFloat(o[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var o=40,i=40,r=t.Object.NUM_FRACTION_DIGITS,s=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),a=new t.Color(this.color);return e.width&&e.height&&(o=100*n((Math.abs(s.x)+this.blur)/e.width,r)+20,i=100*n((Math.abs(s.y)+this.blur)/e.height,r)+20),e.flipX&&(s.x*=-1),e.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+o+'%" width="'+(100+2*o)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,r)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(s.x,r)+'" dy="'+n(s.y,r)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(C.StaticCanvas)C.warn("fabric.StaticCanvas is already defined.");else{var e=C.util.object.extend,t=C.util.getElementOffset,n=C.util.removeFromArray,o=C.util.toFixed,i=C.util.transformPoint,r=C.util.invertTransform,s=C.util.getNodeCanvas,a=C.util.createCanvasElement,l=new Error("Could not initialize `canvas` element");C.StaticCanvas=C.util.createClass(C.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:C.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==C.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?C.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=C.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},__setBgOverlayImage:function(e,t,n,o){return"string"==typeof t?C.util.loadImage(t,(function(t,i){if(t){var r=new C.Image(t,o);this[e]=r,r.canvas=this}n&&n(t,i)}),this,o&&o.crossOrigin):(o&&t.setOptions(o),this[e]=t,t&&(t.canvas=this),n&&n(t,!1)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=a();if(!e)throw l;if(e.style||(e.style={}),void 0===e.getContext)throw l;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=C.util.getById(e)||this._createCanvasElement(),C.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var o in t=t||{},e)n=e[o],t.cssOnly||(this._setBackstoreDimension(o,e[o]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(o,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,o,i=this._activeObject,r=this.backgroundImage,s=this.overlayImage;for(this.viewportTransform=e,n=0,o=this._objects.length;n<o;n++)(t=this._objects[n]).group||t.setCoords(!0);return i&&i.setCoords(),r&&r.setCoords(!0),s&&s.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,o=this.viewportTransform.slice(0);e=i(e,r(this.viewportTransform)),o[0]=t,o[3]=t;var s=i(e,o);return o[4]+=n.x-s.x,o[5]+=n.y-s.y,this.setViewportTransform(o)},setZoom:function(e){return this.zoomToPoint(new C.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new C.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=C.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,o=r(this.viewportTransform);return e.tl=i({x:0,y:0},o),e.br=i({x:t,y:n},o),e.tr=new C.Point(e.br.x,e.tl.y),e.bl=new C.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,o=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),C.util.setImageSmoothing(e,this.imageSmoothingEnabled),this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),o&&(o.canvas=this,o.shouldCache(),o._transformDone=!0,o.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,o;for(n=0,o=t.length;n<o;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],o=this[t+"Image"],i=this.viewportTransform,r=this[t+"Vpt"];if(n||o){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,r&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var s=n.gradientTransform||n.patternTransform;s&&e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),e.fill(),e.restore()}o&&(e.save(),r&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),o.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new C.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new C.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new C.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new C.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new C.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=r(this.viewportTransform);return i({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var o=this.clipPath,i={version:C.version,objects:this._toObjects(t,n)};return o&&!o.excludeFromExport&&(i.clipPath=this._toObject(this.clipPath,t,n)),e(i,this.__serializeBgOverlay(t,n)),C.util.populateWithProperties(this,i,n),i},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var o;this.includeDefaultValues||(o=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=o),i},__serializeBgOverlay:function(e,t){var n={},o=this.backgroundImage,i=this.overlayImage,r=this.backgroundColor,s=this.overlayColor;return r&&r.toObject?r.excludeFromExport||(n.background=r.toObject(t)):r&&(n.background=r),s&&s.toObject?s.excludeFromExport||(n.overlay=s.toObject(t)):s&&(n.overlay=s),o&&!o.excludeFromExport&&(n.backgroundImage=this._toObject(o,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,i=t.width||this.width,r=t.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',a=C.Object.NUM_FRACTION_DIGITS;t.viewBox?s='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,s='viewBox="'+o(-n[4]/n[0],a)+" "+o(-n[5]/n[3],a)+" "+o(this.width/n[0],a)+" "+o(this.height/n[3],a)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',r,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",C.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+C.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var o=e[t+"Vpt"],i=e.viewportTransform,r={width:e.width/(o?i[0]:1),height:e.height/(o?i[3]:1)};return n.toSVG(r,{additionalTransform:o?C.util.matrixToSVG(i):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,o,i,r,s,a,l="",c={},u=C.fontPaths,d=[];for(this._objects.forEach((function e(t){d.push(t),t._objects&&t._objects.forEach(e)})),s=0,a=d.length;s<a;s++)if(t=(e=d[s]).fontFamily,-1!==e.type.indexOf("text")&&!c[t]&&u[t]&&(c[t]=!0,e.styles))for(i in n=e.styles)for(r in o=n[i])!c[t=o[r].fontFamily]&&u[t]&&(c[t]=!0);for(var h in c)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",h,"';\n","\t\t\tsrc: url('",u[h],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(e,t){var n,o,i,r=this._objects;for(o=0,i=r.length;o<i;o++)(n=r[o]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],o=this.viewportTransform,i=this.width,r=this.height;if(n)if(n.toLive){var s=n.repeat,a=C.util.invertTransform(o),l=this[t+"Vpt"]?C.util.matrixToSVG(a):"";e.push('<rect transform="'+l+" translate(",i/2,",",r/2,')"',' x="',n.offsetX-i/2,'" y="',n.offsetY-r/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?n.source.width:i,'" height="',"repeat-x"===s||"no-repeat"===s?n.source.height:r,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,o,i,r=this._activeObject;if(e===r&&"activeSelection"===e.type)for(t=(i=r._objects).length;t--;)o=i[t],n(this._objects,o),this._objects.unshift(o);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,o,i,r=this._activeObject;if(e===r&&"activeSelection"===e.type)for(i=r._objects,t=0;t<i.length;t++)o=i[t],n(this._objects,o),this._objects.push(o);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var o,i,r,s,a,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(a=l._objects,o=0;o<a.length;o++)i=a[o],(r=this._objects.indexOf(i))>0+c&&(s=r-1,n(this._objects,i),this._objects.splice(s,0,i)),c++;else 0!==(r=this._objects.indexOf(e))&&(s=this._findNewLowerIndex(e,r,t),n(this._objects,e),this._objects.splice(s,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var o,i;if(n){for(o=t,i=t-1;i>=0;--i)if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){o=i;break}}else o=t-1;return o},bringForward:function(e,t){if(!e)return this;var o,i,r,s,a,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(o=(a=l._objects).length;o--;)i=a[o],(r=this._objects.indexOf(i))<this._objects.length-1-c&&(s=r+1,n(this._objects,i),this._objects.splice(s,0,i)),c++;else(r=this._objects.indexOf(e))!==this._objects.length-1&&(s=this._findNewUpperIndex(e,r,t),n(this._objects,e),this._objects.splice(s,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var o,i,r;if(n){for(o=t,i=t+1,r=this._objects.length;i<r;++i)if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){o=i;break}}else o=t+1;return o},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),C.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(C.StaticCanvas.prototype,C.Observable),e(C.StaticCanvas.prototype,C.Collection),e(C.StaticCanvas.prototype,C.DataURLExporter),e(C.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=a();if(!t||!t.getContext)return null;var n=t.getContext("2d");return n&&"setLineDash"===e?void 0!==n.setLineDash:null}}),C.StaticCanvas.prototype.toJSON=C.StaticCanvas.prototype.toObject,C.isLikelyNode&&(C.StaticCanvas.prototype.createPNGStream=function(){var e=s(this.lowerCanvasEl);return e&&e.createPNGStream()},C.StaticCanvas.prototype.createJPEGStream=function(e){var t=s(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),C.BaseBrush=C.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,o=e.getZoom();e&&e._isRetinaScaling()&&(o*=C.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*o,n.shadowOffsetX=t.offsetX*o,n.shadowOffsetY=t.offsetY*o}},needsFullRender:function(){return new C.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0},_isOutSideCanvas:function(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}),C.PencilBrush=C.util.createClass(C.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var o=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,o.x,o.y),o},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,o=n.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,n[o-2],n[o-1],!0),i.stroke(),i.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new C.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1])||(this._points.push(e),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new C.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,o=this._points[0],i=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&o.x===i.x&&o.y===i.y){var r=this.width/1e3;o=new C.Point(o.x,o.y),i=new C.Point(i.x,i.y),o.x-=r,i.x+=r}for(n.moveTo(o.x,o.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,o,i),o=this._points[e],i=this._points[e+1];n.lineTo(o.x,o.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t=this.width/1e3;return C.util.getSmoothPathFromPoints(e,t)},_isEmptySVGPath:function(e){return"M 0 0 Q 0 0 0 0 L 0 0"===C.util.joinPath(e)},createPath:function(e){var t=new C.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new C.Shadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,o=this.canvas.getZoom(),i=Math.pow(t/o,2),r=e.length-1,s=e[0],a=[s];for(n=1;n<r-1;n++)Math.pow(s.x-e[n].x,2)+Math.pow(s.y-e[n].y,2)>=i&&(s=e[n],a.push(s));return a.push(e[r]),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(e))this.canvas.requestRenderAll();else{var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}}}),C.CircleBrush=C.util.createClass(C.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,o=this.points;for(this._saveAndTransform(n),e=0,t=o.length;e<t;e++)this.dot(n,o[e]);n.restore()},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var o=[];for(e=0,t=this.points.length;e<t;e++){var i=this.points[e],r=new C.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(r.shadow=new C.Shadow(this.shadow)),o.push(r)}var s=new C.Group(o);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new C.Point(e.x,e.y),n=C.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,o=new C.Color(this.color).setAlpha(C.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=o,this.points.push(t),t}}),C.SprayBrush=C.util.createClass(C.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.render(this.sprayChunkPoints))},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,o=this.sprayChunks.length;n<o;n++)for(var i=this.sprayChunks[n],r=0,s=i.length;r<s;r++){var a=new C.Rect({width:i[r].width,height:i[r].width,left:i[r].x+1,top:i[r].y+1,originX:"center",originY:"center",fill:this.color});t.push(a)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var l=new C.Group(t);this.shadow&&l.set("shadow",new C.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,o,i={};for(n=0,o=e.length;n<o;n++)i[t=e[n].left+""+e[n].top]||(i[t]=e[n]);var r=[];for(t in i)r.push(i[t]);return r},render:function(e){var t,n,o=this.canvas.contextTop;for(o.fillStyle=this.color,this._saveAndTransform(o),t=0,n=e.length;t<n;t++){var i=e[t];void 0!==i.opacity&&(o.globalAlpha=i.opacity),o.fillRect(i.x,i.y,i.width,i.width)}o.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,o,i,r=this.width/2;for(i=0;i<this.density;i++){t=C.util.getRandomInt(e.x-r,e.x+r),n=C.util.getRandomInt(e.y-r,e.y+r),o=this.dotWidthVariance?C.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new C.Point(t,n);s.width=o,this.randomOpacity&&(s.opacity=C.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),C.PatternBrush=C.util.createClass(C.PencilBrush,{getPatternSrc:function(){var e=C.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new C.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=C.util.getPointer,t=C.util.degreesToRadians,n=C.util.isTouchEvent;for(var o in C.Canvas=C.util.createClass(C.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=C.PencilBrush&&new C.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,o=this.getActiveObjects();if(o.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var i=0,r=this._objects.length;i<r;i++)e=this._objects[i],-1===o.indexOf(e)?t.push(e):n.push(e);o.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),o=C.util.invertTransform(n),i=this.restorePointerVpt(t);return C.util.transformPoint(i,o)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var o=this._normalizePointer(e,{x:t,y:n}),i=Math.max(e.cacheTranslationX+o.x*e.zoomX,0),r=Math.max(e.cacheTranslationY+o.y*e.zoomY,0);return C.util.isTransparent(e._cacheContext,Math.round(i),Math.round(r),this.targetFindTolerance)}var s=this.contextCache,a=e.selectionBackgroundColor,l=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.render(s),s.restore(),e.selectionBackgroundColor=a,C.util.isTransparent(s,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),o=this._activeObject;return!t||t&&o&&n.length>1&&-1===n.indexOf(t)&&o!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&o&&o!==t},_shouldCenterTransform:function(e,t,n){var o;if(e)return"scale"===t||"scaleX"===t||"scaleY"===t||"resizing"===t?o=this.centeredScaling||e.centeredScaling:"rotate"===t&&(o=this.centeredRotation||e.centeredRotation),o?!n:n},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n,o){if(!t||!e)return"drag";var i=o.controls[t];return i.getActionName(n,i,o)},_setupCurrentTransform:function(e,n,o){if(n){var i=this.getPointer(e),r=n.__corner,s=n.controls[r],a=o&&r?s.getActionHandler(e,n,s):C.controlsUtils.dragHandler,l=this._getActionFromCorner(o,r,e,n),c=this._getOriginFromCorner(n,r),u=e[this.centeredKey],d={target:n,action:l,actionHandler:a,corner:r,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:c.x,originY:c.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:t(n.angle),width:n.width*n.scaleX,shiftKey:e.shiftKey,altKey:u,original:C.util.saveObjectTransform(n)};this._shouldCenterTransform(n,l,u)&&(d.originX="center",d.originY="center"),d.original.originX=c.x,d.original.originY=c.y,this._currentTransform=d,this._beforeTransform(e)}},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=new C.Point(t.ex,t.ey),o=C.util.transformPoint(n,this.viewportTransform),i=new C.Point(t.ex+t.left,t.ey+t.top),r=C.util.transformPoint(i,this.viewportTransform),s=Math.min(o.x,r.x),a=Math.min(o.y,r.y),l=Math.max(o.x,r.x),c=Math.max(o.y,r.y),u=this.selectionLineWidth/2;this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(s,a,l-s,c-a)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,s+=u,a+=u,l-=u,c-=u,C.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(s,a,l-s,c-a))},findTarget:function(e,t){if(!this.skipTargetFind){var o,i,r=this.getPointer(e,!0),s=this._activeObject,a=this.getActiveObjects(),l=n(e),c=a.length>1&&!t||1===a.length;if(this.targets=[],c&&s._findTargetCorner(r,l))return s;if(a.length>1&&!t&&s===this._searchPossibleTargets([s],r))return s;if(1===a.length&&s===this._searchPossibleTargets([s],r)){if(!this.preserveObjectStacking)return s;o=s,i=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&u&&o&&u!==o&&(u=o,this.targets=i),u}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&t.containsPoint(e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,o,i=e.length;i--;){var r=e[i],s=r.group?this._normalizePointer(r.group,t):t;if(this._checkTarget(s,r,t)){(n=e[i]).subTargetCheck&&n instanceof C.Group&&(o=this._searchPossibleTargets(n._objects,t))&&this.targets.push(o);break}}return n},restorePointerVpt:function(e){return C.util.transformPoint(e,C.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var o,i=e(t),r=this.upperCanvasEl,s=r.getBoundingClientRect(),a=s.width||0,l=s.height||0;a&&l||("top"in s&&"bottom"in s&&(l=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i));var c=this.getRetinaScaling();return 1!==c&&(i.x/=c,i.y/=c),o=0===a||0===l?{width:1,height:1}:{width:r.width/a,height:r.height/l},{x:i.x*o.width,y:i.y*o.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),C.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=C.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),C.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),C.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;C.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,C.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,o=this.getActiveObjects(),i=[],r=[];e.forEach((function(e){-1===o.indexOf(e)&&(n=!0,e.fire("deselected",{e:t,target:e}),r.push(e))})),o.forEach((function(o){-1===e.indexOf(o)&&(n=!0,o.fire("selected",{e:t,target:o}),i.push(o))})),e.length>0&&o.length>0?n&&this.fire("selection:updated",{e:t,selected:i,deselected:r,updated:i[0]||r[0],target:this._activeObject}):o.length>0?this.fire("selection:created",{e:t,selected:i,target:this._activeObject}):e.length>0&&this.fire("selection:cleared",{e:t,deselected:r})},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&!!this._discardActiveObject(t,e)&&!e.onSelect({e:t})&&(this._activeObject=e,!0)},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){C.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,C.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var o=this._realizeGroupTransformOnObject(e),i=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,o),i},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),C.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var o=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,o)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),C.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),C.StaticCanvas)"prototype"!==o&&(C.Canvas[o]=C.StaticCanvas[o])}(),function(){var e=C.util.addListener,t=C.util.removeListener,n={passive:!1};function o(e,t){return e.button&&e.button===t-1}C.util.object.extend(C.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var o=this.upperCanvasEl,i=this._getEventPrefix();e(C.window,"resize",this._onResize),e(o,i+"down",this._onMouseDown),e(o,i+"move",this._onMouseMove,n),e(o,i+"out",this._onMouseOut),e(o,i+"enter",this._onMouseEnter),e(o,"wheel",this._onMouseWheel),e(o,"contextmenu",this._onContextMenu),e(o,"dblclick",this._onDoubleClick),e(o,"dragover",this._onDragOver),e(o,"dragenter",this._onDragEnter),e(o,"dragleave",this._onDragLeave),e(o,"drop",this._onDrop),this.enablePointerEvents||e(o,"touchstart",this._onTouchStart,n),"undefined"!=typeof eventjs&&t in eventjs&&(eventjs[t](o,"gesture",this._onGesture),eventjs[t](o,"drag",this._onDrag),eventjs[t](o,"orientation",this._onOrientationChange),eventjs[t](o,"shake",this._onShake),eventjs[t](o,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(t,"remove");var e=this._getEventPrefix();t(C.document,e+"up",this._onMouseUp),t(C.document,"touchend",this._onTouchEnd,n),t(C.document,e+"move",this._onMouseMove,n),t(C.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e});var n=this;this._hoveredTargets.forEach((function(o){n.fire("mouse:out",{target:t,e}),o&&t.fire("mouseout",{e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(o){o.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(o)),this.__onMouseDown(o),this._resetTransformEventData();var i=this.upperCanvasEl,r=this._getEventPrefix();e(C.document,"touchend",this._onTouchEnd,n),e(C.document,"touchmove",this._onMouseMove,n),t(i,r+"down",this._onMouseDown)},_onMouseDown:function(o){this.__onMouseDown(o),this._resetTransformEventData();var i=this.upperCanvasEl,r=this._getEventPrefix();t(i,r+"move",this._onMouseMove,n),e(C.document,r+"up",this._onMouseUp),e(C.document,r+"move",this._onMouseMove,n)},_onTouchEnd:function(o){if(!(o.touches.length>0)){this.__onMouseUp(o),this._resetTransformEventData(),this.mainTouchId=null;var i=this._getEventPrefix();t(C.document,"touchend",this._onTouchEnd,n),t(C.document,"touchmove",this._onMouseMove,n);var r=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(r.upperCanvasEl,i+"down",r._onMouseDown),r._willAddMouseDown=0}),400)}},_onMouseUp:function(o){this.__onMouseUp(o),this._resetTransformEventData();var i=this.upperCanvasEl,r=this._getEventPrefix();this._isMainEvent(o)&&(t(C.document,r+"up",this._onMouseUp),t(C.document,r+"move",this._onMouseMove,n),e(i,r+"move",this._onMouseMove,n))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!=!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,i=this._groupSelector,r=!1,s=!i||0===i.left&&0===i.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),o(e,3))this.fireRightClick&&this._handleEvent(e,"up",3,s);else{if(o(e,2))return this.fireMiddleClick&&this._handleEvent(e,"up",2,s),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){if(n&&(this._finalizeCurrentTransform(e),r=n.actionPerformed),!s){var a=t===this._activeObject;this._maybeGroupObjects(e),r||(r=this._shouldRender(t)||!a&&t===this._activeObject)}if(t){if(t.selectable&&t!==this._activeObject&&"up"===t.activeOn)this.setActiveObject(t,e),r=!0;else{var l=t._findTargetCorner(this.getPointer(e,!0),C.util.isTouchEvent(e)),c=t.controls[l],u=c&&c.getMouseUpHandler(e,t,c);if(u){var d=this.getPointer(e);u(e,n,d.x,d.y)}}t.isMoving=!1}this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,s),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),r?this.requestRenderAll():s||this.renderTop()}}},_simpleEventHandler:function(e,t){var n=this.findTarget(t),o=this.targets,i={e:t,target:n,subTargets:o};if(this.fire(e,i),n&&n.fire(e,i),!o)return n;for(var r=0;r<o.length;r++)o[r].fire(e,i);return n},_handleEvent:function(e,t,n,o){var i=this._target,r=this.targets||[],s={e,target:i,subTargets:r,button:n||1,isClick:o||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===t&&(s.currentTarget=this.findTarget(e),s.currentSubTargets=this.targets),this.fire("mouse:"+t,s),i&&i.fire("mouse"+t,s);for(var a=0;a<r.length;a++)r[a].fire("mouse"+t,s)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,o=n.target,i={e,target:o,transform:n,action:n.action};o._scaling&&(o._scaling=!1),o.setCoords(),(n.actionPerformed||this.stateful&&o.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(i,n),this._fire(t,i)),this._fire("modified",i))},_addEventOptions:function(e,t){var n,o;switch(t.action){case"scaleX":n="scaled",o="x";break;case"scaleY":n="scaled",o="y";break;case"skewX":n="skewed",o="x";break;case"skewY":n="skewed",o="y";break;case"scale":n="scaled",o="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=o,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll();var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(o(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(o(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var i=this._shouldRender(t),r=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):r&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),t){var s=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var a=t._findTargetCorner(this.getPointer(e,!0),C.util.isTouchEvent(e));if(t.__corner=a,t===this._activeObject&&(a||!r)){this._setupCurrentTransform(e,t,s);var l=t.controls[a],c=(n=this.getPointer(e),l&&l.getMouseDownHandler(e,t,l));c&&c(e,this._currentTransform,n.x,n.y)}}this._handleEvent(e,"down"),(i||r)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e,transform:t})},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var o=this._groupSelector;o?(n=this._absolutePointer,o.left=n.x-o.ex,o.top=n.y-o.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,o=this._hoveredTargets,i=this.targets,r=Math.max(o.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<r;s++)this.fireSyntheticInOutEvents(i[s],t,{oldTarget:o[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,o=this._hoveredTargets,i=this.targets,r=Math.max(o.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<r;s++)this.fireSyntheticInOutEvents(i[s],t,{oldTarget:o[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var o,i,r,s=n.oldTarget,a=s!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;a&&(o={e:t,target:e,previousTarget:s},i={e:t,target:s,nextTarget:e}),r=e&&a,s&&a&&(c&&this.fire(c,i),s.fire(n.evtOut,i)),r&&(l&&this.fire(l,o),e.fire(n.evtIn,o))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var o=n.x,i=n.y,r=t.action,s=!1,a=t.actionHandler;a&&(s=a(e,t,o,i)),"drag"===r&&s&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||s},_fire:C.controlsUtils.fireEvent,_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,o=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!o||!o.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));i?this.setCursor(this.getCornerCursor(i,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(e,t,n){var o=t.controls[e];return o.cursorStyleHandler(n,o,t)}})}(),v=Math.min,b=Math.max,C.util.object.extend(C.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,o=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(o,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),o=this._createGroup(e);this._hoveredTarget=o,this._setActiveObject(o,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new C.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new C.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(e){for(var t,n=[],o=this._groupSelector.ex,i=this._groupSelector.ey,r=o+this._groupSelector.left,s=i+this._groupSelector.top,a=new C.Point(v(o,r),v(i,s)),l=new C.Point(b(o,r),b(i,s)),c=!this.selectionFullyContained,u=o===r&&i===s,d=this._objects.length;d--&&!((t=this._objects[d])&&t.selectable&&t.visible&&(c&&t.intersectsWithRect(a,l,!0)||t.isContainedWithinRect(a,l,!0)||c&&t.containsPoint(a,null,!0)||c&&t.containsPoint(l,null,!0))&&(n.push(t),u)););return n.length>1&&(n=n.filter((function(t){return!t.onSelect({e})}))),n},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}}),C.util.object.extend(C.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,o=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(o,e);return C.util.toDataURL(i,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,o=(t.height||this.height)*e,i=this.getZoom(),r=this.width,s=this.height,a=i*e,l=this.viewportTransform,c=(l[4]-(t.left||0))*e,u=(l[5]-(t.top||0))*e,d=this.interactive,h=[a,0,0,a,c,u],f=this.enableRetinaScaling,p=C.util.createCanvasElement(),m=this.contextTop;return p.width=n,p.height=o,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=h,this.width=n,this.height=o,this.calcViewportBoundaries(),this.renderCanvas(p.getContext("2d"),this._objects),this.viewportTransform=l,this.width=r,this.height=s,this.calcViewportBoundaries(),this.interactive=d,this.enableRetinaScaling=f,this.contextTop=m,p}}),C.util.object.extend(C.StaticCanvas.prototype,{loadFromJSON:function(e,t,n){if(e){var o="string"==typeof e?JSON.parse(e):C.util.object.clone(e),i=this,r=o.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete o.clipPath,this._enlivenObjects(o.objects,(function(e){i.clear(),i._setBgOverlay(o,(function(){r?i._enlivenObjects([r],(function(n){i.clipPath=n[0],i.__setupCanvas.call(i,o,e,s,t)})):i.__setupCanvas.call(i,o,e,s,t)}))}),n),this}},__setupCanvas:function(e,t,n,o){var i=this;t.forEach((function(e,t){i.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),o&&o()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var o=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,o),this.__setBgOverlay("overlayImage",e.overlayImage,n,o),this.__setBgOverlay("backgroundColor",e.background,n,o),this.__setBgOverlay("overlayColor",e.overlay,n,o)}else t&&t()},__setBgOverlay:function(e,t,n,o){var i=this;if(!t)return n[e]=!0,void(o&&o());"backgroundImage"===e||"overlayImage"===e?C.util.enlivenObjects([t],(function(t){i[e]=t[0],n[e]=!0,o&&o()})):this["set"+C.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,o&&o()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?C.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(o){n(o.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=C.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new C.Canvas(t);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,o=t.util.object.clone,i=t.util.toFixed,r=t.util.string.capitalize,s=t.util.degreesToRadians,a=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,o=e.width,i=e.height,r=t.maxCacheSideLimit,s=t.minCacheSideLimit;if(o<=r&&i<=r&&o*i<=n)return o<s&&(e.width=s),i<s&&(e.height=s),e;var a=o/i,l=t.util.limitDimsByArea(a,n),c=t.util.capValue,u=c(s,l.x,r),d=c(s,l.y,r);return o>u&&(e.zoomX/=o/u,e.width=u,e.capped=!0),i>d&&(e.zoomY/=i/d,e.height=d,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,o=t.y*e.scaleY/this.scaleY;return{width:n+2,height:o+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:o}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,o=e._currentTransform.action;if(this===n&&o.slice&&"scale"===o.slice(0,5))return!1}var i,r,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=a.width,u=a.height,d=a.zoomX,h=a.zoomY,f=c!==this.cacheWidth||u!==this.cacheHeight,p=this.zoomX!==d||this.zoomY!==h,m=f||p,g=0,O=0,v=!1;if(f){var b=this._cacheCanvas.width,y=this._cacheCanvas.height,x=c>b||u>y;v=x||(c<.9*b||u<.9*y)&&b>l&&y>l,x&&!a.capped&&(c>l||u>l)&&(g=.1*c,O=.1*u)}return this instanceof t.Text&&this.path&&(m=!0,v=!0,g+=this.getHeightOfLine(0)*this.zoomX,O+=this.getHeightOfLine(0)*this.zoomY),!!m&&(v?(s.width=Math.ceil(c+g),s.height=Math.ceil(u+O)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),i=a.x/2,r=a.y/2,this.cacheTranslationX=Math.round(s.width/2-i)+i,this.cacheTranslationY=Math.round(s.height/2-r)+r,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(d,h),this.zoomX=d,this.zoomY=h,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,o={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return this.clipPath&&!this.clipPath.excludeFromExport&&(o.clipPath=this.clipPath.toObject(e),o.clipPath.inverted=this.clipPath.inverted,o.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,o,e),this.includeDefaultValues||(o=this._removeDefaultValues(o)),o},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+r(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var e=t.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(e.scaleX),scaleY:Math.abs(e.scaleY)}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var o=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();t*=o*i,n*=o*i}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var o="scaleX"===e||"scaleY"===e,i=this[e]!==n,r=!1;return o&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,i&&(r=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,r&&this.group.set("dirty",!0)):r&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var o=t.util.invertTransform(this.calcTransformMatrix());e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,o=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=o},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){var n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)},_setFillStyles:function(e,t){var n=t.fill;n&&(n.toLive?(e.fillStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,t.fill)):e.fillStyle=n)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),e.setLineDash(t))},_renderControls:function(e,n){var o,i,r,a=this.getViewportTransform(),l=this.calcTransformMatrix();i=void 0!==(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,r=void 0!==n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(a,l),o=t.util.qrDecompose(l),e.save(),e.translate(o.translateX,o.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),e.rotate(s(o.angle)),n.forActiveSelection||this.group?i&&this.drawBordersInGroup(e,o,n):i&&this.drawBorders(e,n),r&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,o=this.shadow,i=this.canvas,r=i&&i.viewportTransform[0]||1,s=i&&i.viewportTransform[3]||1;n=o.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(r*=t.devicePixelRatio,s*=t.devicePixelRatio),e.shadowColor=o.color,e.shadowBlur=o.blur*t.browserShadowBlurConstant*(r+s)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=o.offsetX*r*n.scaleX,e.shadowOffsetY=o.offsetY*s*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,o=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,o,i):e.transform(1,0,0,1,o,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:o,offsetY:i}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&this.group){var t=this.getObjectScaling();e.scale(1/t.scaleX,1/t.scaleY)}else this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}},_applyPatternForTransformedGradient:function(e,n){var o,i=this._limitCacheSize(this._getCacheCanvasDimensions()),r=t.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=i.x/this.scaleX/s,l=i.y/this.scaleY/s;r.width=a,r.height=l,(o=r.getContext("2d")).beginPath(),o.moveTo(0,0),o.lineTo(a,0),o.lineTo(a,l),o.lineTo(0,l),o.closePath(),o.translate(a/2,l/2),o.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(o,n),o.fillStyle=n.toLive(e),o.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=o.createPattern(r,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var o=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(o,e):t.Object._fromObject("Object",o,e)},cloneAsImage:function(e,n){var o=this.toCanvasElement(n);return e&&e(new t.Image(o)),this},toCanvasElement:function(e){e||(e={});var n=t.util,o=n.saveObjectTransform(this),i=this.group,r=this.shadow,s=Math.abs,a=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u,d,h=t.util.createCanvasElement(),f=this.getBoundingRect(!0,!0),p=this.shadow,m={x:0,y:0};p&&(c=p.blur,l=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),m.x=2*Math.round(s(p.offsetX)+c)*s(l.scaleX),m.y=2*Math.round(s(p.offsetY)+c)*s(l.scaleY)),u=f.width+m.x,d=f.height+m.y,h.width=Math.ceil(u),h.height=Math.ceil(d);var g=new t.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(g.width/2,g.height/2),"center","center");var O=this.canvas;g.add(this);var v=g.toCanvasElement(a||1,e);return this.shadow=r,this.set("canvas",O),i&&(this.group=i),this.set(o).setCoords(),g._objects=[],g.dispose(),g=null,v},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var o=new t.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(o=t.util.rotatePoint(o,i,s(-this.angle))),{x:o.x-i.x,y:o.y-i.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,i,r){var s=t[e];n=o(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){void 0!==e[0]&&(n.fill=e[0]),void 0!==e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=r?new s(n[r],n):new s(n);i&&i(t)}))}))},t.Object.__uid=0)}(t),y=C.util.degreesToRadians,x={left:-.5,center:0,right:.5},w={top:-.5,center:0,bottom:.5},C.util.object.extend(C.Object.prototype,{translateToGivenOrigin:function(e,t,n,o,i){var r,s,a,l=e.x,c=e.y;return"string"==typeof t?t=x[t]:t-=.5,"string"==typeof o?o=x[o]:o-=.5,"string"==typeof n?n=w[n]:n-=.5,"string"==typeof i?i=w[i]:i-=.5,s=i-n,((r=o-t)||s)&&(a=this._getTransformedDimensions(),l=e.x+r*a.x,c=e.y+s*a.y),new C.Point(l,c)},translateToCenterPoint:function(e,t,n){var o=this.translateToGivenOrigin(e,t,n,"center","center");return this.angle?C.util.rotatePoint(o,e,y(this.angle)):o},translateToOriginPoint:function(e,t,n){var o=this.translateToGivenOrigin(e,"center","center",t,n);return this.angle?C.util.rotatePoint(o,e,y(this.angle)):o},getCenterPoint:function(){var e=new C.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(e,t,n){var o,i,r=this.getCenterPoint();return o=void 0!==t&&void 0!==n?this.translateToGivenOrigin(r,"center","center",t,n):new C.Point(this.left,this.top),i=new C.Point(e.x,e.y),this.angle&&(i=C.util.rotatePoint(i,r,-y(this.angle))),i.subtractEquals(o)},setPositionByOrigin:function(e,t,n){var o=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(o,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(e){var t,n,o=y(this.angle),i=this.getScaledWidth(),r=C.util.cos(o)*i,s=C.util.sin(o)*i;t="string"==typeof this.originX?x[this.originX]:this.originX-.5,n="string"==typeof e?x[e]:e-.5,this.left+=r*(n-t),this.top+=s*(n-t),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var e=C.util,t=e.degreesToRadians,n=e.multiplyTransformMatrices,o=e.transformPoint;e.object.extend(C.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return n=this._getCoords(e,t),[new C.Point(n.tl.x,n.tl.y),new C.Point(n.tr.x,n.tr.y),new C.Point(n.br.x,n.br.y),new C.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(e,t,n,o){var i=this.getCoords(n,o);return"Intersection"===C.Intersection.intersectPolygonRectangle(i,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===C.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var o=this.getCoords(t,n),i=t?e.aCoords:e.lineCoords,r=0,s=e._getImageLines(i);r<4;r++)if(!e.containsPoint(o[r],s))return!1;return!0},isContainedWithinRect:function(e,t,n,o){var i=this.getBoundingRect(n,o);return i.left>=e.x&&i.left+i.width<=t.x&&i.top>=e.y&&i.top+i.height<=t.y},containsPoint:function(e,t,n,o){var i=this._getCoords(n,o),r=(t=t||this._getImageLines(i),this._findCrossPoints(e,t));return 0!==r&&r%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,e).some((function(e){return e.x<=n.x&&e.x>=t.x&&e.y<=n.y&&e.y>=t.y}))||!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e)},_containsCenterOfCanvas:function(e,t,n){var o={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(o,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this.getCoords(!0,e).every((function(e){return(e.x>=n.x||e.x<=t.x)&&(e.y>=n.y||e.y<=t.y)}))&&this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,o,i,r=0;for(var s in t)if(!((i=t[s]).o.y<e.y&&i.d.y<e.y||i.o.y>=e.y&&i.d.y>=e.y||(i.o.x===i.d.x&&i.o.x>=e.x?o=i.o.x:(n=(i.d.y-i.o.y)/(i.d.x-i.o.x),o=-(e.y-0*e.x-(i.o.y-n*i.o.x))/(0-n)),o>=e.x&&(r+=1),2!==r)))break;return r},getBoundingRect:function(t,n){var o=this.getCoords(t,n);return e.makeBoundingBoxFromPoints(o)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var n=this.getViewportTransform(),i=this.padding,r=t(this.angle),s=e.cos(r)*i,a=e.sin(r)*i,l=s+a,c=s-a,u=this.calcACoords(),d={tl:o(u.tl,n),tr:o(u.tr,n),bl:o(u.bl,n),br:o(u.br,n)};return i&&(d.tl.x-=c,d.tl.y-=l,d.tr.x+=l,d.tr.y-=c,d.bl.x-=l,d.bl.y+=c,d.br.x+=c,d.br.y+=l),d},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),o=this.getViewportTransform(),i=n(o,t),r=n(i,e),s=(r=n(r,[1/o[0],0,0,1/o[3],0,0]),this._calculateCurrentDimensions()),a={};return this.forEachControl((function(e,t,n){a[t]=e.positionHandler(s,r,n)})),a},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),i=n(t,e),r=this._getTransformedDimensions(),s=r.x/2,a=r.y/2;return{tl:o({x:-s,y:-a},i),tr:o({x:s,y:-a},i),bl:o({x:-s,y:a},i),br:o({x:s,y:a},i)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="_",n="";return!e&&this.group&&(n=this.group.transformMatrixKey(e)+t),n+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var o=this.transformMatrixKey(e),i=this.matrixCache||(this.matrixCache={});return i.key===o?i.value:(this.group&&(t=n(this.group.calcTransformMatrix(!1),t)),i.key=o,i.value=t,t)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var o=this._calcTranslateMatrix(),i={angle:this.angle,translateX:o[4],translateY:o[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=t,n.value=e.composeMatrix(i),n.value},_calcDimensionsTransformMatrix:function(t,n,o){return e.calcDimensionsMatrix({skewX:t,skewY:n,scaleX:this.scaleX*(o&&this.flipX?-1:1),scaleY:this.scaleY*(o&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(t,n){void 0===t&&(t=this.skewX),void 0===n&&(n=this.skewY);var o,i,r,s=0===t&&0===n;if(this.strokeUniform?(i=this.width,r=this.height):(i=(o=this._getNonTransformedDimensions()).x,r=o.y),s)return this._finalizeDimensions(i*this.scaleX,r*this.scaleY);var a=e.sizeAfterTransform(i,r,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:n});return this._finalizeDimensions(a.x,a.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return o(t,e,!0).scalarAdd(2*this.padding)}})}(),C.util.object.extend(C.Object.prototype,{sendToBack:function(){return this.group?C.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?C.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?C.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas&&this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?C.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas&&this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?C.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas&&this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new C.Color(t),o=e+": "+n.toRgb()+"; ",i=n.getAlpha();return 1!==i&&(o+=e+"-opacity: "+i.toString()+"; "),o}return e+": none; "}var t=C.util.toFixed;C.util.object.extend(C.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),h=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",o,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")},getSvgSpanStyles:function(t,n){var o="; ",i=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+o:"",r=t.strokeWidth?"stroke-width: "+t.strokeWidth+o:"",s=t.fontSize?"font-size: "+t.fontSize+"px"+o:"",a=t.fontStyle?"font-style: "+t.fontStyle+o:"",l=t.fontWeight?"font-weight: "+t.fontWeight+o:"",c=t.fill?e("fill",t.fill):"",u=t.stroke?e("stroke",t.stroke):"",d=this.getSvgTextDecoration(t);return d&&(d="text-decoration: "+d+o),[u,r,i,s,a,l,d,c,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+C.util.matrixToSVG(n)+(t||"")+'" '},_setSVGBg:function(e){if(this.backgroundColor){var n=C.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,o=t.additionalTransform||"",i=[this.getSvgTransform(!0,o),this.getSvgCommons()].join(""),r=e.indexOf("COMMON_PARTS");return e[r]=i,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,o,i=(t=t||{}).noStyle,r=t.reviver,s=i?"":'style="'+this.getSvgStyles()+'" ',a=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,h=this.fill,f=this.shadow,p=[],m=e.indexOf("COMMON_PARTS"),g=t.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+C.Object.__uid++,o='<clipPath id="'+l.clipPathId+'" >\n'+l.toClipPathSVG(r)+"</clipPath>\n"),u&&p.push("<g ",a,this.getSvgCommons()," >\n"),p.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons()," >\n"),n=[s,c,i?"":this.addPaintOrder()," ",g?'transform="'+g+'" ':""].join(""),e[m]=n,h&&h.toLive&&p.push(h.toSVG(this)),d&&d.toLive&&p.push(d.toSVG(this)),f&&p.push(f.toSVG(this)),l&&p.push(o),p.push(e.join("")),p.push("</g>\n"),u&&p.push("</g>\n"),r?r(p.join("")):p.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=C.util.object.extend,t="stateProperties";function n(t,n,o){var i={};o.forEach((function(e){i[e]=t[e]})),e(t[n],i,!0)}function o(e,t,n){if(e===t)return!0;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var i=0,r=e.length;i<r;i++)if(!o(e[i],t[i]))return!1;return!0}if(e&&"object"==typeof e){var s,a=Object.keys(e);if(!t||"object"!=typeof t||!n&&a.length!==Object.keys(t).length)return!1;for(i=0,r=a.length;i<r;i++)if("canvas"!==(s=a[i])&&"group"!==s&&!o(e[s],t[s]))return!1;return!0}}C.util.object.extend(C.Object.prototype,{hasStateChanged:function(e){var n="_"+(e=e||t);return Object.keys(this[n]).length<this[e].length||!o(this[n],this,!0)},saveState:function(e){var o=e&&e.propertySet||t,i="_"+o;return this[i]?(n(this,i,this[o]),e&&e.stateProperties&&n(this,i,e.stateProperties),this):this.setupState(e)},setupState:function(e){var n=(e=e||{}).propertySet||t;return e.propertySet=n,this["_"+n]={},this.saveState(e),this}})}(),function(){var e=C.util.degreesToRadians;C.util.object.extend(C.Object.prototype,{_findTargetCorner:function(e,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,o,i,r=e.x,s=e.y,a=Object.keys(this.oCoords),l=a.length-1;for(this.__corner=0;l>=0;l--)if(i=a[l],this.isControlVisible(i)&&(o=this._getImageLines(t?this.oCoords[i].touchCorner:this.oCoords[i].corner),0!==(n=this._findCrossPoints({x:r,y:s},o))&&n%2==1))return this.__corner=i,i;return!1},forEachControl:function(e){for(var t in this.controls)e(this.controls[t],t,this)},_setCornerCoords:function(){var e=this.oCoords;for(var t in e){var n=this.controls[t];e[t].corner=n.calcCornerCoords(this.angle,this.cornerSize,e[t].x,e[t].y,!1),e[t].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,e[t].x,e[t].y,!0)}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),o=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/i[0],1/i[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-o.x/2,-o.y/2,o.x,o.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),o=this.borderScaleFactor,i=n.x+o,r=n.y+o,s=void 0!==t.hasControls?t.hasControls:this.hasControls,a=!1;return e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray),e.strokeRect(-i/2,-r/2,i,r),s&&(e.beginPath(),this.forEachControl((function(t,n,o){t.withConnection&&t.getVisibility(o,n)&&(a=!0,e.moveTo(t.x*i,t.y*r),e.lineTo(t.x*i+t.offsetX,t.y*r+t.offsetY))})),a&&e.stroke()),e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var o=C.util.sizeAfterTransform(this.width,this.height,t),i=this.strokeWidth,r=this.strokeUniform,s=this.borderScaleFactor,a=o.x+i*(r?this.canvas.getZoom():t.scaleX)+s,l=o.y+i*(r?this.canvas.getZoom():t.scaleY)+s;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-a/2,-l/2,a,l),e.restore(),this},drawControls:function(e,t){t=t||{},e.save();var n,o,i=this.canvas.getRetinaScaling();return e.setTransform(i,0,0,i,0,0),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl((function(i,r,s){o=s.oCoords[r],i.getVisibility(s,r)&&(n&&(o=C.util.transformPoint(o,n)),i.render(e,o.x,o.y,t,s))})),e.restore(),this},isControlVisible:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)},setControlVisible:function(e,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),C.util.object.extend(C.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},o=(t=t||{}).onComplete||n,i=t.onChange||n,r=this;return C.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),r.requestRenderAll(),i()},onComplete:function(){e.setCoords(),o()}}),this},fxCenterObjectV:function(e,t){var n=function(){},o=(t=t||{}).onComplete||n,i=t.onChange||n,r=this;return C.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),r.requestRenderAll(),i()},onComplete:function(){e.setCoords(),o()}}),this},fxRemove:function(e,t){var n=function(){},o=(t=t||{}).onComplete||n,i=t.onChange||n,r=this;return C.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),r.requestRenderAll(),i()},onComplete:function(){r.remove(e),o()}}),this}}),C.util.object.extend(C.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var e,t,n=[];for(e in arguments[0])n.push(e);for(var o=0,i=n.length;o<i;o++)e=n[o],t=o!==i-1,this._animate(e,arguments[0][e],arguments[1],t)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,o){var i,r=this;t=t.toString(),n=n?C.util.object.clone(n):{},~e.indexOf(".")&&(i=e.split("."));var s=r.colorProperties.indexOf(e)>-1||i&&r.colorProperties.indexOf(i[1])>-1,a=i?this.get(i[0])[i[1]]:this.get(e);"from"in n||(n.from=a),s||(t=~t.indexOf("=")?a+parseFloat(t.replace("=","")):parseFloat(t));var l={startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(e,t,o){return n.abort.call(r,e,t,o)},onChange:function(t,s,a){i?r[i[0]][i[1]]=t:r.set(e,t),o||n.onChange&&n.onChange(t,s,a)},onComplete:function(e,t,i){o||(r.setCoords(),n.onComplete&&n.onComplete(e,t,i))}};return s?C.util.animateColor(l.startValue,l.endValue,l.duration,l):C.util.animate(l)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,o=t.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};function r(e,t){var n=e.origin,o=e.axis1,i=e.axis2,r=e.dimension,s=t.nearest,a=t.center,l=t.farthest;return function(){switch(this.get(n)){case s:return Math.min(this.get(o),this.get(i));case a:return Math.min(this.get(o),this.get(i))+.5*this.get(r);case l:return Math.max(this.get(o),this.get(i))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),void 0!==i[e]&&this._setWidthHeight(),this},_getLeftToOriginX:r({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:r({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){e.beginPath();var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,o=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:o,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,o,i){i=i||{};var r=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),s=[r.x1||0,r.y1||0,r.x2||0,r.y2||0];o(new t.Line(s,n(r,i)))},t.Line.fromObject=function(e,n){var i=o(e,!0);i.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",i,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,o=(this.endAngle-this.startAngle)%(2*n);if(0===o)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=t.util.cos(this.startAngle)*this.radius,r=t.util.sin(this.startAngle)*this.radius,s=t.util.cos(this.endAngle)*this.radius,a=t.util.sin(this.endAngle)*this.radius,l=o>n?"1":"0";e=['<path d="M '+i+" "+r," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+s+" "+a,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var o,i=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(o=i)&&o.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,n(new t.Circle(i))},t.Circle.fromObject=function(e,n){t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var o=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);o.left=(o.left||0)-o.rx,o.top=(o.top||0)-o.ry,n(new t.Ellipse(o))},t.Ellipse.fromObject=function(e,n){t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,o=this.width,i=this.height,r=-this.width/2,s=-this.height/2,a=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(r+t,s),e.lineTo(r+o-t,s),a&&e.bezierCurveTo(r+o-l*t,s,r+o,s+l*n,r+o,s+n),e.lineTo(r+o,s+i-n),a&&e.bezierCurveTo(r+o,s+i-l*n,r+o-l*t,s+i,r+o-t,s+i),e.lineTo(r+t,s+i),a&&e.bezierCurveTo(r+l*t,s+i,r,s+i-l*n,r,s+i-n),e.lineTo(r,s+n),a&&e.bezierCurveTo(r,s+l*n,r+l*t,s,r+t,s),e.closePath(),this._renderPaintInOrder(e)},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,o,i){if(!e)return o(null);i=i||{};var r=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0,r.height=r.height||0,r.width=r.width||0;var s=new t.Rect(n(i?t.util.object.clone(i):{},r));s.visible=s.visible&&s.width>0&&s.height>0,o(s)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,o=t.util.array.min,i=t.util.array.max,r=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===e.left&&(this.left=e.fromSVG?n.left:t.x),void 0===e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=o(e,"x")||0,n=o(e,"y")||0;return{left:t,top:n,width:(i(e,"x")||0)-t,height:(i(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,o=this.pathOffset.y,i=t.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)e.push(r(this.points[s].x-n,i),",",r(this.points[s].y-o,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,o=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-o,this.points[0].y-i);for(var r=0;r<n;r++)t=this.points[r],e.lineTo(t.x-o,t.y-i);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(o,i,r){if(!o)return i(null);r||(r={});var s=t.parsePointsAttribute(o.getAttribute("points")),a=t.parseAttributes(o,t[e].ATTRIBUTE_NAMES);a.fromSVG=!0,i(new t[e](s,n(a,r)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,o=t.util.array.max,i=t.util.object.extend,r=Object.prototype.toString,s=t.util.toFixed;t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){n=n||{},this.callSuper("initialize",n),e||(e=[]);var o="[object Array]"===r.call(e);this.path=t.util.makePathSimpler(o?e:t.util.parsePath(e)),this.path&&t.Polyline.prototype._setPositionDimensions.call(this,n)},_renderPathCommands:function(e){var t,n=0,o=0,i=0,r=0,s=0,a=0,l=-this.pathOffset.x,c=-this.pathOffset.y;e.beginPath();for(var u=0,d=this.path.length;u<d;++u)switch((t=this.path[u])[0]){case"L":i=t[1],r=t[2],e.lineTo(i+l,r+c);break;case"M":n=i=t[1],o=r=t[2],e.moveTo(i+l,r+c);break;case"C":i=t[5],r=t[6],s=t[3],a=t[4],e.bezierCurveTo(t[1]+l,t[2]+c,s+l,a+c,i+l,r+c);break;case"Q":e.quadraticCurveTo(t[1]+l,t[2]+c,t[3]+l,t[4]+c),i=t[3],r=t[4],s=t[1],a=t[2];break;case"z":case"Z":i=n,r=o,e.closePath()}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return i(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',t.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,e)+", "+s(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var e,i,r=[],s=[],a=0,l=0,c=0,u=0,d=0,h=this.path.length;d<h;++d){switch((e=this.path[d])[0]){case"L":c=e[1],u=e[2],i=[];break;case"M":a=c=e[1],l=u=e[2],i=[];break;case"C":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[3],e[4],e[5],e[6]),c=e[5],u=e[6];break;case"Q":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[1],e[2],e[3],e[4]),c=e[3],u=e[4];break;case"z":case"Z":c=a,u=l}i.forEach((function(e){r.push(e.x),s.push(e.y)})),r.push(c),s.push(u)}var f=n(r)||0,p=n(s)||0;return{left:f,top:p,width:(o(r)||0)-f,height:(o(s)||0)-p}}}),t.Path.fromObject=function(e,n){if("string"==typeof e.sourcePath){var o=e.sourcePath;t.loadSVGFromURL(o,(function(t){var o=t[0];o.setOptions(e),n&&n(o)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,o){var r=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);r.fromSVG=!0,n(new t.Path(r.d,i(r,o)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,o=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;if(n)this._updateObjectsACoords();else{var i=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(!0)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,o=e.top;e.set({left:n-t.x,top:o-t.y}),e.group=this,e.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){var n=!!this.group;return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(n&&t.util.removeTransformFromObject(e,this.group.calcTransformMatrix()),this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var o=this._objects.length;if(this.useSetOnGroup)for(;o--;)this._objects[o].setOnGroup(e,n);if("canvas"===e)for(;o--;)this._objects[o]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,o=this._objects.filter((function(e){return!e.excludeFromExport})).map((function(t){var o=t.includeDefaultValues;t.includeDefaultValues=n;var i=t.toObject(e);return t.includeDefaultValues=o,i})),i=t.Object.prototype.toObject.call(this,e);return i.objects=o,i},toDatalessObject:function(e){var n,o=this.sourcePath;if(o)n=o;else{var i=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=i;var o=t.toDatalessObject(e);return t.includeDefaultValues=n,o}))}var r=t.Object.prototype.toDatalessObject.call(this,e);return r.objects=n,r},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,o=this._objects.length;n<o;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(t.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var o=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-o/2,-i/2,o,i)}return!0}return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach((function(n){t.util.addTransformToObject(n,e),delete n.group,n.setCoords()})),this},realizeTransform:function(e,n){return t.util.addTransformToObject(e,n),e},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var o=this.toObject();delete o.objects;var i=new t.ActiveSelection([]);return i.set(o),i.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=i,e.dirty=!0,n.add(e)})),i.canvas=n,i._objects=e,n._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(!0)})),this},_calcBounds:function(e){for(var t,n,o,i,r=[],s=[],a=["tr","br","bl","tl"],l=0,c=this._objects.length,u=a.length;l<c;++l){for(o=(t=this._objects[l]).calcACoords(),i=0;i<u;i++)n=a[i],r.push(o[n].x),s.push(o[n].y);t.aCoords=o}this._getBounds(r,s,e)},_getBounds:function(e,i,r){var s=new t.Point(n(e),n(i)),a=new t.Point(o(e),o(i)),l=s.y||0,c=s.x||0,u=a.x-s.x||0,d=a.y-s.y||0;this.width=u,this.height=d,r||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,o=this._objects.length;n<o;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,o=this._objects.length;n<o;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var o=e.objects,i=t.util.object.clone(e,!0);delete i.objects,"string"!=typeof o?t.util.enlivenObjects(o,(function(o){t.util.enlivenObjects([e.clipPath],(function(i){var r=t.util.object.clone(e,!0);r.clipPath=i[0],delete r.objects,n&&n(new t.Group(o,r,!0))}))})):t.loadSVGFromURL(o,(function(r){var s=t.util.groupSVGElements(r,e,o);s.set(i),n&&n(s)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),o=new t.Group([]);if(delete n.type,o.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=o})),o._objects=e,!this.canvas)return o;var i=this.canvas;return i.add(o),i._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var o=0,i=this._objects.length;o<i;o++)this._objects[o]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(o){delete e.objects,n&&n(new t.ActiveSelection(o,e,!0))}))})}(t),function(e){"use strict";var t=C.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?C.warn("fabric.Image is already defined."):(C.Image=C.util.createClass(C.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:C.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:C.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+C.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=C.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){C.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var o=t(this.callSuper("toObject",["cropX","cropY"].concat(e)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],o=this._element,i=-this.width/2,r=-this.height/2,s="",a="";if(!o)return[];if(this.hasCrop()){var l=C.Object.__uid++;t.push('<clipPath id="imageCrop_'+l+'">\n','\t<rect x="'+i+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+l+')" '}if(this.imageSmoothing||(a='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',r-this.cropY,'" width="',o.width||o.naturalWidth,'" height="',o.height||o.height,a,'"',s,"></image>\n"),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,e=["\t<rect ",'x="',i,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=c}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return C.util.loadImage(e,(function(e,o){this.setElement(e,n),this._setWidthHeight(),t&&t(this,o)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),o=n.scaleX,i=n.scaleY,r=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||o>t&&i>t)return this._element=r,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=o,void(this._lastScaleY=i);C.filterBackend||(C.filterBackend=C.initFilterBackend());var s=C.util.createCanvasElement(),a=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,l=r.width,c=r.height;s.width=l,s.height=c,this._element=s,this._lastScaleX=e.scaleX=o,this._lastScaleY=e.scaleY=i,C.filterBackend.applyFilters([e],r,l,c,this._element,a),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,o=t.naturalHeight||t.height;if(this._element===this._originalElement){var i=C.util.createCanvasElement();i.width=n,i.height=o,this._element=i,this._filteredEl=i}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,o),this._lastScaleX=1,this._lastScaleY=1;return C.filterBackend||(C.filterBackend=C.initFilterBackend()),C.filterBackend.applyFilters(e,this._originalElement,n,o,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){C.util.setImageSmoothing(e,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},drawCacheOnCanvas:function(e){C.util.setImageSmoothing(e,this.imageSmoothing),C.Object.prototype.drawCacheOnCanvas.call(this,e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element;if(t){var n=this._filterScalingX,o=this._filterScalingY,i=this.width,r=this.height,s=Math.min,a=Math.max,l=a(this.cropX,0),c=a(this.cropY,0),u=t.naturalWidth||t.width,d=t.naturalHeight||t.height,h=l*n,f=c*o,p=s(i*n,u-h),m=s(r*o,d-f),g=-i/2,O=-r/2,v=s(i,u/n-l),b=s(r,d/o-c);t&&e.drawImage(t,h,f,p,m,g,O,v,b)}},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(C.util.getById(e),t),C.util.addClass(this.getElement(),C.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e)},_initFilters:function(e,t){e&&e.length?C.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=C.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,o=this._element.height,i=1,r=1,s=0,a=0,l=0,c=0,u=this.width,d=this.height,h={width:u,height:d};return!t||"none"===t.alignX&&"none"===t.alignY?(i=u/n,r=d/o):("meet"===t.meetOrSlice&&(e=(u-n*(i=r=C.util.findScaleToFit(this._element,h)))/2,"Min"===t.alignX&&(s=-e),"Max"===t.alignX&&(s=e),e=(d-o*r)/2,"Min"===t.alignY&&(a=-e),"Max"===t.alignY&&(a=e)),"slice"===t.meetOrSlice&&(e=n-u/(i=r=C.util.findScaleToCover(this._element,h)),"Mid"===t.alignX&&(l=e/2),"Max"===t.alignX&&(l=e),e=o-d/r,"Mid"===t.alignY&&(c=e/2),"Max"===t.alignY&&(c=e),n=u/i,o=d/r)),{width:n,height:o,scaleX:i,scaleY:r,offsetLeft:s,offsetTop:a,cropX:l,cropY:c}}}),C.Image.CSS_CANVAS="canvas-img",C.Image.prototype.getSvgSrc=C.Image.prototype.getSrc,C.Image.fromObject=function(e,t){var n=C.util.object.clone(e);C.util.loadImage(n.src,(function(e,o){o?t&&t(null,!0):C.Image.prototype._initFilters.call(n,n.filters,(function(o){n.filters=o||[],C.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(o){n.resizeFilter=o[0],C.util.enlivenObjects([n.clipPath],(function(o){n.clipPath=o[0];var i=new C.Image(e,n);t(i,!1)}))}))}))}),null,n.crossOrigin)},C.Image.fromURL=function(e,t,n){C.util.loadImage(e,(function(e,o){t&&t(new C.Image(e,n),o)}),null,n&&n.crossOrigin)},C.Image.ATTRIBUTE_NAMES=C.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),C.Image.fromElement=function(e,n,o){var i=C.parseAttributes(e,C.Image.ATTRIBUTE_NAMES);C.Image.fromURL(i["xlink:href"],n,t(o?C.util.object.clone(o):{},i))})}(t),C.util.object.extend(C.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,o=e.onChange||t,i=this;return C.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){i.rotate(e),o()},onComplete:function(){i.setCoords(),n()}}),this}}),C.util.object.extend(C.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",o=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(o,n),e.compileShader(o),!!e.getShaderParameter(o,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}C.isWebglSupported=function(t){if(C.isLikelyNode)return!1;t=t||C.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),o=n.getContext("webgl")||n.getContext("experimental-webgl"),i=!1;if(o){C.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),i=C.maxTextureSize>=t;for(var r=["highp","mediump","lowp"],s=0;s<3;s++)if(e(o,r[s])){C.webGlPrecision=r[s];break}}return this.isSupported=i,i},C.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,o=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(e){n=!1}var i="undefined"!=typeof ArrayBuffer,r="undefined"!=typeof Uint8ClampedArray;if(o&&n&&i&&r){var s=C.util.createCanvasElement(),a=new ArrayBuffer(e*t*4);if(C.forceGLPutImageData)return this.imageBuffer=a,void(this.copyGLTo2D=P);var l,c,u={imageBuffer:a,destinationWidth:e,destinationHeight:t,targetCanvas:s};s.width=e,s.height=t,l=window.performance.now(),$.call(u,this.gl,u),c=window.performance.now()-l,l=window.performance.now(),P.call(u,this.gl,u),c>window.performance.now()-l?(this.imageBuffer=a,this.copyGLTo2D=P):this.copyGLTo2D=$}},createWebGLCanvas:function(e,t){var n=C.util.createCanvasElement();n.width=e,n.height=t;var o={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},i=n.getContext("webgl",o);i||(i=n.getContext("experimental-webgl",o)),i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)},applyFilters:function(e,t,n,o,i,r){var s,a=this.gl;r&&(s=this.getCachedTexture(r,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:o,destinationWidth:n,destinationHeight:o,context:a,sourceTexture:this.createTexture(a,n,o,!s&&t),targetTexture:this.createTexture(a,n,o),originalTexture:s||this.createTexture(a,n,o,!s&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},c=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,o=t.height,i=e.destinationWidth,r=e.destinationHeight;n===i&&o===r||(t.width=i,t.height=r)}(l),this.copyGLTo2D(a,l),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(l.sourceTexture),a.deleteTexture(l.targetTexture),a.deleteFramebuffer(c),i.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,o){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),i},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:$,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var o=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);o&&(t.renderer=o.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}C.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,o,i){var r=i.getContext("2d");r.drawImage(t,0,0,n,o);var s={sourceWidth:n,sourceHeight:o,imageData:r.getImageData(0,0,n,o),originalEl:t,originalImageData:r.getImageData(0,0,n,o),canvasEl:i,ctx:r,filterBackend:this};return e.forEach((function(e){e.applyTo(s)})),s.imageData.width===n&&s.imageData.height===o||(i.width=s.imageData.width,i.height=s.imageData.height),r.putImageData(s.imageData,0,0),s}}}(),C.Image=C.Image||{},C.Image.filters=C.Image.filters||{},C.Image.filters.BaseFilter=C.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==C.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+C.webGlPrecision+" float"));var o=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(o));var i=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(i));var r=e.createProgram();if(e.attachShader(r,o),e.attachShader(r,i),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(r));var s=this.getAttributeLocations(e,r),a=this.getUniformLocations(e,r)||{};return a.uStepW=e.getUniformLocation(r,"uStepW"),a.uStepH=e.getUniformLocation(r,"uStepH"),{program:r,attributeLocations:s,uniformLocations:a}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var o=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(o),e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,o=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(o.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(o,t,n)),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e.targetTexture,0)):(o.bindFramebuffer(o.FRAMEBUFFER,null),o.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=C.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),C.Image.filters.BaseFilter.fromObject=function(e,t){var n=new C.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.ColorMatrix=o(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,o,i,r,s=e.imageData.data,a=s.length,l=this.matrix,c=this.colorsOnly;for(r=0;r<a;r+=4)t=s[r],n=s[r+1],o=s[r+2],c?(s[r]=t*l[0]+n*l[1]+o*l[2]+255*l[4],s[r+1]=t*l[5]+n*l[6]+o*l[7]+255*l[9],s[r+2]=t*l[10]+n*l[11]+o*l[12]+255*l[14]):(i=s[r+3],s[r]=t*l[0]+n*l[1]+o*l[2]+i*l[3]+255*l[4],s[r+1]=t*l[5]+n*l[6]+o*l[7]+i*l[8]+255*l[9],s[r+2]=t*l[10]+n*l[11]+o*l[12]+i*l[13]+255*l[14],s[r+3]=t*l[15]+n*l[16]+o*l[17]+i*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,o=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,o),e.uniform4fv(t.uConstants,i)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Brightness=o(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,o=n.length,i=Math.round(255*this.brightness);for(t=0;t<o;t+=4)n[t]=n[t]+i,n[t+1]=n[t+1]+i,n[t+2]=n[t+2]+i}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,o=t.Image.filters,i=t.util.createClass;o.Convolute=i(o.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),o=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,o)),e.programCache[n]},applyTo2d:function(e){var t,n,o,i,r,s,a,l,c,u,d,h,f,p=e.imageData,m=p.data,g=this.matrix,O=Math.round(Math.sqrt(g.length)),v=Math.floor(O/2),b=p.width,y=p.height,x=e.ctx.createImageData(b,y),w=x.data,S=this.opaque?1:0;for(d=0;d<y;d++)for(u=0;u<b;u++){for(r=4*(d*b+u),t=0,n=0,o=0,i=0,f=0;f<O;f++)for(h=0;h<O;h++)s=u+h-v,(a=d+f-v)<0||a>=y||s<0||s>=b||(l=4*(a*b+s),c=g[f*O+h],t+=m[l]*c,n+=m[l+1]*c,o+=m[l+2]*c,S||(i+=m[l+3]*c));w[r]=t,w[r+1]=n,w[r+2]=o,w[r+3]=S?m[r+3]:i}e.imageData=x},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Grayscale=o(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,o=e.imageData.data,i=o.length,r=this.mode;for(t=0;t<i;t+=4)"average"===r?n=(o[t]+o[t+1]+o[t+2])/3:"lightness"===r?n=(Math.min(o[t],o[t+1],o[t+2])+Math.max(o[t],o[t+1],o[t+2]))/2:"luminosity"===r&&(n=.21*o[t]+.72*o[t+1]+.07*o[t+2]),o[t]=n,o[t+1]=n,o[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Invert=o(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,o=n.length;for(t=0;t<o;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,o=t.Image.filters,i=t.util.createClass;o.Noise=i(o.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,o=e.imageData.data,i=o.length,r=this.noise;for(t=0,i=o.length;t<i;t+=4)n=(.5-Math.random())*r,o[t]+=n,o[t+1]+=n,o[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Pixelate=o(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,o,i,r,s,a,l,c,u,d,h=e.imageData,f=h.data,p=h.height,m=h.width;for(n=0;n<p;n+=this.blocksize)for(o=0;o<m;o+=this.blocksize)for(i=f[t=4*n*m+4*o],r=f[t+1],s=f[t+2],a=f[t+3],u=Math.min(n+this.blocksize,p),d=Math.min(o+this.blocksize,m),l=n;l<u;l++)for(c=o;c<d;c++)f[t=4*l*m+4*c]=i,f[t+1]=r,f[t+2]=s,f[t+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,o=t.Image.filters,i=t.util.createClass;o.RemoveColor=i(o.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,o,i,r,s=e.imageData.data,a=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-a,l[1]-a,l[2]-a],u=[l[0]+a,l[1]+a,l[2]+a];for(n=0;n<s.length;n+=4)o=s[n],i=s[n+1],r=s[n+2],o>c[0]&&i>c[1]&&r>c[2]&&o<u[0]&&i<u[1]&&r<u[2]&&(s[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var o=new t.Color(this.color).getSource(),i=parseFloat(this.distance),r=[0+o[0]/255-i,0+o[1]/255-i,0+o[2]/255-i,1],s=[o[0]/255+i,o[1]/255+i,o[2]/255+i,1];e.uniform4fv(n.uLow,r),e.uniform4fv(n.uHigh,s)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var r in i)n[r]=o(n.ColorMatrix,{type:r,matrix:i[r],mainParameter:!1,colorsOnly:!0}),t.Image.filters[r].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,o=t.util.createClass;n.BlendColor=o(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,o,i,r,s,a,l,c=e.imageData.data,u=c.length,d=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,o=l[1]*this.alpha,i=l[2]*this.alpha;for(var h=0;h<u;h+=4)switch(r=c[h],s=c[h+1],a=c[h+2],this.mode){case"multiply":c[h]=r*n/255,c[h+1]=s*o/255,c[h+2]=a*i/255;break;case"screen":c[h]=255-(255-r)*(255-n)/255,c[h+1]=255-(255-s)*(255-o)/255,c[h+2]=255-(255-a)*(255-i)/255;break;case"add":c[h]=r+n,c[h+1]=s+o,c[h+2]=a+i;break;case"diff":case"difference":c[h]=Math.abs(r-n),c[h+1]=Math.abs(s-o),c[h+2]=Math.abs(a-i);break;case"subtract":c[h]=r-n,c[h+1]=s-o,c[h+2]=a-i;break;case"darken":c[h]=Math.min(r,n),c[h+1]=Math.min(s,o),c[h+2]=Math.min(a,i);break;case"lighten":c[h]=Math.max(r,n),c[h+1]=Math.max(s,o),c[h+2]=Math.max(a,i);break;case"overlay":c[h]=n<128?2*r*n/255:255-2*(255-r)*(255-n)/255,c[h+1]=o<128?2*s*o/255:255-2*(255-s)*(255-o)/255,c[h+2]=i<128?2*a*i/255:255-2*(255-a)*(255-i)/255;break;case"exclusion":c[h]=n+r-2*n*r/255,c[h+1]=o+s-2*o*s/255,c[h+2]=i+a-2*i*a/255;break;case"tint":c[h]=n+r*d,c[h+1]=o+s*d,c[h+2]=i+a*d}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var o=new t.Color(this.color).getSource();o[0]=this.alpha*o[0]/255,o[1]=this.alpha*o[1]/255,o[2]=this.alpha*o[2]/255,o[3]=this.alpha,e.uniform4fv(n.uColor,o)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,o=t.util.createClass;n.BlendImage=o(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,o,i,r,s,a,l,c,u,d,h,f=e.imageData,p=e.filterBackend.resources,m=f.data,g=m.length,O=f.width,v=f.height,b=this.image;p.blendImage||(p.blendImage=t.util.createCanvasElement()),d=(u=p.blendImage).getContext("2d"),u.width!==O||u.height!==v?(u.width=O,u.height=v):d.clearRect(0,0,O,v),d.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),d.drawImage(b._element,0,0,O,v),h=d.getImageData(0,0,O,v).data;for(var y=0;y<g;y+=4)switch(s=m[y],a=m[y+1],l=m[y+2],c=m[y+3],n=h[y],o=h[y+1],i=h[y+2],r=h[y+3],this.mode){case"multiply":m[y]=s*n/255,m[y+1]=a*o/255,m[y+2]=l*i/255,m[y+3]=c*r/255;break;case"mask":m[y+3]=r}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(o){var i=t.util.object.clone(e);i.image=o,n(new t.Image.filters.BlendImage(i))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,o=Math.floor,i=Math.sqrt,r=Math.abs,s=Math.round,a=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var o=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,o)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),o=new Array(n),i=1;i<=n;i++)o[i-1]=e(i*t);return o},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,o=1;o<=e;o++)t[o-1]=o+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return a(t)/t*a(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,o=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/o;var i,r=t.width,a=t.height,l=s(r*n),c=s(a*o);"sliceHack"===this.resizeType?i=this.sliceByTwo(e,r,a,l,c):"hermite"===this.resizeType?i=this.hermiteFastResize(e,r,a,l,c):"bilinear"===this.resizeType?i=this.bilinearFiltering(e,r,a,l,c):"lanczos"===this.resizeType&&(i=this.lanczosResize(e,r,a,l,c)),e.imageData=i},sliceByTwo:function(e,n,i,r,s){var a,l,c=e.imageData,u=.5,d=!1,h=!1,f=n*u,p=i*u,m=t.filterBackend.resources,g=0,O=0,v=n,b=0;for(m.sliceByTwo||(m.sliceByTwo=document.createElement("canvas")),((a=m.sliceByTwo).width<1.5*n||a.height<i)&&(a.width=1.5*n,a.height=i),(l=a.getContext("2d")).clearRect(0,0,1.5*n,i),l.putImageData(c,0,0),r=o(r),s=o(s);!d||!h;)n=f,i=p,r<o(f*u)?f=o(f*u):(f=r,d=!0),s<o(p*u)?p=o(p*u):(p=s,h=!0),l.drawImage(a,g,O,n,i,v,b,f,p),g=v,O=b,b+=p;return l.getImageData(g,O,r,s)},lanczosResize:function(e,t,s,a,c){var u=e.imageData.data,d=e.ctx.createImageData(a,c),h=d.data,f=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,O=2/this.rcpScaleY,v=l(p*this.lanczosLobes/2),b=l(m*this.lanczosLobes/2),y={},x={},w={};return function e(l){var S,_,k,C,T,$,P,A,Q,E,M;for(x.x=(l+.5)*p,w.x=o(x.x),S=0;S<c;S++){for(x.y=(S+.5)*m,w.y=o(x.y),T=0,$=0,P=0,A=0,Q=0,_=w.x-v;_<=w.x+v;_++)if(!(_<0||_>=t)){E=o(1e3*r(_-x.x)),y[E]||(y[E]={});for(var D=w.y-b;D<=w.y+b;D++)D<0||D>=s||(M=o(1e3*r(D-x.y)),y[E][M]||(y[E][M]=f(i(n(E*g,2)+n(M*O,2))/1e3)),(k=y[E][M])>0&&(T+=k,$+=k*u[C=4*(D*t+_)],P+=k*u[C+1],A+=k*u[C+2],Q+=k*u[C+3]))}h[C=4*(S*a+l)]=$/T,h[C+1]=P/T,h[C+2]=A/T,h[C+3]=Q/T}return++l<a?e(l):d}(0)},bilinearFiltering:function(e,t,n,i,r){var s,a,l,c,u,d,h,f,p,m=0,g=this.rcpScaleX,O=this.rcpScaleY,v=4*(t-1),b=e.imageData.data,y=e.ctx.createImageData(i,r),x=y.data;for(l=0;l<r;l++)for(c=0;c<i;c++)for(u=g*c-(s=o(g*c)),d=O*l-(a=o(O*l)),p=4*(a*t+s),h=0;h<4;h++)f=b[p+h]*(1-u)*(1-d)+b[p+4+h]*u*(1-d)+b[p+v+h]*d*(1-u)+b[p+v+4+h]*u*d,x[m++]=f;return y},hermiteFastResize:function(e,t,n,s,a){for(var c=this.rcpScaleX,u=this.rcpScaleY,d=l(c/2),h=l(u/2),f=e.imageData.data,p=e.ctx.createImageData(s,a),m=p.data,g=0;g<a;g++)for(var O=0;O<s;O++){for(var v=4*(O+g*s),b=0,y=0,x=0,w=0,S=0,_=0,k=0,C=(g+.5)*u,T=o(g*u);T<(g+1)*u;T++)for(var $=r(C-(T+.5))/h,P=(O+.5)*c,A=$*$,Q=o(O*c);Q<(O+1)*c;Q++){var E=r(P-(Q+.5))/d,M=i(A+E*E);M>1&&M<-1||(b=2*M*M*M-3*M*M+1)>0&&(k+=b*f[3+(E=4*(Q+T*t))],x+=b,f[E+3]<255&&(b=b*f[E+3]/250),w+=b*f[E],S+=b*f[E+1],_+=b*f[E+2],y+=b)}m[v]=w/y,m[v+1]=S/y,m[v+2]=_/y,m[v+3]=k/x}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Contrast=o(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,o=n.length,i=Math.floor(255*this.contrast),r=259*(i+255)/(255*(259-i));for(t=0;t<o;t+=4)n[t]=r*(n[t]-128)+128,n[t+1]=r*(n[t+1]-128)+128,n[t+2]=r*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Saturation=o(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,o=e.imageData.data,i=o.length,r=-this.saturation;for(t=0;t<i;t+=4)n=Math.max(o[t],o[t+1],o[t+2]),o[t]+=n!==o[t]?(n-o[t])*r:0,o[t+1]+=n!==o[t+1]?(n-o[t+1])*r:0,o[t+2]+=n!==o[t+2]?(n-o[t+2])*r:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Vibrance=o(n.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(e){if(0!==this.vibrance){var t,n,o,i,r=e.imageData.data,s=r.length,a=-this.vibrance;for(t=0;t<s;t+=4)n=Math.max(r[t],r[t+1],r[t+2]),o=(r[t]+r[t+1]+r[t+2])/3,i=2*Math.abs(n-o)/255*a,r[t]+=n!==r[t]?(n-r[t])*i:0,r[t+1]+=n!==r[t+1]?(n-r[t+1])*i:0,r[t+2]+=n!==r[t+2]?(n-r[t+2])*i:0}},getUniformLocations:function(e,t){return{uVibrance:e.getUniformLocation(t,"uVibrance")}},sendUniformData:function(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}}),t.Image.filters.Vibrance.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Blur=o(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,o,i=e.filterBackend.resources,r=e.imageData.width,s=e.imageData.height;i.blurLayer1||(i.blurLayer1=t.util.createCanvasElement(),i.blurLayer2=t.util.createCanvasElement()),n=i.blurLayer1,o=i.blurLayer2,n.width===r&&n.height===s||(o.width=n.width=r,o.height=n.height=s);var a,l,c,u,d=n.getContext("2d"),h=o.getContext("2d"),f=15,p=.06*this.blur*.5;for(d.putImageData(e.imageData,0,0),h.clearRect(0,0,r,s),u=-15;u<=f;u++)c=p*(l=u/f)*r+(a=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,c,a),d.drawImage(o,0,0),h.globalAlpha=1,h.clearRect(0,0,o.width,o.height);for(u=-15;u<=f;u++)c=p*(l=u/f)*s+(a=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,a,c),d.drawImage(o,0,0),h.globalAlpha=1,h.clearRect(0,0,o.width,o.height);e.ctx.drawImage(n,0,0);var m=e.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),m},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Gamma=o(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,o=this.gamma,i=n.length,r=1/o[0],s=1/o[1],a=1/o[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,i=256;t<i;t++)this.rVals[t]=255*Math.pow(t/255,r),this.gVals[t]=255*Math.pow(t/255,s),this.bVals[t]=255*Math.pow(t/255,a);for(t=0,i=n.length;t<i;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.Composed=o(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var o=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),i=new t.Image.filters.Composed({subFilters:o});return n&&n(i),i}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,o=t.util.createClass;n.HueRotation=o(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),o=t.util.sin(e),i=1/3,r=Math.sqrt(i)*o,s=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+s/3,this.matrix[1]=i*s-r,this.matrix[2]=i*s+r,this.matrix[5]=i*s+r,this.matrix[6]=n+i*s,this.matrix[7]=i*s-r,this.matrix[10]=i*s-r,this.matrix[11]=i*s+r,this.matrix[12]=n+i*s},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;if(t.Text)t.warn("fabric.Text is already defined");else{var o="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat(o),cacheProperties:t.Object.prototype.cacheProperties.concat(o),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var e=this.path;e&&(e.segmentsInfo=t.util.getPathSegmentsInfo(e.path))},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,o,i,r,s,a=0,l=this._textLines.length;a<l;a++)if(("justify"===this.textAlign||a!==l-1&&!this.isEndOfWrapping(a))&&(o=0,i=this._textLines[a],(t=this.getLineWidth(a))<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){n=s.length,e=(this.width-t)/n;for(var c=0,u=i.length;c<=u;c++)r=this.__charBounds[a][c],this._reSpaceAndTab.test(i[c])?(r.width+=e,r.kernedWidth+=e,r.left+=o,o+=e):r.left+=o}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){var t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var o=this.getLineWidth(t);o>e&&(e=o)}return e},_renderTextLine:function(e,t,n,o,i,r){this._renderChars(e,t,n,o,i,r)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,o,i,r,s,a,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),d=0,h=0,f=this.path,p=0,m=this._textLines.length;p<m;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){o=this._textLines[p],n=this._getLineLeftOffset(p),h=0,d=0,i=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var g=0,O=o.length;g<O;g++)r=this.__charBounds[p][g],s=this.getValueOfPropertyAt(p,g,"textBackgroundColor"),f?(e.save(),e.translate(r.renderLeft,r.renderTop),e.rotate(r.angle),e.fillStyle=s,s&&e.fillRect(-r.width/2,-t/this.lineHeight*(1-this._fontSizeFraction),r.width,t/this.lineHeight),e.restore()):s!==i?(a=c+n+d,"rtl"===this.direction&&(a=this.width-a-h),e.fillStyle=i,i&&e.fillRect(a,u,h,t/this.lineHeight),d=r.left,h=r.width,i=s):h+=r.kernedWidth;s&&!f&&(a=c+n+d,"rtl"===this.direction&&(a=this.width-a-h),e.fillStyle=s,e.fillRect(a,u,h,t/this.lineHeight)),u+=t}else u+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var o=t.charWidthsCache[n],i=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return o[i]||(o[i]={}),o[i]},_measureChar:function(e,t,n,o){var i,r,s,a,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(o),d=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(s=l[n]),void 0!==l[e]&&(a=i=l[e]),u&&void 0!==l[c]&&(a=(r=l[c])-s),void 0===i||void 0===s||void 0===r){var h=this.getMeasuringContext();this._setTextStyles(h,t,!0)}return void 0===i&&(a=i=h.measureText(e).width,l[e]=i),void 0===s&&u&&n&&(s=h.measureText(n).width,l[n]=s),u&&void 0===r&&(r=h.measureText(c).width,l[c]=r,a=r-s),{width:i*d,kernedWidth:a*d}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var n,o,i,r,s,a,l=0,c=this._textLines[e],u=new Array(c.length),d=0,h=this.path,f="right"===this.pathSide;for(this.__charBounds[e]=u,n=0;n<c.length;n++)o=c[n],r=this._getGraphemeBox(o,e,n,i),u[n]=r,l+=r.kernedWidth,i=o;if(u[n]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},h){switch(a=h.segmentsInfo[h.segmentsInfo.length-1].length,(s=t.util.getPointOnPath(h.path,0,h.segmentsInfo)).x+=h.pathOffset.x,s.y+=h.pathOffset.y,this.textAlign){case"left":d=f?a-l:0;break;case"center":d=(a-l)/2;break;case"right":d=f?0:a-l}for(d+=this.pathStartOffset*(f?-1:1),n=f?c.length-1:0;f?n>=0:n<c.length;f?n--:n++)r=u[n],d>a?d%=a:d<0&&(d+=a),this._setGraphemeOnPath(d,r,s),d+=r.kernedWidth}return{width:l,numOfSpaces:0}},_setGraphemeOnPath:function(e,n,o){var i=e+n.kernedWidth/2,r=this.path,s=t.util.getPointOnPath(r.path,i,r.segmentsInfo);n.renderLeft=s.x-o.x,n.renderTop=s.y-o.y,n.angle=s.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(e,t,n,o,i){var r,s=this.getCompleteStyleDeclaration(t,n),a=o?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,s,o,a),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=r=this._getWidthOfCharSpacing(),c+=r);var d={width:u,left:0,height:s.fontSize,kernedWidth:c,deltaY:s.deltaY};if(n>0&&!i){var h=this.__charBounds[t][n-1];d.left=h.left+h.width+l.kernedWidth-l.width}return d},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),o=1,i=t.length;o<i;o++)n=Math.max(this.getHeightOfChar(e,o),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,o=this._textLines.length;n<o;n++)e=this.getHeightOfLine(n),t+=n===o-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,o=this._getLeftOffset(),i=this._getTopOffset(),r=0,s=this._textLines.length;r<s;r++){var a=this.getHeightOfLine(r),l=a/this.lineHeight,c=this._getLineLeftOffset(r);this._renderTextLine(t,e,this._textLines[r],o+c,i+n+l,r),n+=a}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,o,i,r){var s,a,l,c,u,d=this.getHeightOfLine(r),h=-1!==this.textAlign.indexOf("justify"),f="",p=0,m=this.path,g=!h&&0===this.charSpacing&&this.isEmptyStyles(r)&&!m,O="ltr"===this.direction,v="ltr"===this.direction?1:-1;if(t.save(),i-=d*this._fontSizeFraction/this.lineHeight,g)return t.canvas.setAttribute("dir",O?"ltr":"rtl"),t.direction=O?"ltr":"rtl",t.textAlign=O?"left":"right",this._renderChar(e,t,r,0,n.join(""),o,i,d),void t.restore();for(var b=0,y=n.length-1;b<=y;b++)c=b===y||this.charSpacing||m,f+=n[b],l=this.__charBounds[r][b],0===p?(o+=v*(l.kernedWidth-l.width),p+=l.width):p+=l.kernedWidth,h&&!c&&this._reSpaceAndTab.test(n[b])&&(c=!0),c||(s=s||this.getCompleteStyleDeclaration(r,b),a=this.getCompleteStyleDeclaration(r,b+1),c=this._hasStyleChanged(s,a)),c&&(m?(t.save(),t.translate(l.renderLeft,l.renderTop),t.rotate(l.angle),this._renderChar(e,t,r,b,f,-p/2,0,d),t.restore()):(u=o,t.canvas.setAttribute("dir",O?"ltr":"rtl"),t.direction=O?"ltr":"rtl",t.textAlign=O?"left":"right",this._renderChar(e,t,r,b,f,u,i,d)),f="",s=a,o+=v*p,p=0);t.restore()},_applyPatternGradientTransformText:function(e){var n,o=t.util.createCanvasElement(),i=this.width+this.strokeWidth,r=this.height+this.strokeWidth;return o.width=i,o.height=r,(n=o.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(i,0),n.lineTo(i,r),n.lineTo(0,r),n.closePath(),n.translate(i/2,r/2),n.fillStyle=e.toLive(n),this._applyPatternGradientTransform(n,e),n.fill(),n.createPattern(o,"no-repeat")},handleFiller:function(e,t,n){var o,i;return n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(o=-this.width/2,i=-this.height/2,e.translate(o,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:o,offsetY:i}):(e[t]=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(e,t){return e.lineWidth=t.strokeWidth,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",t.stroke)},_setFillStyles:function(e,t){return this.handleFiller(e,"fillStyle",t.fill)},_renderChar:function(e,t,n,o,i,r,s){var a,l,c=this._getStyleDeclaration(n,o),u=this.getCompleteStyleDeclaration(n,o),d="fillText"===e&&u.fill,h="strokeText"===e&&u.stroke&&u.strokeWidth;(h||d)&&(t.save(),d&&(a=this._setFillStyles(t,u)),h&&(l=this._setStrokeStyles(t,u)),t.font=this._getFontDeclaration(u),c&&c.textBackgroundColor&&this._removeShadow(t),c&&c.deltaY&&(s+=c.deltaY),d&&t.fillText(i,r-a.offsetX,s-a.offsetY),h&&t.strokeText(i,r-l.offsetX,s-l.offsetY),t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var o=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"fontSize"),r=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"deltaY"),s={fontSize:i*n.size,deltaY:r+i*n.baseline};return this.setSelectionStyles(s,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e),n=this.width-t,o=this.textAlign,i=this.direction,r=0,s=this.isEndOfWrapping(e);return"justify"===o||"justify-center"===o&&!s||"justify-right"===o&&!s||"justify-left"===o&&!s?0:("center"===o&&(r=n/2),"right"===o&&(r=n),"justify-center"===o&&(r=n/2),"justify-right"===o&&(r=n),"rtl"===i&&(r-=n),r)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var o=this._getStyleDeclaration(e,t);return o&&void 0!==o[n]?o[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,o,i,r,s,a,l,c,u,d,h,f,p,m,g,O,v=this._getLeftOffset(),b=this._getTopOffset(),y=this.path,x=this._getWidthOfCharSpacing(),w=this.offsets[t],S=0,_=this._textLines.length;S<_;S++)if(n=this.getHeightOfLine(S),this[t]||this.styleHas(t,S)){l=this._textLines[S],m=n/this.lineHeight,r=this._getLineLeftOffset(S),d=0,h=0,c=this.getValueOfPropertyAt(S,0,t),O=this.getValueOfPropertyAt(S,0,"fill"),u=b+m*(1-this._fontSizeFraction),o=this.getHeightOfChar(S,0),s=this.getValueOfPropertyAt(S,0,"deltaY");for(var k=0,C=l.length;k<C;k++)if(f=this.__charBounds[S][k],p=this.getValueOfPropertyAt(S,k,t),g=this.getValueOfPropertyAt(S,k,"fill"),i=this.getHeightOfChar(S,k),a=this.getValueOfPropertyAt(S,k,"deltaY"),y&&p&&g)e.save(),e.fillStyle=O,e.translate(f.renderLeft,f.renderTop),e.rotate(f.angle),e.fillRect(-f.kernedWidth/2,w*i+a,f.kernedWidth,this.fontSize/15),e.restore();else if((p!==c||g!==O||i!==o||a!==s)&&h>0){var T=v+r+d;"rtl"===this.direction&&(T=this.width-T-h),c&&O&&(e.fillStyle=O,e.fillRect(T,u+w*o+s,h,this.fontSize/15)),d=f.left,h=f.width,c=p,O=g,o=i,s=a}else h+=f.kernedWidth;T=v+r+d,"rtl"===this.direction&&(T=this.width-T-h),e.fillStyle=g,p&&g&&e.fillRect(T,u+w*o+s,h-x,this.fontSize/15),b+=n}else b+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var o=e||this,i=this.fontFamily,r=t.Text.genericFonts.indexOf(i.toLowerCase())>-1,s=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||r?o.fontFamily:'"'+o.fontFamily+'"';return[t.isLikelyNode?o.fontWeight:o.fontStyle,t.isLikelyNode?o.fontStyle:o.fontWeight,n?this.CACHE_FONT_SIZE+"px":o.fontSize+"px",s].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),o=new Array(n.length),i=["\n"],r=[],s=0;s<n.length;s++)o[s]=t.util.string.graphemeSplit(n[s]),r=r.concat(o[s],i);return r.pop(),{_unwrappedLines:o,lines:n,graphemeText:r,graphemeLines:o}},toObject:function(e){var t=o.concat(e),i=this.callSuper("toObject",t);return i.styles=n(this.styles,!0),i.path&&(i.path=this.path.toObject()),i},set:function(e,t){this.callSuper("set",e,t);var n=!1,o=!1;if("object"==typeof e)for(var i in e)"path"===i&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(i),o=o||"path"===i;else n=-1!==this._dimensionAffectingProps.indexOf(e),o="path"===e;return o&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,o,i){if(!e)return o(null);var r=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),s=r.textAnchor||"left";if((i=t.util.object.extend(i?n(i):{},r)).top=i.top||0,i.left=i.left||0,r.textDecoration){var a=r.textDecoration;-1!==a.indexOf("underline")&&(i.underline=!0),-1!==a.indexOf("overline")&&(i.overline=!0),-1!==a.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in r&&(i.left+=r.dx),"dy"in r&&(i.top+=r.dy),"fontSize"in i||(i.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=i.strokeWidth;i.strokeWidth=0;var u=new t.Text(l,i),d=u.getScaledHeight()/u.height,h=((u.height+u.strokeWidth)*u.lineHeight-u.height)*d,f=u.getScaledHeight()+h,p=0;"center"===s&&(p=u.getScaledWidth()/2),"right"===s&&(p=u.getScaledWidth()),u.set({left:u.left-p,top:u.top-(f-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==c?c:1}),o(u)},t.Text.fromObject=function(e,o){var i=n(e),r=e.path;return delete i.path,t.Object._fromObject("Text",i,(function(e){r?t.Object._fromObject("Path",r,(function(t){e.set("path",t),o(e)}),"path"):o(e)}),"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text)}}(t),C.util.object.extend(C.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var n in t)for(var o in t[n])for(var i in t[n][o])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if(void 0!==t&&!this.styles[t])return!1;var n=void 0===t?this.styles:{0:this.styles[t]};for(var o in n)for(var i in n[o])if(void 0!==n[o][i][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,o=this.styles,i=0,r=!0,s=0;for(var a in o){for(var l in t=0,o[a]){var c;i++,(c=o[a][l]).hasOwnProperty(e)?(n?c[e]!==n&&(r=!1):n=c[e],c[e]===this[e]&&delete c[e]):r=!1,0!==Object.keys(c).length?t++:delete o[a][l]}0===t&&delete o[a]}for(var u=0;u<this._textLines.length;u++)s+=this._textLines[u].length;r&&i===s&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,o,i=this.styles;for(n in i){for(o in t=i[n])delete t[o][e],0===Object.keys(t[o]).length&&delete t[o];0===Object.keys(t).length&&delete i[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),C.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){void 0===e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,o=n.length,i=0;i<o;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}},getSelectionStyles:function(e,t,n){void 0===e&&(e=this.selectionStart||0),void 0===t&&(t=this.selectionEnd||e);for(var o=[],i=e;i<t;i++)o.push(this.getStyleAtPosition(i,n));return o},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){void 0===t&&(t=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||t);for(var o=t;o<n;o++)this._extendStyles(o,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,o=this._getStyleDeclaration(e,t)||{},i={},r=0;r<this._styleProperties.length;r++)i[n=this._styleProperties[r]]=void 0===o[n]?this[n]:o[n];return i},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}C.IText=C.util.createClass(C.Text,C.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){void 0===e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),o=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,o,i,r=0,s=0,a=this.get2DCursorLocation(e);o=a.charIndex,n=a.lineIndex;for(var l=0;l<n;l++)r+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][o];return c&&(s=c.left),0!==this.charSpacing&&o===this._textLines[n].length&&(s-=this._getWidthOfCharSpacing()),i={top:r,left:t+(s>0?s:0)},"rtl"===this.direction&&(i.left*=-1),this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),o=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,r=this.getValueOfPropertyAt(o,i,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,l=e.topOffset,c=this.getValueOfPropertyAt(o,i,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,i,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-a/2,l+e.top+c,a,r)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),r=this.get2DCursorLocation(n),s=this.get2DCursorLocation(o),a=r.lineIndex,l=s.lineIndex,c=r.charIndex<0?0:r.charIndex,u=s.charIndex<0?0:s.charIndex,d=a;d<=l;d++){var h,f=this._getLineLeftOffset(d)||0,p=this.getHeightOfLine(d),m=0,g=0;if(d===a&&(m=this.__charBounds[a][c].left),d>=a&&d<l)g=i&&!this.isEndOfWrapping(d)?this.width:this.getLineWidth(d)||5;else if(d===l)if(0===u)g=this.__charBounds[l][u].left;else{var O=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-O}h=p,(this.lineHeight<1||d===l&&this.lineHeight>1)&&(p/=this.lineHeight);var v=e.left+f+m,b=g-m,y=p,x=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",y=1,x=p):t.fillStyle=this.selectionColor,"rtl"===this.direction&&(v=this.width-v-b),t.fillRect(v,e.top+e.topOffset+x,b,y),e.topOffset+=h}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),C.IText.fromObject=function(t,n){if(e(t),t.styles)for(var o in t.styles)for(var i in t.styles[o])e(t.styles[o][i]);C.Object._fromObject("IText",t,n,"text")}}(),S=C.util.object.clone,C.util.object.extend(C.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],C.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,o){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){i.isAborted||e[o]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,o=this._reSpace.test(n[e])?e-1:e,i=n[o],r=C.reNonWord;!r.test(i)&&o>0&&o<n.length;)i=n[o+=t];return r.test(i)&&(o+=1===t?0:1),o},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,o=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==o||n!==t&&o!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===o||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var o=n.slice(0,e),i=C.util.string.graphemeSplit(o).length;if(e===t)return{selectionStart:i,selectionEnd:i};var r=n.slice(e,t);return{selectionStart:i,selectionEnd:i+C.util.string.graphemeSplit(r).length}},fromGraphemeToStringSelection:function(e,t,n){var o=n.slice(0,e).join("").length;return e===t?{selectionStart:o,selectionEnd:o}:{selectionStart:o,selectionEnd:o+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),o=n.lineIndex,i=n.charIndex,r=this.getValueOfPropertyAt(o,i,"fontSize")*this.lineHeight,s=t.leftOffset,a=this.calcTransformMatrix(),l={x:t.left+s,y:t.top+t.topOffset+r},c=this.canvas.getRetinaScaling(),u=this.canvas.upperCanvasEl,d=u.width/c,h=u.height/c,f=d-r,p=h-r,m=u.clientWidth/d,g=u.clientHeight/h;return l=C.util.transformPoint(l,a),(l=C.util.transformPoint(l,this.canvas.viewportTransform)).x*=m,l.y*=g,l.x<0&&(l.x=0),l.x>f&&(l.x=f),l.y<0&&(l.y=0),l.y>p&&(l.y=p),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,o,i=this.get2DCursorLocation(e,!0),r=this.get2DCursorLocation(t,!0),s=i.lineIndex,a=i.charIndex,l=r.lineIndex,c=r.charIndex;if(s!==l){if(this.styles[s])for(n=a;n<this._unwrappedTextLines[s].length;n++)delete this.styles[s][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(o=this.styles[l][n])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+n-c]=o);for(n=s+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,s-l)}else if(this.styles[s]){o=this.styles[s];var u,d,h=c-a;for(n=a;n<c;n++)delete o[n];for(d in this.styles[s])(u=parseInt(d,10))>=c&&(o[u-h]=o[d],delete o[d])}},shiftLineStyles:function(e,t){var n=S(this.styles);for(var o in this.styles){var i=parseInt(o,10);i>e&&(this.styles[i+t]=n[i],n[i-t]||delete this.styles[i])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,t,n,o){var i,r={},s=!1,a=this._unwrappedTextLines[e].length===t;for(var l in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(i=this.styles[e][0===t?t:t-1]),this.styles[e]){var c=parseInt(l,10);c>=t&&(s=!0,r[c-t]=this.styles[e][l],a&&0===t||delete this.styles[e][l])}var u=!1;for(s&&!a&&(this.styles[e+n]=r,u=!0),u&&n--;n>0;)o&&o[n-1]?this.styles[e+n]={0:S(o[n-1])}:i?this.styles[e+n]={0:S(i)}:delete this.styles[e+n],n--;this._forceClearCache=!0},insertCharStyleObject:function(e,t,n,o){this.styles||(this.styles={});var i=this.styles[e],r=i?S(i):{};for(var s in n||(n=1),r){var a=parseInt(s,10);a>=t&&(i[a+n]=r[a],r[a-n]||delete i[a])}if(this._forceClearCache=!0,o)for(;n--;)Object.keys(o[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=S(o[n]));else if(i)for(var l=i[t?t-1:1];l&&n--;)this.styles[e][t+n]=S(l)},insertNewStyleBlock:function(e,t,n){for(var o=this.get2DCursorLocation(t,!0),i=[0],r=0,s=0;s<e.length;s++)"\n"===e[s]?i[++r]=0:i[r]++;for(i[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),r&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+i[0],r),s=1;s<r;s++)i[s]>0?this.insertCharStyleObject(o.lineIndex+s,0,i[s],n):n&&(this.styles[o.lineIndex+s][0]=n[0]),n=n&&n.slice(i[s]+1);i[s]>0&&this.insertCharStyleObject(o.lineIndex+s,0,i[s],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}}),C.util.object.extend(C.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,o=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,o,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t,n=this.getLocalPointer(e),o=0,i=0,r=0,s=0,a=0,l=0,c=this._textLines.length;l<c&&r<=n.y;l++)r+=this.getHeightOfLine(l)*this.scaleY,a=l,l>0&&(s+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));i=this._getLineLeftOffset(a)*this.scaleX,t=this._textLines[a],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+i);for(var u=0,d=t.length;u<d&&(o=i,(i+=this.__charBounds[a][u].kernedWidth*this.scaleX)<=n.x);u++)s++;return this._getNewSelectionStartFromOffset(n,o,i,s,d)},_getNewSelectionStartFromOffset:function(e,t,n,o,i){var r=e.x-t,s=n-e.x,a=o+(s>r||s<0?0:1);return this.flipX&&(a=i-a),a>this._text.length&&(a=this._text.length),a}}),C.util.object.extend(C.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=C.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+e.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):C.document.body.appendChild(this.hiddenTextarea),C.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),C.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),C.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),C.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(C.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,o,i,r,s,a=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,c=a.length,u=c-l,d=this.selectionStart,h=this.selectionEnd,f=d!==h;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var p=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),m=d>p.selectionStart;f?(n=this._text.slice(d,h),u+=h-d):c<l&&(n=m?this._text.slice(h+u,h):this._text.slice(d,d-u)),o=a.slice(p.selectionEnd-u,p.selectionEnd),n&&n.length&&(o.length&&(i=this.getSelectionStyles(d,d+1,!1),i=o.map((function(){return i[0]}))),f?(r=d,s=h):m?(r=h-n.length,s=h):(r=h,s=h+n.length),this.removeStyleFromTo(r,s)),o.length&&(t&&o.join("")===C.copiedText&&!C.disableStyleCopyPaste&&(i=C.copiedTextStyle),this.insertNewStyleBlock(o,d,i)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(C.copiedText=this.getSelectedText(),C.disableStyleCopyPaste?C.copiedTextStyle=null:C.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||C.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,o=this._getLineLeftOffset(e);return t>0&&(o+=(n=this.__charBounds[e][t-1]).left+n.width),o},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),o=this.get2DCursorLocation(n),i=o.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var r=o.charIndex,s=this._getWidthBeforeCursor(i,r),a=this._getIndexOnLine(i+1,s);return this._textLines[i].slice(r).length+a+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),o=this.get2DCursorLocation(n),i=o.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;var r=o.charIndex,s=this._getWidthBeforeCursor(i,r),a=this._getIndexOnLine(i-1,s),l=this._textLines[i].slice(0,r),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+a-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,o,i=this._textLines[e],r=this._getLineLeftOffset(e),s=0,a=0,l=i.length;a<l;a++)if((r+=n=this.__charBounds[e][a].width)>t){o=!0;var c=r-n,u=r,d=Math.abs(c-t);s=Math.abs(u-t)<d?a:a-1;break}return o||(s=i.length-1),s},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var o;if(e.altKey)o=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;o=this["findLineBoundary"+n](this[t])}if(void 0!==typeof o&&this[t]!==o)return this[t]=o,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){void 0===t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,o){void 0===o&&(o=n),o>n&&this.removeStyleFromTo(n,o);var i=C.util.string.graphemeSplit(e);this.insertNewStyleBlock(i,n,t),this._text=[].concat(this._text.slice(0,n),i,this._text.slice(o)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),_=C.util.toFixed,k=/  +/g,C.util.object.extend(C.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,o=[],i=[],r=e;this._setSVGBg(i);for(var s=0,a=this._textLines.length;s<a;s++)n=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(i,s,t+n,r),this._setSVGTextLineText(o,s,t+n,r),r+=this.getHeightOfLine(s);return{textSpans:o,textBgRects:i}},_createTextCharSpan:function(e,t,n,o){var i=e!==e.trim()||e.match(k),r=this.getSvgSpanStyles(t,i),s=r?'style="'+r+'"':"",a=t.deltaY,l="",c=C.Object.NUM_FRACTION_DIGITS;return a&&(l=' dy="'+_(a,c)+'" '),['<tspan x="',_(n,c),'" y="',_(o,c),'" ',l,s,">",C.util.string.escapeXml(e),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,o){var i,r,s,a,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),d="",h=0,f=this._textLines[t];o+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,m=f.length-1;p<=m;p++)l=p===m||this.charSpacing,d+=f[p],s=this.__charBounds[t][p],0===h?(n+=s.kernedWidth-s.width,h+=s.width):h+=s.kernedWidth,u&&!l&&this._reSpaceAndTab.test(f[p])&&(l=!0),l||(i=i||this.getCompleteStyleDeclaration(t,p),r=this.getCompleteStyleDeclaration(t,p+1),l=this._hasStyleChangedForSvg(i,r)),l&&(a=this._getStyleDeclaration(t,p)||{},e.push(this._createTextCharSpan(d,a,n,o)),d="",i=r,n+=h,h=0)},_pushTextBgRect:function(e,t,n,o,i,r){var s=C.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(t),' x="',_(n,s),'" y="',_(o,s),'" width="',_(i,s),'" height="',_(r,s),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,o){for(var i,r,s=this._textLines[t],a=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0,h=s.length;d<h;d++)i=this.__charBounds[t][d],(r=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,o,l,a),c=i.left,l=i.width,u=r):l+=i.kernedWidth;r&&this._pushTextBgRect(e,r,n+c,o,l,a)},_getFillAttributes:function(e){var t=e&&"string"==typeof e?new C.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,o=0;o<e;o++)n+=this.getHeightOfLine(o);return t=this.getHeightOfLine(o),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return C.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}}),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,o=0,i={},r=0;r<e.graphemeLines.length;r++)"\n"===e.graphemeText[o]&&r>0?(n=0,o++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[o])&&r>0&&(n++,o++),i[r]={line:t,offset:n},o+=e.graphemeLines[r].length,n+=e.graphemeLines[r].length;return i},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[n];o&&(n=o.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,o=0,i=!1,r=this._styleMap[e],s=this._styleMap[e+1];for(var a in r&&(e=r.line,o=r.offset),s&&(i=s.line===e,t=s.offset),n=void 0===e?this.styles:{line:this.styles[e]})for(var l in n[a])if(l>=o&&(!i||l<t))for(var c in n[a][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var o=this._styleMap[e];e=o.line,t=o.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,o=[];for(this.isWrapping=!0,n=0;n<e.length;n++)o=o.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,o},_measureWord:function(e,t,n){var o,i=0;n=n||0;for(var r=0,s=e.length;r<s;r++)i+=this._getGraphemeBox(e[r],t,r+n,o,!0).kernedWidth,o=e[r];return i},_wrapLine:function(e,n,o,i){var r=0,s=this.splitByGrapheme,a=[],l=[],c=s?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",d=0,h=s?"":" ",f=0,p=0,m=0,g=!0,O=this._getWidthOfCharSpacing();i=i||0,0===c.length&&c.push([]),o-=i;for(var v=0;v<c.length;v++)u=s?c[v]:t.util.string.graphemeSplit(c[v]),f=this._measureWord(u,n,d),d+=u.length,(r+=p+f-O)>o&&!g?(a.push(l),l=[],r=f,g=!0):r+=O,g||s||l.push(h),l=l.concat(u),p=s?0:this._measureWord([h],n,d),d++,g=!1,f>m&&(m=f);return v&&a.push(l),m+i>this.dynamicMinWidth&&(this.dynamicMinWidth=m-O+i),a},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),o=this._wrapText(n.lines,this.width),i=new Array(o.length),r=0;r<o.length;r++)i[r]=o[r].join("");return n.lines=i,n.graphemeLines=o,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t),function(){var e=C.controlsUtils,t=e.scaleSkewCursorStyleHandler,n=e.scaleCursorStyleHandler,o=e.scalingEqually,i=e.scalingYOrSkewingX,r=e.scalingXOrSkewingY,s=e.scaleOrSkewActionName,a=C.Object.prototype.controls;if(a.ml=new C.Control({x:-.5,y:0,cursorStyleHandler:t,actionHandler:r,getActionName:s}),a.mr=new C.Control({x:.5,y:0,cursorStyleHandler:t,actionHandler:r,getActionName:s}),a.mb=new C.Control({x:0,y:.5,cursorStyleHandler:t,actionHandler:i,getActionName:s}),a.mt=new C.Control({x:0,y:-.5,cursorStyleHandler:t,actionHandler:i,getActionName:s}),a.tl=new C.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:o}),a.tr=new C.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:o}),a.bl=new C.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:o}),a.br=new C.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:o}),a.mtr=new C.Control({x:0,y:-.5,actionHandler:e.rotationWithSnapping,cursorStyleHandler:e.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),C.Textbox){var l=C.Textbox.prototype.controls={};l.mtr=a.mtr,l.tr=a.tr,l.br=a.br,l.tl=a.tl,l.bl=a.bl,l.mt=a.mt,l.mb=a.mb,l.mr=new C.Control({x:.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"}),l.ml=new C.Control({x:-.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"})}}()},3053:function(e,t,n){"use strict";var o=n(602);e.exports=function(e,t,n){var i,r;if(n=n||0,!o(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(r=t.length,i=n;n>=0&&i<r;i+=1)if(t[i]===e)return i;return-1}},8592:function(e,t,n){"use strict";var o=n(602),i=n(6092),r=n(5573);e.exports=function(e,t,n){o(e)?i(e,t,n):r(e,t,n)}},6092:function(e){"use strict";e.exports=function(e,t,n){var o=0,i=e.length;for(n=n||null;o<i&&!1!==t.call(n,e[o],o,e);o+=1);}},5573:function(e){"use strict";e.exports=function(e,t,n){var o;for(o in n=n||null,e)if(e.hasOwnProperty(o)&&!1===t.call(n,e[o],o,e))break}},9052:function(e,t,n){"use strict";var o=n(961),i=n(9886),r=n(2560),s=n(5393),a=n(602),l=n(5183),c=n(8592),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){o(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var o=this._safeEvent(e);this._memorizeContext(n),o.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var o=this;r(e)?(e=e.split(u),c(e,(function(e){o._bindEvent(e,t,n)}))):s(e)&&(n=t,c(e,(function(e,t){o.on(t,e,n)})))},d.prototype.once=function(e,t,n){var o=this;if(s(e))return n=t,void c(e,(function(e,t){o.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),o.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,o=0;if(a(e))for(n=e.length;o<n;o+=1)!0===t(e[o])&&(e.splice(o,1),n-=1,o-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var o=e===n.handler;return o&&t._forgetContext(n.context),o}},d.prototype._matchContext=function(e){var t=this;return function(n){var o=e===n.context;return o&&t._forgetContext(n.context),o}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(o){var i=e===o.handler,r=t===o.context,s=i&&r;return s&&n._forgetContext(o.context),s}},d.prototype._offByEventName=function(e,t){var n=this,o=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);o?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,o=this;this._indexOfContext(e)<0?c(e,(function(e,t){o.off(t,e)})):r(t)?(n=this._matchContext(e),o._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){o._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){o._spliceMatches(e,n)})))},d.prototype.off=function(e,t){r(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):s(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,o,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),o=0;t[o];){if(!1===(i=t[o]).handler.apply(i.context,n))return!1;o+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},961:function(e){"use strict";e.exports=function(e,t){var n,o,i,r,s=Object.prototype.hasOwnProperty;for(i=1,r=arguments.length;i<r;i+=1)for(o in n=arguments[i])s.call(n,o)&&(e[o]=n[o]);return e}},1610:function(e,t,n){"use strict";var o=n(5695),i=n(3778);e.exports=function(e,t){for(var n=arguments,r=n[0],s=1,a=n.length;s<a;s+=1){if(o(r)||i(r))return;r=r[n[s]]}return r}},4564:function(e,t,n){"use strict";var o=n(5573);e.exports=function(e,t){var n=document.createElement("img"),i="";return o(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},4729:function(e,t,n){"use strict";var o=n(5695),i=n(4564);e.exports=function(e,t){var n=location.hostname,r="TOAST UI "+e+" for "+n+": Statistics",s=window.localStorage.getItem(r);(o(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!function(e){return(new Date).getTime()-e>6048e5}(s)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},602:function(e){"use strict";e.exports=function(e){return e instanceof Array}},9886:function(e,t,n){"use strict";var o=n(5695),i=n(3778);e.exports=function(e){return!o(e)&&!i(e)}},5183:function(e){"use strict";e.exports=function(e){return e instanceof Function}},3778:function(e){"use strict";e.exports=function(e){return null===e}},5393:function(e){"use strict";e.exports=function(e){return e===Object(e)}},2560:function(e){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},5695:function(e){"use strict";e.exports=function(e){return void 0===e}},4426:function(e,t,n){e.exports=n(4486)},9406:function(e,t,n){e.exports=n(4877)},789:function(e,t,n){e.exports=n(7178)},381:function(e,t,n){e.exports=n(5603)},7636:function(e,t,n){e.exports=n(1206)},1899:function(e,t,n){e.exports=n(6174)},899:function(e,t,n){e.exports=n(57)},8005:function(e,t,n){e.exports=n(4741)},6562:function(e,t,n){e.exports=n(8368)},9131:function(e,t,n){e.exports=n(3739)},4383:function(e,t,n){e.exports=n(172)},6065:function(e,t,n){e.exports=n(4963)},1734:function(e,t,n){e.exports=n(7820)},2461:function(e,t,n){e.exports=n(5636)},5214:function(e,t,n){e.exports=n(5059)},6397:function(e,t,n){e.exports=n(3969)},8189:function(e,t,n){e.exports=n(6618)},9146:function(e,t,n){e.exports=n(5279)},4496:function(e,t,n){e.exports=n(9562)},3972:function(e,t,n){e.exports=n(652)},7172:function(e,t,n){e.exports=n(2813)},1845:function(e,t,n){e.exports=n(8664)},662:function(e,t,n){e.exports=n(1457)},711:function(e,t,n){e.exports=n(2937)},6623:function(e,t,n){e.exports=n(9297)},7077:function(e,t,n){e.exports=n(8026)},9856:function(e,t,n){e.exports=n(2044)},4230:function(e,t,n){e.exports=n(2214)},184:function(e,t,n){e.exports=n(9256)},3742:function(e,t,n){e.exports=n(5659)},1801:function(e){var t={rect:1,circle:2,triangle:1},n={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function o(e,t,n){var o=e.x,i=e.y,r=t.x,s=t.y,a=n*Math.PI/180;return{originX:o>(r-o)*Math.cos(a)-(s-i)*Math.sin(a)+o?"right":"left",originY:i>(r-o)*Math.sin(a)+(s-i)*Math.cos(a)+i?"bottom":"top"}}e.exports={setOrigins:function(e){var t=e.getPointByOrigin("left","top"),n=e.getPointByOrigin("right","top"),o=e.getPointByOrigin("right","bottom"),i=e.getPointByOrigin("left","bottom");e.origins={lt:t,rt:n,rb:o,lb:i}},resize:function(e,i,r){(function(e){return"center"===e.originX&&"center"===e.originY})(e)&&(function(e,t){var n=t.getPointByOrigin("center","center"),i=o(n,e,-t.angle),r=i.originX,s=i.originY,a=t.getPointByOrigin(r,s),l=t.left-(n.x-a.x),c=t.top-(n.y-a.y);t.set({originX:r,originY:s,left:l,top:c}),t.setCoords()}(i,e),function(e){var t=e.originX,n=e.originY,o=t.substring(0,1)+n.substring(0,1);e.startPoint=e.origins[o]}(e)),r?function(e){var t=e.type,o=e.scaleX,i=e.scaleY,r=n[t],s=e[r.w]*o,a=e[r.h]*i;if(e.isRegular){var l=Math.max(o,i);s=e[r.w]*l,a=e[r.h]*l}var c={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};c[r.w]=s,c[r.h]=a,e.set(c)}(e):function(e,o){var i=o.type,r=o.strokeWidth,s=o.startPoint,a=t[i],l=n[i],c=!("triangle"!==o.type),u={},d=Math.abs(s.x-e.x)/a,h=Math.abs(s.y-e.y)/a;d>r&&(d-=r/a),h>r&&(h-=r/a),o.isRegular&&(d=h=Math.max(d,h),c&&(h=Math.sqrt(3)/2*d)),u[l.w]=d,u[l.h]=h,o.set(u)}(i,e),function(e,t){var n=t.startPoint,i=o(n,e,-t.angle),r=i.originX,s=i.originY;t.setPositionByOrigin(n,r,s),t.setCoords()}(i,e)},adjustOriginToCenter:function(e){var t=e.getPointByOrigin("center","center"),n=e.originX,o=e.originY,i=e.getPointByOrigin(n,o),r=e.left+(t.x-i.x),s=e.top+(t.y-i.y);e.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:r,top:s}),e.setCoords()}}},2221:function(e,t,n){n(5454),n(9173);var o=n(7545);e.exports=o.Array.from},5078:function(e,t,n){n(8118);var o=n(7545);e.exports=o.Array.isArray},6135:function(e,t,n){n(9106);var o=n(5607);e.exports=o("Array").concat},9510:function(e,t,n){n(1710);var o=n(5607);e.exports=o("Array").fill},3971:function(e,t,n){n(3436);var o=n(5607);e.exports=o("Array").filter},98:function(e,t,n){n(9823);var o=n(5607);e.exports=o("Array").forEach},2089:function(e,t,n){n(2276);var o=n(5607);e.exports=o("Array").indexOf},6209:function(e,t,n){n(3838);var o=n(5607);e.exports=o("Array").map},2671:function(e,t,n){n(5818);var o=n(5607);e.exports=o("Array").slice},1375:function(e,t,n){n(2178);var o=n(5607);e.exports=o("Array").splice},3528:function(e,t,n){n(665);var o=n(5607);e.exports=o("Function").bind},5739:function(e,t,n){n(8939),n(5454);var o=n(8703);e.exports=o},278:function(e,t,n){var o=n(3528),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?o:t}},1484:function(e,t,n){var o=n(6135),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?o:t}},7731:function(e,t,n){var o=n(9510),i=Array.prototype;e.exports=function(e){var t=e.fill;return e===i||e instanceof Array&&t===i.fill?o:t}},3669:function(e,t,n){var o=n(3971),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?o:t}},2604:function(e,t,n){var o=n(2089),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?o:t}},263:function(e,t,n){var o=n(6209),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?o:t}},7663:function(e,t,n){var o=n(2671),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?o:t}},5063:function(e,t,n){var o=n(1375),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||e instanceof Array&&t===i.splice?o:t}},6813:function(e,t,n){var o=n(3842),i=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===i||e instanceof String&&t===i.trim?o:t}},6285:function(e,t,n){n(2666);var o=n(7545);e.exports=o.Number.parseInt},3213:function(e,t,n){n(3113);var o=n(7545).Object;e.exports=function(e,t){return o.create(e,t)}},3512:function(e,t,n){n(297);var o=n(7545).Object,i=e.exports=function(e,t,n){return o.defineProperty(e,t,n)};o.defineProperty.sham&&(i.sham=!0)},8168:function(e,t,n){n(9234);var o=n(7545);e.exports=o.Object.getPrototypeOf},8651:function(e,t,n){n(2647);var o=n(7545);e.exports=o.Object.keys},3083:function(e,t,n){n(3222);var o=n(7545);e.exports=o.Object.setPrototypeOf},2987:function(e,t,n){n(4859);var o=n(7545);e.exports=o.parseFloat},2239:function(e,t,n){n(5706);var o=n(7545);e.exports=o.parseInt},3154:function(e,t,n){n(4242),n(8939),n(6663),n(9021),n(7884),n(8885),n(1868),n(5454);var o=n(7545);e.exports=o.Promise},6577:function(e,t,n){n(5397);var o=n(7545);e.exports=o.Reflect.construct},3842:function(e,t,n){n(957);var o=n(5607);e.exports=o("String").trim},5008:function(e,t,n){n(9106),n(6663),n(6187),n(9781),n(492),n(6681),n(9594),n(3665),n(9017),n(1250),n(9786),n(503),n(6565),n(9322),n(3610),n(6886),n(3514),n(8671),n(8556),n(1367);var o=n(7545);e.exports=o.Symbol},994:function(e,t,n){n(8939),n(6663),n(5454),n(3665);var o=n(9207);e.exports=o.f("iterator")},2813:function(e,t,n){var o=n(3822);e.exports=o},8664:function(e,t,n){var o=n(1434);e.exports=o},1457:function(e,t,n){var o=n(7710);e.exports=o},2937:function(e,t,n){var o=n(4741);e.exports=o},9297:function(e,t,n){var o=n(4963);e.exports=o},8026:function(e,t,n){var o=n(7820);e.exports=o},2044:function(e,t,n){var o=n(8980);e.exports=o},2214:function(e,t,n){var o=n(6672);e.exports=o},9256:function(e,t,n){var o=n(2285);n(177),n(9031),n(6658),n(1875),n(8658),n(4592),n(6680),e.exports=o},5659:function(e,t,n){var o=n(8535);e.exports=o},6235:function(e,t,n){var o=n(6447),i=n(9288);e.exports=function(e){if(o(e))return e;throw TypeError(i(e)+" is not a function")}},1404:function(e,t,n){var o=n(2091),i=n(9288);e.exports=function(e){if(o(e))return e;throw TypeError(i(e)+" is not a constructor")}},7757:function(e,t,n){var o=n(6447);e.exports=function(e){if("object"==typeof e||o(e))return e;throw TypeError("Can't set "+String(e)+" as a prototype")}},7423:function(e){e.exports=function(){}},6961:function(e){e.exports=function(e,t,n){if(e instanceof t)return e;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}},1138:function(e,t,n){var o=n(5744);e.exports=function(e){if(o(e))return e;throw TypeError(String(e)+" is not an object")}},2724:function(e,t,n){"use strict";var o=n(1795),i=n(7739),r=n(4104);e.exports=function(e){for(var t=o(this),n=r(t),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>a;)t[a++]=e;return t}},7397:function(e,t,n){"use strict";var o=n(454).forEach,i=n(424)("forEach");e.exports=i?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},841:function(e,t,n){"use strict";var o=n(8043),i=n(1795),r=n(1635),s=n(6109),a=n(2091),l=n(4104),c=n(9361),u=n(1669),d=n(8703);e.exports=function(e){var t=i(e),n=a(this),h=arguments.length,f=h>1?arguments[1]:void 0,p=void 0!==f;p&&(f=o(f,h>2?arguments[2]:void 0,2));var m,g,O,v,b,y,x=d(t),w=0;if(!x||this==Array&&s(x))for(m=l(t),g=n?new this(m):Array(m);m>w;w++)y=p?f(t[w],w):t[w],c(g,w,y);else for(b=(v=u(t,x)).next,g=n?new this:[];!(O=b.call(v)).done;w++)y=p?r(v,f,[O.value,w],!0):O.value,c(g,w,y);return g.length=w,g}},8180:function(e,t,n){var o=n(101),i=n(7739),r=n(4104),s=function(e){return function(t,n,s){var a,l=o(t),c=r(l),u=i(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},454:function(e,t,n){var o=n(8043),i=n(2202),r=n(1795),s=n(4104),a=n(1321),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,m,g,O){for(var v,b,y=r(p),x=i(y),w=o(m,g,3),S=s(x),_=0,k=O||a,C=t?k(p,S):n||h?k(p,0):void 0;S>_;_++)if((f||_ in x)&&(b=w(v=x[_],_,y),e))if(t)C[_]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:l.call(C,v)}else switch(e){case 4:return!1;case 7:l.call(C,v)}return d?-1:c||u?u:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},242:function(e,t,n){var o=n(6192),i=n(8182),r=n(4218),s=i("species");e.exports=function(e){return r>=51||!o((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},424:function(e,t,n){"use strict";var o=n(6192);e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){throw 1},1)}))}},3712:function(e,t,n){var o=n(4770),i=n(2091),r=n(5744),s=n(8182)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,(i(t)&&(t===Array||o(t.prototype))||r(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?Array:t}},1321:function(e,t,n){var o=n(3712);e.exports=function(e,t){return new(o(e))(0===t?0:t)}},1635:function(e,t,n){var o=n(1138),i=n(6639);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},9770:function(e,t,n){var o=n(8182)("iterator"),i=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){i=!0}};s[o]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},9272:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},4696:function(e,t,n){var o=n(3471),i=n(6447),r=n(9272),s=n(8182)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=o?r:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:a?r(t):"Object"==(o=r(t))&&i(t.callee)?"Arguments":o}},4635:function(e,t,n){var o=n(6192);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},5148:function(e,t,n){"use strict";var o=n(4413).IteratorPrototype,i=n(2853),r=n(774),s=n(1284),a=n(7771),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(o,{next:r(1,n)}),s(e,c,!1,!0),a[c]=l,e}},8711:function(e,t,n){var o=n(69),i=n(2760),r=n(774);e.exports=o?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},774:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9361:function(e,t,n){"use strict";var o=n(77),i=n(2760),r=n(774);e.exports=function(e,t,n){var s=o(t);s in e?i.f(e,s,r(0,n)):e[s]=n}},7218:function(e,t,n){"use strict";var o=n(3085),i=n(5546),r=n(2282),s=n(6447),a=n(5148),l=n(9341),c=n(4469),u=n(1284),d=n(8711),h=n(9482),f=n(8182),p=n(7771),m=n(4413),g=r.PROPER,O=r.CONFIGURABLE,v=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,y=f("iterator"),x="keys",w="values",S="entries",_=function(){return this};e.exports=function(e,t,n,r,f,m,k){a(n,t,r);var C,T,$,P=function(e){if(e===f&&D)return D;if(!b&&e in E)return E[e];switch(e){case x:case w:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",Q=!1,E=e.prototype,M=E[y]||E["@@iterator"]||f&&E[f],D=!b&&M||P(f),I="Array"==t&&E.entries||M;if(I&&(C=l(I.call(new e)))!==Object.prototype&&C.next&&(i||l(C)===v||(c?c(C,v):s(C[y])||h(C,y,_)),u(C,A,!0,!0),i&&(p[A]=_)),g&&f==w&&M&&M.name!==w&&(!i&&O?d(E,"name",w):(Q=!0,D=function(){return M.call(this)})),f)if(T={values:P(w),keys:m?D:P(x),entries:P(S)},k)for($ in T)(b||Q||!($ in E))&&h(E,$,T[$]);else o({target:t,proto:!0,forced:b||Q},T);return i&&!k||E[y]===D||h(E,y,D,{name:f}),p[t]=D,T}},1488:function(e,t,n){var o=n(7545),i=n(4500),r=n(9207),s=n(2760).f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});i(t,e)||s(t,e,{value:r.f(e)})}},69:function(e,t,n){var o=n(6192);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7449:function(e,t,n){var o=n(8576),i=n(5744),r=o.document,s=i(r)&&i(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},7365:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(e){e.exports="object"==typeof window},9347:function(e,t,n){var o=n(8989),i=n(8576);e.exports=/ipad|iphone|ipod/i.test(o)&&void 0!==i.Pebble},9536:function(e,t,n){var o=n(8989);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},224:function(e,t,n){var o=n(9272),i=n(8576);e.exports="process"==o(i.process)},5914:function(e,t,n){var o=n(8989);e.exports=/web0s(?!.*chrome)/i.test(o)},8989:function(e,t,n){var o=n(150);e.exports=o("navigator","userAgent")||""},4218:function(e,t,n){var o,i,r=n(8576),s=n(8989),a=r.process,l=r.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u?i=(o=u.split("."))[0]<4?1:o[0]+o[1]:s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(i=o[1]),e.exports=i&&+i},5607:function(e,t,n){var o=n(7545);e.exports=function(e){return o[e+"Prototype"]}},2952:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(e,t,n){"use strict";var o=n(8576),i=n(6447),r=n(5141).f,s=n(9245),a=n(7545),l=n(8043),c=n(8711),u=n(4500),d=function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,h,f,p,m,g,O,v,b=e.target,y=e.global,x=e.stat,w=e.proto,S=y?o:x?o[b]:(o[b]||{}).prototype,_=y?a:a[b]||c(a,b,{})[b],k=_.prototype;for(f in t)n=!s(y?f:b+(x?".":"#")+f,e.forced)&&S&&u(S,f),m=_[f],n&&(g=e.noTargetGet?(v=r(S,f))&&v.value:S[f]),p=n&&g?g:t[f],n&&typeof m==typeof p||(O=e.bind&&n?l(p,o):e.wrap&&n?d(p):w&&i(p)?l(Function.call,p):p,(e.sham||p&&p.sham||m&&m.sham)&&c(O,"sham",!0),c(_,f,O),w&&(u(a,h=b+"Prototype")||c(a,h,{}),c(a[h],f,p),e.real&&k&&!k[f]&&c(k,f,p)))}},6192:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8043:function(e,t,n){var o=n(6235);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},6782:function(e,t,n){"use strict";var o=n(6235),i=n(5744),r=[].slice,s={};e.exports=Function.bind||function(e){var t=o(this),n=r.call(arguments,1),a=function(){var o=n.concat(r.call(arguments));return this instanceof a?function(e,t,n){if(!(t in s)){for(var o=[],i=0;i<t;i++)o[i]="a["+i+"]";s[t]=Function("C,a","return new C("+o.join(",")+")")}return s[t](e,n)}(t,o.length,o):t.apply(e,o)};return i(t.prototype)&&(a.prototype=t.prototype),a}},2282:function(e,t,n){var o=n(69),i=n(4500),r=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,a=i(r,"name"),l=a&&"something"===function(){}.name,c=a&&(!o||o&&s(r,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},150:function(e,t,n){var o=n(7545),i=n(8576),r=n(6447),s=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(o[e])||s(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},8703:function(e,t,n){var o=n(4696),i=n(5037),r=n(7771),s=n(8182)("iterator");e.exports=function(e){if(null!=e)return i(e,s)||i(e,"@@iterator")||r[o(e)]}},1669:function(e,t,n){var o=n(6235),i=n(1138),r=n(8703);e.exports=function(e,t){var n=arguments.length<2?r(e):t;if(o(n))return i(n.call(e));throw TypeError(String(e)+" is not iterable")}},5037:function(e,t,n){var o=n(6235);e.exports=function(e,t){var n=e[t];return null==n?void 0:o(n)}},8576:function(e,t,n){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},4500:function(e,t,n){var o=n(1795),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(o(e),t)}},4535:function(e){e.exports={}},3681:function(e,t,n){var o=n(8576);e.exports=function(e,t){var n=o.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},7403:function(e,t,n){var o=n(150);e.exports=o("document","documentElement")},188:function(e,t,n){var o=n(69),i=n(6192),r=n(7449);e.exports=!o&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},2202:function(e,t,n){var o=n(6192),i=n(9272),r="".split;e.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?r.call(e,""):Object(e)}:Object},9516:function(e,t,n){var o=n(6447),i=n(6434),r=Function.toString;o(i.inspectSource)||(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},273:function(e,t,n){var o=n(5744),i=n(8711);e.exports=function(e,t){o(t)&&"cause"in t&&i(e,"cause",e.cause)}},3326:function(e,t,n){var o,i,r,s=n(8921),a=n(8576),l=n(5744),c=n(8711),u=n(4500),d=n(6434),h=n(9766),f=n(4535),p="Object already initialized",m=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new m),O=g.get,v=g.has,b=g.set;o=function(e,t){if(v.call(g,e))throw new TypeError(p);return t.facade=e,b.call(g,e,t),t},i=function(e){return O.call(g,e)||{}},r=function(e){return v.call(g,e)}}else{var y=h("state");f[y]=!0,o=function(e,t){if(u(e,y))throw new TypeError(p);return t.facade=e,c(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},r=function(e){return u(e,y)}}e.exports={set:o,get:i,has:r,enforce:function(e){return r(e)?i(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},6109:function(e,t,n){var o=n(8182),i=n(7771),r=o("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[r]===e)}},4770:function(e,t,n){var o=n(9272);e.exports=Array.isArray||function(e){return"Array"==o(e)}},6447:function(e){e.exports=function(e){return"function"==typeof e}},2091:function(e,t,n){var o=n(6192),i=n(6447),r=n(4696),s=n(150),a=n(9516),l=[],c=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,d=u.exec,h=!u.exec((function(){})),f=function(e){if(!i(e))return!1;try{return c(Object,l,e),!0}catch(e){return!1}};e.exports=!c||o((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?function(e){if(!i(e))return!1;switch(r(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d.call(u,a(e))}:f},9245:function(e,t,n){var o=n(6192),i=n(6447),r=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(i(t)?o(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},5744:function(e,t,n){var o=n(6447);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},5546:function(e){e.exports=!0},3236:function(e,t,n){var o=n(6447),i=n(150),r=n(615);e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&Object(e)instanceof t}},3442:function(e,t,n){var o=n(1138),i=n(6109),r=n(4104),s=n(8043),a=n(1669),l=n(8703),c=n(6639),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var d,h,f,p,m,g,O,v=n&&n.that,b=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),w=s(t,v,1+b+x),S=function(e){return d&&c(d,"normal",e),new u(!0,e)},_=function(e){return b?(o(e),x?w(e[0],e[1],S):w(e[0],e[1])):x?w(e,S):w(e)};if(y)d=e;else{if(!(h=l(e)))throw TypeError(String(e)+" is not iterable");if(i(h)){for(f=0,p=r(e);p>f;f++)if((m=_(e[f]))&&m instanceof u)return m;return new u(!1)}d=a(e,h)}for(g=d.next;!(O=g.call(d)).done;){try{m=_(O.value)}catch(e){c(d,"throw",e)}if("object"==typeof m&&m&&m instanceof u)return m}return new u(!1)}},6639:function(e,t,n){var o=n(1138),i=n(5037);e.exports=function(e,t,n){var r,s;o(e);try{if(!(r=i(e,"return"))){if("throw"===t)throw n;return n}r=r.call(e)}catch(e){s=!0,r=e}if("throw"===t)throw n;if(s)throw r;return o(r),n}},4413:function(e,t,n){"use strict";var o,i,r,s=n(6192),a=n(6447),l=n(2853),c=n(9341),u=n(9482),d=n(8182),h=n(5546),f=d("iterator"),p=!1;[].keys&&("next"in(r=[].keys())?(i=c(c(r)))!==Object.prototype&&(o=i):p=!0),null==o||s((function(){var e={};return o[f].call(e)!==e}))?o={}:h&&(o=l(o)),a(o[f])||u(o,f,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:p}},7771:function(e){e.exports={}},4104:function(e,t,n){var o=n(8445);e.exports=function(e){return o(e.length)}},2950:function(e,t,n){var o,i,r,s,a,l,c,u,d=n(8576),h=n(5141).f,f=n(7160).set,p=n(9536),m=n(9347),g=n(5914),O=n(224),v=d.MutationObserver||d.WebKitMutationObserver,b=d.document,y=d.process,x=d.Promise,w=h(d,"queueMicrotask"),S=w&&w.value;S||(o=function(){var e,t;for(O&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():r=void 0,e}}r=void 0,e&&e.enter()},p||O||g||!v||!b?!m&&x&&x.resolve?((c=x.resolve(void 0)).constructor=x,u=c.then,s=function(){u.call(c,o)}):s=O?function(){y.nextTick(o)}:function(){f.call(d,o)}:(a=!0,l=b.createTextNode(""),new v(o).observe(l,{characterData:!0}),s=function(){l.data=a=!a})),e.exports=S||function(e){var t={fn:e,next:void 0};r&&(r.next=t),i||(i=t,s()),r=t}},4471:function(e,t,n){var o=n(8576);e.exports=o.Promise},3045:function(e,t,n){var o=n(4218),i=n(6192);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},4551:function(e,t,n){var o=n(6192),i=n(8182),r=n(5546),s=i("iterator");e.exports=!o((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,o){t.delete("b"),n+=o+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8921:function(e,t,n){var o=n(8576),i=n(6447),r=n(9516),s=o.WeakMap;e.exports=i(s)&&/native code/.test(r(s))},9438:function(e,t,n){"use strict";var o=n(6235),i=function(e){var t,n;this.promise=new e((function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o})),this.resolve=o(t),this.reject=o(n)};e.exports.f=function(e){return new i(e)}},15:function(e,t,n){var o=n(8576),i=n(6192),r=n(4845),s=n(4277).trim,a=n(1450),l=o.parseFloat,c=o.Symbol,u=c&&c.iterator,d=1/l(a+"-0")!=-1/0||u&&!i((function(){l(Object(u))}));e.exports=d?function(e){var t=s(r(e)),n=l(t);return 0===n&&"-"==t.charAt(0)?-0:n}:l},2558:function(e,t,n){var o=n(8576),i=n(6192),r=n(4845),s=n(4277).trim,a=n(1450),l=o.parseInt,c=o.Symbol,u=c&&c.iterator,d=/^[+-]?0[Xx]/,h=8!==l(a+"08")||22!==l(a+"0x16")||u&&!i((function(){l(Object(u))}));e.exports=h?function(e,t){var n=s(r(e));return l(n,t>>>0||(d.test(n)?16:10))}:l},2503:function(e,t,n){"use strict";var o=n(69),i=n(6192),r=n(7653),s=n(4750),a=n(6007),l=n(1795),c=n(2202),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(o&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||r(u({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,u=1,d=s.f,h=a.f;i>u;)for(var f,p=c(arguments[u++]),m=d?r(p).concat(d(p)):r(p),g=m.length,O=0;g>O;)f=m[O++],o&&!h.call(p,f)||(n[f]=p[f]);return n}:u},2853:function(e,t,n){var o,i=n(1138),r=n(1187),s=n(2952),a=n(4535),l=n(7403),c=n(7449),u=n(9766),d="prototype",h="script",f=u("IE_PROTO"),p=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},O=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;O="undefined"!=typeof document?document.domain&&o?g(o):(t=c("iframe"),n="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):g(o);for(var i=s.length;i--;)delete O[d][s[i]];return O()};a[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[d]=i(e),n=new p,p[d]=null,n[f]=e):n=O(),void 0===t?n:r(n,t)}},1187:function(e,t,n){var o=n(69),i=n(2760),r=n(1138),s=n(7653);e.exports=o?Object.defineProperties:function(e,t){r(e);for(var n,o=s(t),a=o.length,l=0;a>l;)i.f(e,n=o[l++],t[n]);return e}},2760:function(e,t,n){var o=n(69),i=n(188),r=n(1138),s=n(77),a=Object.defineProperty;t.f=o?a:function(e,t,n){if(r(e),t=s(t),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5141:function(e,t,n){var o=n(69),i=n(6007),r=n(774),s=n(101),a=n(77),l=n(4500),c=n(188),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=s(e),t=a(t),c)try{return u(e,t)}catch(e){}if(l(e,t))return r(!i.f.call(e,t),e[t])}},4052:function(e,t,n){var o=n(101),i=n(2092).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==r.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(o(e))}},2092:function(e,t,n){var o=n(7934),i=n(2952).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},4750:function(e,t){t.f=Object.getOwnPropertySymbols},9341:function(e,t,n){var o=n(4500),i=n(6447),r=n(1795),s=n(9766),a=n(4635),l=s("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){var t=r(e);if(o(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof Object?c:null}},7934:function(e,t,n){var o=n(4500),i=n(101),r=n(8180).indexOf,s=n(4535);e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!o(s,n)&&o(a,n)&&c.push(n);for(;t.length>l;)o(a,n=t[l++])&&(~r(c,n)||c.push(n));return c}},7653:function(e,t,n){var o=n(7934),i=n(2952);e.exports=Object.keys||function(e){return o(e,i)}},6007:function(e,t){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},4469:function(e,t,n){var o=n(1138),i=n(7757);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},158:function(e,t,n){"use strict";var o=n(3471),i=n(4696);e.exports=o?{}.toString:function(){return"[object "+i(this)+"]"}},380:function(e,t,n){var o=n(6447),i=n(5744);e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!i(r=n.call(e)))return r;if(o(n=e.valueOf)&&!i(r=n.call(e)))return r;if("string"!==t&&o(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},7545:function(e){e.exports={}},892:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9126:function(e,t,n){var o=n(1138),i=n(5744),r=n(9438);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},533:function(e,t,n){var o=n(9482);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:o(e,i,t[i],n);return e}},9482:function(e,t,n){var o=n(8711);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:o(e,t,n)}},3209:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},7613:function(e,t,n){var o=n(8576);e.exports=function(e,t){try{Object.defineProperty(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},3656:function(e,t,n){"use strict";var o=n(150),i=n(2760),r=n(8182),s=n(69),a=r("species");e.exports=function(e){var t=o(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},1284:function(e,t,n){var o=n(3471),i=n(2760).f,r=n(8711),s=n(4500),a=n(158),l=n(8182)("toStringTag");e.exports=function(e,t,n,c){if(e){var u=n?e:e.prototype;s(u,l)||i(u,l,{configurable:!0,value:t}),c&&!o&&r(u,"toString",a)}}},9766:function(e,t,n){var o=n(8717),i=n(2759),r=o("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},6434:function(e,t,n){var o=n(8576),i=n(7613),r="__core-js_shared__",s=o[r]||i(r,{});e.exports=s},8717:function(e,t,n){var o=n(5546),i=n(6434);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.18.2",mode:o?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(e,t,n){var o=n(1138),i=n(1404),r=n(8182)("species");e.exports=function(e,t){var n,s=o(e).constructor;return void 0===s||null==(n=o(s)[r])?t:i(n)}},863:function(e,t,n){var o=n(1941),i=n(4845),r=n(3209),s=function(e){return function(t,n){var s,a,l=i(r(t)),c=o(n),u=l.length;return c<0||c>=u?e?"":void 0:(s=l.charCodeAt(c))<55296||s>56319||c+1===u||(a=l.charCodeAt(c+1))<56320||a>57343?e?l.charAt(c):s:e?l.slice(c,c+2):a-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},7977:function(e){"use strict";var t=2147483647,n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",r=Math.floor,s=String.fromCharCode,a=function(e){return e+22+75*(e<26)},l=function(e,t,n){var o=0;for(e=n?r(e/700):e>>1,e+=r(e/t);e>455;o+=36)e=r(e/35);return r(o+36*e/(e+38))},c=function(e){var n=[];e=function(e){for(var t=[],n=0,o=e.length;n<o;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<o){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);var o,c,u=e.length,d=128,h=0,f=72;for(o=0;o<e.length;o++)(c=e[o])<128&&n.push(s(c));var p=n.length,m=p;for(p&&n.push("-");m<u;){var g=t;for(o=0;o<e.length;o++)(c=e[o])>=d&&c<g&&(g=c);var O=m+1;if(g-d>r((t-h)/O))throw RangeError(i);for(h+=(g-d)*O,d=g,o=0;o<e.length;o++){if((c=e[o])<d&&++h>t)throw RangeError(i);if(c==d){for(var v=h,b=36;;b+=36){var y=b<=f?1:b>=f+26?26:b-f;if(v<y)break;var x=v-y,w=36-y;n.push(s(a(y+x%w))),v=r(x/w)}n.push(s(a(v))),f=l(h,O,m==p),h=0,++m}}++h,++d}return n.join("")};e.exports=function(e){var t,i,r=[],s=e.toLowerCase().replace(o,".").split(".");for(t=0;t<s.length;t++)i=s[t],r.push(n.test(i)?"xn--"+c(i):i);return r.join(".")}},6815:function(e,t,n){var o=n(2282).PROPER,i=n(6192),r=n(1450);e.exports=function(e){return i((function(){return!!r[e]()||"​᠎"!=="​᠎"[e]()||o&&r[e].name!==e}))}},4277:function(e,t,n){var o=n(3209),i=n(4845),r="["+n(1450)+"]",s=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),l=function(e){return function(t){var n=i(o(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},7160:function(e,t,n){var o,i,r,s,a=n(8576),l=n(6447),c=n(6192),u=n(8043),d=n(7403),h=n(7449),f=n(9536),p=n(224),m=a.setImmediate,g=a.clearImmediate,O=a.process,v=a.MessageChannel,b=a.Dispatch,y=0,x={},w="onreadystatechange";try{o=a.location}catch(e){}var S=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},_=function(e){return function(){S(e)}},k=function(e){S(e.data)},C=function(e){a.postMessage(String(e),o.protocol+"//"+o.host)};m&&g||(m=function(e){for(var t=[],n=arguments.length,o=1;n>o;)t.push(arguments[o++]);return x[++y]=function(){(l(e)?e:Function(e)).apply(void 0,t)},i(y),y},g=function(e){delete x[e]},p?i=function(e){O.nextTick(_(e))}:b&&b.now?i=function(e){b.now(_(e))}:v&&!f?(s=(r=new v).port2,r.port1.onmessage=k,i=u(s.postMessage,s,1)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&o&&"file:"!==o.protocol&&!c(C)?(i=C,a.addEventListener("message",k,!1)):i=w in h("script")?function(e){d.appendChild(h("script"))[w]=function(){d.removeChild(this),S(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:m,clear:g}},7739:function(e,t,n){var o=n(1941),i=Math.max,r=Math.min;e.exports=function(e,t){var n=o(e);return n<0?i(n+t,0):r(n,t)}},101:function(e,t,n){var o=n(2202),i=n(3209);e.exports=function(e){return o(i(e))}},1941:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var o=+e;return o!=o||0===o?0:(o>0?n:t)(o)}},8445:function(e,t,n){var o=n(1941),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},1795:function(e,t,n){var o=n(3209);e.exports=function(e){return Object(o(e))}},7888:function(e,t,n){var o=n(5744),i=n(3236),r=n(5037),s=n(380),a=n(8182)("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,l=r(e,a);if(l){if(void 0===t&&(t="default"),n=l.call(e,t),!o(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},77:function(e,t,n){var o=n(7888),i=n(3236);e.exports=function(e){var t=o(e,"string");return i(t)?t:String(t)}},3471:function(e,t,n){var o={};o[n(8182)("toStringTag")]="z",e.exports="[object z]"===String(o)},4845:function(e,t,n){var o=n(4696);e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},9288:function(e){e.exports=function(e){try{return String(e)}catch(e){return"Object"}}},2759:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},615:function(e,t,n){var o=n(3045);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9207:function(e,t,n){var o=n(8182);t.f=o},8182:function(e,t,n){var o=n(8576),i=n(8717),r=n(4500),s=n(2759),a=n(3045),l=n(615),c=i("wks"),u=o.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return r(c,e)&&(a||"string"==typeof c[e])||(a&&r(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},1450:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},4242:function(e,t,n){"use strict";var o=n(3085),i=n(9341),r=n(4469),s=n(2853),a=n(8711),l=n(774),c=n(273),u=n(3442),d=n(4845),h=function(e,t){var n=this,o=arguments.length>2?arguments[2]:void 0;if(!(n instanceof h))return new h(e,t,o);r&&(n=r(new Error(void 0),i(n))),void 0!==t&&a(n,"message",d(t)),c(n,o);var s=[];return u(e,s.push,{that:s}),a(n,"errors",s),n};h.prototype=s(Error.prototype,{constructor:l(5,h),message:l(5,""),name:l(5,"AggregateError")}),o({global:!0},{AggregateError:h})},9106:function(e,t,n){"use strict";var o=n(3085),i=n(6192),r=n(4770),s=n(5744),a=n(1795),l=n(4104),c=n(9361),u=n(1321),d=n(242),h=n(8182),f=n(4218),p=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",O=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=d("concat"),b=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:r(e)};o({target:"Array",proto:!0,forced:!O||!v},{concat:function(e){var t,n,o,i,r,s=a(this),d=u(s,0),h=0;for(t=-1,o=arguments.length;t<o;t++)if(b(r=-1===t?s:arguments[t])){if(h+(i=l(r))>m)throw TypeError(g);for(n=0;n<i;n++,h++)n in r&&c(d,h,r[n])}else{if(h>=m)throw TypeError(g);c(d,h++,r)}return d.length=h,d}})},1710:function(e,t,n){var o=n(3085),i=n(2724),r=n(7423);o({target:"Array",proto:!0},{fill:i}),r("fill")},3436:function(e,t,n){"use strict";var o=n(3085),i=n(454).filter;o({target:"Array",proto:!0,forced:!n(242)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},9823:function(e,t,n){"use strict";var o=n(3085),i=n(7397);o({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},9173:function(e,t,n){var o=n(3085),i=n(841);o({target:"Array",stat:!0,forced:!n(9770)((function(e){Array.from(e)}))},{from:i})},2276:function(e,t,n){"use strict";var o=n(3085),i=n(8180).indexOf,r=n(424),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,l=r("indexOf");o({target:"Array",proto:!0,forced:a||!l},{indexOf:function(e){return a?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},8118:function(e,t,n){n(3085)({target:"Array",stat:!0},{isArray:n(4770)})},8939:function(e,t,n){"use strict";var o=n(101),i=n(7423),r=n(7771),s=n(3326),a=n(7218),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:o(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}}),"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},3838:function(e,t,n){"use strict";var o=n(3085),i=n(454).map;o({target:"Array",proto:!0,forced:!n(242)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5818:function(e,t,n){"use strict";var o=n(3085),i=n(4770),r=n(2091),s=n(5744),a=n(7739),l=n(4104),c=n(101),u=n(9361),d=n(8182),h=n(242)("slice"),f=d("species"),p=[].slice,m=Math.max;o({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,o,d,h=c(this),g=l(h),O=a(e,g),v=a(void 0===t?g:t,g);if(i(h)&&(n=h.constructor,(r(n)&&(n===Array||i(n.prototype))||s(n)&&null===(n=n[f]))&&(n=void 0),n===Array||void 0===n))return p.call(h,O,v);for(o=new(void 0===n?Array:n)(m(v-O,0)),d=0;O<v;O++,d++)O in h&&u(o,d,h[O]);return o.length=d,o}})},2178:function(e,t,n){"use strict";var o=n(3085),i=n(7739),r=n(1941),s=n(4104),a=n(1795),l=n(1321),c=n(9361),u=n(242)("splice"),d=Math.max,h=Math.min;o({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,o,u,f,p,m,g=a(this),O=s(g),v=i(e,O),b=arguments.length;if(0===b?n=o=0:1===b?(n=0,o=O-v):(n=b-2,o=h(d(r(t),0),O-v)),O+n-o>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(g,o),f=0;f<o;f++)(p=v+f)in g&&c(u,f,g[p]);if(u.length=o,n<o){for(f=v;f<O-o;f++)m=f+n,(p=f+o)in g?g[m]=g[p]:delete g[m];for(f=O;f>O-o+n;f--)delete g[f-1]}else if(n>o)for(f=O-o;f>v;f--)m=f+n-1,(p=f+o-1)in g?g[m]=g[p]:delete g[m];for(f=0;f<n;f++)g[f+v]=arguments[f+2];return g.length=O-o+n,u}})},665:function(e,t,n){n(3085)({target:"Function",proto:!0},{bind:n(6782)})},8671:function(e,t,n){var o=n(8576);n(1284)(o.JSON,"JSON",!0)},8556:function(){},2666:function(e,t,n){var o=n(3085),i=n(2558);o({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},3113:function(e,t,n){n(3085)({target:"Object",stat:!0,sham:!n(69)},{create:n(2853)})},297:function(e,t,n){var o=n(3085),i=n(69);o({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(2760).f})},9234:function(e,t,n){var o=n(3085),i=n(6192),r=n(1795),s=n(9341),a=n(4635);o({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(r(e))}})},2647:function(e,t,n){var o=n(3085),i=n(1795),r=n(7653);o({target:"Object",stat:!0,forced:n(6192)((function(){r(1)}))},{keys:function(e){return r(i(e))}})},3222:function(e,t,n){n(3085)({target:"Object",stat:!0},{setPrototypeOf:n(4469)})},6663:function(){},4859:function(e,t,n){var o=n(3085),i=n(15);o({global:!0,forced:parseFloat!=i},{parseFloat:i})},5706:function(e,t,n){var o=n(3085),i=n(2558);o({global:!0,forced:parseInt!=i},{parseInt:i})},7884:function(e,t,n){"use strict";var o=n(3085),i=n(6235),r=n(9438),s=n(892),a=n(3442);o({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=r.f(t),o=n.resolve,l=n.reject,c=s((function(){var n=i(t.resolve),r=[],s=0,l=1;a(e,(function(e){var i=s++,a=!1;r.push(void 0),l++,n.call(t,e).then((function(e){a||(a=!0,r[i]={status:"fulfilled",value:e},--l||o(r))}),(function(e){a||(a=!0,r[i]={status:"rejected",reason:e},--l||o(r))}))})),--l||o(r)}));return c.error&&l(c.value),n.promise}})},8885:function(e,t,n){"use strict";var o=n(3085),i=n(6235),r=n(150),s=n(9438),a=n(892),l=n(3442),c="No one promise resolved";o({target:"Promise",stat:!0},{any:function(e){var t=this,n=s.f(t),o=n.resolve,u=n.reject,d=a((function(){var n=i(t.resolve),s=[],a=0,d=1,h=!1;l(e,(function(e){var i=a++,l=!1;s.push(void 0),d++,n.call(t,e).then((function(e){l||h||(h=!0,o(e))}),(function(e){l||h||(l=!0,s[i]=e,--d||u(new(r("AggregateError"))(s,c)))}))})),--d||u(new(r("AggregateError"))(s,c))}));return d.error&&u(d.value),n.promise}})},1868:function(e,t,n){"use strict";var o=n(3085),i=n(5546),r=n(4471),s=n(6192),a=n(150),l=n(6447),c=n(4743),u=n(9126),d=n(9482);if(o({target:"Promise",proto:!0,real:!0,forced:!!r&&s((function(){r.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,a("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&l(r)){var h=a("Promise").prototype.finally;r.prototype.finally!==h&&d(r.prototype,"finally",h,{unsafe:!0})}},9021:function(e,t,n){"use strict";var o,i,r,s,a=n(3085),l=n(5546),c=n(8576),u=n(150),d=n(4471),h=n(9482),f=n(533),p=n(4469),m=n(1284),g=n(3656),O=n(6235),v=n(6447),b=n(5744),y=n(6961),x=n(9516),w=n(3442),S=n(9770),_=n(4743),k=n(7160).set,C=n(2950),T=n(9126),$=n(3681),P=n(9438),A=n(892),Q=n(3326),E=n(9245),M=n(8182),D=n(2957),I=n(224),R=n(4218),z=M("species"),N="Promise",L=Q.get,j=Q.set,V=Q.getterFor(N),B=d&&d.prototype,Z=d,X=B,W=c.TypeError,U=c.document,Y=c.process,F=P.f,q=F,H=!!(U&&U.createEvent&&c.dispatchEvent),G=v(c.PromiseRejectionEvent),K="unhandledrejection",J=!1,ee=E(N,(function(){var e=x(Z),t=e!==String(Z);if(!t&&66===R)return!0;if(l&&!X.finally)return!0;if(R>=51&&/native code/.test(e))return!1;var n=new Z((function(e){e(1)})),o=function(e){e((function(){}),(function(){}))};return(n.constructor={})[z]=o,!(J=n.then((function(){}))instanceof o)||!t&&D&&!G})),te=ee||!S((function(e){Z.all(e).catch((function(){}))})),ne=function(e){var t;return!(!b(e)||!v(t=e.then))&&t},oe=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;C((function(){for(var o=e.value,i=1==e.state,r=0;n.length>r;){var s,a,l,c=n[r++],u=i?c.ok:c.fail,d=c.resolve,h=c.reject,f=c.domain;try{u?(i||(2===e.rejection&&ae(e),e.rejection=1),!0===u?s=o:(f&&f.enter(),s=u(o),f&&(f.exit(),l=!0)),s===c.promise?h(W("Promise-chain cycle")):(a=ne(s))?a.call(s,d,h):d(s)):h(o)}catch(e){f&&!l&&f.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&re(e)}))}},ie=function(e,t,n){var o,i;H?((o=U.createEvent("Event")).promise=t,o.reason=n,o.initEvent(e,!1,!0),c.dispatchEvent(o)):o={promise:t,reason:n},!G&&(i=c["on"+e])?i(o):e===K&&$("Unhandled promise rejection",n)},re=function(e){k.call(c,(function(){var t,n=e.facade,o=e.value;if(se(e)&&(t=A((function(){I?Y.emit("unhandledRejection",o,n):ie(K,n,o)})),e.rejection=I||se(e)?2:1,t.error))throw t.value}))},se=function(e){return 1!==e.rejection&&!e.parent},ae=function(e){k.call(c,(function(){var t=e.facade;I?Y.emit("rejectionHandled",t):ie("rejectionhandled",t,e.value)}))},le=function(e,t,n){return function(o){e(t,o,n)}},ce=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,oe(e,!0))},ue=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw W("Promise can't be resolved itself");var o=ne(t);o?C((function(){var n={done:!1};try{o.call(t,le(ue,n,e),le(ce,n,e))}catch(t){ce(n,t,e)}})):(e.value=t,e.state=1,oe(e,!1))}catch(t){ce({done:!1},t,e)}}};if(ee&&(X=(Z=function(e){y(this,Z,N),O(e),o.call(this);var t=L(this);try{e(le(ue,t),le(ce,t))}catch(e){ce(t,e)}}).prototype,(o=function(e){j(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(X,{then:function(e,t){var n=V(this),o=F(_(this,Z));return o.ok=!v(e)||e,o.fail=v(t)&&t,o.domain=I?Y.domain:void 0,n.parent=!0,n.reactions.push(o),0!=n.state&&oe(n,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new o,t=L(e);this.promise=e,this.resolve=le(ue,t),this.reject=le(ce,t)},P.f=F=function(e){return e===Z||e===r?new i(e):q(e)},!l&&v(d)&&B!==Object.prototype)){s=B.then,J||(h(B,"then",(function(e,t){var n=this;return new Z((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),h(B,"catch",X.catch,{unsafe:!0}));try{delete B.constructor}catch(e){}p&&p(B,X)}a({global:!0,wrap:!0,forced:ee},{Promise:Z}),m(Z,N,!1,!0),g(N),r=u(N),a({target:N,stat:!0,forced:ee},{reject:function(e){var t=F(this);return t.reject.call(void 0,e),t.promise}}),a({target:N,stat:!0,forced:l||ee},{resolve:function(e){return T(l&&this===r?Z:this,e)}}),a({target:N,stat:!0,forced:te},{all:function(e){var t=this,n=F(t),o=n.resolve,i=n.reject,r=A((function(){var n=O(t.resolve),r=[],s=0,a=1;w(e,(function(e){var l=s++,c=!1;r.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,r[l]=e,--a||o(r))}),i)})),--a||o(r)}));return r.error&&i(r.value),n.promise},race:function(e){var t=this,n=F(t),o=n.reject,i=A((function(){var i=O(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,o)}))}));return i.error&&o(i.value),n.promise}})},5397:function(e,t,n){var o=n(3085),i=n(150),r=n(1404),s=n(1138),a=n(5744),l=n(2853),c=n(6782),u=n(6192),d=i("Reflect","construct"),h=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),f=!u((function(){d((function(){}))})),p=h||f;o({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){r(e),s(t);var n=arguments.length<3?e:r(arguments[2]);if(f&&!h)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(c.apply(e,o))}var i=n.prototype,u=l(a(i)?i:Object.prototype),p=Function.apply.call(e,u,t);return a(p)?p:u}})},1367:function(){},5454:function(e,t,n){"use strict";var o=n(863).charAt,i=n(4845),r=n(3326),s=n(7218),a="String Iterator",l=r.set,c=r.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=o(n,i),t.index+=e.length,{value:e,done:!1})}))},957:function(e,t,n){"use strict";var o=n(3085),i=n(4277).trim;o({target:"String",proto:!0,forced:n(6815)("trim")},{trim:function(){return i(this)}})},9781:function(e,t,n){n(1488)("asyncIterator")},492:function(){},6681:function(e,t,n){n(1488)("hasInstance")},9594:function(e,t,n){n(1488)("isConcatSpreadable")},3665:function(e,t,n){n(1488)("iterator")},6187:function(e,t,n){"use strict";var o=n(3085),i=n(8576),r=n(150),s=n(5546),a=n(69),l=n(3045),c=n(6192),u=n(4500),d=n(4770),h=n(6447),f=n(5744),p=n(3236),m=n(1138),g=n(1795),O=n(101),v=n(77),b=n(4845),y=n(774),x=n(2853),w=n(7653),S=n(2092),_=n(4052),k=n(4750),C=n(5141),T=n(2760),$=n(6007),P=n(9482),A=n(8717),Q=n(9766),E=n(4535),M=n(2759),D=n(8182),I=n(9207),R=n(1488),z=n(1284),N=n(3326),L=n(454).forEach,j=Q("hidden"),V="Symbol",B="prototype",Z=D("toPrimitive"),X=N.set,W=N.getterFor(V),U=Object[B],Y=i.Symbol,F=r("JSON","stringify"),q=C.f,H=T.f,G=_.f,K=$.f,J=A("symbols"),ee=A("op-symbols"),te=A("string-to-symbol-registry"),ne=A("symbol-to-string-registry"),oe=A("wks"),ie=i.QObject,re=!ie||!ie[B]||!ie[B].findChild,se=a&&c((function(){return 7!=x(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=q(U,t);o&&delete U[t],H(e,t,n),o&&e!==U&&H(U,t,o)}:H,ae=function(e,t){var n=J[e]=x(Y[B]);return X(n,{type:V,tag:e,description:t}),a||(n.description=t),n},le=function(e,t,n){e===U&&le(ee,t,n),m(e);var o=v(t);return m(n),u(J,o)?(n.enumerable?(u(e,j)&&e[j][o]&&(e[j][o]=!1),n=x(n,{enumerable:y(0,!1)})):(u(e,j)||H(e,j,y(1,{})),e[j][o]=!0),se(e,o,n)):H(e,o,n)},ce=function(e,t){m(e);var n=O(t),o=w(n).concat(fe(n));return L(o,(function(t){a&&!ue.call(n,t)||le(e,t,n[t])})),e},ue=function(e){var t=v(e),n=K.call(this,t);return!(this===U&&u(J,t)&&!u(ee,t))&&(!(n||!u(this,t)||!u(J,t)||u(this,j)&&this[j][t])||n)},de=function(e,t){var n=O(e),o=v(t);if(n!==U||!u(J,o)||u(ee,o)){var i=q(n,o);return!i||!u(J,o)||u(n,j)&&n[j][o]||(i.enumerable=!0),i}},he=function(e){var t=G(O(e)),n=[];return L(t,(function(e){u(J,e)||u(E,e)||n.push(e)})),n},fe=function(e){var t=e===U,n=G(t?ee:O(e)),o=[];return L(n,(function(e){!u(J,e)||t&&!u(U,e)||o.push(J[e])})),o};if(l||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,t=M(e),n=function(e){this===U&&n.call(ee,e),u(this,j)&&u(this[j],t)&&(this[j][t]=!1),se(this,t,y(1,e))};return a&&re&&se(U,t,{configurable:!0,set:n}),ae(t,e)},P(Y[B],"toString",(function(){return W(this).tag})),P(Y,"withoutSetter",(function(e){return ae(M(e),e)})),$.f=ue,T.f=le,C.f=de,S.f=_.f=he,k.f=fe,I.f=function(e){return ae(D(e),e)},a&&(H(Y[B],"description",{configurable:!0,get:function(){return W(this).description}}),s||P(U,"propertyIsEnumerable",ue,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Y}),L(w(oe),(function(e){R(e)})),o({target:V,stat:!0,forced:!l},{for:function(e){var t=b(e);if(u(te,t))return te[t];var n=Y(t);return te[t]=n,ne[n]=t,n},keyFor:function(e){if(!p(e))throw TypeError(e+" is not a symbol");if(u(ne,e))return ne[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),o({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?x(e):ce(x(e),t)},defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:de}),o({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:fe}),o({target:"Object",stat:!0,forced:c((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(g(e))}}),F&&o({target:"JSON",stat:!0,forced:!l||c((function(){var e=Y();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))}))},{stringify:function(e,t,n){for(var o,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(o=t,(f(t)||void 0!==e)&&!p(e))return d(t)||(t=function(e,t){if(h(o)&&(t=o.call(this,e,t)),!p(t))return t}),i[1]=t,F.apply(null,i)}}),!Y[B][Z]){var pe=Y[B].valueOf;P(Y[B],Z,(function(){return pe.apply(this,arguments)}))}z(Y,V),E[j]=!0},1250:function(e,t,n){n(1488)("matchAll")},9017:function(e,t,n){n(1488)("match")},9786:function(e,t,n){n(1488)("replace")},503:function(e,t,n){n(1488)("search")},6565:function(e,t,n){n(1488)("species")},9322:function(e,t,n){n(1488)("split")},3610:function(e,t,n){n(1488)("toPrimitive")},6886:function(e,t,n){n(1488)("toStringTag")},3514:function(e,t,n){n(1488)("unscopables")},177:function(e,t,n){n(1488)("asyncDispose")},9031:function(e,t,n){n(1488)("dispose")},6658:function(e,t,n){n(1488)("matcher")},1875:function(e,t,n){n(1488)("metadata")},8658:function(e,t,n){n(1488)("observable")},4592:function(e,t,n){n(1488)("patternMatch")},6680:function(e,t,n){n(1488)("replaceAll")},162:function(e,t,n){n(8939);var o=n(7365),i=n(8576),r=n(4696),s=n(8711),a=n(7771),l=n(8182)("toStringTag");for(var c in o){var u=i[c],d=u&&u.prototype;d&&r(d)!==l&&s(d,l,c),a[c]=a.Array}},2906:function(e,t,n){var o=n(3085),i=n(8576),r=n(6447),s=n(8989),a=[].slice,l=function(e){return function(t,n){var o=arguments.length>2,i=o?a.call(arguments,2):void 0;return e(o?function(){(r(t)?t:Function(t)).apply(this,i)}:t,n)}};o({global:!0,bind:!0,forced:/MSIE .\./.test(s)},{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},9336:function(e,t,n){"use strict";n(8939);var o=n(3085),i=n(150),r=n(4551),s=n(9482),a=n(533),l=n(1284),c=n(5148),u=n(3326),d=n(6961),h=n(6447),f=n(4500),p=n(8043),m=n(4696),g=n(1138),O=n(5744),v=n(4845),b=n(2853),y=n(774),x=n(1669),w=n(8703),S=n(8182),_=i("fetch"),k=i("Request"),C=k&&k.prototype,T=i("Headers"),$=S("iterator"),P="URLSearchParams",A=P+"Iterator",Q=u.set,E=u.getterFor(P),M=u.getterFor(A),D=/\+/g,I=Array(4),R=function(e){return I[e-1]||(I[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},z=function(e){try{return decodeURIComponent(e)}catch(t){return e}},N=function(e){var t=e.replace(D," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(R(n--),z);return t}},L=/[!'()~]|%20/g,j={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},V=function(e){return j[e]},B=function(e){return encodeURIComponent(e).replace(L,V)},Z=function(e,t){if(t)for(var n,o,i=t.split("&"),r=0;r<i.length;)(n=i[r++]).length&&(o=n.split("="),e.push({key:N(o.shift()),value:N(o.join("="))}))},X=function(e){this.entries.length=0,Z(this.entries,e)},W=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=c((function(e,t){Q(this,{type:A,iterator:x(E(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),o=n.value;return n.done||(n.value="keys"===t?o.key:"values"===t?o.value:[o.key,o.value]),n})),Y=function(){d(this,Y,P);var e,t,n,o,i,r,s,a,l,c=arguments.length>0?arguments[0]:void 0,u=[];if(Q(this,{type:P,entries:u,updateURL:function(){},updateSearchParams:X}),void 0!==c)if(O(c))if(e=w(c))for(n=(t=x(c,e)).next;!(o=n.call(t)).done;){if((s=(r=(i=x(g(o.value))).next).call(i)).done||(a=r.call(i)).done||!r.call(i).done)throw TypeError("Expected sequence with length 2");u.push({key:v(s.value),value:v(a.value)})}else for(l in c)f(c,l)&&u.push({key:l,value:v(c[l])});else Z(u,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:v(c))},F=Y.prototype;if(a(F,{append:function(e,t){W(arguments.length,2);var n=E(this);n.entries.push({key:v(e),value:v(t)}),n.updateURL()},delete:function(e){W(arguments.length,1);for(var t=E(this),n=t.entries,o=v(e),i=0;i<n.length;)n[i].key===o?n.splice(i,1):i++;t.updateURL()},get:function(e){W(arguments.length,1);for(var t=E(this).entries,n=v(e),o=0;o<t.length;o++)if(t[o].key===n)return t[o].value;return null},getAll:function(e){W(arguments.length,1);for(var t=E(this).entries,n=v(e),o=[],i=0;i<t.length;i++)t[i].key===n&&o.push(t[i].value);return o},has:function(e){W(arguments.length,1);for(var t=E(this).entries,n=v(e),o=0;o<t.length;)if(t[o++].key===n)return!0;return!1},set:function(e,t){W(arguments.length,1);for(var n,o=E(this),i=o.entries,r=!1,s=v(e),a=v(t),l=0;l<i.length;l++)(n=i[l]).key===s&&(r?i.splice(l--,1):(r=!0,n.value=a));r||i.push({key:s,value:a}),o.updateURL()},sort:function(){var e,t,n,o=E(this),i=o.entries,r=i.slice();for(i.length=0,n=0;n<r.length;n++){for(e=r[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}o.updateURL()},forEach:function(e){for(var t,n=E(this).entries,o=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)o((t=n[i++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),s(F,$,F.entries,{name:"entries"}),s(F,"toString",(function(){for(var e,t=E(this).entries,n=[],o=0;o<t.length;)e=t[o++],n.push(B(e.key)+"="+B(e.value));return n.join("&")}),{enumerable:!0}),l(Y,P),o({global:!0,forced:!r},{URLSearchParams:Y}),!r&&h(T)){var q=function(e){if(O(e)){var t,n=e.body;if(m(n)===P)return(t=e.headers?new T(e.headers):new T).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),b(e,{body:y(0,String(n)),headers:y(0,t)})}return e};if(h(_)&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return _(e,arguments.length>1?q(arguments[1]):{})}}),h(k)){var H=function(e){return d(this,H,"Request"),new k(e,arguments.length>1?q(arguments[1]):{})};C.constructor=H,H.prototype=C,o({global:!0,forced:!0},{Request:H})}}e.exports={URLSearchParams:Y,getState:E}},4948:function(e,t,n){"use strict";n(5454);var o,i=n(3085),r=n(69),s=n(4551),a=n(8576),l=n(1187),c=n(9482),u=n(6961),d=n(4500),h=n(2503),f=n(841),p=n(863).codeAt,m=n(7977),g=n(4845),O=n(1284),v=n(9336),b=n(3326),y=a.URL,x=v.URLSearchParams,w=v.getState,S=b.set,_=b.getterFor("URL"),k=Math.floor,C=Math.pow,T="Invalid scheme",$="Invalid host",P="Invalid port",A=/[A-Za-z]/,Q=/[\d+-.A-Za-z]/,E=/\d/,M=/^0x/i,D=/^[0-7]+$/,I=/^\d+$/,R=/^[\dA-Fa-f]+$/,z=/[\0\t\n\r #%/:<>?@[\\\]^|]/,N=/[\0\t\n\r #/:<>?@[\\\]^|]/,L=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,j=/[\t\n\r]/g,V=function(e,t){var n,o,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return $;if(!(n=Z(t.slice(1,-1))))return $;e.host=n}else if(G(e)){if(t=m(t),z.test(t))return $;if(null===(n=B(t)))return $;e.host=n}else{if(N.test(t))return $;for(n="",o=f(t),i=0;i<o.length;i++)n+=q(o[i],W);e.host=n}},B=function(e){var t,n,o,i,r,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],o=0;o<t;o++){if(""==(i=l[o]))return e;if(r=10,i.length>1&&"0"==i.charAt(0)&&(r=M.test(i)?16:8,i=i.slice(8==r?1:2)),""===i)s=0;else{if(!(10==r?I:8==r?D:R).test(i))return e;s=parseInt(i,r)}n.push(s)}for(o=0;o<t;o++)if(s=n[o],o==t-1){if(s>=C(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),o=0;o<n.length;o++)a+=n[o]*C(256,3-o);return a},Z=function(e){var t,n,o,i,r,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=n=0;n<4&&R.test(h());)t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,c>6)return;for(o=0;h();){if(i=null,o>0){if(!("."==h()&&o<4))return;d++}if(!E.test(h()))return;for(;E.test(h());){if(r=parseInt(h(),10),null===i)i=r;else{if(0==i)return;i=10*i+r}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++o&&4!=o||c++}if(4!=o)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(s=c-u,c=7;0!=c&&s>0;)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a;else if(8!=c)return;return l},X=function(e){var t,n,o,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"==typeof e){for(t="",o=function(e){for(var t=null,n=1,o=null,i=0,r=0;r<8;r++)0!==e[r]?(i>n&&(t=o,n=i),o=null,i=0):(null===o&&(o=r),++i);return i>n&&(t=o,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),o===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},W={},U=h({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=h({},U,{"#":1,"?":1,"{":1,"}":1}),F=h({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},H={ftp:21,file:null,http:80,https:443,ws:80,wss:443},G=function(e){return d(H,e.scheme)},K=function(e){return""!=e.username||""!=e.password},J=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ee=function(e,t){var n;return 2==e.length&&A.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},te=function(e){var t;return e.length>1&&ee(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ee(t[0],!0)||t.pop()},oe=function(e){return"."===e||"%2e"===e.toLowerCase()},ie={},re={},se={},ae={},le={},ce={},ue={},de={},he={},fe={},pe={},me={},ge={},Oe={},ve={},be={},ye={},xe={},we={},Se={},_e={},ke=function(e,t,n,i){var r,s,a,l,c,u=n||ie,h=0,p="",m=!1,g=!1,O=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(L,"")),t=t.replace(j,""),r=f(t);h<=r.length;){switch(s=r[h],u){case ie:if(!s||!A.test(s)){if(n)return T;u=se;continue}p+=s.toLowerCase(),u=re;break;case re:if(s&&(Q.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(n)return T;p="",u=se,h=0;continue}if(n&&(G(e)!=d(H,p)||"file"==p&&(K(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(G(e)&&H[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=Oe:G(e)&&i&&i.scheme==e.scheme?u=ae:G(e)?u=de:"/"==r[h+1]?(u=le,h++):(e.cannotBeABaseURL=!0,e.path.push(""),u=we)}break;case se:if(!i||i.cannotBeABaseURL&&"#"!=s)return T;if(i.cannotBeABaseURL&&"#"==s){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=_e;break}u="file"==i.scheme?Oe:ce;continue;case ae:if("/"!=s||"/"!=r[h+1]){u=ce;continue}u=he,h++;break;case le:if("/"==s){u=fe;break}u=xe;continue;case ce:if(e.scheme=i.scheme,s==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==s||"\\"==s&&G(e))u=ue;else if("?"==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=Se;else{if("#"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=xe;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=_e}break;case ue:if(!G(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=xe;continue}u=fe}else u=he;break;case de:if(u=he,"/"!=s||"/"!=p.charAt(h+1))continue;h++;break;case he:if("/"!=s&&"\\"!=s){u=fe;continue}break;case fe:if("@"==s){m&&(p="%40"+p),m=!0,a=f(p);for(var v=0;v<a.length;v++){var b=a[v];if(":"!=b||O){var y=q(b,F);O?e.password+=y:e.username+=y}else O=!0}p=""}else if(s==o||"/"==s||"?"==s||"#"==s||"\\"==s&&G(e)){if(m&&""==p)return"Invalid authority";h-=f(p).length+1,p="",u=pe}else p+=s;break;case pe:case me:if(n&&"file"==e.scheme){u=be;continue}if(":"!=s||g){if(s==o||"/"==s||"?"==s||"#"==s||"\\"==s&&G(e)){if(G(e)&&""==p)return $;if(n&&""==p&&(K(e)||null!==e.port))return;if(l=V(e,p))return l;if(p="",u=ye,n)return;continue}"["==s?g=!0:"]"==s&&(g=!1),p+=s}else{if(""==p)return $;if(l=V(e,p))return l;if(p="",u=ge,n==me)return}break;case ge:if(!E.test(s)){if(s==o||"/"==s||"?"==s||"#"==s||"\\"==s&&G(e)||n){if(""!=p){var x=parseInt(p,10);if(x>65535)return P;e.port=G(e)&&x===H[e.scheme]?null:x,p=""}if(n)return;u=ye;continue}return P}p+=s;break;case Oe:if(e.scheme="file","/"==s||"\\"==s)u=ve;else{if(!i||"file"!=i.scheme){u=xe;continue}if(s==o)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==s)e.host=i.host,e.path=i.path.slice(),e.query="",u=Se;else{if("#"!=s){te(r.slice(h).join(""))||(e.host=i.host,e.path=i.path.slice(),ne(e)),u=xe;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=_e}}break;case ve:if("/"==s||"\\"==s){u=be;break}i&&"file"==i.scheme&&!te(r.slice(h).join(""))&&(ee(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=xe;continue;case be:if(s==o||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&ee(p))u=xe;else if(""==p){if(e.host="",n)return;u=ye}else{if(l=V(e,p))return l;if("localhost"==e.host&&(e.host=""),n)return;p="",u=ye}continue}p+=s;break;case ye:if(G(e)){if(u=xe,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=o&&(u=xe,"/"!=s))continue}else e.fragment="",u=_e;else e.query="",u=Se;break;case xe:if(s==o||"/"==s||"\\"==s&&G(e)||!n&&("?"==s||"#"==s)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(ne(e),"/"==s||"\\"==s&&G(e)||e.path.push("")):oe(p)?"/"==s||"\\"==s&&G(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ee(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(s==o||"?"==s||"#"==s))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",u=Se):"#"==s&&(e.fragment="",u=_e)}else p+=q(s,Y);break;case we:"?"==s?(e.query="",u=Se):"#"==s?(e.fragment="",u=_e):s!=o&&(e.path[0]+=q(s,W));break;case Se:n||"#"!=s?s!=o&&("'"==s&&G(e)?e.query+="%27":e.query+="#"==s?"%23":q(s,W)):(e.fragment="",u=_e);break;case _e:s!=o&&(e.fragment+=q(s,U))}h++}},Ce=function(e){var t,n,o=u(this,Ce,"URL"),i=arguments.length>1?arguments[1]:void 0,s=g(e),a=S(o,{type:"URL"});if(void 0!==i)if(i instanceof Ce)t=_(i);else if(n=ke(t={},g(i)))throw TypeError(n);if(n=ke(a,s,null,t))throw TypeError(n);var l=a.searchParams=new x,c=w(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},r||(o.href=$e.call(o),o.origin=Pe.call(o),o.protocol=Ae.call(o),o.username=Qe.call(o),o.password=Ee.call(o),o.host=Me.call(o),o.hostname=De.call(o),o.port=Ie.call(o),o.pathname=Re.call(o),o.search=ze.call(o),o.searchParams=Ne.call(o),o.hash=Le.call(o))},Te=Ce.prototype,$e=function(){var e=_(this),t=e.scheme,n=e.username,o=e.password,i=e.host,r=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",K(e)&&(c+=n+(o?":"+o:"")+"@"),c+=X(i),null!==r&&(c+=":"+r)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},Pe=function(){var e=_(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ce(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&G(e)?t+"://"+X(e.host)+(null!==n?":"+n:""):"null"},Ae=function(){return _(this).scheme+":"},Qe=function(){return _(this).username},Ee=function(){return _(this).password},Me=function(){var e=_(this),t=e.host,n=e.port;return null===t?"":null===n?X(t):X(t)+":"+n},De=function(){var e=_(this).host;return null===e?"":X(e)},Ie=function(){var e=_(this).port;return null===e?"":String(e)},Re=function(){var e=_(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ze=function(){var e=_(this).query;return e?"?"+e:""},Ne=function(){return _(this).searchParams},Le=function(){var e=_(this).fragment;return e?"#"+e:""},je=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(r&&l(Te,{href:je($e,(function(e){var t=_(this),n=g(e),o=ke(t,n);if(o)throw TypeError(o);w(t.searchParams).updateSearchParams(t.query)})),origin:je(Pe),protocol:je(Ae,(function(e){var t=_(this);ke(t,g(e)+":",ie)})),username:je(Qe,(function(e){var t=_(this),n=f(g(e));if(!J(t)){t.username="";for(var o=0;o<n.length;o++)t.username+=q(n[o],F)}})),password:je(Ee,(function(e){var t=_(this),n=f(g(e));if(!J(t)){t.password="";for(var o=0;o<n.length;o++)t.password+=q(n[o],F)}})),host:je(Me,(function(e){var t=_(this);t.cannotBeABaseURL||ke(t,g(e),pe)})),hostname:je(De,(function(e){var t=_(this);t.cannotBeABaseURL||ke(t,g(e),me)})),port:je(Ie,(function(e){var t=_(this);J(t)||(""==(e=g(e))?t.port=null:ke(t,e,ge))})),pathname:je(Re,(function(e){var t=_(this);t.cannotBeABaseURL||(t.path=[],ke(t,g(e),ye))})),search:je(ze,(function(e){var t=_(this);""==(e=g(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ke(t,e,Se)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:je(Ne),hash:je(Le,(function(e){var t=_(this);""!=(e=g(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ke(t,e,_e)):t.fragment=null}))}),c(Te,"toJSON",(function(){return $e.call(this)}),{enumerable:!0}),c(Te,"toString",(function(){return $e.call(this)}),{enumerable:!0}),y){var Ve=y.createObjectURL,Be=y.revokeObjectURL;Ve&&c(Ce,"createObjectURL",(function(e){return Ve.apply(y,arguments)})),Be&&c(Ce,"revokeObjectURL",(function(e){return Be.apply(y,arguments)}))}O(Ce,"URL"),i({global:!0,forced:!s,sham:!r},{URL:Ce})},9801:function(){},3822:function(e,t,n){var o=n(2221);e.exports=o},1434:function(e,t,n){var o=n(5078);e.exports=o},6899:function(e,t,n){var o=n(98);e.exports=o},7710:function(e,t,n){var o=n(5739);n(162),e.exports=o},4486:function(e,t,n){var o=n(278);e.exports=o},4877:function(e,t,n){var o=n(1484);e.exports=o},7178:function(e,t,n){var o=n(7731);e.exports=o},5603:function(e,t,n){var o=n(3669);e.exports=o},1206:function(e,t,n){n(162);var o=n(6899),i=n(4696),r=Array.prototype,s={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===r||e instanceof Array&&t===r.forEach||s.hasOwnProperty(i(e))?o:t}},6174:function(e,t,n){var o=n(2604);e.exports=o},57:function(e,t,n){var o=n(263);e.exports=o},4741:function(e,t,n){var o=n(7663);e.exports=o},8368:function(e,t,n){var o=n(5063);e.exports=o},3739:function(e,t,n){var o=n(6813);e.exports=o},172:function(e,t,n){var o=n(6285);e.exports=o},4963:function(e,t,n){var o=n(3213);e.exports=o},7820:function(e,t,n){var o=n(3512);e.exports=o},8980:function(e,t,n){var o=n(8168);e.exports=o},5636:function(e,t,n){var o=n(8651);e.exports=o},6672:function(e,t,n){var o=n(3083);e.exports=o},5059:function(e,t,n){var o=n(2987);e.exports=o},3969:function(e,t,n){var o=n(2239);e.exports=o},6618:function(e,t,n){var o=n(3154);n(162),e.exports=o},5279:function(e,t,n){var o=n(6577);e.exports=o},9562:function(e,t,n){n(2906);var o=n(7545);e.exports=o.setTimeout},2285:function(e,t,n){var o=n(5008);n(162),e.exports=o},8535:function(e,t,n){var o=n(994);n(162),e.exports=o},652:function(e,t,n){var o=n(5668);e.exports=o},5668:function(e,t,n){n(4948),n(9801),n(9336);var o=n(7545);e.exports=o.URL},2534:function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(t){"use strict";t.exports=e},4960:function(){},6759:function(){},6272:function(){}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){"use strict";o.d(r,{default:function(){return $l}});var e=o(9131),t=o.n(e),n=o(1899),i=o.n(n),s=o(6562),a=o.n(s),l=o(1734),c=o.n(l),u=o(8005),d=o.n(u),h=o(6065),f=o.n(h),p=o(4496),m=o.n(p);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){if("Element"in e){var n="classList",o="prototype",r=e.Element[o],s=Object,l=t()(String[o])||function(){return this.replace(/^\s+|\s+$/g,"")},u=i()(Array[o])||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},d=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},h=function(e,t){if(""===t)throw new d("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new d("INVALID_CHARACTER_ERR","The token must not contain space characters.");return u.call(e,t)},f=function(e){for(var t=l.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],o=0,i=n.length;o<i;o++)this.push(n[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},p=f[o]=[],m=function(){return new f(this)};if(d[o]=Error[o],p.item=function(e){return this[e]||null},p.contains=function(e){return~h(this,e+"")},p.add=function(){var e,t=arguments,n=0,o=t.length,i=!1;do{~h(this,e=t[n]+"")||(this.push(e),i=!0)}while(++n<o);i&&this._updateClassName()},p.remove=function(){var e,t,n=arguments,o=0,i=n.length,r=!1;do{for(t=h(this,e=n[o]+"");~t;)a()(this).call(this,t,1),r=!0,t=h(this,e)}while(++o<i);r&&this._updateClassName()},p.toggle=function(e,t){var n=this.contains(e),o=n?!0!==t&&"remove":!1!==t&&"add";return o&&this[o](e),!0===t||!1===t?t:!n},p.replace=function(e,t){var n=h(e+"");~n&&(a()(this).call(this,n,1,t),this._updateClassName())},p.toString=function(){return this.join(" ")},c()){var g={get:m,enumerable:!0,configurable:!0};try{c()(r,n,g)}catch(e){void 0!==e.number&&-2146823252!==e.number||(g.enumerable=!1,c()(r,n,g))}}else s[o].__defineGetter__&&r.__defineGetter__(n,m)}}(self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,o=arguments.length;for(n=0;n<o;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),o=i()(n).call(n,e+"");~o&&(n=d()(n).call(n,o),this.remove.apply(this,n),this.add(t),this.add.apply(this,d()(n).call(n,1)))}),e=null}()),function(){if("undefined"!=typeof window&&window.addEventListener){var e,t,n,o=f()(null),i=function(){clearTimeout(t),t=m()(e,100)},r=function(){},s=function(e){function t(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}var n,o,i;return window.XMLHttpRequest&&(n=new XMLHttpRequest,o=t(location),i=t(e),n=void 0===n.withCredentials&&""!==i&&i!==o?XDomainRequest||void 0:XMLHttpRequest),n},a="http://www.w3.org/1999/xlink";e=function(){var e,t,n,l,c,u,d,h,f,p,g=0;function O(){var e;0==(g-=1)&&(r(),window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i,!1),window.MutationObserver?((e=new MutationObserver(i)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),r=function(){try{e.disconnect(),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",i,!1),r=function(){document.documentElement.removeEventListener("DOMSubtreeModified",i,!1),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)}))}function v(e){return function(){!0!==o[e.base]&&(e.useEl.setAttributeNS(a,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function b(e){return function(){var t,n=document.body,o=document.createElement("x");e.onload=null,o.innerHTML=e.responseText,(t=o.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",n.insertBefore(t,n.firstChild)),O()}}function y(e){return function(){e.onerror=null,e.ontimeout=null,O()}}for(r(),f=document.getElementsByTagName("use"),c=0;c<f.length;c+=1){try{t=f[c].getBoundingClientRect()}catch(e){t=!1}e=(h=(l=f[c].getAttribute("href")||f[c].getAttributeNS(a,"href")||f[c].getAttribute("xlink:href"))&&l.split?l.split("#"):["",""])[0],n=h[1],u=t&&0===t.left&&0===t.right&&0===t.top&&0===t.bottom,t&&0===t.width&&0===t.height&&!u?(f[c].hasAttribute("href")&&f[c].setAttributeNS(a,"xlink:href",l),e.length&&(!0!==(p=o[e])&&m()(v({useEl:f[c],base:e,hash:n}),0),void 0===p&&void 0!==(d=s(e))&&(p=new d,o[e]=p,p.onload=b(p),p.onerror=y(p),p.ontimeout=y(p),p.open("GET",e),p.send(),g+=1))):u?e.length&&o[e]&&m()(v({useEl:f[c],base:e,hash:n}),0):void 0===o[e]?o[e]=!0:o[e].onload&&(o[e].abort(),delete o[e].onload,o[e]=!0)}f="",g+=1,O()},n=function(){window.removeEventListener("load",n,!1),t=m()(e,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}();var g=o(1845);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var v=o(184),b=o(662),y=o(7172),x=o(711);function w(e,t){var n;if(e){if("string"==typeof e)return O(e,t);var o=x(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?y(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?O(e,t):void 0}}function S(e){return function(e){if(g(e))return O(e)}(e)||function(e){if(void 0!==v&&null!=b(e)||null!=e["@@iterator"])return y(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=o(7077);function k(e,t,n){return t in e?_(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),_(e,o.key,o)}}function $(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}var P=o(4426),A=o.n(P),Q=o(9406),E=o.n(Q),M=o(8189),D=o.n(M),I=o(3972),R=o.n(I),z=o(2777),N=o(961),L=o.n(N),j=o(5695),V=o.n(j),B=o(8592),Z=o.n(B),X=o(9052),W=o.n(X),U=o(2560),Y=o.n(U),F=o(2461),q=o.n(F);function H(e,t){return function(e){if(g(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==v&&b(e)||e["@@iterator"];if(null!=n){var o,i,r=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return r}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G,K=o(6397),J=o.n(K),ee=o(7636),te=o.n(ee),ne=o(789),oe=o.n(ne),ie=o(4729),re=o.n(ie),se=o(1610),ae=o.n(se),le=o(3053),ce=o.n(le),ue=["zoomIn","zoomOut","hand"],de=["history","undo","redo","reset"],he=["delete","deleteAll"],fe=E()(G=[]).call(G,ue,de,he),pe="filter",me="color",ge=["rect","circle","triangle"],Oe="cropzone",ve="vintage",be="sepia2",ye="removeColor",xe="colorFilter",we="removeWhite",Se="blendColor",_e="blend",ke=zn("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),Ce={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},Te="clearObjects",$e="loadImage",Pe="flip",Ae="rotate",Qe="addObject",Ee="removeObject",Me="applyFilter",De="removeFilter",Ie="addIcon",Re="changeIconColor",ze="addShape",Ne="changeShape",Le="addText",je="changeText",Ve="changeTextStyle",Be="addImageObject",Ze="resizeCanvasDimension",Xe="setObjectProperties",We="setObjectPosition",Ue="changeSelection",Ye="resize",Fe="objectActivated",qe="objectMoved",He="objectScaled",Ge="objectRotated",Ke="objectAdded",Je="objectModified",et="textEditing",tt="textChanged",nt="iconCreateResize",ot="iconCreateEnd",it="addText",rt="addObject",st="addObjectAfter",at="mousedown",lt="redoStackChanged",ct="undoStackChanged",ut="selectionCleared",dt="selectionCreated",ht="executeCommand",ft="afterUndo",pt="afterRedo",mt="zoomChanged",gt="handStarted",Ot="handStopped",vt="keydown",bt="keyup",yt="inputBoxEditingStarted",xt="inputBoxEditingStopped",wt="focus",St="blur",_t=".tui-colorpicker-palette-hex",kt="Load",Ct="Mask",Tt="Mask",$t="Crop",Pt="Resize",At="Filter",Qt="Filter",Et="Shape",Mt="Icon",Dt="Text",It="Text",Rt="Delete",zt="Delete",Nt=zn("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),Lt="text",jt="crop",Vt="resize",Bt="shape",Zt="zoom",Xt="normal",Wt="zoom",Ut="hand",Yt=90,Ft=89,qt=67,Ht=86,Gt=16,Kt=8,Jt=46,en=40,tn=38,nn=32,on=48,rn=57,sn={borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1},an="The object is already added.",ln="The flipX and flipY setting values are not changed.",cn="Invalid parameters.",un="The executing command state is locked.",dn="The background image is empty.",hn="Invalid image loaded.",fn="The object is not in canvas.",pn="The promise of redo command is reject.",mn="The promise of undo command is reject.",gn="Unsupported operation.",On="Unsupported object type.",vn={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},bn={realTimeEvent:!0,min:-360,max:360,value:0},yn={min:5,max:30,value:12},xn={realTimeEvent:!0,min:2,max:300,value:3},wn={realTimeEvent:!0,min:10,max:100,value:50},Sn={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},_n=0,kn=0,Cn=.5,Tn=.5,$n={realTimeEvent:!0,min:32,max:4088,value:800},Pn="tui-image-editor-",An=Math.min,Qn=Math.max,En=!1,Mn=0;function Dn(e){return e.__fe_id||(Mn+=1,e.__fe_id=Mn),e.__fe_id}function In(e){return"function"==typeof e}function Rn(e,t,n){if(t>n){var o=[n,t];t=o[0],n=o[1]}return Qn(t,An(e,n))}function zn(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Z()(n,(function(t){e[t]=t})),e}function Nn(e,t){var n,o={},i=t.length,r=0;for(r=0;r<i;r+=1)o[n=t[r]]=e[n];return o}function Ln(e){return J()(e,10)}function jn(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function Vn(){return!!(window.File&&window.FileList&&window.FileReader)}function Bn(e,t){var n,o,i,r;4===e.length&&(e=E()(r="".concat(e)).call(r,d()(e).call(e,1,4)));var s=J()(d()(e).call(e,1,3),16),a=J()(d()(e).call(e,3,5),16),l=J()(d()(e).call(e,5,7),16),c=t||1;return E()(n=E()(o=E()(i="rgba(".concat(s,", ")).call(i,a,", ")).call(o,l,", ")).call(n,c,")")}function Zn(e){Z()(e,(function(t,n){e[n]=null}))}function Xn(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===n.charAt(0)?E()(t=".".concat(Pn).concat(o)).call(t,d()(n).call(n,1)):E()(e="".concat(Pn).concat(o)).call(e,n)}function Wn(e,t){e.customProps=e.customProps||{},L()(e.customProps,t)}function Un(e,t){var n={};return Y()(t)&&(t=[t]),Z()(t,(function(t){n[t]=e.customProps[t]})),n}function Yn(e,t){return i()(e).call(e,t)>=0}function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ae()(e,"type")||me}function qn(e){var t=oe()(e);return(void 0===t?{}:t).source?pe:me}function Hn(e){return ce()(e.get("type"),ge)>=0}function Gn(e){if(Yn(ge,e))return"Shape";switch(e){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return Jn(e)}}function Kn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.useAlpha,i=void 0===o||o,r=n.mode,s=be,a=xe,l=we,c=_e;switch(e){case ve:t=s;break;case ye:t=i?a:l;break;case Se:t="add"===r?c:r;break;default:t=e}return Jn(t)}function Jn(e){return e.replace(/[a-z]/,(function(e){return e.toUpperCase()}))}var eo=zn("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),to="Should implement a method: ",no="Should set a component name",oo={UN_IMPLEMENTATION:function(e){return to+e},NO_COMPONENT_NAME:function(){return no}},io={types:L()({},eo),create:function(e){e=e.toLowerCase();for(var t=oo[e],n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.apply(void 0,o)}},ro=io.create,so=io.types,ao=function(){function e(t,n){C(this,e),this.name=t.name,this.args=n,this.execute=t.execute,this.undo=t.undo,this.executeCallback=t.executeCallback||null,this.undoCallback=t.undoCallback||null,this.undoData={}}return $(e,[{key:"execute",value:function(){throw new Error(ro(so.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(ro(so.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return q()(this.undoData).length>0}},{key:"setUndoData",value:function(e,t,n){return t&&(e=t),n?t||(t=e):(L()(this.undoData,e),t=null),t}},{key:"setExecuteCallback",value:function(e){return this.executeCallback=e,this}},{key:"setUndoCallback",value:function(e){return this.undoCallback=e,this}}]),e}(),lo=ao,co={},uo={create:function(e){var t=co[e];if(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return new lo(t,o)}return null},register:function(e){co[e.name]=e}},ho=function(){function e(){C(this,e),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return $(e,[{key:"_invokeExecution",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var o=e.args;return o||(o=[]),e.execute.apply(e,S(o)).then((function(o){return t._isSilent||(t.pushUndoStack(e),t.fire(n?pt:ht,e)),t.unlock(),In(e.executeCallback)&&e.executeCallback(o),o})).catch((function(e){return t.unlock(),D().reject(e)}))}},{key:"_invokeUndo",value:function(e){var t=this;this.lock();var n=e.args;return n||(n=[]),e.undo.apply(e,S(n)).then((function(n){return t.pushRedoStack(e),t.fire(ft,e),t.unlock(),In(e.undoCallback)&&e.undoCallback(n),n})).catch((function(e){return t.unlock(),D().reject(e)}))}},{key:"_fireRedoStackChanged",value:function(){this.fire(lt,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(ct,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var e=this;this._isSilent=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return this.execute.apply(this,E()(n).call(n,[this._isSilent])).then((function(){e._isSilent=!1}))}},{key:"execute",value:function(){var e=this;if(this._isLocked)return D().reject(un);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=n[0];return Y()(i)&&(i=uo.create.apply(uo,n)),this._invokeExecution(i).then((function(t){return e.clearRedoStack(),t}))}},{key:"undo",value:function(){var e,t,n=this._undoStack.pop(),o="";(n&&this._isLocked&&(this.pushUndoStack(n,!0),n=null),n)?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),e=this._invokeUndo(n)):(o=mn,this._isLocked&&(o=E()(t="".concat(o," Because ")).call(t,un)),e=D().reject(o));return e}},{key:"redo",value:function(){var e,t,n=this._redoStack.pop(),o="";(n&&this._isLocked&&(this.pushRedoStack(n,!0),n=null),n)?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),e=this._invokeExecution(n,!0)):(o=pn,this._isLocked&&(o=E()(t="".concat(o," Because ")).call(t,un)),e=D().reject(o));return e}},{key:"pushUndoStack",value:function(e,t){this._undoStack.push(e),t||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(e,t){this._redoStack.push(e),t||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),e}();W().mixin(ho);var fo=ho,po=o(5214),mo=o.n(po),go=o(899),Oo=o.n(go),vo={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},bo=o(2534),yo=function(){function e(t){var n,o,i,r,s;C(this,e),this.styles=this._changeToObject(L()({},vo,t)),n=this._styleMaker(),i=H(document.getElementsByTagName("head"),1)[0],r=document.createElement("link"),s=encodeURIComponent(n),o&&(r.id=o),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","data:text/css;charset=UTF-8,".concat(s)),i.appendChild(r),this._loadDefaultSvgIcon()}return $(e,[{key:"getStyle",value:function(e){var t=null,n=e.replace(/\..+$/,""),o=this.styles[e];switch(e){case"common.bi":t=this.styles[e].image;break;case"menu.icon":t={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")],hover:this.styles["".concat(n,".hoverIcon")],disabled:this.styles["".concat(n,".disabledIcon")]};break;case"submenu.icon":t={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")]};break;case"submenu.label":t={active:this._makeCssText(this.styles["".concat(n,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(n,".normalLabel")])};break;case"submenu.partition":t={vertical:this._makeCssText(L()({},o,{borderLeft:"1px solid ".concat(o.color)})),horizontal:this._makeCssText(L()({},o,{borderBottom:"1px solid ".concat(o.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":o.backgroundColor=o.color,t=this._makeCssText(o);break;default:t=this._makeCssText(o)}return t}},{key:"_styleMaker",value:function(){var e=this.getStyle("submenu.label"),t=this.getStyle("submenu.partition");return function(e){var t,n,o,i,r,s,a,l,c,u,d,h,f,p,m,g,O,v,b,y,x,w,S,_,k,C,T,$,P,A=e.subMenuLabelActive,Q=e.subMenuLabelNormal,M=e.subMenuRangeTitle,D=e.submenuPartitionVertical,I=e.submenuPartitionHorizontal,R=e.submenuCheckbox,z=e.submenuRangePointer,N=e.submenuRangeValue,L=e.submenuColorpickerTitle,j=e.submenuColorpickerButton,V=e.submenuRangeBar,B=e.submenuRangeSubbar,Z=e.submenuDisabledRangePointer,X=e.submenuDisabledRangeBar,W=e.submenuDisabledRangeSubbar,U=e.submenuIconSize,Y=e.menuIconSize,F=e.biSize,q=e.menuIconStyle,H=e.submenuIconStyle;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s=E()(a=E()(l=E()(c=E()(u=E()(d=E()(h=E()(f=E()(p=E()(m=E()(g=E()(O=E()(v=E()(b=E()(y=E()(x=E()(w=E()(S=E()(_=E()(k=E()(C=E()(T=E()($=E()(P='\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '.concat(A,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ")).call(P,Q,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ")).call($,M,"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ")).call(T,D,"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ")).call(C,I,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ")).call(k,R,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ")).call(_,z,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ")).call(S,V,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ")).call(w,B,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ")).call(x,Z,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ")).call(y,W,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ")).call(b,X,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ")).call(v,N,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ")).call(O,L,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ")).call(g,j,"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ")).call(m,Y,"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ")).call(p,U,"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ")).call(f,F,"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(h,q.normal.color,";\n        stroke: ")).call(d,q.normal.color,";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(u,q.active.color,";\n        stroke: ")).call(c,q.active.color,";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(l,q.hover.color,";\n        stroke: ")).call(a,q.hover.color,";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(s,q.disabled.color,";\n        stroke: ")).call(r,q.disabled.color,";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(i,H.normal.color,";\n        stroke: ")).call(o,H.normal.color,";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(n,H.active.color,";\n        stroke: ")).call(t,H.active.color,";\n    }\n")}({subMenuLabelActive:e.active,subMenuLabelNormal:e.normal,submenuPartitionVertical:t.vertical,submenuPartitionHorizontal:t.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(e){var t={};return Z()(e,(function(e,n){var o=H(n.match(/^(.+)\.([a-z]+)$/i),3),i=o[1],r=o[2];t[i]||(t[i]={}),t[i][r]=e})),t}},{key:"_makeCssText",value:function(e){var t=this,n=[];return Z()(e,(function(e,o){var r,s;i()(r=["backgroundImage"]).call(r,o)>-1&&"none"!==e&&(e="url(".concat(e,")")),n.push(E()(s="".concat(t._toUnderScore(o),": ")).call(s,e))})),n.join(";")}},{key:"_toUnderScore",value:function(e){return e.replace(/([A-Z])/g,(function(e,t){return"-".concat(t.toLowerCase())}))}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var e=new DOMParser,t=bo.replace(/data:image\/svg\+xml;base64,/,""),n=e.parseFromString(atob(t),"text/xml");document.body.appendChild(n.documentElement)}}},{key:"_makeIconClassName",value:function(e,t){var n=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],o=n.path,i=n.name;return o&&i?e:"".concat(e," use-default")}},{key:"_makeSvgIconPrefix",value:function(e,t){var n,o=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],i=o.path,r=o.name;return i&&r?E()(n="".concat(i,"#")).call(n,r,"-"):"#"}},{key:"_makeSvgItem",value:function(e,t,n){var o=this;return Oo()(e).call(e,(function(e){var i,r,s=o._makeSvgIconPrefix(e,n),a=o._toUnderScore(t),l=o._makeIconClassName(e,n);return E()(i=E()(r='<use xlink:href="'.concat(s,"ic-")).call(r,a,'" class="')).call(i,l,'"/>')})).join("")}},{key:"makeMenSvgIconSet",value:function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E()(n='<svg class="svg_ic-'.concat(o?"submenu":"menu",'">')).call(n,this._makeSvgItem(e,t,o),"</svg>")}}]),e}(),xo=yo,wo=o(9146),So=o.n(wo),_o=o(6623),ko=o(4230);function Co(e,t){return Co=ko||function(e,t){return e.__proto__=t,e},Co(e,t)}function To(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=_o(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}var $o=o(3742);function Po(e){return Po="function"==typeof v&&"symbol"==typeof $o?function(e){return typeof e}:function(e){return e&&"function"==typeof v&&e.constructor===v&&e!==v.prototype?"symbol":typeof e},Po(e)}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qo(e,t){if(t&&("object"===Po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ao(e)}var Eo=o(9856);function Mo(e){return Mo=ko?Eo:function(e){return e.__proto__||Eo(e)},Mo(e)}var Do=o(6092),Io=o.n(Do),Ro=o(4858),zo=o.n(Ro),No=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],Lo=function(){function e(t,n){var o=n.defaultColor,i=void 0===o?"#7e7e7e":o,r=n.toggleDirection,s=void 0===r?"up":r,a=n.usageStatistics;C(this,e),this.colorpickerElement=t,this.usageStatistics=a,this._show=!1,this._colorpickerElement=t,this._toggleDirection=s,this._makePickerButtonElement(i),this._makePickerLayerElement(t,t.getAttribute("title")),this._color=i,this.picker=zo().create({container:this.pickerElement,preset:No,color:i,usageStatistics:this.usageStatistics}),this._addEvent()}return $(e,[{key:"destroy",value:function(){var e=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",Z()(this,(function(t,n){e[n]=null}))}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._changeColorElement(e)}},{key:"_changeColorElement",value:function(e){e?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=e):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(e){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",e?this.colorElement.style.backgroundColor=e:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(e,t){var n=document.createElement("label"),o=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",n.innerHTML=t,o.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(o),e.appendChild(this.pickerControl),e.appendChild(this.colorElement),e.appendChild(n)}},{key:"_addEvent",value:function(){var e,t=this;this.picker.on("selectColor",(function(e){t._changeColorElement(e.color),t._color=e.color,t.fire("change",e.color)})),this.eventHandler={pickerToggle:A()(e=this._pickerToggleEventHandler).call(e,this),pickerHide:function(){return t.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(e){var t=e.target,n=t&&this._isElementInColorPickerControl(t);(!n||n&&this._isPaletteButton(t))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),e.stopPropagation()}},{key:"_isPaletteButton",value:function(e){return"tui-colorpicker-palette-button"===e.className}},{key:"_isElementInColorPickerControl",value:function(e){for(var t=e;t!==document.body&&t;){if(t===this.pickerControl)return!0;t=t.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var e=this.pickerControl.style,t=this._colorpickerElement.clientWidth/2+2,n=this.pickerControl.offsetWidth/2-t,o=-1*(this.pickerControl.offsetHeight+10);"down"===this._toggleDirection&&(o=30),e.top="".concat(o,"px"),e.left="-".concat(n,"px")}}]),e}();W().mixin(Lo);var jo=Lo,Vo=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,Bo=function(){function e(t){var n,o,i,r,s,a,l,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(this,e),this._value=c.value||0,this.rangeElement=t.slider,this.rangeInputElement=t.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=c.min||0,this._max=c.max||100,this._useDecimal=c.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=c.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:A()(n=this._startChangingSlide).call(n,this),stopChangingSlide:A()(o=this._stopChangingSlide).call(o,this),changeSlide:A()(i=this._changeSlide).call(i,this),changeSlideFinally:A()(r=this._changeSlideFinally).call(r,this),changeInput:A()(s=this._changeInput).call(s,this),changeInputFinally:A()(a=this._changeValueWithInput).call(a,this,!0),changeInputWithArrow:A()(l=this._changeValueWithInputKeyEvent).call(l,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=c.value,this.trigger("change")}return $(e,[{key:"destroy",value:function(){var e=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",Z()(this,(function(t,n){e[n]=null}))}},{key:"max",get:function(){return this._max},set:function(e){this._max=e,this._absMax=-1*this._min+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(e){this._min=e,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(e){var t=((e=this._useDecimal?e:Ln(e))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<t&&(t=this.rangeWidth),this.pointer.style.left="".concat(t,"px"),this.subbar.style.right="".concat(this.rangeWidth-t,"px"),this._value=e,this.rangeInputElement&&(this.rangeInputElement.value=e)}},{key:"trigger",value:function(e){this.fire(e,this._value)}},{key:"_getRangeWidth",value:function(){var e=function(e){return Ln(window.getComputedStyle(e,null).width)};return e(this.rangeElement)-e(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(e){var t,n=e.keyCode,o=e.target;if(!(i()(t=[tn,en]).call(t,n)<0)){var r=Number(o.value);if(!((r=this._valueUpDownForKeyEvent(r,n))<this._min||r>this._max)){var s=Rn(r,this._min,this.max);this.value=s,this.fire("change",s,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(e,t){var n=this._useDecimal?.1:1;return t===tn?e+=n:t===en&&(e-=n),e}},{key:"_changeInput",value:function(e){var t=this;clearTimeout(this._userInputTimer);var n=e.keyCode;n<on||n>rn?e.preventDefault():this._userInputTimer=m()((function(){t._inputSetValue(e.target.value)}),350)}},{key:"_inputSetValue",value:function(e){var t=this._useDecimal?Number(e):Ln(e);t=Rn(t,this._min,this.max),this.value=t,this.fire("change",t,!0)}},{key:"_changeValueWithInput",value:function(e,t){var n,o=t.keyCode,r=t.target;if(!(i()(n=[tn,en]).call(n,o)>=0)){var s=this._filterForInputText(r.value),a=!s||isNaN(s);r.value=s,a||this._inputSetValue(s)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(e){var t=e.screenX-this.firstPosition,n=this.firstLeft+t;n=(n=n>this.rangeWidth?this.rangeWidth:n)<0?0:n,this.pointer.style.left="".concat(n,"px"),this.subbar.style.right="".concat(this.rangeWidth-n,"px");var o=n/this.rangeWidth,i=this._absMax*o+this._min,r=this._useDecimal?i:Ln(i);this.value!==r&&(this.value=r,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(e){if(e.stopPropagation(),"tui-image-editor-range"===e.target.className){var t=e.offsetX/this.rangeWidth,n=this._absMax*t+this._min;this.pointer.style.left="".concat(t*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-t)*this.rangeWidth,"px"),this.value=n,this.fire("change",n,!0)}}},{key:"_startChangingSlide",value:function(e){this.firstPosition=e.screenX,this.firstLeft=Ln(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(e){return e.replace(Vo,"$1$2$3")}}]),e}();W().mixin(Bo);var Zo=Bo,Xo=function(){function e(t,n){var o=n.locale,i=n.name,r=n.makeSvgIcon,s=n.menuBarPosition,a=n.templateHtml,l=n.usageStatistics;C(this,e),this.subMenuElement=t,this.menuBarPosition=s,this.toggleDirection="top"===s?"down":"up",this.colorPickerControls=[],this.usageStatistics=l,this.eventHandler={},this._makeSubMenuElement({locale:o,name:i,makeSvgIcon:r,templateHtml:a})}return $(e,[{key:"selector",value:function(e){return this.subMenuElement.querySelector(e)}},{key:"colorPickerChangeShow",value:function(e){var t;te()(t=this.colorPickerControls).call(t,(function(t){e!==t&&t.hide()}))}},{key:"getButtonType",value:function(e,t){return e.className.match(RegExp("(".concat(t.join("|"),")")))[0]}},{key:"changeClass",value:function(e,t,n){e.classList.remove(t),e.classList.add(n)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(e){var t=e.locale,n=e.name,o=e.iconStyle,i=e.makeSvgIcon,r=e.templateHtml,s=document.createElement("div");s.className="tui-image-editor-menu-".concat(n),s.innerHTML=r({locale:t,iconStyle:o,makeSvgIcon:i}),this.subMenuElement.appendChild(s)}},{key:"_onStartEditingInputBox",value:function(){this.fire(yt)}},{key:"_onStopEditingInputBox",value:function(){this.fire(xt)}}]),e}();W().mixin(Xo);var Wo=Xo,Uo=function(e){var t,n,o,i,r,s,a,l,c=e.locale,u=e.makeSvgIcon;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s=E()(a=E()(l='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '.concat(u(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(l,c.localize("Rectangle"),' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    ')).call(a,u(["normal","active"],"shape-circle",!0),"\n                </div>\n                <label> ")).call(s,c.localize("Circle"),' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    ')).call(r,u(["normal","active"],"shape-triangle",!0),"\n                </div>\n                <label> ")).call(i,c.localize("Triangle"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="')).call(o,c.localize("Fill"),'"></div>\n            <div class="tie-color-stroke" title="')).call(n,c.localize("Stroke"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,c.localize("Stroke"),'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function Yo(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Fo={stroke:"#ffbb3b",fill:"",strokeWidth:3},qo=function(e){To(n,e);var t=Yo(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"shape",makeSvgIcon:s,menuBarPosition:a,templateHtml:Uo,usageStatistics:l})).type=null,i.options=Fo,i._els={shapeSelectButton:i.selector(".tie-shape-button"),shapeColorButton:i.selector(".tie-shape-color-button"),strokeRange:new Zo({slider:i.selector(".tie-stroke-range"),input:i.selector(".tie-stroke-range-value")},xn),fillColorpicker:new jo(i.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),strokeColorpicker:new jo(i.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics})},i.colorPickerControls.push(i._els.fillColorpicker),i.colorPickerControls.push(i._els.strokeColorpicker),i.colorPickerInputBoxes=[],i.colorPickerInputBoxes.push(i._els.fillColorpicker.colorpickerElement.querySelector(_t)),i.colorPickerInputBoxes.push(i._els.strokeColorpicker.colorpickerElement.querySelector(_t)),i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Zn(this)}},{key:"addEvent",value:function(e){var t,n,o,i,r,s,a=this;this.eventHandler.shapeTypeSelected=A()(t=this._changeShapeHandler).call(t,this),this.actions=e,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",A()(n=this._changeStrokeRangeHandler).call(n,this)),this._els.fillColorpicker.on("change",A()(o=this._changeFillColorHandler).call(o,this)),this._els.strokeColorpicker.on("change",A()(i=this._changeStrokeColorHandler).call(i,this)),this._els.fillColorpicker.on("changeShow",A()(r=this.colorPickerChangeShow).call(r,this)),this._els.strokeColorpicker.on("changeShow",A()(s=this.colorPickerChangeShow).call(s,this)),Io()(this.colorPickerInputBoxes,(function(e){var t,n;e.addEventListener(wt,A()(t=a._onStartEditingInputBox).call(t,a)),e.addEventListener(St,A()(n=a._onStopEditingInputBox).call(n,a))}),this)}},{key:"_removeEvent",value:function(){var e=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),Io()(this.colorPickerInputBoxes,(function(t){var n,o;t.removeEventListener(wt,A()(n=e._onStartEditingInputBox).call(n,e)),t.removeEventListener(St,A()(o=e._onStopEditingInputBox).call(o,e))}),this)}},{key:"setShapeStatus",value:function(e){var t=e.strokeWidth,n=e.strokeColor,o=e.fillColor;this._els.strokeRange.value=t,this._els.strokeColorpicker.color=n,this._els.fillColorpicker.color=o,this.options.stroke=n,this.options.fill=o,this.options.strokeWidth=t,this.actions.setDrawingShape(this.type,{strokeWidth:t})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(e){var t=e;t<=0&&(t=xn.max),this._els.strokeRange.max=t}},{key:"setStrokeValue",value:function(e){this._els.strokeRange.value=e,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){this.actions.stopDrawingMode(),this.actions.discardSelection();var n=this.getButtonType(t,["circle","triangle","rect"]);if(this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,e.currentTarget.classList.add(n),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(e,t){this.options.strokeWidth=Ln(e),this.actions.changeShape({strokeWidth:e},!t),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(e){e=e||"transparent",this.options.fill=e,this.actions.changeShape({fill:e})}},{key:"_changeStrokeColorHandler",value:function(e){e=e||"transparent",this.options.stroke=e,this.actions.changeShape({stroke:e})}}]),n}(Wo),Ho=qo,Go=function(e){var t,n,o,i,r,s,a,l,c,u,d,h,f,p,m,g,O,v=e.locale,b=e.makeSvgIcon;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s=E()(a=E()(l=E()(c=E()(u=E()(d=E()(h=E()(f=E()(p=E()(m=E()(g=E()(O='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '.concat(b(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(O,v.localize("Custom"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    ')).call(g,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(m,v.localize("Square"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    ')).call(p,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(f,v.localize("3:2"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    ')).call(h,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(d,v.localize("4:3"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    ')).call(u,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(c,v.localize("5:4"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    ')).call(l,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(a,v.localize("7:5"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    ')).call(s,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(r,v.localize("16:9"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(i,b(["normal","active"],"apply"),"\n                <label>\n                    ")).call(o,v.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,b(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(t,v.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Ko(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Jo=function(e){To(n,e);var t=Ko(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"crop",makeSvgIcon:s,menuBarPosition:a,templateHtml:Go,usageStatistics:l})).status="active",i._els={apply:i.selector(".tie-crop-button .apply"),cancel:i.selector(".tie-crop-button .cancel"),preset:i.selector(".tie-crop-preset-button")},i.defaultPresetButton=i._els.preset.querySelector(".preset-none"),i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),Zn(this)}},{key:"addEvent",value:function(e){var t,n,o,i=A()(t=this._applyEventHandler).call(t,this),r=A()(n=this._cancelEventHandler).call(n,this),s=A()(o=this._cropzonePresetEventHandler).call(o,this);this.eventHandler={apply:i,cancel:r,cropzonePreset:s},this.actions=e,this._els.apply.addEventListener("click",i),this._els.cancel.addEventListener("click",r),this._els.preset.addEventListener("click",s)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button.preset");if(t){var n=H(t.className.match(/preset-[^\s]+/),1)[0];this._setPresetButtonActive(t),this.actions.preset(n)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(e){e?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;Z()(this._els.preset.querySelectorAll(".preset"),(function(e){e.classList.remove("active")})),e&&e.classList.add("active")}}]),n}(Wo),ei=Jo,ti=function(e){var t,n,o,i,r,s,a=e.locale,l=e.makeSvgIcon;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'.concat(a.localize("Width"),'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">')).call(s,a.localize("Height"),'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>')).call(r,a.localize("Lock Aspect Ratio"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(i,l(["normal","active"],"apply"),"\n                <label>\n                    ")).call(o,a.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,l(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(t,a.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function ni(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var oi=function(e){To(n,e);var t=ni(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"resize",makeSvgIcon:s,menuBarPosition:a,templateHtml:ti,usageStatistics:l})).status="active",i._lockState=!1,i._originalDimensions=null,i._els={widthRange:new Zo({slider:i.selector(".tie-width-range"),input:i.selector(".tie-width-range-value")},$n),heightRange:new Zo({slider:i.selector(".tie-height-range"),input:i.selector(".tie-height-range-value")},$n),lockAspectRatio:i.selector(".tie-lock-aspect-ratio"),apply:i.selector(".tie-resize-button .apply"),cancel:i.selector(".tie-resize-button .cancel")},i}return $(n,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var e=this.actions.getCurrentDimensions();this._originalDimensions=e,this.setWidthValue(e.width),this.setHeightValue(e.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(e){this._els.widthRange.min=this.calcMinValue(e.minWidth),this._els.heightRange.min=this.calcMinValue(e.minHeight),this._els.widthRange.max=this.calcMaxValue(e.maxWidth),this._els.heightRange.max=this.calcMaxValue(e.maxHeight)}},{key:"calcMaxValue",value:function(e){return e<=0&&(e=$n.max),e}},{key:"calcMinValue",value:function(e){return e<=0&&(e=$n.min),e}},{key:"setWidthValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=e,t&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=e,t&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Zn(this)}},{key:"addEvent",value:function(e){var t,n,o,i,r;this._els.widthRange.on("change",A()(t=this._changeWidthRangeHandler).call(t,this)),this._els.heightRange.on("change",A()(n=this._changeHeightRangeHandler).call(n,this)),this._els.lockAspectRatio.addEventListener("change",A()(o=this._changeLockAspectRatio).call(o,this));var s=A()(i=this._applyEventHandler).call(i,this),a=A()(r=this._cancelEventHandler).call(r,this);this.eventHandler={apply:s,cancel:a},this.actions=e,this._els.apply.addEventListener("click",s),this._els.cancel.addEventListener("click",a)}},{key:"_changeWidthRangeHandler",value:function(e){this.actions.preview("width",Ln(e),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(e){this.actions.preview("height",Ln(e),this._lockState)}},{key:"_changeLockAspectRatio",value:function(e){this._lockState=e.target.checked,this.actions.lockAspectRatio(this._lockState,$n.min,$n.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(e){e?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),n}(Wo),ii=oi,ri=function(e){var t,n,o,i,r,s=e.locale,a=e.makeSvgIcon;return E()(t=E()(n=E()(o=E()(i=E()(r='\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '.concat(a(["normal","active"],"flip-x",!0),"\n                </div>\n                <label>\n                    ")).call(r,s.localize("Flip X"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    ')).call(i,a(["normal","active"],"flip-y",!0),"\n                </div>\n                <label>\n                    ")).call(o,s.localize("Flip Y"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    ')).call(n,a(["normal","active"],"flip-reset",!0),"\n                </div>\n                <label>\n                    ")).call(t,s.localize("Reset"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function si(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var ai=function(e){To(n,e);var t=si(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"flip",makeSvgIcon:s,menuBarPosition:a,templateHtml:ri,usageStatistics:l})).flipStatus=!1,i._els={flipButton:i.selector(".tie-flip-button")},i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),Zn(this)}},{key:"addEvent",value:function(e){var t;this.eventHandler.changeFlip=A()(t=this._changeFlip).call(t,this),this._actions=e,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(e){var t=this,n=e.target.closest(".tui-image-editor-button");if(n){var o=this.getButtonType(n,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===o)return;this._actions.flip(o).then((function(e){var n=t._els.flipButton.classList;t.flipStatus=!1,n.remove("resetFlip"),Z()(["flipX","flipY"],(function(o){n.remove(o),e[o]&&(n.add(o),n.add("resetFlip"),t.flipStatus=!0)}))}))}}}]),n}(Wo),li=ai,ci=function(e){var t,n,o=e.locale,i=e.makeSvgIcon;return E()(t=E()(n='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '.concat(i(["normal","active"],"rotate-clockwise",!0),'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    ')).call(n,i(["normal","active"],"rotate-counterclockwise",!0),'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,o.localize("Range"),'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function ui(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var di=function(e){To(n,e);var t=ui(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"rotate",makeSvgIcon:s,menuBarPosition:a,templateHtml:ci,usageStatistics:l}))._value=0,i._els={rotateButton:i.selector(".tie-rotate-button"),rotateRange:new Zo({slider:i.selector(".tie-rotate-range"),input:i.selector(".tie-rotate-range-value")},bn)},i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Zn(this)}},{key:"setRangeBarAngle",value:function(e,t){var n=t;"rotate"===e&&(n=J()(this._els.rotateRange.value,10)+t),this._setRangeBarRatio(n)}},{key:"_setRangeBarRatio",value:function(e){this._els.rotateRange.value=e}},{key:"addEvent",value:function(e){var t,n;this.eventHandler.rotationAngleChanged=A()(t=this._changeRotateForButton).call(t,this),this.actions=e,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",A()(n=this._changeRotateForRange).call(n,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(e,t){var n=Ln(e);this.actions.setAngle(n,!t),this._value=n}},{key:"_changeRotateForButton",value:function(e){var t=e.target.closest(".tui-image-editor-button"),n=this._els.rotateRange.value;if(t){var o={clockwise:30,counterclockwise:-30}[this.getButtonType(t,["counterclockwise","clockwise"])],i=J()(n,10)+o;i>=-360&&i<=360&&this.actions.rotate(o)}}}]),n}(Wo),hi=di,fi=function(e){var t,n,o,i,r,s,a,l,c,u,d,h,f,p=e.locale,m=e.makeSvgIcon;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s=E()(a=E()(l=E()(c=E()(u=E()(d=E()(h=E()(f='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-text-effect-button">\n            <div class="tui-image-editor-button bold">\n                <div>\n                    '.concat(m(["normal","active"],"text-bold",!0),"\n                </div>\n                <label> ")).call(f,p.localize("Bold"),' </label>\n            </div>\n            <div class="tui-image-editor-button italic">\n                <div>\n                    ')).call(h,m(["normal","active"],"text-italic",!0),"\n                </div>\n                <label> ")).call(d,p.localize("Italic"),' </label>\n            </div>\n            <div class="tui-image-editor-button underline">\n                <div>\n                    ')).call(u,m(["normal","active"],"text-underline",!0),"\n                </div>\n                <label> ")).call(c,p.localize("Underline"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-text-align-button">\n            <div class="tui-image-editor-button left">\n                <div>\n                    ')).call(l,m(["normal","active"],"text-align-left",!0),"\n                </div>\n                <label> ")).call(a,p.localize("Left"),' </label>\n            </div>\n            <div class="tui-image-editor-button center">\n                <div>\n                    ')).call(s,m(["normal","active"],"text-align-center",!0),"\n                </div>\n                <label> ")).call(r,p.localize("Center"),' </label>\n            </div>\n            <div class="tui-image-editor-button right">\n                <div>\n                    ')).call(i,m(["normal","active"],"text-align-right",!0),"\n                </div>\n                <label> ")).call(o,p.localize("Right"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-text-color" title="')).call(n,p.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,p.localize("Text size"),'</label>\n            <div class="tie-text-range"></div>\n            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function pi(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var mi=function(e){To(n,e);var t=pi(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"text",makeSvgIcon:s,menuBarPosition:a,templateHtml:fi,usageStatistics:l})).effect={bold:!1,italic:!1,underline:!1},i.align="tie-text-align-left",i._els={textEffectButton:i.selector(".tie-text-effect-button"),textAlignButton:i.selector(".tie-text-align-button"),textColorpicker:new jo(i.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),textRange:new Zo({slider:i.selector(".tie-text-range"),input:i.selector(".tie-text-range-value")},wn)},i.colorPickerInputBox=i._els.textColorpicker.colorpickerElement.querySelector(_t),i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Zn(this)}},{key:"addEvent",value:function(e){var t,n,o,i,r,s,a=A()(t=this._setTextEffectHandler).call(t,this),l=A()(n=this._setTextAlignHandler).call(n,this);this.eventHandler={setTextEffect:a,setTextAlign:l},this.actions=e,this._els.textEffectButton.addEventListener("click",a),this._els.textAlignButton.addEventListener("click",l),this._els.textRange.on("change",A()(o=this._changeTextRnageHandler).call(o,this)),this._els.textColorpicker.on("change",A()(i=this._changeColorHandler).call(i,this)),this.colorPickerInputBox.addEventListener(wt,A()(r=this._onStartEditingInputBox).call(r,this)),this.colorPickerInputBox.addEventListener(St,A()(s=this._onStopEditingInputBox).call(s,this))}},{key:"_removeEvent",value:function(){var e,t,n=this.eventHandler,o=n.setTextEffect,i=n.setTextAlign;this._els.textEffectButton.removeEventListener("click",o),this._els.textAlignButton.removeEventListener("click",i),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(wt,A()(e=this._onStartEditingInputBox).call(e,this)),this.colorPickerInputBox.removeEventListener(St,A()(t=this._onStopEditingInputBox).call(t,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(e){this._els.textColorpicker.color=e}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(e){this._els.textRange.value=e}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=oe()(e),n=e.fontSize,o=e.fontStyle,i=e.fontWeight,r=e.textDecoration,s=e.textAlign;this.textColor=t,this.fontSize=n,this.setEffectState("italic",o),this.setEffectState("bold",i),this.setEffectState("underline",r),this.setAlignState("tie-text-align-".concat(s))}},{key:"setEffectState",value:function(e,t){var n="italic"===t||"bold"===t||"underline"===t,o=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(e));this.effect[e]=n,o.classList[n?"add":"remove"]("active")}},{key:"setAlignState",value:function(e){var t=this._els.textAlignButton;t.classList.remove(this.align),t.classList.add(e),this.align=e}},{key:"_setTextEffectHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=H(t.className.match(/(bold|italic|underline)/),1)[0],o={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[n];this.effect[n]=!this.effect[n],t.classList.toggle("active"),this.actions.changeTextStyle(o)}}},{key:"_setTextAlignHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["left","center","right"]),o="tie-text-align-".concat(n);e.currentTarget.classList.remove(this.align),this.align!==o&&e.currentTarget.classList.add(o),this.actions.changeTextStyle({textAlign:n}),this.align=o}}},{key:"_changeTextRnageHandler",value:function(e,t){this.actions.changeTextStyle({fontSize:e},!t)}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeTextStyle({fill:e})}}]),n}(Wo),gi=mi,Oi=function(e){var t,n,o,i=e.locale,r=e.makeSvgIcon;return E()(t=E()(n=E()(o='\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '.concat(r(["normal","active"],"mask-load",!0),"\n                </div>\n                <label> ")).call(o,i.localize("Load Mask Image"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                ')).call(n,r(["normal","active"],"apply"),"\n                <label>\n                    ")).call(t,i.localize("Apply"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function vi(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var bi=function(e){To(n,e);var t=vi(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"mask",makeSvgIcon:s,menuBarPosition:a,templateHtml:Oi,usageStatistics:l}))._els={applyButton:i.selector(".tie-mask-apply"),maskImageButton:i.selector(".tie-mask-image-file")},i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),Zn(this)}},{key:"addEvent",value:function(e){var t,n,o=A()(t=this._loadMaskFile).call(t,this),i=A()(n=this._applyMask).call(n,this);this.eventHandler={loadMaskFile:o,applyMask:i},this.actions=e,this._els.maskImageButton.addEventListener("change",o),this._els.applyButton.addEventListener("click",i)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(e){var t;Vn()||alert("This browser does not support file-api");var n=H(e.target.files,1)[0];n&&(t=R().createObjectURL(n),this.actions.loadImageFromURL(t,n),this._els.applyButton.classList.add("active"))}}]),n}(Wo),yi=bi,xi=function(e){var t,n,o,i,r,s,a,l,c,u,d,h,f,p,m,g,O,v,b,y,x=e.locale,w=e.makeSvgIcon;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s=E()(a=E()(l=E()(c=E()(u=E()(d=E()(h=E()(f=E()(p=E()(m=E()(g=E()(O=E()(v=E()(b=E()(y='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '.concat(w(["normal","active"],"icon-arrow",!0),"\n                </div>\n                <label>\n                    ")).call(y,x.localize("Arrow"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    ')).call(b,w(["normal","active"],"icon-arrow-2",!0),"\n                </div>\n                <label>\n                    ")).call(v,x.localize("Arrow-2"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    ')).call(O,w(["normal","active"],"icon-arrow-3",!0),"\n                </div>\n                <label>\n                    ")).call(g,x.localize("Arrow-3"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    ')).call(m,w(["normal","active"],"icon-star",!0),"\n                </div>\n                <label>\n                    ")).call(p,x.localize("Star-1"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    ')).call(f,w(["normal","active"],"icon-star-2",!0),"\n                </div>\n                <label>\n                    ")).call(h,x.localize("Star-2"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    ')).call(d,w(["normal","active"],"icon-polygon",!0),"\n                </div>\n                <label>\n                    ")).call(u,x.localize("Polygon"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    ')).call(c,w(["normal","active"],"icon-location",!0),"\n                </div>\n                <label>\n                    ")).call(l,x.localize("Location"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    ')).call(a,w(["normal","active"],"icon-heart",!0),"\n                </div>\n                <label>\n                    ")).call(s,x.localize("Heart"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    ')).call(r,w(["normal","active"],"icon-bubble",!0),"\n                </div>\n                <label>\n                    ")).call(i,x.localize("Bubble"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" style="margin:0">\n                <div>\n                    <input type="file" accept="image/*" class="tie-icon-image-file">\n                    ')).call(o,w(["normal","active"],"icon-load",!0),"\n                </div>\n                <label>\n                    ")).call(n,x.localize("Custom icon"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-icon-color" title="')).call(t,x.localize("Color"),'"></div>\n        </li>\n    </ul>\n')};function wi(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Si=function(e){To(n,e);var t=wi(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"icon",makeSvgIcon:s,menuBarPosition:a,templateHtml:xi,usageStatistics:l})).iconType=null,i._iconMap={},i._els={registerIconButton:i.selector(".tie-icon-image-file"),addIconButton:i.selector(".tie-icon-add-button"),iconColorpicker:new jo(i.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics})},i.colorPickerInputBox=i._els.iconColorpicker.colorpickerElement.querySelector(_t),i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Zn(this)}},{key:"addEvent",value:function(e){var t,n,o,i,r,s=A()(t=this._registerIconHandler).call(t,this),a=A()(n=this._addIconHandler).call(n,this);this.eventHandler={registerIcon:s,addIcon:a},this.actions=e,this._els.iconColorpicker.on("change",A()(o=this._changeColorHandler).call(o,this)),this._els.registerIconButton.addEventListener("change",s),this._els.addIconButton.addEventListener("click",a),this.colorPickerInputBox.addEventListener(wt,A()(i=this._onStartEditingInputBox).call(i,this)),this.colorPickerInputBox.addEventListener(St,A()(r=this._onStopEditingInputBox).call(r,this))}},{key:"_removeEvent",value:function(){var e,t;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(wt,A()(e=this._onStartEditingInputBox).call(e,this)),this.colorPickerInputBox.removeEventListener(St,A()(t=this._onStopEditingInputBox).call(t,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var e=this;Z()(vn,(function(t,n){e.actions.registerDefaultIcons(n,t)}))}},{key:"setIconPickerColor",value:function(e){this._els.iconColorpicker.color=e}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeColor(e)}},{key:"_addIconHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=t.getAttribute("data-icontype"),o=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(n),this.iconType===n?this.changeStandbyMode():(this.actions.addIcon(n,o),this.iconType=n)}}},{key:"_registerIconHandler",value:function(e){var t;Vn||alert("This browser does not support file-api");var n=H(e.target.files,1)[0];n&&(t=R().createObjectURL(n),this.actions.registerCustomIcon(t,n))}}]),n}(Wo),_i=Si,ki=function(e){var t,n,o,i,r,s=e.locale,a=e.makeSvgIcon;return E()(t=E()(n=E()(o=E()(i=E()(r='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '.concat(a(["normal","active"],"draw-free",!0),"\n                </div>\n                <label>\n                    ")).call(r,s.localize("Free"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    ')).call(i,a(["normal","active"],"draw-line",!0),"\n                </div>\n                <label>\n                    ")).call(o,s.localize("Straight"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="')).call(n,s.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,s.localize("Range"),'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function Ci(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Ti=function(e){To(n,e);var t=Ci(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon,a=o.menuBarPosition,l=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"draw",makeSvgIcon:s,menuBarPosition:a,templateHtml:ki,usageStatistics:l}))._els={lineSelectButton:i.selector(".tie-draw-line-select-button"),drawColorPicker:new jo(i.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),drawRange:new Zo({slider:i.selector(".tie-draw-range"),input:i.selector(".tie-draw-range-value")},yn)},i.type=null,i.color=i._els.drawColorPicker.color,i.width=i._els.drawRange.value,i.colorPickerInputBox=i._els.drawColorPicker.colorpickerElement.querySelector(_t),i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Zn(this)}},{key:"addEvent",value:function(e){var t,n,o,i,r;this.eventHandler.changeDrawType=A()(t=this._changeDrawType).call(t,this),this.actions=e,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",A()(n=this._changeDrawColor).call(n,this)),this._els.drawRange.on("change",A()(o=this._changeDrawRange).call(o,this)),this.colorPickerInputBox.addEventListener(wt,A()(i=this._onStartEditingInputBox).call(i,this)),this.colorPickerInputBox.addEventListener(St,A()(r=this._onStopEditingInputBox).call(r,this))}},{key:"_removeEvent",value:function(){var e,t;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(wt,A()(e=this._onStartEditingInputBox).call(e,this)),this.colorPickerInputBox.removeEventListener(St,A()(t=this._onStopEditingInputBox).call(t,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:Bn(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["free","line"]);if(this.actions.discardSelection(),this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,this._els.lineSelectButton.classList.add(n),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(e){this.color=e||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(e){this.width=e,this.type?this.setDrawMode():this.changeStartMode()}}]),n}(Wo),$i=Ti,Pi=o(9886),Ai=o.n(Pi),Qi=function(e){var t,n,o,i,r,s,a,l,c,u,d,h,f,p,m,g,O=e.locale;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s=E()(a=E()(l=E()(c=E()(u=E()(d=E()(h=E()(f=E()(p=E()(m=E()(g='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'.concat(O.localize("Grayscale"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>')).call(g,O.localize("Invert"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>')).call(m,O.localize("Sepia"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>')).call(p,O.localize("Sepia2"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>')).call(f,O.localize("Blur"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>')).call(h,O.localize("Sharpen"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>')).call(d,O.localize("Emboss"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>')).call(u,O.localize("Remove White"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(c,O.localize("Distance"),'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>')).call(l,O.localize("Brightness"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>')).call(a,O.localize("Noise"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>')).call(s,O.localize("Pixelate"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>')).call(r,O.localize("Color Filter"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(i,O.localize("Threshold"),'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="')).call(o,O.localize("Tint"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="')).call(n,O.localize("Multiply"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="')).call(t,O.localize("Blend"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n')};function Ei(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Mi="130px",Di=["add","diff","subtract","multiply","screen","lighten","darken"],Ii=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],Ri={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},zi=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Ni=["filterBlendColor","filterMultiplyColor","filterTintColor"],Li=function(e){To(n,e);var t=Ei(n);function n(e,o){var i,r=o.locale,s=o.menuBarPosition,a=o.usageStatistics;return C(this,n),(i=t.call(this,e,{locale:r,name:"filter",menuBarPosition:s,templateHtml:Qi,usageStatistics:a})).selectBoxShow=!1,i.checkedMap={},i._makeControlElement(),i}return $(n,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Zn(this)}},{key:"_removeEvent",value:function(){var e,t=this;Z()(Ii,(function(e){var n=t.selector(".tie-".concat(e)),o=jn(e);n.removeEventListener("change",t.eventHandler[o])})),Z()(E()(e=[]).call(e,zi,Ni),(function(e){t._els[e].off()})),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),Io()(this.colorPickerInputBoxes,(function(e){var n,o;e.removeEventListener(wt,A()(n=t._onStartEditingInputBox).call(n,t)),e.removeEventListener(St,A()(o=t._onStopEditingInputBox).call(o,t))}),this)}},{key:"_destroyToolInstance",value:function(){var e,t=this;Z()(E()(e=[]).call(e,zi,Ni),(function(e){t._els[e].destroy()}))}},{key:"addEvent",value:function(e){var t,n,o,i=this,r=e.applyFilter,s=function(e){var t;return A()(t=i._changeFilterState).call(t,i,r,e)},a=function(e){return function(t,n){return i._changeFilterState(r,e,n)}};this.eventHandler={changeBlendFilter:s("blend"),blandTypeClick:function(e){return e.stopPropagation()}},Z()(Ii,(function(e){var t=i.selector(".tie-".concat(e)),n=jn(e);i.checkedMap[n]=t,i.eventHandler[n]=s(n),t.addEventListener("change",i.eventHandler[n])})),this._els.removewhiteDistanceRange.on("change",a("removeWhite")),this._els.colorfilterThresholdRange.on("change",a("colorFilter")),this._els.pixelateRange.on("change",a("pixelate")),this._els.noiseRange.on("change",a("noise")),this._els.brightnessRange.on("change",a("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",s("multiply")),this._els.filterTintColor.on("change",s("tint")),this._els.tintOpacity.on("change",a("tint")),this._els.filterMultiplyColor.on("changeShow",A()(t=this.colorPickerChangeShow).call(t,this)),this._els.filterTintColor.on("changeShow",A()(n=this.colorPickerChangeShow).call(n,this)),this._els.filterBlendColor.on("changeShow",A()(o=this.colorPickerChangeShow).call(o,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),Io()(this.colorPickerInputBoxes,(function(e){var t,n;e.addEventListener(wt,A()(t=i._onStartEditingInputBox).call(t,i)),e.addEventListener(St,A()(n=i._onStopEditingInputBox).call(n,i))}),this)}},{key:"setFilterState",value:function(e){var t=e.type,n=e.options,o=e.action,i=this._getFilterNameFromOptions(t,n),r="remove"===o;r||this._setFilterState(i,n),this.checkedMap[i].checked=!r}},{key:"initFilterCheckBoxState",value:function(){Z()(this.checkedMap,(function(e){e.checked=!1}),this)}},{key:"_setFilterState",value:function(e,t){"colorFilter"===e?this._els.colorfilterThresholdRange.value=t.distance:"removeWhite"===e?this._els.removewhiteDistanceRange.value=t.distance:"pixelate"===e?this._els.pixelateRange.value=t.blocksize:"brightness"===e?this._els.brightnessRange.value=t.brightness:"noise"===e?this._els.noiseRange.value=t.noise:"tint"===e?(this._els.tintOpacity.value=t.alpha,this._els.filterTintColor.color=t.color):"blend"===e?this._els.filterBlendColor.color=t.color:"multiply"===e&&(this._els.filterMultiplyColor.color=t.color)}},{key:"_getFilterNameFromOptions",value:function(e,t){var n=e;return"removeColor"===e?n=Ai()(t.useAlpha)?"removeWhite":"colorFilter":"blendColor"===e&&(n={add:"blend",multiply:"multiply",tint:"tint"}[t.mode]),n}},{key:"_changeFilterState",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.checkedMap[t].checked,i=Ri[t],r=this.checkedMap[t].closest(".tui-image-editor-checkbox-group");r&&(o?r.classList.remove("tui-image-editor-disabled"):r.classList.add("tui-image-editor-disabled")),e(o,i,this._getFilterOption(t),!n)}},{key:"_getFilterOption",value:function(e){var t={};switch(e){case"removeWhite":t.color="#FFFFFF",t.useAlpha=!1,t.distance=mo()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":t.color="#FFFFFF",t.distance=mo()(this._els.colorfilterThresholdRange.value);break;case"pixelate":t.blocksize=Ln(this._els.pixelateRange.value);break;case"noise":t.noise=Ln(this._els.noiseRange.value);break;case"brightness":t.brightness=mo()(this._els.brightnessRange.value);break;case"blend":t.mode="add",t.color=this._els.filterBlendColor.color,t.mode=this._els.blendType.value;break;case"multiply":t.mode="multiply",t.color=this._els.filterMultiplyColor.color;break;case"tint":t.mode="tint",t.color=this._els.filterTintColor.color,t.alpha=this._els.tintOpacity.value;break;case"blur":t.blur=this._els.blurRange.value}return t}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new Zo({slider:this.selector(".tie-removewhite-distance-range")},Sn.removewhiteDistanceRange),brightnessRange:new Zo({slider:this.selector(".tie-brightness-range")},Sn.brightnessRange),noiseRange:new Zo({slider:this.selector(".tie-noise-range")},Sn.noiseRange),pixelateRange:new Zo({slider:this.selector(".tie-pixelate-range")},Sn.pixelateRange),colorfilterThresholdRange:new Zo({slider:this.selector(".tie-colorfilter-threshold-range")},Sn.colorfilterThresholdRange),filterTintColor:new jo(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new jo(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new jo(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:Sn.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(_t)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(_t)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(_t))}},{key:"_pickerWithRange",value:function(e){var t=document.createElement("div"),n=document.createElement("label"),o=document.createElement("div");return o.id="tie-filter-tint-opacity",n.innerHTML="Opacity",t.appendChild(n),t.appendChild(o),e.appendChild(t),e.style.height=Mi,new Zo({slider:o},Sn.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(e){var t=document.createElement("div"),n=document.createElement("select"),o=document.createElement("ul");return t.className="tui-image-editor-selectlist-wrap",o.className="tui-image-editor-selectlist",t.appendChild(n),t.appendChild(o),this._makeSelectOptionList(n),e.appendChild(t),e.style.height=Mi,this._drawSelectOptionList(n,o),this._pickerWithSelectboxForAddEvent(n,o),n}},{key:"_drawSelectOptionList",value:function(e,t){var n=e.querySelectorAll("option");Z()(n,(function(e){var n=document.createElement("li");n.innerHTML=e.innerHTML,n.setAttribute("data-item",e.value),t.appendChild(n)}))}},{key:"_pickerWithSelectboxForAddEvent",value:function(e,t){var n=this;t.addEventListener("click",(function(o){var i=o.target.getAttribute("data-item"),r=document.createEvent("HTMLEvents");e.querySelector('[value="'.concat(i,'"]')).selected=!0,r.initEvent("change",!0,!0),e.dispatchEvent(r),n.selectBoxShow=!1,t.style.display="none"})),e.addEventListener("mousedown",(function(o){o.preventDefault(),n.selectBoxShow=!n.selectBoxShow,t.style.display=n.selectBoxShow?"block":"none",t.setAttribute("data-selectitem",e.value),t.querySelector("[data-item='".concat(e.value,"']")).classList.add("active")}))}},{key:"_makeSelectOptionList",value:function(e){Z()(Di,(function(t){var n=document.createElement("option");n.setAttribute("value",t),n.innerHTML=t.replace(/^[a-z]/,(function(e){return e.toUpperCase()})),e.appendChild(n)}))}}]),n}(Wo),ji=Li,Vi=o(4383),Bi=o.n(Vi);function Zi(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Xi="selected-item",Wi="disabled-item",Ui=function(e){To(n,e);var t=Zi(n);function n(e,o){var i,r=o.locale,s=o.makeSvgIcon;return C(this,n),i=t.call(this,e,{name:"history"}),e.classList.add("enabled"),i.locale=r,i.makeSvgIcon=s,i._eventHandler={},i._historyIndex=i.getListLength(),i}return $(n,[{key:"add",value:function(e){var t=e.name,n=e.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var o=function(e){var t,n,o,i=e.locale,r=e.makeSvgIcon,s=e.name,a=e.detail;return E()(t=E()(n=E()(o='\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '.concat(r(["normal","active"],"history-".concat(s.toLowerCase()),!0),"\n        </div>\n        <span>\n            ")).call(o,i.localize(s),"\n            ")).call(n,a?"(".concat(i.localize(a),")"):"",'\n        </span>\n        <div class="history-item-checkbox">\n            ')).call(t,r(["normal"],"history-check",!0),"\n        </div>\n    </div>\n")}({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:t,detail:n}),i=this.makeListItemElement(o);this.pushListItemElement(i),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var e=this;this._eventHandler.history=function(t){return e._clickHistoryItem(t)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(e){var t=e.target.closest(".".concat("history-item"));if(t){var n=Bi()(t.getAttribute("data-index"),10);if(n!==this._historyIndex){var o=Math.abs(n-this._historyIndex);n<this._historyIndex?this._actions.undo(o):this._actions.redo(o)}}}},{key:"_selectItem",value:function(e){for(var t=0;t<this.getListLength();t+=1)this.removeClass(t,Xi),this.removeClass(t,Wi),t>e&&this.addClass(t,Wi);this.addClass(e,Xi)}},{key:"destroy",value:function(){this.removeEvent(),Zn(this)}},{key:"addEvent",value:function(e){this._actions=e,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),n}(function(){function e(t,n){var o=n.name;C(this,e),this.name=o,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),t.appendChild(this.panelElement)}return $(e,[{key:"_makePanelElement",value:function(){var e=document.createElement("div");return e.className="tie-panel-".concat(this.name),e}},{key:"_makeListElement",value:function(){var e=document.createElement("ol");return e.className="".concat(this.name,"-list"),e}},{key:"makeListItemElement",value:function(e){var t=document.createElement("li");return t.innerHTML=e,t.className="".concat(this.name,"-item"),t.setAttribute("data-index",this.items.length),t}},{key:"pushListItemElement",value:function(e){this.listElement.appendChild(e),this.listElement.scrollTop+=e.offsetHeight,this.items.push(e)}},{key:"deleteListItemElement",value:function(e,t){for(var n=this.items,o=e;o<t;o+=1)this.listElement.removeChild(n[o]);a()(n).call(n,e,t-e+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(e,t){this.items[e]&&this.items[e].classList.add(t)}},{key:"removeClass",value:function(e,t){this.items[e]&&this.items[e].classList.remove(t)}},{key:"toggleClass",value:function(e,t){this.items[e]&&this.items[e].classList.toggle(t)}}]),e}()),Yi=Ui,Fi=function(){function e(t){C(this,e),this._locale=t}return $(e,[{key:"localize",value:function(e){return this._locale[e]||e}}]),e}(),qi=Fi,Hi={Shape:Ho,Crop:ei,Resize:ii,Flip:li,Rotate:hi,Text:gi,Mask:yi,Icon:_i,Draw:$i,Filter:ji},Gi="history",Ki="on",Ji="zoomIn",er="hand",tr=function(){function e(t,n,o){C(this,e),this.options=this._initializeOption(n),this._actions=o,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new qi(this.options.locale),this.theme=new xo(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(t),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return $(e,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Zn(this)}},{key:"setUiDefaultSelectionStyle",value:function(e){return L()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},e)}},{key:"resizeEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uiSize,n=e.imageSize,o=void 0===n?this.imageSize:n;o!==this.imageSize&&(this.imageSize=o),t&&this._setUiSize(t);var i=this._getCanvasMaxDimension(),r=i.width,s=i.height,a=this._editorElement.style,l=this.options.menuBarPosition;a.height="".concat(s,"px"),a.width="".concat(r,"px"),this._setEditorPosition(l),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var c=this._selectedElement.classList;"top"===l&&this._selectedElement.offsetWidth<"1300"?c.add("tui-image-editor-top-optimization"):c.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(e){this._buttonElements[e].classList.toggle(Ki),e===Ji?this._buttonElements[er].classList.remove(Ki):this._buttonElements[Ji].classList.remove(Ki)}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[Ji].classList.remove(Ki)}},{key:"changeHandButtonStatus",value:function(e){this._buttonElements[er].classList[e?"add":"remove"](Ki)}},{key:"changeHelpButtonEnabled",value:function(e,t){this._buttonElements[e].classList[t?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(e){return L()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},e)}},{key:"_setUiSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,t=this._selectedElement.style;t.width=e.width,t.height=e.height}},{key:"_makeSubMenu",value:function(){var e=this;Z()(this.options.menu,(function(t){var n,o=Hi[t.replace(/^[a-z]/,(function(e){return e.toUpperCase()}))];e._makeMenuElement(t),e._buttonElements[t]=e._menuBarElement.querySelector(".tie-btn-".concat(t)),e[t]=new o(e._subMenuElement,{locale:e._locale,makeSvgIcon:A()(n=e.theme.makeMenSvgIconSet).call(n,e.theme),menuBarPosition:e.options.menuBarPosition,usageStatistics:e.options.usageStatistics})}))}},{key:"_attachHistoryEvent",value:function(){var e,t,n;this.on(ht,A()(e=this._addHistory).call(e,this)),this.on(ft,A()(t=this._selectPrevHistory).call(t,this)),this.on(pt,A()(n=this._selectNextHistory).call(n,this))}},{key:"_attachZoomEvent",value:function(){var e=this;this.on(gt,(function(){e.offZoomInButtonStatus(),e.changeHandButtonStatus(!0)})),this.on(Ot,(function(){return e.changeHandButtonStatus(!1)}))}},{key:"_makeUiElement",value:function(e){var t,n;n=e.nodeType?e:document.querySelector(e);var o,i=(o=n,function(e){return o.querySelector(e)});n.classList.add("tui-image-editor-container"),n.innerHTML=function(e){var t,n,o,i,r,s,a=e.locale,l=e.biImage,c=e.loadButtonStyle,u=e.downloadButtonStyle,d=e.menuBarPosition;return E()(t=E()(n=E()(o=E()(i=E()(r='\n    <ul class="tui-image-editor-help-menu '.concat((s=d,"top"===s?"bottom":"left"===s?"right":"right"===s?"left":"top"),'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="')).call(r,l,'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="')).call(i,c,'">\n                ')).call(o,a.localize("Load"),'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="')).call(n,u,'">\n                ')).call(t,a.localize("Download"),"\n            </button>\n        </div>\n    </div>\n")}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+function(e){var t,n,o,i,r,s,a,l=e.locale,c=e.biImage,u=e.commonStyle,d=e.headerStyle,h=e.loadButtonStyle,f=e.downloadButtonStyle,p=e.submenuStyle;return E()(t=E()(n=E()(o=E()(i=E()(r=E()(s=E()(a='\n    <div class="tui-image-editor-main-container" style="'.concat(u,'">\n        <div class="tui-image-editor-header" style="')).call(a,d,'">\n            <div class="tui-image-editor-header-logo">\n                <img src="')).call(s,c,'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="')).call(r,h,'">\n                    ')).call(i,l.localize("Load"),'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="')).call(o,f,'">\n                    ')).call(n,l.localize("Download"),'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="')).call(t,p,'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n')}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=n,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=i(".tui-image-editor-main"),this._editorElementWrap=i(".tui-image-editor-wrap"),this._editorElement=i(".tui-image-editor"),this._helpMenuBarElement=i(".tui-image-editor-help-menu"),this._menuBarElement=i(".tui-image-editor-menu"),this._subMenuElement=i(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new Yi(this._buttonElements[Gi],{locale:this._locale,makeSvgIcon:A()(t=this.theme.makeMenSvgIconSet).call(t,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var e=this;Z()(ue,(function(t){e.changeHelpButtonEnabled(t,!0)}))}},{key:"_makeHelpMenuWithPartition",value:function(){var e;return E()(e=[]).call(e,S(ue),[""],S(de),[""],S(he))}},{key:"_addHelpMenus",value:function(){var e=this,t=this._makeHelpMenuWithPartition();Z()(t,(function(t){t?(e._makeMenuElement(t,["normal","disabled","hover"],"help"),e._buttonElements[t]=e._helpMenuBarElement.querySelector(".tie-btn-".concat(t))):e._makeMenuPartitionElement()}))}},{key:"_makeMenuPartitionElement",value:function(){var e=document.createElement("li"),t=document.createElement("div");e.className=Xn("item"),t.className=Xn("icpartition"),e.appendChild(t),this._helpMenuBarElement.appendChild(e)}},{key:"_makeMenuElement",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",r=document.createElement("li"),s=this.theme.makeMenSvgIconSet(o,e);this._addTooltipAttribute(r,e),r.className=E()(t=E()(n="tie-btn-".concat(e," ")).call(n,Xn("item")," ")).call(t,i),r.innerHTML=s,"normal"===i?this._menuBarElement.appendChild(r):this._helpMenuBarElement.appendChild(r)}},{key:"_addHelpActionEvent",value:function(){var e=this;Z()(fe,(function(t){e.eventHandler[t]=function(n){return e._actions.main[t](n)},e._buttonElements[t].addEventListener("click",e.eventHandler[t])}))}},{key:"_removeHelpActionEvent",value:function(){var e=this;Z()(fe,(function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t])}))}},{key:"_addHistory",value:function(e){if(!function(e){return"string"==typeof e?$e===e:$e===e.name}(e)){var t="string"==typeof e?{name:e}:function(e){var t,n,o,i=Pe,r=Ae,s=Le,a=Me,l=De,c=Ne,u=Re,h=Ve,f=Te,p=Be,m=Ee,g=Ye,O=e.name,v=e.args;switch(O){case i:o={name:O,detail:"reset"===v[1]?v[1]:d()(t=v[1]).call(t,4)};break;case r:o={name:O,detail:v[2]};break;case a:o={name:At,detail:Kn(v[1],v[2])};break;case l:o={name:Qt,detail:"Remove"};break;case c:o={name:Et,detail:"Change"};break;case u:o={name:Mt,detail:"Change"};break;case h:o={name:It,detail:"Change"};break;case m:o={name:Rt,detail:v[2]};break;case f:o={name:zt,detail:"All"};break;case p:o={name:Tt,detail:"Add"};break;case s:o={name:Dt};break;case g:o={name:Pt,detail:E()(n="".concat(~~v[1].width,"x")).call(n,~~v[1].height)};break;default:o={name:O}}return"mask"===v[1]&&(o={name:Ct,detail:"Apply"}),o}(e);this._historyMenu.add(t)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(e){e.target.closest(".".concat("tie-panel-history"))||this._buttonElements[Gi].classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(e,t){e.setAttribute("tooltip-content",this._locale.localize(t.replace(/^[a-z]/g,(function(e){return e.toUpperCase()}))))}},{key:"_addDownloadEvent",value:function(){var e=this;this.eventHandler.download=function(){return e._actions.main.download()},Z()(this._buttonElements.download,(function(t){t.addEventListener("click",e.eventHandler.download)}))}},{key:"_removeDownloadEvent",value:function(){var e=this;Z()(this._buttonElements.download,(function(t){t.removeEventListener("click",e.eventHandler.download)}))}},{key:"_addLoadEvent",value:function(){var e=this;this.eventHandler.loadImage=function(t){return e._actions.main.load(t.target.files[0])},Z()(this._buttonElements.load,(function(t){t.addEventListener("change",e.eventHandler.loadImage)}))}},{key:"_removeLoadEvent",value:function(){var e=this;Z()(this._buttonElements.load,(function(t){t.removeEventListener("change",e.eventHandler.loadImage)}))}},{key:"_addMainMenuEvent",value:function(e){var t=this;this.eventHandler[e]=function(){return t.changeMenu(e)},this._buttonElements[e].addEventListener("click",this.eventHandler[e])}},{key:"_addSubMenuEvent",value:function(e){var t=this;this[e].addEvent(this._actions[e]),this[e].on(yt,(function(){return t.fire(yt)})),this[e].on(xt,(function(){return t.fire(xt)}))}},{key:"_addMenuEvent",value:function(){var e=this;Z()(this.options.menu,(function(t){e._addMainMenuEvent(t),e._addSubMenuEvent(t)}))}},{key:"_removeMainMenuEvent",value:function(){var e=this;Z()(this.options.menu,(function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t]),e[t].off(yt),e[t].off(xt)}))}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var e=this;Z()(this.options.menu,(function(t){e[t].destroy()})),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var e=this,t=this._getLoadImage();t.path&&this._actions.main.initLoadImage(t.path,t.name).then((function(){e.activeMenuEvent()})),this._addLoadEvent();var n=document.createElement("div");n.className=Xn("grid-visual"),n.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(n)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(e,t,n),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(e,t,n){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),n&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===e&&t?this.submenu=null:(this._buttonElements[e].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(e)),this.submenu=e,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(e)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var e=this._editorContainerElement.style,t=e.maxWidth,n=e.maxHeight;return{width:mo()(t),height:mo()(n)}}},{key:"_setEditorPosition",value:function(e){var t=this._getCanvasMaxDimension(),n=t.width,o=t.height,i=this._editorElement.style,r=0,s=0;this.submenu&&("bottom"===e?r=o>this._editorElementWrap.scrollHeight-150?(o-this._editorElementWrap.scrollHeight)/2:-75:"top"===e?r=o>this._editorElementWrap.offsetHeight-150?75-(o-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===e?s=n>this._editorElementWrap.offsetWidth-248?124-(n-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===e&&(s=n>this._editorElementWrap.scrollWidth-248?(n-this._editorElementWrap.scrollWidth)/2:-124)),i.top="".concat(r,"px"),i.left="".concat(s,"px")}}]),e}();W().mixin(tr);var nr=tr,or=o(381),ir=o.n(or),rr=function(){function e(){C(this,e),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return $(e,[{key:"imageToSVG",value:function(e,t,n){var o=this;n=this.checkoptions(n),this.loadImage(e,(function(e){t(o.imagedataToSVG(o.getImgdata(e),n))}),n)}},{key:"imagedataToSVG",value:function(e,t){t=this.checkoptions(t);var n=this.imagedataToTracedata(e,t);return this.getsvgstring(n,t)}},{key:"imageToTracedata",value:function(e,t,n){var o=this;n=this.checkoptions(n),this.loadImage(e,(function(e){t(o.imagedataToTracedata(o.getImgdata(e),n))}),n)}},{key:"imagedataToTracedata",value:function(e,t){t=this.checkoptions(t);var n,o=this.colorquantization(e,t);if(0===t.layering){n={layers:[],palette:o.palette,width:o.array[0].length-2,height:o.array.length-2};for(var i=0;i<o.palette.length;i+=1){var r=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(o,i),t.pathomit),t),t.ltres,t.qtres);n.layers.push(r)}}else{var s=this.layering(o);t.layercontainerid&&this.drawLayers(s,this.specpalette,t.scale,t.layercontainerid);var a=this.batchpathscan(s,t.pathomit),l=this.batchinternodes(a,t);n={layers:this.batchtracelayers(l,t.ltres,t.qtres),palette:o.palette,width:e.width,height:e.height}}return n}},{key:"checkoptions",value:function(e){"string"==typeof(e=e||{})&&(e=e.toLowerCase(),e=this.optionpresets[e]?this.optionpresets[e]:{});for(var t=q()(this.optionpresets.default),n=0;n<t.length;n+=1)e.hasOwnProperty(t[n])||(e[t[n]]=this.optionpresets.default[t[n]]);return e}},{key:"colorquantization",value:function(e,t){var n,o,i,r,s,a,l,c,u=[],d=0,h=[],f=e.width*e.height;for(s=0;s<e.height+2;s+=1)for(u[s]=[],r=0;r<e.width+2;r+=1)u[s][r]=-1;for(c=t.pal?t.pal:0===t.colorsampling?this.generatepalette(t.numberofcolors):1===t.colorsampling?this.samplepalette(t.numberofcolors,e):this.samplepalette2(t.numberofcolors,e),t.blurradius>0&&(e=this.blur(e,t.blurradius,t.blurdelta)),l=0;l<t.colorquantcycles;l+=1){if(l>0)for(a=0;a<c.length;a+=1)h[a].n>0&&(c[a]={r:Math.floor(h[a].r/h[a].n),g:Math.floor(h[a].g/h[a].n),b:Math.floor(h[a].b/h[a].n),a:Math.floor(h[a].a/h[a].n)}),h[a].n/f<t.mincolorratio&&l<t.colorquantcycles-1&&(c[a]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(r=0;r<c.length;r+=1)h[r]={r:0,g:0,b:0,a:0,n:0};for(s=0;s<e.height;s+=1)for(r=0;r<e.width;r+=1){for(d=4*(s*e.width+r),i=0,o=1024,a=0;a<c.length;a+=1)(n=Math.abs(c[a].r-e.data[d])+Math.abs(c[a].g-e.data[d+1])+Math.abs(c[a].b-e.data[d+2])+Math.abs(c[a].a-e.data[d+3]))<o&&(o=n,i=a);h[i].r+=e.data[d],h[i].g+=e.data[d+1],h[i].b+=e.data[d+2],h[i].a+=e.data[d+3],h[i].n+=1,u[s+1][r+1]=i}}return{array:u,palette:c}}},{key:"samplepalette",value:function(e,t){for(var n,o=[],i=0;i<e;i+=1)n=4*Math.floor(Math.random()*t.data.length/4),o.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return o}},{key:"samplepalette2",value:function(e,t){for(var n,o=[],i=Math.ceil(Math.sqrt(e)),r=Math.ceil(e/i),s=t.width/(i+1),a=t.height/(r+1),l=0;l<r;l+=1)for(var c=0;c<i&&o.length!==e;c+=1)n=4*Math.floor((l+1)*a*t.width+(c+1)*s),o.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return o}},{key:"generatepalette",value:function(e){var t,n,o,i=[];if(e<8)for(var r=Math.floor(255/(e-1)),s=0;s<e;s+=1)i.push({r:s*r,g:s*r,b:s*r,a:255});else{var a=Math.floor(Math.pow(e,1/3)),l=Math.floor(255/(a-1)),c=e-a*a*a;for(t=0;t<a;t+=1)for(n=0;n<a;n+=1)for(o=0;o<a;o+=1)i.push({r:t*l,g:n*l,b:o*l,a:255});for(t=0;t<c;t+=1)i.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return i}},{key:"layering",value:function(e){var t,n,o,i,r,s,a,l,c,u,d,h=[],f=0,p=e.array.length,m=e.array[0].length;for(d=0;d<e.palette.length;d+=1)for(h[d]=[],u=0;u<p;u+=1)for(h[d][u]=[],c=0;c<m;c+=1)h[d][u][c]=0;for(u=1;u<p-1;u+=1)for(c=1;c<m-1;c+=1)f=e.array[u][c],t=e.array[u-1][c-1]===f?1:0,n=e.array[u-1][c]===f?1:0,o=e.array[u-1][c+1]===f?1:0,i=e.array[u][c-1]===f?1:0,r=e.array[u][c+1]===f?1:0,s=e.array[u+1][c-1]===f?1:0,a=e.array[u+1][c]===f?1:0,l=e.array[u+1][c+1]===f?1:0,h[f][u+1][c+1]=1+2*r+4*l+8*a,i||(h[f][u+1][c]=2+4*a+8*s),n||(h[f][u][c+1]=0+2*o+4*r+8),t||(h[f][u][c]=0+2*n+4+8*i);return h}},{key:"layeringstep",value:function(e,t){var n,o,i=[],r=e.array.length,s=e.array[0].length;for(o=0;o<r;o+=1)for(i[o]=[],n=0;n<s;n+=1)i[o][n]=0;for(o=1;o<r;o+=1)for(n=1;n<s;n+=1)i[o][n]=(e.array[o-1][n-1]===t?1:0)+(e.array[o-1][n]===t?2:0)+(e.array[o][n-1]===t?8:0)+(e.array[o][n]===t?4:0);return i}},{key:"pathscan",value:function(e,t){for(var n,o=[],i=0,r=0,s=0,a=0,l=e[0].length,c=e.length,u=0,d=!0,h=!1,f=0;f<c;f+=1)for(var p=0;p<l;p+=1)if(4===e[f][p]||11===e[f][p])for(s=p,a=f,o[i]={},o[i].points=[],o[i].boundingbox=[s,a,s,a],o[i].holechildren=[],d=!1,r=0,h=11===e[f][p],u=1;!d;){if(o[i].points[r]={},o[i].points[r].x=s-1,o[i].points[r].y=a-1,o[i].points[r].t=e[a][s],s-1<o[i].boundingbox[0]&&(o[i].boundingbox[0]=s-1),s-1>o[i].boundingbox[2]&&(o[i].boundingbox[2]=s-1),a-1<o[i].boundingbox[1]&&(o[i].boundingbox[1]=a-1),a-1>o[i].boundingbox[3]&&(o[i].boundingbox[3]=a-1),n=this.pathscan_combined_lookup[e[a][s]][u],e[a][s]=n[0],u=n[1],s+=n[2],a+=n[3],s-1===o[i].points[0].x&&a-1===o[i].points[0].y)if(d=!0,o[i].points.length<t)o.pop();else{if(o[i].isholepath=!!h,h){for(var m=0,g=[-1,-1,l+1,c+1],O=0;O<i;O++)!o[O].isholepath&&this.boundingboxincludes(o[O].boundingbox,o[i].boundingbox)&&this.boundingboxincludes(g,o[O].boundingbox)&&(m=O,g=o[O].boundingbox);o[m].holechildren.push(i)}i+=1}r+=1}return o}},{key:"boundingboxincludes",value:function(e,t){return e[0]<t[0]&&e[1]<t[1]&&e[2]>t[2]&&e[3]>t[3]}},{key:"batchpathscan",value:function(e,t){var n=[];for(var o in e)e.hasOwnProperty(o)&&(n[o]=this.pathscan(e[o],t));return n}},{key:"internodes",value:function(e,t){var n,o,i=[],r=0,s=0,a=0,l=0,c=0;for(n=0;n<e.length;n+=1)for(i[n]={},i[n].points=[],i[n].boundingbox=e[n].boundingbox,i[n].holechildren=e[n].holechildren,i[n].isholepath=e[n].isholepath,r=e[n].points.length,o=0;o<r;o+=1)s=(o+1)%r,a=(o+2)%r,l=(o-1+r)%r,c=(o-2+r)%r,t.rightangleenhance&&this.testrightangle(e[n],c,l,o,s,a)&&(i[n].points.length>0&&(i[n].points[i[n].points.length-1].linesegment=this.getdirection(i[n].points[i[n].points.length-1].x,i[n].points[i[n].points.length-1].y,e[n].points[o].x,e[n].points[o].y)),i[n].points.push({x:e[n].points[o].x,y:e[n].points[o].y,linesegment:this.getdirection(e[n].points[o].x,e[n].points[o].y,(e[n].points[o].x+e[n].points[s].x)/2,(e[n].points[o].y+e[n].points[s].y)/2)})),i[n].points.push({x:(e[n].points[o].x+e[n].points[s].x)/2,y:(e[n].points[o].y+e[n].points[s].y)/2,linesegment:this.getdirection((e[n].points[o].x+e[n].points[s].x)/2,(e[n].points[o].y+e[n].points[s].y)/2,(e[n].points[s].x+e[n].points[a].x)/2,(e[n].points[s].y+e[n].points[a].y)/2)});return i}},{key:"testrightangle",value:function(e,t,n,o,i,r){return e.points[o].x===e.points[t].x&&e.points[o].x===e.points[n].x&&e.points[o].y===e.points[i].y&&e.points[o].y===e.points[r].y||e.points[o].y===e.points[t].y&&e.points[o].y===e.points[n].y&&e.points[o].x===e.points[i].x&&e.points[o].x===e.points[r].x}},{key:"getdirection",value:function(e,t,n,o){return e<n?t<o?1:t>o?7:0:e>n?t<o?3:t>o?5:4:t<o?2:t>o?6:8}},{key:"batchinternodes",value:function(e,t){var n=[];for(var o in e)e.hasOwnProperty(o)&&(n[o]=this.internodes(e[o],t));return n}},{key:"tracepath",value:function(e,t,n){var o,i,r,s=0,a={segments:[]};for(a.boundingbox=e.boundingbox,a.holechildren=e.holechildren,a.isholepath=e.isholepath;s<e.points.length;){var l;for(o=e.points[s].linesegment,i=-1,r=s+1;(e.points[r].linesegment===o||e.points[r].linesegment===i||-1===i)&&r<e.points.length-1;)e.points[r].linesegment!==o&&-1===i&&(i=e.points[r].linesegment),r+=1;r===e.points.length-1&&(r=0),a.segments=E()(l=a.segments).call(l,this.fitseq(e,t,n,s,r)),s=r>0?r:e.points.length}return a}},{key:"fitseq",value:function(e,t,n,o,i){var r;if(i>e.points.length||i<0)return[];var s,a,l,c=o,u=0,d=!0,h=i-o;h<0&&(h+=e.points.length);for(var f,p=(e.points[i].x-e.points[o].x)/h,m=(e.points[i].y-e.points[o].y)/h,g=(o+1)%e.points.length;g!=i;)(f=g-o)<0&&(f+=e.points.length),s=e.points[o].x+p*f,a=e.points[o].y+m*f,(l=(e.points[g].x-s)*(e.points[g].x-s)+(e.points[g].y-a)*(e.points[g].y-a))>t&&(d=!1),l>u&&(c=g,u=l),g=(g+1)%e.points.length;if(d)return[{type:"L",x1:e.points[o].x,y1:e.points[o].y,x2:e.points[i].x,y2:e.points[i].y}];var O=c;d=!0,u=0;var v=(O-o)/h,b=(1-v)*(1-v),y=2*(1-v)*v,x=v*v,w=(b*e.points[o].x+x*e.points[i].x-e.points[O].x)/-y,S=(b*e.points[o].y+x*e.points[i].y-e.points[O].y)/-y;for(g=o+1;g!=i;)y=2*(1-(v=(g-o)/h))*v,x=v*v,s=(b=(1-v)*(1-v))*e.points[o].x+y*w+x*e.points[i].x,a=b*e.points[o].y+y*S+x*e.points[i].y,(l=(e.points[g].x-s)*(e.points[g].x-s)+(e.points[g].y-a)*(e.points[g].y-a))>n&&(d=!1),l>u&&(c=g,u=l),g=(g+1)%e.points.length;if(d)return[{type:"Q",x1:e.points[o].x,y1:e.points[o].y,x2:w,y2:S,x3:e.points[i].x,y3:e.points[i].y}];var _=O;return E()(r=this.fitseq(e,t,n,o,_)).call(r,this.fitseq(e,t,n,_,i))}},{key:"batchtracepaths",value:function(e,t,n){var o=[];for(var i in e)e.hasOwnProperty(i)&&o.push(this.tracepath(e[i],t,n));return o}},{key:"batchtracelayers",value:function(e,t,n){var o=[];for(var i in e)e.hasOwnProperty(i)&&(o[i]=this.batchtracepaths(e[i],t,n));return o}},{key:"roundtodec",value:function(e,t){return Number(e.toFixed(t))}},{key:"svgpathstring",value:function(e,t,n,o){var i,r,s,a=e.layers[t],l=a[n],c="";if(o.linefilter&&l.segments.length<3)return c;if(c=E()(i="<path ".concat(o.desc?E()(r='desc="l '.concat(t," p ")).call(r,n,'" '):"")).call(i,this.tosvgcolorstr(e.palette[t],o),'d="'),-1===o.roundcoords){var u;for(c+=E()(u="M ".concat(l.segments[0].x1*o.scale," ")).call(u,l.segments[0].y1*o.scale," "),s=0;s<l.segments.length;s++){var d,h,f;c+=E()(d=E()(h="".concat(l.segments[s].type," ")).call(h,l.segments[s].x2*o.scale," ")).call(d,l.segments[s].y2*o.scale," "),l.segments[s].hasOwnProperty("x3")&&(c+=E()(f="".concat(l.segments[s].x3*o.scale," ")).call(f,l.segments[s].y3*o.scale," "))}c+="Z "}else{var p;for(c+=E()(p="M ".concat(this.roundtodec(l.segments[0].x1*o.scale,o.roundcoords)," ")).call(p,this.roundtodec(l.segments[0].y1*o.scale,o.roundcoords)," "),s=0;s<l.segments.length;s++){var m,g,O;c+=E()(m=E()(g="".concat(l.segments[s].type," ")).call(g,this.roundtodec(l.segments[s].x2*o.scale,o.roundcoords)," ")).call(m,this.roundtodec(l.segments[s].y2*o.scale,o.roundcoords)," "),l.segments[s].hasOwnProperty("x3")&&(c+=E()(O="".concat(this.roundtodec(l.segments[s].x3*o.scale,o.roundcoords)," ")).call(O,this.roundtodec(l.segments[s].y3*o.scale,o.roundcoords)," "))}c+="Z "}for(var v=0;v<l.holechildren.length;v++){var b,y,x,w,S=a[l.holechildren[v]];if(-1===o.roundcoords)for(S.segments[S.segments.length-1].hasOwnProperty("x3")?c+=E()(b="M ".concat(S.segments[S.segments.length-1].x3*o.scale," ")).call(b,S.segments[S.segments.length-1].y3*o.scale," "):c+=E()(y="M ".concat(S.segments[S.segments.length-1].x2*o.scale," ")).call(y,S.segments[S.segments.length-1].y2*o.scale," "),s=S.segments.length-1;s>=0;s--){var _,k;c+="".concat(S.segments[s].type," "),S.segments[s].hasOwnProperty("x3")&&(c+=E()(k="".concat(S.segments[s].x2*o.scale," ")).call(k,S.segments[s].y2*o.scale," ")),c+=E()(_="".concat(S.segments[s].x1*o.scale," ")).call(_,S.segments[s].y1*o.scale," ")}else for(S.segments[S.segments.length-1].hasOwnProperty("x3")?c+=E()(x="M ".concat(this.roundtodec(S.segments[S.segments.length-1].x3*o.scale)," ")).call(x,this.roundtodec(S.segments[S.segments.length-1].y3*o.scale)," "):c+=E()(w="M ".concat(this.roundtodec(S.segments[S.segments.length-1].x2*o.scale)," ")).call(w,this.roundtodec(S.segments[S.segments.length-1].y2*o.scale)," "),s=S.segments.length-1;s>=0;s--){var C,T;c+="".concat(S.segments[s].type," "),S.segments[s].hasOwnProperty("x3")&&(c+=E()(T="".concat(this.roundtodec(S.segments[s].x2*o.scale)," ")).call(T,this.roundtodec(S.segments[s].y2*o.scale)," ")),c+=E()(C="".concat(this.roundtodec(S.segments[s].x1*o.scale)," ")).call(C,this.roundtodec(S.segments[s].y1*o.scale)," ")}c+="Z "}if(c+='" />',o.lcpr||o.qcpr){for(s=0;s<l.segments.length;s++){var $,P,A,Q,M,D,I,R,z,N,L,j,V,B,Z,X,W;l.segments[s].hasOwnProperty("x3")&&o.qcpr&&(c+=E()($=E()(P=E()(A='<circle cx="'.concat(l.segments[s].x2*o.scale,'" cy="')).call(A,l.segments[s].y2*o.scale,'" r="')).call(P,o.qcpr,'" fill="cyan" stroke-width="')).call($,.2*o.qcpr,'" stroke="black" />'),c+=E()(Q=E()(M=E()(D='<circle cx="'.concat(l.segments[s].x3*o.scale,'" cy="')).call(D,l.segments[s].y3*o.scale,'" r="')).call(M,o.qcpr,'" fill="white" stroke-width="')).call(Q,.2*o.qcpr,'" stroke="black" />'),c+=E()(I=E()(R=E()(z=E()(N='<line x1="'.concat(l.segments[s].x1*o.scale,'" y1="')).call(N,l.segments[s].y1*o.scale,'" x2="')).call(z,l.segments[s].x2*o.scale,'" y2="')).call(R,l.segments[s].y2*o.scale,'" stroke-width="')).call(I,.2*o.qcpr,'" stroke="cyan" />'),c+=E()(L=E()(j=E()(V=E()(B='<line x1="'.concat(l.segments[s].x2*o.scale,'" y1="')).call(B,l.segments[s].y2*o.scale,'" x2="')).call(V,l.segments[s].x3*o.scale,'" y2="')).call(j,l.segments[s].y3*o.scale,'" stroke-width="')).call(L,.2*o.qcpr,'" stroke="cyan" />')),!l.segments[s].hasOwnProperty("x3")&&o.lcpr&&(c+=E()(Z=E()(X=E()(W='<circle cx="'.concat(l.segments[s].x2*o.scale,'" cy="')).call(W,l.segments[s].y2*o.scale,'" r="')).call(X,o.lcpr,'" fill="white" stroke-width="')).call(Z,.2*o.lcpr,'" stroke="black" />'))}for(v=0;v<l.holechildren.length;v++)for(S=a[l.holechildren[v]],s=0;s<S.segments.length;s++){var U,Y,F,q,H,G,K,J,ee,te,ne,oe,ie,re,se,ae,le;S.segments[s].hasOwnProperty("x3")&&o.qcpr&&(c+=E()(U=E()(Y=E()(F='<circle cx="'.concat(S.segments[s].x2*o.scale,'" cy="')).call(F,S.segments[s].y2*o.scale,'" r="')).call(Y,o.qcpr,'" fill="cyan" stroke-width="')).call(U,.2*o.qcpr,'" stroke="black" />'),c+=E()(q=E()(H=E()(G='<circle cx="'.concat(S.segments[s].x3*o.scale,'" cy="')).call(G,S.segments[s].y3*o.scale,'" r="')).call(H,o.qcpr,'" fill="white" stroke-width="')).call(q,.2*o.qcpr,'" stroke="black" />'),c+=E()(K=E()(J=E()(ee=E()(te='<line x1="'.concat(S.segments[s].x1*o.scale,'" y1="')).call(te,S.segments[s].y1*o.scale,'" x2="')).call(ee,S.segments[s].x2*o.scale,'" y2="')).call(J,S.segments[s].y2*o.scale,'" stroke-width="')).call(K,.2*o.qcpr,'" stroke="cyan" />'),c+=E()(ne=E()(oe=E()(ie=E()(re='<line x1="'.concat(S.segments[s].x2*o.scale,'" y1="')).call(re,S.segments[s].y2*o.scale,'" x2="')).call(ie,S.segments[s].x3*o.scale,'" y2="')).call(oe,S.segments[s].y3*o.scale,'" stroke-width="')).call(ne,.2*o.qcpr,'" stroke="cyan" />')),!S.segments[s].hasOwnProperty("x3")&&o.lcpr&&(c+=E()(se=E()(ae=E()(le='<circle cx="'.concat(S.segments[s].x2*o.scale,'" cy="')).call(le,S.segments[s].y2*o.scale,'" r="')).call(ae,o.lcpr,'" fill="white" stroke-width="')).call(se,.2*o.lcpr,'" stroke="black" />'))}}return c}},{key:"getsvgstring",value:function(e,t){var n,o,i;t=this.checkoptions(t);for(var r=e.width*t.scale,s=e.height*t.scale,a=E()(n="<svg ".concat(t.viewbox?E()(o='viewBox="0 0 '.concat(r," ")).call(o,s,'" '):E()(i='width="'.concat(r,'" height="')).call(i,s,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(n,this.versionnumber,'" >'),l=0;l<e.layers.length;l+=1)for(var c=0;c<e.layers[l].length;c+=1)e.layers[l][c].isholepath||(a+=this.svgpathstring(e,l,c,t));return a+="</svg>"}},{key:"compareNumbers",value:function(e,t){return e-t}},{key:"torgbastr",value:function(e){var t,n,o;return E()(t=E()(n=E()(o="rgba(".concat(e.r,",")).call(o,e.g,",")).call(n,e.b,",")).call(t,e.a,")")}},{key:"tosvgcolorstr",value:function(e,t){var n,o,i,r,s,a,l;return E()(n=E()(o=E()(i=E()(r=E()(s=E()(a=E()(l='fill="rgb('.concat(e.r,",")).call(l,e.g,",")).call(a,e.b,')" stroke="rgb(')).call(s,e.r,",")).call(r,e.g,",")).call(i,e.b,')" stroke-width="')).call(o,t.strokewidth,'" opacity="')).call(n,e.a/255,'" ')}},{key:"appendSVGString",value:function(e,t){var n;t?(n=document.getElementById(t))||((n=document.createElement("div")).id=t,document.body.appendChild(n)):(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML+=e}},{key:"blur",value:function(e,t,n){var o,i,r,s,a,l,c,u,d,h={width:e.width,height:e.height,data:[]};if((t=Math.floor(t))<1)return e;t>5&&(t=5),(n=Math.abs(n))>1024&&(n=1024);var f=this.gks[t-1];for(i=0;i<e.height;i++)for(o=0;o<e.width;o++){for(a=0,l=0,c=0,u=0,d=0,r=-t;r<t+1;r++)o+r>0&&o+r<e.width&&(s=4*(i*e.width+o+r),a+=e.data[s]*f[r+t],l+=e.data[s+1]*f[r+t],c+=e.data[s+2]*f[r+t],u+=e.data[s+3]*f[r+t],d+=f[r+t]);s=4*(i*e.width+o),h.data[s]=Math.floor(a/d),h.data[s+1]=Math.floor(l/d),h.data[s+2]=Math.floor(c/d),h.data[s+3]=Math.floor(u/d)}var p=new Uint8ClampedArray(h.data);for(i=0;i<e.height;i++)for(o=0;o<e.width;o++){for(a=0,l=0,c=0,u=0,d=0,r=-t;r<t+1;r++)i+r>0&&i+r<e.height&&(a+=p[s=4*((i+r)*e.width+o)]*f[r+t],l+=p[s+1]*f[r+t],c+=p[s+2]*f[r+t],u+=p[s+3]*f[r+t],d+=f[r+t]);s=4*(i*e.width+o),h.data[s]=Math.floor(a/d),h.data[s+1]=Math.floor(l/d),h.data[s+2]=Math.floor(c/d),h.data[s+3]=Math.floor(u/d)}for(i=0;i<e.height;i++)for(o=0;o<e.width;o++)s=4*(i*e.width+o),Math.abs(h.data[s]-e.data[s])+Math.abs(h.data[s+1]-e.data[s+1])+Math.abs(h.data[s+2]-e.data[s+2])+Math.abs(h.data[s+3]-e.data[s+3])>n&&(h.data[s]=e.data[s],h.data[s+1]=e.data[s+1],h.data[s+2]=e.data[s+2],h.data[s+3]=e.data[s+3]);return h}},{key:"loadImage",value:function(e,t,n){var o=new Image;n&&n.corsenabled&&(o.crossOrigin="Anonymous"),o.src=e,o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0),t(e)}}},{key:"getImgdata",value:function(e){return e.getContext("2d").getImageData(0,0,e.width,e.height)}},{key:"drawLayers",value:function(e,t,n,o){var i,r,s,a,l,c;for(l in n=n||1,o?(c=document.getElementById(o))||((c=document.createElement("div")).id=o,document.body.appendChild(c)):(c=document.createElement("div"),document.body.appendChild(c)),e)if(e.hasOwnProperty(l)){i=e[l][0].length,r=e[l].length;var u=document.createElement("canvas");u.width=i*n,u.height=r*n;var d=u.getContext("2d");for(a=0;a<r;a+=1)for(s=0;s<i;s+=1)d.fillStyle=this.torgbastr(t[e[l][a][s]%t.length]),d.fillRect(s*n,a*n,n,n);c.appendChild(u)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),e}(),sr={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var e=this,t=function(){"crop"===e.ui.submenu&&(e.stopDrawingMode(),e.ui.changeMenu("crop"))},n=function(t){var n,o;return n=t,"rotate"===e.ui.submenu&&e.ui.rotate.setRangeBarAngle("setAngle",n),o=t,"filter"===e.ui.submenu&&ir()(e.ui).setFilterState(o),t},o=function(){ir()(e.ui)&&ir()(e.ui).initFilterCheckBoxState()};return L()({initLoadImage:function(n,o){return e.loadImageFromURL(n,o).then((function(o){t(),e.ui.initializeImgUrl=n,e.ui.resizeEditor({imageSize:o}),e.clearUndoStack(),e._invoker.fire(ht,kt)}))},undo:function(){e.isEmptyUndoStack()||(t(),e.deactivateAll(),e.undo().then(n))},redo:function(){e.isEmptyRedoStack()||(t(),e.deactivateAll(),e.redo().then(n))},reset:function(){t(),e.loadImageFromURL(e.ui.initializeImgUrl,"resetImage").then((function(n){t(),o(),e.ui.resizeEditor({imageSize:n}),e.clearUndoStack(),e._initHistory()}))},delete:function(){e.ui.changeHelpButtonEnabled("delete",!1),t(),e.removeActiveObject(),e.activeObjectId=null},deleteAll:function(){t(),e.clearObjects(),e.ui.changeHelpButtonEnabled("delete",!1),e.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(n){Vn()||alert("This browser does not support file-api"),e.ui.initializeImgUrl=R().createObjectURL(n),e.loadImageFromFile(n).then((function(n){t(),o(),e.clearUndoStack(),e.ui.activeMenuEvent(),e.ui.resizeEditor({imageSize:n}),e._clearHistory(),e._invoker.fire(ht,kt)})).catch((function(e){return D().reject(e)}))},download:function(){var t,n,o=e.toDataURL(),i=e.getImageName();Vn()&&window.saveAs?(n=(t=function(e){var t,n,o,i="";t=e.replace(/data:(image\/.+);base64,/,(function(e,t){return i=t,""}));var r=(t=atob(t)).length;for(n=new Uint8Array(r),o=0;o<r;o+=1)n[o]=t.charCodeAt(o);return new Blob([n],{type:i})}(o)).type.split("/")[1],i.split(".").pop()!==n&&(i+=".".concat(n)),saveAs(t,i)):window.open().document.body.innerHTML="<img src='".concat(o,"'>")},history:function(t){e.ui.toggleHistoryMenu(t)},zoomIn:function(){var t;e.ui.toggleZoomButtonStatus("zoomIn"),e.deactivateAll(),t=e._graphics.getZoomMode(),e.stopDrawingMode(),t!==Wt?(e.startDrawingMode(Nt.ZOOM),e._graphics.startZoomInMode()):e._graphics.endZoomInMode()},zoomOut:function(){e._graphics.zoomOut()},hand:function(){var t;e.ui.offZoomInButtonStatus(),e.ui.toggleZoomButtonStatus("hand"),e.deactivateAll(),t=e._graphics.getZoomMode(),e.stopDrawingMode(),t!==Ut?(e.startDrawingMode(Nt.ZOOM),e._graphics.startHandMode()):e._graphics.endHandMode()}},this._commonAction())},_iconAction:function(){var e=this;return L()({changeColor:function(t){e.activeObjectId&&e.changeIconColor(e.activeObjectId,t)},addIcon:function(t,n){e.startDrawingMode("ICON"),e.setDrawingIcon(t,n)},cancelAddIcon:function(){e.ui.icon.clearIconType(),e.changeSelectableAll(!0),e.changeCursor("default"),e.stopDrawingMode()},registerDefaultIcons:function(t,n){var o={};o[t]=n,e.registerIcons(o)},registerCustomIcon:function(t,n){(new rr).imageToSVG(t,(function(t){var o=H(t.match(/path[^>]*d="([^"]*)"/),2)[1],i={};i[n.name]=o,e.registerIcons(i),e.addIcon(n.name,{left:100,top:100})}),rr.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var e=this;return L()({setDrawMode:function(t,n){e.stopDrawingMode(),"free"===t?e.startDrawingMode("FREE_DRAWING",n):e.startDrawingMode("LINE_DRAWING",n)},setColor:function(t){e.setBrush({color:t})}},this._commonAction())},_maskAction:function(){var e=this;return L()({loadImageFromURL:function(t,n){return e.loadImageFromURL(e.toDataURL(),"FilterImage").then((function(){e.addImageObject(t).then((function(){R().revokeObjectURL(n)})),e._invoker.fire(ht,Ct)}))},applyFilter:function(){e.applyFilter("mask",{maskObjId:e.activeObjectId})}},this._commonAction())},_textAction:function(){var e=this;return L()({changeTextStyle:function(t,n){e.activeObjectId&&e.changeTextStyle(e.activeObjectId,t,n)}},this._commonAction())},_rotateAction:function(){var e=this;return L()({rotate:function(t,n){e.rotate(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("rotate",t)},setAngle:function(t,n){e.setAngle(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("setAngle",t)}},this._commonAction())},_shapeAction:function(){var e=this;return L()({changeShape:function(t,n){e.activeObjectId&&e.changeShape(e.activeObjectId,t,n)},setDrawingShape:function(t){e.setDrawingShape(t)}},this._commonAction())},_cropAction:function(){var e=this;return L()({crop:function(){var t=e.getCropzoneRect();t&&!function(e){var t=e.left,n=e.top,o=e.width,i=e.height;return t===_n&&n===kn&&o===Cn&&i===Tn}(t)&&e.crop(t).then((function(){e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("crop"),e._invoker.fire(ht,$t)})).catch((function(e){return D().reject(e)}))},cancel:function(){e.stopDrawingMode(),e.ui.changeMenu("crop")},preset:function(t){switch(t){case"preset-square":e.setCropzoneRect(1);break;case"preset-3-2":e.setCropzoneRect(1.5);break;case"preset-4-3":e.setCropzoneRect(4/3);break;case"preset-5-4":e.setCropzoneRect(5/4);break;case"preset-7-5":e.setCropzoneRect(1.4);break;case"preset-16-9":e.setCropzoneRect(16/9);break;default:e.setCropzoneRect(),e.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var e=this;return L()({getCurrentDimensions:function(){return e._graphics.getCurrentDimensions()},preview:function(t,n,o){var i=e._graphics.getCurrentDimensions(),r=function(){return i.width/i.height},s={};switch(t){case"width":s.width=n,s.height=o?n/r():i.height;break;case"height":s.height=n,s.width=o?n*r():i.width;break;default:s=i}e._graphics.resize(s).then((function(){e.ui.resizeEditor()})),o&&(e.ui.resize.setWidthValue(s.width),e.ui.resize.setHeightValue(s.height))},lockAspectRatio:function(t,n,o){var i=e._graphics.getCurrentDimensions(),r=i.width,s=i.height,a=r/s;if(t)if(r>s){var l=o/a,c=n*a;e.ui.resize.setLimit({minWidth:c>n?c:n,minHeight:n,maxWidth:o,maxHeight:l<o?l:o})}else{var u=o*a,d=n/a;e.ui.resize.setLimit({minWidth:n,minHeight:d>n?d:n,maxWidth:u<o?u:o,maxHeight:o})}else e.ui.resize.setLimit({minWidth:n,minHeight:n,maxWidth:o,maxHeight:o})},resize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=e._graphics.getCurrentDimensions()),e.resize(t).then((function(){e._graphics.setOriginalDimensions(t),e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("resize")})).catch((function(e){return D().reject(e)}))},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e._graphics.getOriginalDimensions();e.ui.resize.setWidthValue(n.width,!0),e.ui.resize.setHeightValue(n.height,!0),e._graphics.resize(n).then((function(){t||(e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("resize"))}))}},this._commonAction())},_flipAction:function(){var e=this;return L()({flip:function(t){return e[t]()}},this._commonAction())},_filterAction:function(){var e=this;return L()({applyFilter:function(t,n,o,i){t?e.applyFilter(n,o,i):e.hasFilter(n)&&e.removeFilter(n)}},this._commonAction())},setReAction:function(){var e=this;this.on({undoStackChanged:function(t){t?(e.ui.changeHelpButtonEnabled("undo",!0),e.ui.changeHelpButtonEnabled("reset",!0)):(e.ui.changeHelpButtonEnabled("undo",!1),e.ui.changeHelpButtonEnabled("reset",!1)),e.ui.resizeEditor()},redoStackChanged:function(t){t?e.ui.changeHelpButtonEnabled("redo",!0):e.ui.changeHelpButtonEnabled("redo",!1),e.ui.resizeEditor()},objectActivated:function(t){var n,o;e.activeObjectId=t.id,e.ui.changeHelpButtonEnabled("delete",!0),e.ui.changeHelpButtonEnabled("deleteAll",!0),"cropzone"===t.type?e.ui.crop.changeApplyButtonStatus(!0):i()(n=["rect","circle","triangle"]).call(n,t.type)>-1?(e.stopDrawingMode(),"shape"!==e.ui.submenu&&e.ui.changeMenu("shape",!1,!1),e.ui.shape.setShapeStatus({strokeColor:t.stroke,strokeWidth:t.strokeWidth,fillColor:oe()(t)}),e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height))):"path"===t.type||"line"===t.type?"draw"!==e.ui.submenu&&(e.ui.changeMenu("draw",!1,!1),e.ui.draw.changeStandbyMode()):i()(o=["i-text","text"]).call(o,t.type)>-1?("text"!==e.ui.submenu&&e.ui.changeMenu("text",!1,!1),e.ui.text.setTextStyleStateOnAction(t)):"icon"===t.type&&(e.stopDrawingMode(),"icon"!==e.ui.submenu&&e.ui.changeMenu("icon",!1,!1),e.ui.icon.setIconPickerColor(oe()(t)))},addText:function(t){var n=e.ui.text,o=n.textColor,i=n.fontSize,r=n.fontStyle,s=n.fontWeight,a=n.underline;e.addText("Double Click",{position:t.originPosition,styles:{fill:o,fontSize:i,fontFamily:"Noto Sans",fontStyle:r,fontWeight:s,underline:a}}).then((function(){e.changeCursor("default")}))},addObjectAfter:function(t){var n;"icon"===t.type?e.ui.icon.changeStandbyMode():i()(n=["rect","circle","triangle"]).call(n,t.type)>-1&&(e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height)),e.ui.shape.changeStandbyMode())},objectScaled:function(t){var n,o;if(i()(n=["i-text","text"]).call(n,t.type)>-1)e.ui.text.fontSize=Ln(t.fontSize);else if(i()(o=["rect","circle","triangle"]).call(o,t.type)>=0){var r=t.width,s=t.height,a=e.ui.shape.getStrokeValue();r<a&&e.ui.shape.setStrokeValue(r),s<a&&e.ui.shape.setStrokeValue(s)}},selectionCleared:function(){e.activeObjectId=null,"text"===e.ui.submenu?e.changeCursor("text"):Yn(["draw","crop","resize"],e.ui.submenu)||e.stopDrawingMode()}})},_historyAction:function(){var e=this;return{undo:function(t){return e.undo(t)},redo:function(t){return e.redo(t)}}},_commonAction:function(){var e,t,n,o,i=this,r=Nt.TEXT,s=Nt.CROPPER,a=Nt.SHAPE,l=Nt.ZOOM,c=Nt.RESIZE;return{modeChange:function(e){switch(e){case Lt:i._changeActivateMode(r);break;case jt:i.startDrawingMode(s);break;case Bt:i._changeActivateMode(a),i.setDrawingShape(i.ui.shape.type,i.ui.shape.options);break;case Zt:i.startDrawingMode(l);break;case Vt:i.startDrawingMode(c)}},deactivateAll:A()(e=this.deactivateAll).call(e,this),changeSelectableAll:A()(t=this.changeSelectableAll).call(t,this),discardSelection:A()(n=this.discardSelection).call(n,this),stopDrawingMode:A()(o=this.stopDrawingMode).call(o,this)}},mixin:function(e){L()(e.prototype,this)}},ar=o(602),lr=o.n(ar),cr=o(5573),ur=o.n(cr),dr=function(){function e(t,n){C(this,e),this.name=t,this.graphics=n}return $(e,[{key:"fire",value:function(){for(var e=this.graphics,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return this.graphics.fire.apply(e,n)}},{key:"setCanvasImage",value:function(e,t){this.graphics.setCanvasImage(e,t)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(e,t){this.graphics.setImageProperties(e,t)}},{key:"setCanvasCssDimension",value:function(e){this.graphics.setCanvasCssDimension(e)}},{key:"setCanvasBackstoreDimension",value:function(e){this.graphics.setCanvasBackstoreDimension(e)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),e}(),hr=dr;function fr(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var pr={padding:0,crossOrigin:"Anonymous"},mr=function(e){To(n,e);var t=fr(n);function n(e){return C(this,n),t.call(this,ke.IMAGE_LOADER,e)}return $(n,[{key:"load",value:function(e,t){var n,o=this;if(e||t)n=this._setBackgroundImage(t).then((function(t){return o.setCanvasImage(e,t),o.adjustCanvasDimension(),t}));else{var i=this.getCanvas();i.backgroundImage=null,i.renderAll(),n=new(D())((function(e){o.setCanvasImage("",null),e()}))}return n}},{key:"_setBackgroundImage",value:function(e){var t=this;return e?new(D())((function(n,o){var i=t.getCanvas();i.setBackgroundImage(e,(function(){var e=i.backgroundImage;e&&e.getElement()?n(e):o(hn)}),pr)})):D().reject(dn)}}]),n}(hr),gr=mr,Or=["tl","tr","mt","ml","mr","mb","bl","br"],vr=function(){};function br(e,t){return e>t?"width":"height"}var yr=z.fabric.util.createClass(z.fabric.Rect,{initialize:function(e,t,n){(t=L()(t,n)).type="cropzone",this.callSuper("initialize",t),this._addEventHandler(),this.canvas=e,this.options=t},canvasEventDelegation:function(e){var t,n="unregistered";return this.canvasEventTrigger[e]!==vr?n="registered":i()(t=[qe,He]).call(t,e)<0&&(n="none"),n},canvasEventRegister:function(e,t){this.canvasEventTrigger[e]=t},_addEventHandler:function(){var e,t,n,o,i;this.canvasEventTrigger=(k(e={},qe,vr),k(e,He,vr),e),this.on({moving:A()(t=this._onMoving).call(t,this),scaling:A()(n=this._onScaling).call(n,this)}),z.fabric.util.addListener(document,"keydown",A()(o=this._onKeyDown).call(o,this)),z.fabric.util.addListener(document,"keyup",A()(i=this._onKeyUp).call(i,this))},_renderCropzone:function(e){var t=this.flipX?-1:1,n=this.flipY?-1:1,o=t/this.scaleX,i=n/this.scaleY;e.scale(o,i),this._fillOuterRect(e,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(e),this._strokeBorder(e,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(e,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(e,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),e.scale(1/o,1/i)},_render:function(e){this.callSuper("_render",e),this._renderCropzone(e)},_fillOuterRect:function(e,t){var n=this._getCoordinates(),o=n.x,i=n.y;e.save(),e.fillStyle=t,e.beginPath(),e.moveTo(o[0]-1,i[0]-1),e.lineTo(o[3]+1,i[0]-1),e.lineTo(o[3]+1,i[3]+1),e.lineTo(o[0]-1,i[3]+1),e.lineTo(o[0]-1,i[0]-1),e.closePath(),e.moveTo(o[1],i[1]),e.lineTo(o[1],i[2]),e.lineTo(o[2],i[2]),e.lineTo(o[2],i[1]),e.lineTo(o[1],i[1]),e.closePath(),oe()(e).call(e),e.restore()},_fillInnerRect:function(e){var t=this._getCoordinates(),n=t.x,o=t.y,i=this._caculateInnerPosition(n,(n[2]-n[1])/3),r=this._caculateInnerPosition(o,(o[2]-o[1])/3);e.save(),e.strokeStyle="rgba(255, 255, 255, 0.7)",e.lineWidth=this.options.lineWidth,e.beginPath(),e.moveTo(i[0],r[1]),e.lineTo(i[3],r[1]),e.moveTo(i[0],r[2]),e.lineTo(i[3],r[2]),e.moveTo(i[1],r[0]),e.lineTo(i[1],r[3]),e.moveTo(i[2],r[0]),e.lineTo(i[2],r[3]),e.stroke(),e.closePath(),e.restore()},_caculateInnerPosition:function(e,t){var n=[];return n[0]=e[1],n[1]=e[1]+t,n[2]=e[1]+2*t,n[3]=e[2],n},_getCoordinates:function(){var e,t,n=this.canvas,o=this.width,i=this.height,r=this.left,s=this.top,a=o/2,l=i/2,c=n.getHeight(),u=n.getWidth();return{x:Oo()(e=[-(a+r),-a,a,a+(u-r-o)]).call(e,Math.ceil),y:Oo()(t=[-(l+s),-l,l,l+(c-s-i)]).call(t,Math.ceil)}},_strokeBorder:function(e,t,n){var o=n.lineDashWidth,i=n.lineDashOffset,r=n.lineWidth,s=this.width/2,a=this.height/2;e.save(),e.strokeStyle=t,e.setLineDash&&e.setLineDash([o,o]),i&&(e.lineDashOffset=i),r&&(e.lineWidth=r),e.beginPath(),e.moveTo(-s,-a),e.lineTo(s,-a),e.lineTo(s,a),e.lineTo(-s,a),e.lineTo(-s,-a),e.stroke(),e.restore()},_onMoving:function(){var e=this.height,t=this.width,n=this.left,o=this.top,i=this.canvas.getWidth()-t,r=this.canvas.getHeight()-e;this.left=Rn(n,0,i),this.top=Rn(o,0,r),this.canvasEventTrigger[qe](this)},_onScaling:function(e){var t=e.transform.corner,n=this.canvas.getPointer(e.e),o=this._calcScalingSizeFromPointer(n,t);this.scale(1).set(o),this.canvasEventTrigger[He](this)},_calcScalingSizeFromPointer:function(e,t){var n=function(e){return i()(Or).call(Or,e)>=0}(t);return n&&this._resizeCropZone(e,t)},adjustRatioCropzoneSize:function(e){var t=e.width,n=e.height,o=e.leftMaker,i=e.topMaker,r=e.maxWidth,s=e.maxHeight,a=e.scaleTo;if(t=r?Rn(t,1,r):t,n=s?Rn(n,1,s):n,!this.presetRatio)return this._withShiftKey&&(t>n?n=t:n>t&&(t=n)),{width:t,height:n,left:o(t),top:i(n)};"width"===a?n=t/this.presetRatio:t=n*this.presetRatio;var l=Math.min(r/t,s/n);if(l<=1){var c,u=H(Oo()(c=[t,n]).call(c,(function(e){return e*l})),2);t=u[0],n=u[1]}return{width:t,height:n,left:o(t),top:i(n)}},_getCropzoneRectInfo:function(){var e=this.canvas,t=e.width,n=e.height,o=this.getBoundingRect(!1,!0),i=o.top,r=o.left,s=o.width,a=o.height;return{rectTop:i,rectLeft:r,rectWidth:s,rectHeight:a,rectRight:r+s,rectBottom:i+a,canvasWidth:t,canvasHeight:n}},_resizeCropZone:function(e,t){var n=e.x,o=e.y,i=this._getCropzoneRectInfo(),r=i.rectWidth,s=i.rectHeight,a=i.rectTop,l=i.rectLeft,c=i.rectBottom,u=i.rectRight,d=i.canvasWidth,h=i.canvasHeight,f={tl:{width:u-n,height:c-o,leftMaker:function(e){return u-e},topMaker:function(e){return c-e},maxWidth:u,maxHeight:c,scaleTo:br(l-n,a-o)},tr:{width:n-l,height:c-o,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:d-l,maxHeight:c,scaleTo:br(n-u,a-o)},mt:{width:r,height:c-o,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:d-l,maxHeight:c,scaleTo:"height"},ml:{width:u-n,height:s,leftMaker:function(e){return u-e},topMaker:function(){return a},maxWidth:u,maxHeight:h-a,scaleTo:"width"},mr:{width:n-l,height:s,leftMaker:function(){return l},topMaker:function(){return a},maxWidth:d-l,maxHeight:h-a,scaleTo:"width"},mb:{width:r,height:o-a,leftMaker:function(){return l},topMaker:function(){return a},maxWidth:d-l,maxHeight:h-a,scaleTo:"height"},bl:{width:u-n,height:o-a,leftMaker:function(e){return u-e},topMaker:function(){return a},maxWidth:u,maxHeight:h-a,scaleTo:br(l-n,o-c)},br:{width:n-l,height:o-a,leftMaker:function(){return l},topMaker:function(){return a},maxWidth:d-l,maxHeight:h-a,scaleTo:br(n-u,o-c)}};return this.adjustRatioCropzoneSize(f[t])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(e){e.keyCode===Gt&&(this._withShiftKey=!0)},_onKeyUp:function(e){e.keyCode===Gt&&(this._withShiftKey=!1)}}),xr=yr;function wr(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Sr={presetRatio:null,top:-10,left:-10,height:1,width:1},_r=function(e){To(n,e);var t=wr(n);function n(e){var o,i,r,s,a,l;return C(this,n),(l=t.call(this,ke.CROPPER,e))._cropzone=null,l._startX=null,l._startY=null,l._withShiftKey=!1,l._listeners={keydown:A()(o=l._onKeyDown).call(o,Ao(l)),keyup:A()(i=l._onKeyUp).call(i,Ao(l)),mousedown:A()(r=l._onFabricMouseDown).call(r,Ao(l)),mousemove:A()(s=l._onFabricMouseMove).call(s,Ao(l)),mouseup:A()(a=l._onFabricMouseUp).call(a,Ao(l))},l}return $(n,[{key:"start",value:function(){if(!this._cropzone){var e=this.getCanvas();e.forEachObject((function(e){e.evented=!1})),this._cropzone=new xr(e,L()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},Ce,this.graphics.cropSelectionStyle)),e.discardActiveObject(),e.add(this._cropzone),e.on("mouse:down",this._listeners.mousedown),e.selection=!1,e.defaultCursor="crosshair",z.fabric.util.addListener(document,"keydown",this._listeners.keydown),z.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var e=this.getCanvas(),t=this._cropzone;t&&(e.remove(t),e.selection=!0,e.defaultCursor="default",e.off("mouse:down",this._listeners.mousedown),e.forEachObject((function(e){e.evented=!0})),this._cropzone=null,z.fabric.util.removeListener(document,"keydown",this._listeners.keydown),z.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(e){this._cropzone&&this._cropzone.set({visible:e})}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas();if(!e.target){t.selection=!1;var n=t.getPointer(e.e);this._startX=n.x,this._startY=n.y,t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),o=n.x,i=n.y,r=this._cropzone;Math.abs(o-this._startX)+Math.abs(i-this._startY)>10&&(t.remove(r),r.set(this._calcRectDimensionFromPoint(o,i,r.presetRatio)),t.add(r),t.setActiveObject(r))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getCanvas(),i=o.getWidth(),r=o.getHeight(),s=this._startX,a=this._startY,l=Rn(e,0,s),c=Rn(t,0,a),u=Rn(e,s,i)-l,d=Rn(t,a,r)-c;return this._withShiftKey&&!n?(u>d?d=u:d>u&&(u=d),s>=e&&(l=s-u),a>=t&&(c=a-d)):n&&(d=u/n,s>=e&&(l=Rn(s-u,0,i)),a>=t&&(c=Rn(a-d,0,r)),c+d>r&&(u=(d=r-c)*n,s>=e&&(l=Rn(s-u,0,i)),a>=t&&(c=Rn(a-d,0,r)))),{left:l,top:c,width:u,height:d}}},{key:"_onFabricMouseUp",value:function(){var e=this._cropzone,t=this._listeners,n=this.getCanvas();n.setActiveObject(e),n.off({"mouse:move":t.mousemove,"mouse:up":t.mouseup})}},{key:"getCroppedImageData",value:function(e){var t=this.getCanvas(),n=t.contains(this._cropzone);if(!e)return null;n&&t.remove(this._cropzone);var o={imageName:this.getImageName(),url:t.toDataURL(e)};return n&&t.add(this._cropzone),o}},{key:"getCropzoneRect",value:function(){var e=this._cropzone;return e.isValid()?{left:e.left,top:e.top,width:e.width,height:e.height}:null}},{key:"setCropzoneRect",value:function(e){var t=this.getCanvas(),n=this._cropzone;t.discardActiveObject(),t.selection=!1,t.remove(n),n.set(e?this._getPresetPropertiesForCropSize(e):Sr),t.add(n),t.selection=!0,e&&t.setActiveObject(n)}},{key:"_getPresetPropertiesForCropSize",value:function(e){var t,n,o=this.getCanvas(),i=o.getWidth(),r=o.getHeight(),s=i>=r?i:r,a=function(e,t){return e>t?t/e:1},l=s*e,c=s,u=a(l,i),d=H(Oo()(t=[l,c]).call(t,(function(e){return e*u})),2);l=d[0];var h=a(c=d[1],r),f=H(Oo()(n=[l,c]).call(n,(function(e){return Number((e*h).toFixed(2))})),2);return l=f[0],{presetRatio:e,top:(r-(c=f[1]))/2,left:(i-l)/2,width:l,height:c}}},{key:"_onKeyDown",value:function(e){e.keyCode===Gt&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(e){e.keyCode===Gt&&(this._withShiftKey=!1)}}]),n}(hr),kr=_r;function Cr(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Tr=function(e){To(n,e);var t=Cr(n);function n(e){return C(this,n),t.call(this,ke.FLIP,e)}return $(n,[{key:"getCurrentSetting",value:function(){var e=this.getCanvasImage();return{flipX:e.flipX,flipY:e.flipY}}},{key:"set",value:function(e){var t=this.getCurrentSetting(),n=t.flipX!==e.flipX,o=t.flipY!==e.flipY;return n||o?(L()(t,e),this.setImageProperties(t,!0),this._invertAngle(n,o),this._flipObjects(n,o),D().resolve({flipX:t.flipX,flipY:t.flipY,angle:this.getCanvasImage().angle})):D().reject(ln)}},{key:"_invertAngle",value:function(e,t){var n=this.getCanvasImage(),o=n.angle;e&&(o*=-1),t&&(o*=-1),n.rotate(mo()(o)).setCoords()}},{key:"_flipObjects",value:function(e,t){var n=this.getCanvas();e&&n.forEachObject((function(e){e.set({angle:mo()(-1*e.angle),flipX:!e.flipX,left:n.width-e.left}).setCoords()})),t&&n.forEachObject((function(e){e.set({angle:mo()(-1*e.angle),flipY:!e.flipY,top:n.height-e.top}).setCoords()})),n.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var e=this.getCurrentSetting();return this.set({flipX:!e.flipX,flipY:e.flipY})}},{key:"flipY",value:function(){var e=this.getCurrentSetting();return this.set({flipX:e.flipX,flipY:!e.flipY})}}]),n}(hr),$r=Tr;function Pr(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Ar=function(e){To(n,e);var t=Pr(n);function n(e){return C(this,n),t.call(this,ke.ROTATION,e)}return $(n,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(e){var t=this.getCurrentAngle()%360;e%=360;var n=this.getCanvasImage(),o=n.getCenterPoint();n.set({angle:e}).setCoords(),this.adjustCanvasDimension();var i=n.getCenterPoint();return this._rotateForEachObject(o,i,e-t),D().resolve(e)}},{key:"_rotateForEachObject",value:function(e,t,n){var o=this.getCanvas(),i=e.x-t.x,r=e.y-t.y;o.forEachObject((function(t){var o=t.getCenterPoint(),s=z.fabric.util.degreesToRadians(n),a=z.fabric.util.rotatePoint(o,e,s);t.set({left:a.x-i,top:a.y-r,angle:(t.angle+n)%360}),t.setCoords()})),o.renderAll()}},{key:"rotate",value:function(e){var t=this.getCurrentAngle();return this.setAngle(t+e)}}]),n}(hr),Qr=Ar;function Er(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Mr=function(e){To(n,e);var t=Er(n);function n(e){var o;return C(this,n),(o=t.call(this,ke.FREE_DRAWING,e)).width=12,o.oColor=new z.fabric.Color("rgba(0, 0, 0, 0.5)"),o}return $(n,[{key:"start",value:function(e){this.getCanvas().isDrawingMode=!0,this.setBrush(e)}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this.width=e.width||this.width,e.color&&(this.oColor=new z.fabric.Color(e.color)),t.width=this.width,t.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),n}(hr),Dr=Mr,Ir=z.fabric.util.createClass(z.fabric.Line,{type:"line",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",e,t),this.arrowType=t.arrowType},_render:function(e){var t=this.calcLinePoints(),n={fromX:t.x1,fromY:t.y1,toX:t.x2,toY:t.y2};this.ctx=e,e.lineWidth=this.strokeWidth,this._renderBasicLinePath(n),this._drawDecoratorPath(n),this._renderStroke(e)},_renderBasicLinePath:function(e){var t=e.fromX,n=e.fromY,o=e.toX,i=e.toY;this.ctx.beginPath(),this.ctx.moveTo(t,n),this.ctx.lineTo(o,i)},_drawDecoratorPath:function(e){this._drawDecoratorPathType("head",e),this._drawDecoratorPathType("tail",e)},_drawDecoratorPathType:function(e,t){switch(this.arrowType[e]){case"triangle":this._drawTrianglePath(e,t);break;case"chevron":this._drawChevronPath(e,t)}},_drawTrianglePath:function(e,t){var n=1.7*this.ctx.lineWidth;this._drawChevronPath(e,t,n),this.ctx.closePath()},_drawChevronPath:function(e,t,n){var o=this,i=t.fromX,r=t.fromY,s=t.toX,a=t.toY,l=this.ctx;n||(n=2.7*this.ctx.lineWidth);var c=H("head"===e?[i,r]:[s,a],2),u=c[0],d=c[1],h=H("head"===e?[s,a]:[i,r],2),f=h[0],p=h[1],m=180*Math.atan2(p-d,f-u)/Math.PI,g=function(e){return o.getRotatePosition(n,e,{x:u,y:d})};l.moveTo.apply(l,S(g(m+30))),l.lineTo(u,d),l.lineTo.apply(l,S(g(m-30)))},getRotatePosition:function(e,t,n){var o=t*Math.PI/180,i=n.x,r=n.y;return[e*Math.cos(o)+i,e*Math.sin(o)+r]}}),Rr=Ir;function zr(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Nr=function(e){To(n,e);var t=zr(n);function n(e){var o,i,r,s;return C(this,n),(s=t.call(this,ke.LINE,e))._width=12,s._oColor=new z.fabric.Color("rgba(0, 0, 0, 0.5)"),s._listeners={mousedown:A()(o=s._onFabricMouseDown).call(o,Ao(s)),mousemove:A()(i=s._onFabricMouseMove).call(i,Ao(s)),mouseup:A()(r=s._onFabricMouseUp).call(r,Ao(s))},s}return $(n,[{key:"setHeadOption",value:function(e){var t=e.arrowType,n=void 0===t?{head:null,tail:null}:t;this._arrowType=n}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCanvas();t.defaultCursor="crosshair",t.selection=!1,this.setHeadOption(e),this.setBrush(e),t.forEachObject((function(e){e.set({evented:!1})})),t.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this._width=e.width||this._width,e.color&&(this._oColor=new z.fabric.Color(e.color)),t.width=this._width,t.color=this._oColor.toRgba()}},{key:"end",value:function(){var e=this.getCanvas();e.defaultCursor="default",e.selection=!0,e.forEachObject((function(e){e.set({evented:!0})})),e.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),o=n.x,i=n.y,r=[o,i,o,i];this._line=new Rr(r,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(sn),t.add(this._line),t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(rt,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e);this._line.set({x2:n.x,y2:n.y}),this._line.setCoords(),t.renderAll()}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire(Ke,this._createLineEventObjectProperties()),this._line=null,e.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var e=this.graphics.createObjectProperties(this._line),t=this._line,n=t.x1,o=t.x2,i=t.y1,r=t.y2;return L()({},e,{startPosition:{x:n,y:i},endPosition:{x:o,y:r}})}}]),n}(hr),Lr=Nr;function jr(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Vr={fill:"#000000",left:0,top:0},Br={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},Zr=function(e){To(n,e);var t=jr(n);function n(e){var o,i,r,s,a,l;return C(this,n),(l=t.call(this,ke.TEXT,e))._defaultStyles=Vr,l._isSelected=!1,l._selectedObj={},l._editingObj={},l._listeners={mousedown:A()(o=l._onFabricMouseDown).call(o,Ao(l)),select:A()(i=l._onFabricSelect).call(i,Ao(l)),selectClear:A()(r=l._onFabricSelectClear).call(r,Ao(l)),scaling:A()(s=l._onFabricScaling).call(s,Ao(l)),textChanged:A()(a=l._onFabricTextChanged).call(a,Ao(l))},l._textarea=null,l._ratio=1,l._lastClickTime=(new Date).getTime(),l._editingObjInfos={},l.isPrevEditing=!1,l}return $(n,[{key:"start",value:function(){var e=this,t=this.getCanvas();t.selection=!1,t.defaultCursor="text",t.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),t.forEachObject((function(t){"i-text"===t.type&&e.adjustOriginPosition(t,"start")})),this.setCanvasRatio()}},{key:"end",value:function(){var e=this,t=this.getCanvas();t.selection=!0,t.defaultCursor="default",t.forEachObject((function(n){"i-text"===n.type&&(""===n.text?t.remove(n):e.adjustOriginPosition(n,"end"))})),t.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(e,t){var n="center",o="center";"start"===t&&(n="left",o="top");var i=e.getPointByOrigin(n,o),r=i.x,s=i.y;e.set({left:r,top:s,originX:n,originY:o}),e.setCoords()}},{key:"add",value:function(e,t){var n=this;return new(D())((function(o){var i,r=n.getCanvas(),s=null,a=sn,l=n._defaultStyles;n._setInitPos(t.position),t.styles&&(l=L()(l,t.styles)),Ai()(t.autofocus)||(t.autofocus=!0),s=new z.fabric.IText(e,l),a=L()({},a,{originX:"left",originY:"top"}),s.set(a),s.on({mouseup:A()(i=n._onFabricMouseUp).call(i,n)}),r.add(s),t.autofocus&&(s.enterEditing(),s.selectAll()),r.getActiveObject()||r.setActiveObject(s),n.isPrevEditing=!0,o(n.graphics.createObjectProperties(s))}))}},{key:"change",value:function(e,t){var n=this;return new(D())((function(o){e.set("text",t),n.getCanvas().renderAll(),o()}))}},{key:"setStyle",value:function(e,t){var n=this;return new(D())((function(o){Z()(t,(function(n,o){e[o]===n&&"fontSize"!==o&&(t[o]=Br[o]||"")}),n),"textDecoration"in t&&L()(t,n._getTextDecorationAdaptObject(t.textDecoration)),e.set(t),n.getCanvas().renderAll(),o()}))}},{key:"getText",value:function(e){return e.text}},{key:"setSelectedInfo",value:function(e,t){this._selectedObj=e,this._isSelected=t}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var e=this.getCanvasElement(),t=J()(e.style.maxWidth,10),n=e.width;this._ratio=n/t}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(e){return{underline:"underline"===e,linethrough:"line-through"===e,overline:"overline"===e}}},{key:"_setInitPos",value:function(e){e=e||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=e.x,this._defaultStyles.top=e.y}},{key:"_onInput",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._textarea.style;n.width="".concat(Math.ceil(t.width/e),"px"),n.height="".concat(Math.ceil(t.height/e),"px")}},{key:"_onKeyDown",value:function(){var e=this,t=this.getCanvasRatio(),n=this._editingObj,o=this._textarea.style;m()((function(){n.text(e._textarea.value),o.width="".concat(Math.ceil(n.width/t),"px"),o.height="".concat(Math.ceil(n.height/t),"px")}),0)}},{key:"_onBlur",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._editingObjInfos,o=this._textarea.value,i=t.width/e-n.width/e,r=t.height/e-n.height/e;if(1===e&&(i/=2,r/=2),this._textarea.style.display="none",t.set({left:n.left+i,top:n.top+r}),o.length){this.getCanvas().add(t);var s={id:Dn(t),type:t.type,text:o};this.fire(tt,s)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(e){var t=e.target;t.fontSize=t.fontSize*t.scaleY,t.scaleX=1,t.scaleY=1}},{key:"_onFabricTextChanged",value:function(e){this.fire(tt,e.target)}},{key:"_onFabricSelectClear",value:function(e){var t=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(e.target,!1),t&&""===t.text&&this.getCanvas().remove(t)}},{key:"_onFabricSelect",value:function(e){this.isPrevEditing=!0,this.setSelectedInfo(e.target,!0)}},{key:"_onFabricMouseDown",value:function(e){var t=e.target;t&&!t.isType("text")||(this.isPrevEditing?this.isPrevEditing=!1:this._fireAddText(e))}},{key:"_fireAddText",value:function(e){var t=e.target,n=e.e||{},o=this.getCanvas().getPointer(n);t||this.fire(it,{originPosition:{x:o.x,y:o.y},clientPosition:{x:n.clientX||0,y:n.clientY||0}})}},{key:"_onFabricMouseUp",value:function(e){var t=e.target,n=(new Date).getTime();this._isDoubleClick(n)&&!t.isEditing&&t.enterEditing(),t.isEditing&&this.fire(et),this._lastClickTime=n}},{key:"_isDoubleClick",value:function(e){return e-this._lastClickTime<500}}]),n}(hr),Xr=Zr;function Wr(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Ur={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},Yr=function(e){To(n,e);var t=Wr(n);function n(e){var o,i,r,s;return C(this,n),(s=t.call(this,ke.ICON,e))._oColor="#000000",s._pathMap=Ur,s._type=null,s._iconColor=null,s._handlers={mousedown:A()(o=s._onFabricMouseDown).call(o,Ao(s)),mousemove:A()(i=s._onFabricMouseMove).call(i,Ao(s)),mouseup:A()(r=s._onFabricMouseUp).call(r,Ao(s))},s}return $(n,[{key:"setStates",value:function(e,t){this._type=e,this._iconColor=t}},{key:"start",value:function(){var e=this.getCanvas();e.selection=!1,e.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var e=this.getCanvas();e.selection=!0,e.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(e,t){var n=this;return new(D())((function(o,i){var r=n.getCanvas(),s=n._pathMap[e],a=sn,l=s?n._createIcon(s):null;n._icon=l,l||i(cn),l.set(L()({type:"icon",fill:n._oColor},a,t,n.graphics.controlStyle)),r.add(l).setActiveObject(l),o(n.graphics.createObjectProperties(l))}))}},{key:"registerPaths",value:function(e){var t=this;Z()(e,(function(e,n){t._pathMap[n]=e}),this)}},{key:"setColor",value:function(e,t){this._oColor=e,t&&"icon"===t.get("type")&&(t.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(e){return oe()(e)}},{key:"_createIcon",value:function(e){return new z.fabric.Path(e)}},{key:"_onFabricMouseDown",value:function(e){var t=this,n=this.getCanvas();this._startPoint=n.getPointer(e.e);var o=this._startPoint,i=o.x,r=o.y;this.add(this._type,{left:i,top:r,fill:this._iconColor}).then((function(){t.fire(rt,t.graphics.createObjectProperties(t._icon)),n.on("mouse:move",t._handlers.mousemove),n.on("mouse:up",t._handlers.mouseup)}))}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas();if(this._icon){var n=t.getPointer(e.e),o=(n.x-this._startPoint.x)/this._icon.width,i=(n.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(2*o),scaleY:Math.abs(2*i)}),this._icon.setCoords(),t.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire(Ke,this.graphics.createObjectProperties(this._icon)),this._icon=null,e.off("mouse:down",this._handlers.mousedown),e.off("mouse:move",this._handlers.mousemove),e.off("mouse:up",this._handlers.mouseup)}}]),n}(hr),Fr=Yr,qr=z.fabric.util.createClass(z.fabric.Image.filters.BlendImage,{applyTo:function(e){if(this.mask){var t=e.canvasEl,n=t.width,o=t.height,i=this._createCanvasOfMask(n,o),r=t.getContext("2d"),s=i.getContext("2d"),a=r.getImageData(0,0,n,o);this._drawMask(s,t,r),this._mapData(s,a,n,o),e.imageData=a}},_createCanvasOfMask:function(e,t){var n=z.fabric.util.createCanvasElement();return n.width=e,n.height=t,n},_drawMask:function(e){var t=this.mask,n=t.getElement(),o=t.angle,i=t.left,r=t.scaleX,s=t.scaleY,a=t.top;e.save(),e.translate(i,a),e.rotate(o*Math.PI/180),e.scale(r,s),e.drawImage(n,-n.width/2,-n.height/2),e.restore()},_mapData:function(e,t,n,o){for(var i=t.data,r=t.height,s=i,a=t.width*r*4,l=e.getImageData(0,0,n,o).data,c=0;c<a;c+=4)s[c+3]=l[c]}}),Hr=qr,Gr=z.fabric.util.createClass(z.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),Kr=z.fabric.util.createClass(z.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),Jr=z.fabric.util.createClass(z.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(e){e||(e={}),this.color=e.color||"#FFFFFF",this.threshold=e.threshold||45,this.x=e.x||null,this.y=e.y||null},applyTo:function(e){var t,n,o=e.canvasEl,i=o.getContext("2d"),r=i.getImageData(0,0,o.width,o.height),s=r.data,a=this.threshold,l=z.fabric.Color.sourceFromHex(this.color);for(this.x&&this.y&&(l=this._getColor(r,this.x,this.y)),t=0,n=s.length;t<n;t+=4)this._isOutsideThreshold(s[t],l[0],a)||this._isOutsideThreshold(s[t+1],l[1],a)||this._isOutsideThreshold(s[t+2],l[2],a)||(s[t]=s[t+1]=s[t+2]=s[t+3]=0);i.putImageData(r,0,0)},_isOutsideThreshold:function(e,t,n){var o=e-t;return Math.abs(o)>n},_getColor:function(e,t,n){var o=[0,0,0,0],i=e.data,r=4*(e.width*n+t);return o[0]=i[r],o[1]=i[r+1],o[2]=i[r+2],o[3]=i[r+3],o}});function es(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var ts=z.fabric.Image.filters;ts.Mask=Hr,ts.Sharpen=Gr,ts.Emboss=Kr,ts.ColorFilter=Jr;var ns,os,is,rs=function(e){To(n,e);var t=es(n);function n(e){return C(this,n),t.call(this,ke.FILTER,e)}return $(n,[{key:"add",value:function(e,t){var n=this;return new(D())((function(o,i){var r=n._getSourceImage(),s=n.getCanvas(),a=n._getFilter(r,e);a||(a=n._createFilter(r,e,t)),a||i(cn),n._changeFilterValues(a,t),n._apply(r,(function(){s.renderAll(),o({type:e,action:"add",options:t})}))}))}},{key:"remove",value:function(e){var t=this;return new(D())((function(n,o){var i=t._getSourceImage(),r=t.getCanvas(),s=t.getOptions(e);i.filters.length||o(gn),t._removeFilter(i,e),t._apply(i,(function(){r.renderAll(),n({type:e,action:"remove",options:s})}))}))}},{key:"hasFilter",value:function(e){return!!this._getFilter(this._getSourceImage(),e)}},{key:"getOptions",value:function(e){var t=this._getSourceImage(),n=this._getFilter(t,e);return n?L()({},n.options):null}},{key:"_changeFilterValues",value:function(e,t){Z()(t,(function(t,n){V()(e[n])||(e[n]=t)})),Z()(e.options,(function(n,o){V()(t[o])||(e.options[o]=t[o])}))}},{key:"_apply",value:function(e,t){e.filters.push(),e.applyFilters()&&t()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(e,t,n){var o,i=this._getFabricFilterType(t),r=z.fabric.Image.filters[i];return r&&((o=new r(n)).options=n,e.filters.push(o)),o}},{key:"_getFilter",value:function(e,t){var n=null;if(e){var o,i,r=this._getFabricFilterType(t),s=e.filters.length;for(i=0;i<s;i+=1)if((o=e.filters[i]).type===r){n=o;break}}return n}},{key:"_removeFilter",value:function(e,t){var n,o=this._getFabricFilterType(t);e.filters=ir()(n=e.filters).call(n,(function(e){return e.type!==o}))}},{key:"_getFabricFilterType",value:function(e){return e.charAt(0).toUpperCase()+d()(e).call(e,1)}}]),n}(hr),ss=rs,as=o(1801),ls=o.n(as),cs={pixelate:"blocksize",blur:"blur"},us={x:"width",y:"height"},ds=(ns=cs,is={},te()(os=q()(ns)).call(os,(function(e){is[ns[e]]=e})),is),hs=null;function fs(e){return H(Un(e,"patternSourceCanvas").patternSourceCanvas.getObjects(),1)[0]}function ps(e){var t=e.angle,n=e.flipX,o=e.flipY,i=fs(e),r=function(e){var t=vs(e),n=H(t,4),o=n[0],i=o.x,r=o.y,s=n[1],a=s.x,l=s.y,c=n[2],u=c.x,d=c.y,h=n[3],f=h.x,p=h.y,m=Math.min(i,a,u,f),g=Math.min(r,l,d,p),O=Math.max(i,a,u,f),v=Math.max(r,l,d,p);return{left:m,top:g,right:O,bottom:v,width:O-m,height:v-g}}(e),s=r.right,a=r.bottom,l=r.width,c=r.height,u=(l-e.width)/2,d=(c-e.height)/2,h=e.left-e.width/2-u,f=e.top-e.height/2-d,p=l/2-u,m=c/2-d,g=Math.max(l,c)+Math.max(u,d),O=function(e){var t=e.shapeObj,n=e.left,o=e.top,i=e.width,r=e.height,s=e.cropX,a=e.cropY,l=e.flipX,c=e.flipY,u=e.right,d=e.bottom,h=function(e,n,o,i){return function(e){var t=e.type,n=e.shapeObj,o=e.outDistance,i=e.left,r=e.top,s=e.flipX,a=e.flipY,l=vs(n),c=function(e,t,n){var o=0,i=0;Z()(t,(function(t,n){t[e]<o&&(o=t[e],i=n)}));var r=H(n[i],2),s=r[0],a=r[1];return{startPointIndex:i,endPointIndex1:s,endPointIndex2:a}}(t,l,[[1,2],[0,3],[0,3],[1,2]]),u=function(e,t,n){var o,i=n.startPointIndex,r=n.endPointIndex1,s=n.endPointIndex2,a="x"===e?180:270;return Oo()(o=[r,s]).call(o,(function(e){var n=t[i],o=t[e],r=n.y-o.y,s=n.x-o.x;return 180*Math.atan2(r,s)/Math.PI-a}))}(t,l,c),d=c.startPointIndex,h=function(e){var t=e.outDistance,n=e.startPointIndex,o=e.flipX,i=e.flipY,r=e.reatAngles,s=t*Math.cos(r[0]*Math.PI/180),a=t*Math.cos(r[1]*Math.PI/180),l=2===n||3===n,c={top:l?s:a,left:l?a:s};return function(e,t,n){return(!t&&n||!t&&!n)&&0===e||(t&&n||t&&!n)&&1===e||(!t&&!n||!t&&n)&&2===e||(t&&!n||t&&n)&&3===e}(n,o,i)&&(c.left=-1*c.left),function(e,t,n){return(t&&!n||!t&&!n)&&0===e||(!t&&!n||t&&!n)&&1===e||(t&&n||!t&&n)&&2===e||(!t&&n||t&&n)&&3===e}(n,o,i)&&(c.top=-1*c.top),c}({outDistance:o,startPointIndex:d,flipX:s,flipY:a,reatAngles:u});return[i+h.left,r+h.top]}({type:e,outDistance:n,shapeObj:t,flipX:l,flipY:c,left:o,top:i})},f=i,p=r,m=function(e,t){var n=t.left,o=t.top,i=t.width,r=t.height,s=t.cropX,a=t.cropY,l={width:i,height:r};return Z()(["x","y"],(function(t){var i="x"===t?s:a,r=l[us[t]],c=hs[us[t]];if(r>c){var u=(r-c)/2;l[us[t]]=c;var d=H(e(t,u,n,o),2);n=d[0],o=d[1]}if(i<0){var h=H(e(t,i,n,o),2);n=h[0],o=h[1]}})),[n,o,l.width,l.height]}(h,{left:n,top:o,width:i,height:r,cropX:s,cropY:a}),g=H(m,4);n=g[0],o=g[1],i=g[2],r=g[3];var O=function(e,t){var n=t.left,o=t.top,i=t.insideCanvasRealImageWidth,r=t.insideCanvasRealImageHeight,s=t.right,a=t.bottom,l=t.cropX,c=t.cropY,u=t.originalWidth,d=t.originalHeight,h=i,f=r,p=hs,m=p.width,g=p.height;s>m&&l>0&&(h=u-Math.abs(s-m)),a>g&&c>0&&(f=d-Math.abs(a-g));var O={x:(i-h)/2,y:(r-f)/2};return Z()(["x","y"],(function(t){var i=O[t];if(i>0){var r=H(e(t,i,n,o),2);n=r[0],o=r[1]}})),[n,o,h,f]}(h,{left:n,top:o,insideCanvasRealImageWidth:i,insideCanvasRealImageHeight:r,right:u,bottom:d,cropX:s,cropY:a,originalWidth:f,originalHeight:p}),v=H(O,4);return n=v[0],o=v[1],i=v[2],r=v[3],[n,o,i,r]}({shapeObj:e,left:p,top:m,width:l,height:c,cropX:h,cropY:f,flipX:n,flipY:o,right:s,bottom:a}),v=H(O,4);p=v[0],m=v[1],l=v[2],c=v[3],i.set({angle:n===o?-t:t,left:p,top:m,width:l,height:c,cropX:h,cropY:f,flipX:n,flipY:o}),Wn(i,{fillImageMaxSize:g})}function ms(e){var t;return Oo()(t=e.filters).call(t,(function(e){var t=H(q()(e),1)[0];return k({},ds[t],e[t])}))}function gs(e,t,n){var o=bs(Os(e),e.angle,t);n.add(o);var i={fill:new z.fabric.Pattern({source:n.getElement(),repeat:"no-repeat"})};return Wn(i,{patternSourceCanvas:n}),i}function Os(e){return hs&&!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||(hs=e.toCanvasElement()),hs}function vs(e){return[e.getPointByOrigin("left","top"),e.getPointByOrigin("right","top"),e.getPointByOrigin("left","bottom"),e.getPointByOrigin("right","bottom")]}function bs(e,t,n){var o,i=new z.fabric.Image(e);return Z()(L().apply(void 0,E()(o=[{}]).call(o,S(n))),(function(e,t){var n,o=(n=t).charAt(0).toUpperCase()+d()(n).call(n,1),r=new z.fabric.Image.filters[o](k({},cs[t],e));i.filters.push(r)})),i.applyFilters(),Wn(i,{originalAngle:t,fillImageMaxSize:Math.max(i.width,i.height)}),ls().adjustOriginToCenter(i),i}function ys(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var xs=L()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},{lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1});function ws(e,t,n){var o=oe()(e),i=Fn(oe()(e)),r=o;o.color&&(r=o.color);var s=null;if("filter"===i){var a=n();s=gs(t,ir()(o),a)}else s={fill:r};return L()({},e,s)}var Ss=function(e){To(n,e);var t=ys(n);function n(e){var o,i,r,s,a,l;return C(this,n),(l=t.call(this,ke.SHAPE,e))._shapeObj=null,l._type="rect",l._options=L()({},xs),l._isSelected=!1,l._startPoint={},l._withShiftKey=!1,l._handlers={mousedown:A()(o=l._onFabricMouseDown).call(o,Ao(l)),mousemove:A()(i=l._onFabricMouseMove).call(i,Ao(l)),mouseup:A()(r=l._onFabricMouseUp).call(r,Ao(l)),keydown:A()(s=l._onKeyDown).call(s,Ao(l)),keyup:A()(a=l._onKeyUp).call(a,Ao(l))},l}return $(n,[{key:"start",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="crosshair",e.selection=!1,e.uniformScaling=!0,e.on({"mouse:down":this._handlers.mousedown}),z.fabric.util.addListener(document,"keydown",this._handlers.keydown),z.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="default",e.selection=!0,e.uniformScaling=!1,e.off({"mouse:down":this._handlers.mousedown}),z.fabric.util.removeListener(document,"keydown",this._handlers.keydown),z.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(e,t){this._type=e,t&&(this._options=L()(this._options,t))}},{key:"add",value:function(e,t){var n=this;return new(D())((function(o){var i=n.getCanvas(),r=n._extendOptions(t),s=n._createInstance(e,r),a=n.graphics.createObjectProperties(s);n._bindEventOnShape(s),i.add(s).setActiveObject(s),n._resetPositionFillFilter(s),o(a)}))}},{key:"change",value:function(e,t){var n=this;return new(D())((function(o,i){Hn(e)||i(On);var r="filter"===Fn(oe()(t)),s=n.graphics,a=s.canvasImage,l=s.createStaticCanvas;e.set(r?ws(t,a,l):t),r&&n._resetPositionFillFilter(e),n.getCanvas().renderAll(),o()}))}},{key:"makeFillPropertyForUserEvent",value:function(e){var t=qn(e),n={};if(t===pe){var o=ms(fs(e));n.type=t,n.filter=o}else n.type=me,n.color=oe()(e)||"transparent";return n}},{key:"processForCopiedObject",value:function(e,t){if(this._bindEventOnShape(e),"filter"===qn(e)){var n=ms(fs(t)),o=this.graphics.createStaticCanvas();e.set(gs(this.graphics.canvasImage,n,o)),this._resetPositionFillFilter(e)}}},{key:"_createInstance",value:function(e,t){var n;switch(e){case"rect":n=new z.fabric.Rect(t);break;case"circle":n=new z.fabric.Ellipse(L()({type:"circle"},t));break;case"triangle":n=new z.fabric.Triangle(t);break;default:n={}}return n}},{key:"_extendOptions",value:function(e){var t=sn,n=this.graphics,o=n.canvasImage,i=n.createStaticCanvas;return ws(e=L()({},xs,this._options,t,e),o,i)}},{key:"_bindEventOnShape",value:function(e){var t=this,n=this.getCanvas();e.on({added:function(){t._shapeObj=this,ls().setOrigins(t._shapeObj)},selected:function(){t._isSelected=!0,t._shapeObj=this,n.uniformScaling=!0,n.defaultCursor="default",ls().setOrigins(t._shapeObj)},deselected:function(){t._isSelected=!1,t._shapeObj=null,n.defaultCursor="crosshair",n.uniformScaling=!1},modified:function(){var e=t._shapeObj;ls().adjustOriginToCenter(e),ls().setOrigins(e)},modifiedInGroup:function(n){t._fillFilterRePositionInGroupSelection(e,n)},moving:function(){t._resetPositionFillFilter(this)},rotating:function(){t._resetPositionFillFilter(this)},scaling:function(e){var o=n.getPointer(e.e),i=t._shapeObj;n.setCursor("crosshair"),ls().resize(i,o,!0),t._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(e){if(e.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var t=this.getCanvas();this._startPoint=t.getPointer(e.e),t.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this,n=this.getCanvas(),o=n.getPointer(e.e),i=this._startPoint.x,r=this._startPoint.y,s=i-o.x,a=r-o.y,l=this._shapeObj;l?(this._shapeObj.set({isRegular:this._withShiftKey}),ls().resize(l,o),n.renderAll(),this._resetPositionFillFilter(l)):this.add(this._type,{left:i,top:r,width:s,height:a}).then((function(e){t.fire(rt,e)}))}},{key:"_onFabricMouseUp",value:function(){var e=this,t=this.getCanvas(),n=this._startPoint.x,o=this._startPoint.y,i=this._shapeObj;i?i&&(ls().adjustOriginToCenter(i),this.fire(Ke,this.graphics.createObjectProperties(i))):this.add(this._type,{left:n,top:o,width:20,height:20}).then((function(t){e.fire(rt,t)})),t.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(e){e.keyCode===Gt&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(e){e.keyCode===Gt&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(e){if("filter"===qn(e)){var t=Un(e,"patternSourceCanvas").patternSourceCanvas,n=Un(fs(e),"originalAngle").originalAngle;this.graphics.canvasImage.angle!==n&&function(e,t){var n=Un(e,"patternSourceCanvas").patternSourceCanvas,o=H(n.getObjects(),1)[0],i=ms(o);n.remove(o);var r=bs(Os(t,!0),t.angle,i);n.add(r)}(e,this.graphics.canvasImage);var o=e.originX,i=e.originY;ls().adjustOriginToCenter(e),e.width*=e.scaleX,e.height*=e.scaleY,e.rx*=e.scaleX,e.ry*=e.scaleY,e.scaleX=1,e.scaleY=1,ps(e),function(e,t){var n=t.originX,o=t.originY,i=e.getPointByOrigin(n,o),r=i.x,s=i.y;e.set({left:r,top:s,originX:n,originY:o}),e.setCoords()}(e,{originX:o,originY:i}),function(e){var t=Un(H(e.getObjects(),1)[0],"fillImageMaxSize").fillImageMaxSize;t=Math.max(1,t),e.setDimensions({width:t,height:t}),e.renderAll()}(t)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(e,t){1===t.scaleX&&1===t.scaleY||t.addWithUpdate();var n=e.angle,o=e.left,i=e.top;z.fabric.util.addTransformToObject(e,t.calcTransformMatrix()),this._resetPositionFillFilter(e),e.set({angle:n,left:o,top:i})}}]),n}(hr);function _s(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var ks={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},Cs=.0045,Ts=.003,$s=.003,Ps=.0066,As=.0044,Qs=.003,Es=mt,Ms=it,Ds=et,Is=Je,Rs=vt,zs=bt,Ns=gt,Ls=Ot,js=function(e){To(n,e);var t=_s(n);function n(e){var o,i,r,s,a,l,c,u,d,h,f,p,m;C(this,n),(m=t.call(this,ke.ZOOM,e)).zoomArea=null,m._startPoint=null,m._centerPoints=[],m.zoomLevel=1,m.zoomMode=Xt,m._listeners={startZoom:A()(o=m._onMouseDownWithZoomMode).call(o,Ao(m)),moveZoom:A()(i=m._onMouseMoveWithZoomMode).call(i,Ao(m)),stopZoom:A()(r=m._onMouseUpWithZoomMode).call(r,Ao(m)),startHand:A()(s=m._onMouseDownWithHandMode).call(s,Ao(m)),moveHand:A()(a=m._onMouseMoveWithHandMode).call(a,Ao(m)),stopHand:A()(l=m._onMouseUpWithHandMode).call(l,Ao(m)),zoomChanged:A()(c=m._changeScrollState).call(c,Ao(m)),keydown:A()(u=m._startHandModeWithSpaceBar).call(u,Ao(m)),keyup:A()(d=m._endHandModeWithSpaceBar).call(d,Ao(m))};var g=m.getCanvas();return m.aspectRatio=g.width/g.height,m._verticalScroll=new z.fabric.Rect(ks),m._horizontalScroll=new z.fabric.Rect(ks),g.on(Es,m._listeners.zoomChanged),m.graphics.on(Ms,A()(h=m._startTextEditingHandler).call(h,Ao(m))),m.graphics.on(Ds,A()(f=m._startTextEditingHandler).call(f,Ao(m))),m.graphics.on(Is,A()(p=m._stopTextEditingHandler).call(p,Ao(m))),m}return $(n,[{key:"attachKeyboardZoomEvents",value:function(){z.fabric.util.addListener(document,Rs,this._listeners.keydown),z.fabric.util.addListener(document,zs,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){z.fabric.util.removeListener(document,Rs,this._listeners.keydown),z.fabric.util.removeListener(document,zs,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(e){this.withSpace||this.isTextEditing||e.keyCode===nn&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(e){e.keyCode===nn&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=Wt;var e=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new z.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),e.discardActiveObject(),e.add(this.zoomArea),e.on("mouse:down",this._listeners.startZoom),e.selection=!1,e.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=Xt;var e=this.getCanvas(),t=this._listeners,n=t.startZoom,o=t.moveZoom,i=t.stopZoom;e.selection=!0,e.defaultCursor="auto",e.off({"mouse:down":n,"mouse:move":o,"mouse:up":i}),this._changeObjectsEventedState(!0),e.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=Ut;var e=this.getCanvas();this._changeObjectsEventedState(!1),e.discardActiveObject(),e.off("mouse:down",this._listeners.startHand),e.on("mouse:down",this._listeners.startHand),e.selection=!1,e.defaultCursor="grab",e.fire(Ns)}},{key:"endHandMode",value:function(){this.zoomMode=Xt;var e=this.getCanvas();this._changeObjectsEventedState(!0),e.off("mouse:down",this._listeners.startHand),e.selection=!0,e.defaultCursor="auto",this._startHandPoint=null,e.fire(Ls)}},{key:"_onMouseDownWithZoomMode",value:function(e){var t=e.target,n=e.e;if(!t){var o=this.getCanvas();o.selection=!1,this._startPoint=o.getPointer(n),this.zoomArea.set({width:0,height:0});var i=this._listeners,r=i.moveZoom,s=i.stopZoom;o.on({"mouse:move":r,"mouse:up":s})}}},{key:"_onMouseMoveWithZoomMode",value:function(e){var t=e.e,n=this.getCanvas(),o=n.getPointer(t),i=o.x,r=o.y,s=this.zoomArea,a=this._startPoint;Math.abs(i-a.x)+Math.abs(r-a.y)>10&&(n.remove(s),s.set(this._calcRectDimensionFromPoint(i,r)),n.add(s))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=this.getCanvas(),o=n.getWidth(),i=n.getHeight(),r=this._startPoint,s=r.x,a=r.y,l=Math.min,c=l(s,e),u=l(a,t);return{left:c,top:u,width:Rn(e,s,o)-c,height:Rn(t,a,i)-u}}},{key:"_onMouseUpWithZoomMode",value:function(){var e=this.zoomLevel,t=this.zoomArea,n=this._listeners,o=n.moveZoom,i=n.stopZoom,r=this.getCanvas(),s=this._getCenterPoint(),a=s.x,l=s.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:a,y:l,prevZoomLevel:e,zoomLevel:e+1}),e+=1,r.zoomToPoint({x:a,y:l},e),this._fireZoomChanged(r,e),this.zoomLevel=e),r.off({"mouse:move":o,"mouse:up":i}),r.remove(t),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var e=this.zoomArea,t=e.left,n=e.top,o=e.width,i=e.height,r=this._startPoint,s=r.x,a=r.y,l=this.aspectRatio;return o<10&&i<10?{x:s,y:a}:o>i?{x:t+l*i/2,y:n+i/2}:{x:t+o/2,y:n+o/l/2}}},{key:"zoom",value:function(e){for(var t=e.x,n=e.y,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,i=this.getCanvas(),r=this._centerPoints,s=r.length-1;s>=0&&!(r[s].zoomLevel<o);s-=1){var a=r.pop(),l=a.x,c=a.y,u=a.prevZoomLevel;i.zoomToPoint({x:l,y:c},u),this.zoomLevel=u}i.zoomToPoint({x:t,y:n},o),this._isDefaultZoomLevel(o)||this._centerPoints.push({x:t,y:n,zoomLevel:o,prevZoomLevel:this.zoomLevel}),this.zoomLevel=o,this._fireZoomChanged(i,o)}},{key:"zoomOut",value:function(){var e=this._centerPoints;if(e.length){var t=this.getCanvas(),n=e.pop(),o=n.x,i=n.y,r=n.prevZoomLevel;this._isDefaultZoomLevel(r)?t.setViewportTransform([1,0,0,1,0,0]):t.zoomToPoint({x:o,y:i},r),this.zoomLevel=r,this._fireZoomChanged(t,this.zoomLevel)}}},{key:"resetZoom",value:function(){var e=this.getCanvas();e.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=1,this._centerPoints=[],this._fireZoomChanged(e,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(e){var t=e.x,n=e.y,o=this._centerPoints;if(o.length){var i=this.getCanvas(),r=this.zoomLevel,s=o.pop(),a=s.x,l=s.y,c=s.prevZoomLevel,u=a-t,d=l-n;i.zoomToPoint({x:a,y:l},c),i.zoomToPoint({x:u,y:d},r),o.push({x:u,y:d,prevZoomLevel:c,zoomLevel:r}),this._fireZoomChanged(i,r)}}},{key:"_onMouseDownWithHandMode",value:function(e){var t=e.target,n=e.e;if(!t){var o=this.getCanvas();if(!(this.zoomLevel<=1)){o.selection=!1,this._startHandPoint=o.getPointer(n);var i=this._listeners,r=i.moveHand,s=i.stopHand;o.on({"mouse:move":r,"mouse:up":s})}}}},{key:"_onMouseMoveWithHandMode",value:function(e){var t=e.e,n=this.getCanvas().getPointer(t),o=n.x,i=n.y,r=o-this._startHandPoint.x,s=i-this._startHandPoint.y;this._movePointOfZoom({x:r,y:s})}},{key:"_onMouseUpWithHandMode",value:function(){var e=this.getCanvas(),t=this._listeners,n=t.moveHand,o=t.stopHand;e.off({"mouse:move":n,"mouse:up":o}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(e){var t=e.viewport,n=e.zoomLevel,o=this.getCanvas();if(o.remove(this._verticalScroll),o.remove(this._horizontalScroll),!this._isDefaultZoomLevel(n)){var i=o.width,r=o.height,s=t.tl,a=t.tr,l=t.bl,c=a.x-s.x,u=l.y-s.y,d=c*c/i,h=u*Ps,f=Rn(s.x+s.x/i*c,s.x,a.x-d),p=u*As,m=u*Qs;this._horizontalScroll.set({left:f,top:l.y-h-p,width:d,height:h,rx:m,ry:m});var g=c*Cs,O=u*u/r,v=Rn(s.y+s.y/r*u,a.y,l.y-O),b=c*Ts,y=c*$s;this._verticalScroll.set({left:a.x-g-b,top:v,width:g,height:O,rx:y,ry:y}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getCanvas().forEachObject((function(t){t.evented=e}))}},{key:"_addScrollBar",value:function(){var e=this,t=this.getCanvas();t.add(this._horizontalScroll),t.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=m()((function(){t.remove(e._horizontalScroll),t.remove(e._verticalScroll)}),3e3)}},{key:"_isDefaultZoomLevel",value:function(e){return 1===e}},{key:"_fireZoomChanged",value:function(e,t){e.fire(Es,{viewport:e.calcViewportBoundaries(),zoomLevel:t})}},{key:"mode",get:function(){return this.zoomMode}}]),n}(hr),Vs=js,Bs=io.create,Zs=io.types,Xs=function(){function e(t){C(this,e),this.name=t}return $(e,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(Bs(Zs.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(Bs(Zs.UN_IMPLEMENTATION,"stop"))}}]),e}();function Ws(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Us=function(e){To(n,e);var t=Ws(n);function n(){return C(this,n),t.call(this,Nt.CROPPER)}return $(n,[{key:"start",value:function(e){e.getComponent(ke.CROPPER).start()}},{key:"end",value:function(e){e.getComponent(ke.CROPPER).end()}}]),n}(Xs),Ys=Us;function Fs(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var qs=function(e){To(n,e);var t=Fs(n);function n(){return C(this,n),t.call(this,Nt.FREE_DRAWING)}return $(n,[{key:"start",value:function(e,t){e.getComponent(ke.FREE_DRAWING).start(t)}},{key:"end",value:function(e){e.getComponent(ke.FREE_DRAWING).end()}}]),n}(Xs),Hs=qs;function Gs(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Ks=function(e){To(n,e);var t=Gs(n);function n(){return C(this,n),t.call(this,Nt.LINE_DRAWING)}return $(n,[{key:"start",value:function(e,t){e.getComponent(ke.LINE).start(t)}},{key:"end",value:function(e){e.getComponent(ke.LINE).end()}}]),n}(Xs),Js=Ks;function ea(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var ta=function(e){To(n,e);var t=ea(n);function n(){return C(this,n),t.call(this,Nt.SHAPE)}return $(n,[{key:"start",value:function(e){e.getComponent(ke.SHAPE).start()}},{key:"end",value:function(e){e.getComponent(ke.SHAPE).end()}}]),n}(Xs),na=ta;function oa(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var ia=function(e){To(n,e);var t=oa(n);function n(){return C(this,n),t.call(this,Nt.TEXT)}return $(n,[{key:"start",value:function(e){e.getComponent(ke.TEXT).start()}},{key:"end",value:function(e){e.getComponent(ke.TEXT).end()}}]),n}(Xs),ra=ia;function sa(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var aa=function(e){To(n,e);var t=sa(n);function n(){return C(this,n),t.call(this,Nt.ICON)}return $(n,[{key:"start",value:function(e){e.getComponent(ke.ICON).start()}},{key:"end",value:function(e){e.getComponent(ke.ICON).end()}}]),n}(Xs),la=aa;function ca(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var ua=function(e){To(n,e);var t=ca(n);function n(){return C(this,n),t.call(this,Nt.ZOOM)}return $(n,[{key:"start",value:function(e){e.getComponent(ke.ZOOM).start()}},{key:"end",value:function(e){e.getComponent(ke.ZOOM).end()}}]),n}(Xs),da=ua,ha=null;function fa(e){ha=e}function pa(e,t){var n,o;return n="activeSelection"===e.type?Oo()(o=e.getObjects()).call(o,(function(n){var o=n.angle,i=n.left,r=n.top,s=n.scaleX,a=n.scaleY,l=n.width,c=n.height;z.fabric.util.addTransformToObject(n,e.calcTransformMatrix());var u=t(n);return n.set({angle:o,left:i,top:r,width:l,height:c,scaleX:s,scaleY:a}),u})):[t(e)],n}function ma(e,t,n){return n?{id:e,width:t.width,height:t.height,top:t.top,left:t.left,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY}:L()({id:e},t)}function ga(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var Oa=function(e){To(n,e);var t=ga(n);function n(e){var o;return C(this,n),(o=t.call(this,ke.RESIZE,e))._dimensions=null,o._originalDimensions=null,o}return $(n,[{key:"getCurrentDimensions",value:function(){var e=this.getCanvasImage();if(!this._dimensions&&e){var t=e.width,n=e.height;this._dimensions={width:t,height:n}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(e){this._originalDimensions=e}},{key:"resize",value:function(e){var t=this.getCanvasImage(),n=t.width,o=t.height,i=t.scaleX,r=t.scaleY,s=e.width,a=e.height,l={scaleX:s?s/n:i,scaleY:a?a/o:r};return i===l.scaleX&&r===l.scaleY||(t.set(l).setCoords(),this._dimensions={width:t.width*t.scaleX,height:t.height*t.scaleY}),this.adjustCanvasDimensionBase(),D().resolve()}},{key:"start",value:function(){var e=this.getCurrentDimensions();this.setOriginalDimensions(e)}},{key:"end",value:function(){}}]),n}(hr),va=Oa;function ba(e){var t=function(){if("undefined"==typeof Reflect||!So())return!1;if(So().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(So()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mo(e);if(t){var i=Mo(this).constructor;n=So()(o,arguments,i)}else n=o.apply(this,arguments);return Qo(this,n)}}var ya=function(e){To(n,e);var t=ba(n);function n(){return C(this,n),t.call(this,Nt.RESIZE)}return $(n,[{key:"start",value:function(e){e.getComponent(ke.RESIZE).start()}},{key:"end",value:function(e){e.getComponent(ke.RESIZE).end()}}]),n}(Xs),xa=ya,wa={cssOnly:!0},Sa={backstoreOnly:!0},_a=function(){function e(t){var n,o,i,r,s,a,l,c,u,d,h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=f.cssMaxWidth,m=f.cssMaxHeight;C(this,e),this.canvasImage=null,this.cssMaxWidth=p||1e3,this.cssMaxHeight=m||800,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=Nt.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:A()(n=this._onMouseDown).call(n,this),onObjectAdded:A()(o=this._onObjectAdded).call(o,this),onObjectRemoved:A()(i=this._onObjectRemoved).call(i,this),onObjectMoved:A()(r=this._onObjectMoved).call(r,this),onObjectScaled:A()(s=this._onObjectScaled).call(s,this),onObjectModified:A()(a=this._onObjectModified).call(a,this),onObjectRotated:A()(l=this._onObjectRotated).call(l,this),onObjectSelected:A()(c=this._onObjectSelected).call(c,this),onPathCreated:A()(u=this._onPathCreated).call(u,this),onSelectionCleared:A()(d=this._onSelectionCleared).call(d,this),onSelectionCreated:A()(h=this._onSelectionCreated).call(h,this)},this._setObjectCachingToFalse(),this._setCanvasElement(t),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return $(e,[{key:"destroy",value:function(){var e=this._canvas.wrapperEl;this._canvas.clear(),e.parentNode.removeChild(e),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(ke.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(ke.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(e){var t,n=[];lr()(e)?n=e:n.push(e),(t=this._canvas).add.apply(t,S(n))}},{key:"contains",value:function(e){return this._canvas.contains(e)}},{key:"getObjects",value:function(){var e;return d()(e=this._canvas.getObjects()).call(e)}},{key:"getObject",value:function(e){return this._objects[e]}},{key:"remove",value:function(e){this._canvas.remove(e)}},{key:"removeAll",value:function(e){var t,n=this._canvas,o=d()(t=n.getObjects()).call(t);return n.remove.apply(n,S(this._canvas.getObjects())),e&&n.clear(),o}},{key:"removeObjectById",value:function(e){var t=[],n=this._canvas,o=this.getObject(e);return o&&o.isType("group")&&!o.isEmpty()?(n.discardActiveObject(),o.forEachObject((function(e){t.push(e),n.remove(e)}))):n.contains(o)&&(t.push(o),n.remove(o)),t}},{key:"getObjectId",value:function(e){var t=null;for(t in this._objects)if(this._objects.hasOwnProperty(t)&&e===this._objects[t])return t;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var e=this.getActiveObject(),t=e.type,n=e.left,o=e.top;if("activeSelection"===t){var i=new z.fabric.Group(S(e.getObjects()),{left:n,top:o});return this._addFabricObject(i)}return this.getObjectId(e)}},{key:"isReadyRemoveObject",value:function(){var e=this.getActiveObject();return e&&!e.isEditing}},{key:"getActiveObjects",value:function(){var e=this._canvas._activeObject;return e&&"activeSelection"===e.type?e:null}},{key:"getActiveSelectionFromObjects",value:function(e){var t=this.getCanvas();return new z.fabric.ActiveSelection(e,{canvas:t})}},{key:"setActiveObject",value:function(e){this._canvas.setActiveObject(e)}},{key:"setCropSelectionStyle",value:function(e){this.cropSelectionStyle=e}},{key:"getComponent",value:function(e){return this._componentMap[e]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(e,t){if(this._isSameDrawingMode(e))return!0;this.stopDrawingMode();var n=this._getDrawingModeInstance(e);return n&&n.start&&(n.start(this,t),this._drawingMode=e),!!n}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(Nt.NORMAL)){var e=this._getDrawingModeInstance(this.getDrawingMode());e&&e.end&&e.end(this),this._drawingMode=Nt.NORMAL}}},{key:"zoom",value:function(e,t){var n=e.x,o=e.y,i=this.getComponent(ke.ZOOM);i.zoom({x:n,y:o},t)}},{key:"getZoomMode",value:function(){return this.getComponent(ke.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(ke.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(ke.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(ke.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(ke.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(ke.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(ke.ZOOM).resetZoom()}},{key:"toDataURL",value:function(e){var t=this.getComponent(ke.CROPPER);t.changeVisibility(!1);var n=this._canvas&&this._canvas.toDataURL(e);return t.changeVisibility(!0),n}},{key:"setCanvasImage",value:function(e,t){t&&Dn(t),this.imageName=e,this.canvasImage=t}},{key:"setCssMaxDimension",value:function(e){this.cssMaxWidth=e.width||this.cssMaxWidth,this.cssMaxHeight=e.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this.canvasImage);var t=e.getBoundingRect(),n=t.width,o=t.height,i=this._calcMaxDimension(n,o);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(i.width,"px"),"max-height":"".concat(i.height,"px")}),this.setCanvasBackstoreDimension({width:n,height:o}),this._canvas.centerObject(e)}},{key:"setCanvasCssDimension",value:function(e){this._canvas.setDimensions(e,wa)}},{key:"setCanvasBackstoreDimension",value:function(e){this._canvas.setDimensions(e,Sa)}},{key:"setImageProperties",value:function(e,t){var n=this.canvasImage;n&&(n.set(e).setCoords(),t&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(e){var t,n=this,o=A()(t=this._callbackAfterLoadingImageObject).call(t,this);return new(D())((function(t){z.fabric.Image.fromURL(e,(function(e){o(e),t(n.createObjectProperties(e))}),{crossOrigin:"Anonymous"})}))}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(ke.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this.getComponent(ke.CROPPER).setCropzoneRect(e)}},{key:"getCroppedImageData",value:function(e){return this.getComponent(ke.CROPPER).getCroppedImageData(e)}},{key:"setBrush",value:function(e){var t=this._drawingMode,n=ke.FREE_DRAWING;t===Nt.LINE_DRAWING&&(n=ke.LINE),this.getComponent(n).setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this.getComponent(ke.SHAPE).setStates(e,t)}},{key:"setIconStyle",value:function(e,t){this.getComponent(ke.ICON).setStates(e,t)}},{key:"registerPaths",value:function(e){this.getComponent(ke.ICON).registerPaths(e)}},{key:"changeCursor",value:function(e){var t=this.getCanvas();t.defaultCursor=e,t.renderAll()}},{key:"hasFilter",value:function(e){return this.getComponent(ke.FILTER).hasFilter(e)}},{key:"setSelectionStyle",value:function(e){L()(sn,e)}},{key:"setObjectProperties",value:function(e,t){var n=this.getObject(e),o=L()({},t);return n.set(o),n.setCoords(),this.getCanvas().renderAll(),o}},{key:"getObjectProperties",value:function(e,t){var n=this.getObject(e),o={};return Y()(t)?o[t]=n[t]:lr()(t)?Io()(t,(function(e){o[e]=n[e]})):ur()(t,(function(e,t){o[t]=n[t]})),o}},{key:"getObjectPosition",value:function(e,t,n){var o=this.getObject(e);return o?o.getPointByOrigin(t,n):null}},{key:"setObjectPosition",value:function(e,t){var n=this.getObject(e),o=t.x,i=t.y,r=t.originX,s=t.originY;if(!n)return!1;var a=n.getPointByOrigin(r,s),l=n.getPointByOrigin("center","center"),c=l.x-a.x,u=l.y-a.y;return n.set({left:o+c,top:i+u}),n.setCoords(),!0}},{key:"getCanvasSize",value:function(){var e=this.getCanvasImage();return{width:e?e.width:0,height:e?e.height:0}}},{key:"createStaticCanvas",value:function(){var e=new z.fabric.StaticCanvas;return e.set({enableRetinaScaling:!1}),e}},{key:"_getDrawingModeInstance",value:function(e){return this._drawingModeMap[e]}},{key:"_setObjectCachingToFalse",value:function(){z.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(e){var t,n;"CANVAS"!==(t=e.nodeType?e:document.querySelector(e)).nodeName.toUpperCase()&&(n=document.createElement("canvas"),t.appendChild(n)),this._canvas=new z.fabric.Canvas(n,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new Ys),this._register(this._drawingModeMap,new Hs),this._register(this._drawingModeMap,new Js),this._register(this._drawingModeMap,new na),this._register(this._drawingModeMap,new ra),this._register(this._drawingModeMap,new la),this._register(this._drawingModeMap,new da),this._register(this._drawingModeMap,new xa)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new gr(this)),this._register(this._componentMap,new kr(this)),this._register(this._componentMap,new $r(this)),this._register(this._componentMap,new Qr(this)),this._register(this._componentMap,new Dr(this)),this._register(this._componentMap,new Lr(this)),this._register(this._componentMap,new Xr(this)),this._register(this._componentMap,new Fr(this)),this._register(this._componentMap,new ss(this)),this._register(this._componentMap,new Ss(this)),this._register(this._componentMap,new Vs(this)),this._register(this._componentMap,new va(this))}},{key:"_register",value:function(e,t){e[t.getName()]=t}},{key:"_isSameDrawingMode",value:function(e){return this.getDrawingMode()===e}},{key:"_calcMaxDimension",value:function(e,t){var n=this.cssMaxWidth/e,o=this.cssMaxHeight/t,i=Math.min(e,this.cssMaxWidth),r=Math.min(t,this.cssMaxHeight);return n<1&&n<o?(i=e*n,r=t*n):o<1&&o<n&&(i=e*o,r=t*o),{width:Math.floor(i),height:Math.floor(r)}}},{key:"_callbackAfterLoadingImageObject",value:function(e){var t=this.getCanvasImage().getCenterPoint();e.set(sn),e.set({left:t.x,top:t.y,crossOrigin:"Anonymous"}),this.getCanvas().add(e).setActiveObject(e)}},{key:"_attachCanvasEvents",value:function(){var e=this._canvas,t=this._handler;e.on({"mouse:down":t.onMouseDown,"object:added":t.onObjectAdded,"object:removed":t.onObjectRemoved,"object:moving":t.onObjectMoved,"object:scaling":t.onObjectScaled,"object:modified":t.onObjectModified,"object:rotating":t.onObjectRotated,"path:created":t.onPathCreated,"selection:cleared":t.onSelectionCleared,"selection:created":t.onSelectionCreated,"selection:updated":t.onObjectSelected})}},{key:"_onMouseDown",value:function(e){var t=this,n=e.e,o=e.target,i=this._canvas.getPointer(n);if(o){var r=o.type;fa(pa(o,(function(e){return ma(t.getObjectId(e),e,"activeSelection"===r)})))}this.fire(at,n,i)}},{key:"_onObjectAdded",value:function(e){var t=e.target;t.isType("cropzone")||this._addFabricObject(t)}},{key:"_onObjectRemoved",value:function(e){var t=e.target;this._removeFabricObject(Dn(t))}},{key:"_onObjectMoved",value:function(e){var t=this;this._lazyFire(qe,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_onObjectScaled",value:function(e){var t=this;this._lazyFire(He,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_onObjectModified",value:function(e){var t=e.target;if("activeSelection"===t.type){var n=t.getObjects();te()(n).call(n,(function(e){return e.fire("modifiedInGroup",t)}))}this.fire(Je,t,this.getObjectId(t))}},{key:"_onObjectRotated",value:function(e){var t=this;this._lazyFire(Ge,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_lazyFire",value:function(e,t,n){var o=this,i=n&&n.canvasEventDelegation?n.canvasEventDelegation(e):"none";"unregistered"===i&&n.canvasEventRegister(e,(function(n){o.fire(e,t(n))})),"none"===i&&this.fire(e,t(n))}},{key:"_onObjectSelected",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(Fe,n)}},{key:"_onPathCreated",value:function(e){var t=e.path.getCenterPoint(),n=t.x,o=t.y;e.path.set(L()({left:n,top:o},sn));var i=this.createObjectProperties(e.path);this.fire(rt,i)}},{key:"_onSelectionCleared",value:function(){this.fire(ut)}},{key:"_onSelectionCreated",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(Fe,n),this.fire(dt,e.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(e){this._canvas.forEachObject((function(t){t.selectable=e,t.hoverCursor=e?"move":"crosshair"}))}},{key:"createObjectProperties",value:function(e){var t={id:Dn(e),type:e.type};if(L()(t,Nn(e,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),Yn(["i-text","text"],e.type))L()(t,this._createTextProperties(e,t));else if(Yn(["rect","triangle","circle"],e.type)){var n=this.getComponent(ke.SHAPE);L()(t,{fill:n.makeFillPropertyForUserEvent(e)})}return t}},{key:"_createTextProperties",value:function(e){var t={};return L()(t,Nn(e,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),t}},{key:"_addFabricObject",value:function(e){var t=Dn(e);return this._objects[t]=e,t}},{key:"_removeFabricObject",value:function(e){delete this._objects[e]}},{key:"resetTargetObjectForCopyPaste",value:function(){var e=this.getActiveObject();e&&(this.targetObjectForCopyPaste=e)}},{key:"pasteObject",value:function(){var e=this;if(!this.targetObjectForCopyPaste)return D().resolve([]);var t=this.targetObjectForCopyPaste,n="activeSelection"===t.type?t.getObjects():[t],o=null;return this.discardSelection(),this._cloneObject(n).then((function(t){if(t.length>1)o=e.getActiveSelectionFromObjects(t);else{var n=H(t,1);o=n[0]}e.targetObjectForCopyPaste=o,e.setActiveObject(o)}))}},{key:"_cloneObject",value:function(e){var t=this,n=Oo()(e).call(e,(function(e){return t._cloneObjectItem(e)}));return D().all(n)}},{key:"_cloneObjectItem",value:function(e){var t=this;return this._copyFabricObjectForPaste(e).then((function(e){var n=t.createObjectProperties(e);return t.add(e),t.fire(rt,n),e}))}},{key:"_copyFabricObjectForPaste",value:function(e){var t=this,n=function(e,t){return t?e-10:e+10};return this._copyFabricObject(e).then((function(e){var o=e.left,i=e.top,r=e.width,s=e.height,a=t.getCanvasSize(),l=a.width,c=a.height,u=o+r/2,d=i+s/2;return e.set(L()({left:n(o,u+10>l),top:n(i,d+10>c)},sn)),e}))}},{key:"_copyFabricObject",value:function(e){var t=this;return new(D())((function(n){e.clone((function(o){var i=t.getComponent(ke.SHAPE);Hn(o)&&i.processForCopiedObject(o,e),n(o)}))}))}},{key:"getCurrentDimensions",value:function(){return this.getComponent(ke.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(ke.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(e){this.getComponent(ke.RESIZE).setOriginalDimensions(e)}},{key:"resize",value:function(e){var t=this.getComponent(ke.RESIZE);return t.resize(e)}}]),e}();W().mixin(_a);var ka=_a,Ca=at,Ta=qe,$a=He,Pa=Fe,Aa=Ge,Qa=Ke,Ea=Je,Ma=it,Da=rt,Ia=et,Ra=tt,za=nt,Na=ot,La=ut,ja=dt,Va=st,Ba=function(){function e(t,n){var o,i,r,s,a,l,c,u,d,h,f,p,m,g,O,v;if(C(this,e),n=L()({includeUI:!1,usageStatistics:!0},n),this.mode=null,this.activeObjectId=null,n.includeUI){var b=n.includeUI;b.usageStatistics=n.usageStatistics,this.ui=new nr(t,b,this.getActions()),n=this.ui.setUiDefaultSelectionStyle(n)}this._invoker=new fo,this._graphics=new ka(this.ui?this.ui.getEditorArea():t,{cssMaxWidth:n.cssMaxWidth,cssMaxHeight:n.cssMaxHeight}),this._handlers={keydown:A()(o=this._onKeyDown).call(o,this),mousedown:A()(i=this._onMouseDown).call(i,this),objectActivated:A()(r=this._onObjectActivated).call(r,this),objectMoved:A()(s=this._onObjectMoved).call(s,this),objectScaled:A()(a=this._onObjectScaled).call(a,this),objectRotated:A()(l=this._onObjectRotated).call(l,this),objectAdded:A()(c=this._onObjectAdded).call(c,this),objectModified:A()(u=this._onObjectModified).call(u,this),createdPath:this._onCreatedPath,addText:A()(d=this._onAddText).call(d,this),addObject:A()(h=this._onAddObject).call(h,this),textEditing:A()(f=this._onTextEditing).call(f,this),textChanged:A()(p=this._onTextChanged).call(p,this),iconCreateResize:A()(m=this._onIconCreateResize).call(m,this),iconCreateEnd:A()(g=this._onIconCreateEnd).call(g,this),selectionCleared:A()(O=this._selectionCleared).call(O,this),selectionCreated:A()(v=this._selectionCreated).call(v,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(n.selectionStyle,{applyCropSelectionStyle:n.applyCropSelectionStyle,applyGroupSelectionStyle:n.applyGroupSelectionStyle}),n.usageStatistics&&(En||(En=!0,re()("image-editor","UA-129999381-1"))),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),z.fabric.enableGLFiltering=!1}return $(e,[{key:"_attachColorPickerInputBoxEvents",value:function(){var e=this;this.ui.on(yt,(function(){e.isColorPickerInputBoxEditing=!0})),this.ui.on(xt,(function(){e.isColorPickerInputBoxEditing=!1}))}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(yt),this.ui.off(xt)}},{key:"_setSelectionStyle",value:function(e,t){var n=t.applyCropSelectionStyle,o=t.applyGroupSelectionStyle;e&&this._graphics.setSelectionStyle(e),n&&this._graphics.setCropSelectionStyle(e),o&&this.on("selectionCreated",(function(t){"activeSelection"===t.type&&t.set(e)}))}},{key:"_attachInvokerEvents",value:function(){var e,t,n=this,o=ct,i=lt,r=ht,s=ft,a=pt,l=gt,c=Ot;if(this._invoker.on(o,A()(e=this.fire).call(e,this,o)),this._invoker.on(i,A()(t=this.fire).call(t,this,i)),this.ui){var u=this._graphics.getCanvas();this._invoker.on(r,(function(e){return n.ui.fire(r,e)})),this._invoker.on(s,(function(e){return n.ui.fire(s,e)})),this._invoker.on(a,(function(e){return n.ui.fire(a,e)})),u.on(l,(function(){return n.ui.fire(l)})),u.on(c,(function(){return n.ui.fire(c)}))}}},{key:"_attachGraphicsEvents",value:function(){var e;this._graphics.on((k(e={},Ca,this._handlers.mousedown),k(e,Ta,this._handlers.objectMoved),k(e,$a,this._handlers.objectScaled),k(e,Aa,this._handlers.objectRotated),k(e,Pa,this._handlers.objectActivated),k(e,Qa,this._handlers.objectAdded),k(e,Ea,this._handlers.objectModified),k(e,Ma,this._handlers.addText),k(e,Da,this._handlers.addObject),k(e,Ia,this._handlers.textEditing),k(e,Ra,this._handlers.textChanged),k(e,za,this._handlers.iconCreateResize),k(e,Na,this._handlers.iconCreateEnd),k(e,La,this._handlers.selectionCleared),k(e,ja,this._handlers.selectionCreated),e))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(e){var t=e.ctrlKey,n=e.keyCode,o=e.metaKey;(t||o)&&(n===qt?this._graphics.resetTargetObjectForCopyPaste():n===Ht?(this._graphics.pasteObject(),this.clearRedoStack()):n===Yt?this.undo().catch((function(){})):n===Ft&&this.redo().catch((function(){})));var i=n===Kt||n===Jt,r=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&r&&i&&(e.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var e=this._graphics.getActiveObjectIdForRemove();this.removeObject(e)}},{key:"_onMouseDown",value:function(e,t){this.fire(at,e,t)}},{key:"_pushAddObjectCommand",value:function(e){var t=uo.create(Qe,this._graphics,e);this._invoker.pushUndoStack(t)}},{key:"_pushModifyObjectCommand",value:function(e){var t=this,n=e.type,o=pa(e,(function(e){return ma(t._graphics.getObjectId(e),e,"activeSelection"===n)})),i=uo.create(Ue,this._graphics,o);i.execute(this._graphics,o),this._invoker.pushUndoStack(i)}},{key:"_onObjectActivated",value:function(e){this.fire(Fe,e)}},{key:"_onObjectMoved",value:function(e){this.fire(qe,e)}},{key:"_onObjectScaled",value:function(e){this.fire(He,e)}},{key:"_onObjectRotated",value:function(e){this.fire(Ge,e)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(Te)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(e){this._graphics.changeSelectableAll(e)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(e){for(var t,n,o,i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];var a=E()(t=[this._graphics]).call(t,r);return(n=this._invoker).execute.apply(n,E()(o=[e]).call(o,S(a)))}},{key:"executeSilent",value:function(e){for(var t,n,o,i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];var a=E()(t=[this._graphics]).call(t,r);return(n=this._invoker).executeSilent.apply(n,E()(o=[e]).call(o,S(a)))}},{key:"undo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=D().resolve(),o=0;o<t;o+=1)n=n.then((function(){return e._invoker.undo()}));return n}},{key:"redo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=D().resolve(),o=0;o<t;o+=1)n=n.then((function(){return e._invoker.redo()}));return n}},{key:"zoom",value:function(e){var t=e.x,n=e.y,o=e.zoomLevel;this._graphics.zoom({x:t,y:n},o)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(e,t){if(!e)return D().reject(cn);var n=R().createObjectURL(e);return t=t||e.name,this.loadImageFromURL(n,t).then((function(t){return R().revokeObjectURL(e),t}))}},{key:"loadImageFromURL",value:function(e,t){return t&&e?this.execute($e,t,e):D().reject(cn)}},{key:"addImageObject",value:function(e){return e?this.execute(Be,e):D().reject(cn)}},{key:"startDrawingMode",value:function(e,t){return this._graphics.startDrawingMode(e,t)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(e){var t=this._graphics.getCroppedImageData(e);return t?this.loadImageFromURL(t.url,t.imageName):D().reject(cn)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this._graphics.setCropzoneRect(e)}},{key:"_flip",value:function(e){return this.execute(Pe,e)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(e,t,n){return n?this.executeSilent(Ae,e,t):this.execute(Ae,e,t)}},{key:"rotate",value:function(e,t){return this._rotate("rotate",e,t)}},{key:"setAngle",value:function(e,t){return this._rotate("setAngle",e,t)}},{key:"setBrush",value:function(e){this._graphics.setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this._graphics.setDrawingShape(e,t)}},{key:"setDrawingIcon",value:function(e,t){this._graphics.setIconStyle(e,t)}},{key:"addShape",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(ze,e,t)}},{key:"changeShape",value:function(e,t,n){return this[n?"executeSilent":"execute"](Ne,e,t)}},{key:"addText",value:function(e,t){return e=e||"",t=t||{},this.execute(Le,e,t)}},{key:"changeText",value:function(e,t){return t=t||"",this.execute(je,e,t)}},{key:"changeTextStyle",value:function(e,t,n){return this[n?"executeSilent":"execute"](Ve,e,t)}},{key:"_changeActivateMode",value:function(e){"ICON"!==e&&this.getDrawingMode()!==e&&this.startDrawingMode(e)}},{key:"_onTextChanged",value:function(e){this.fire(tt,e)}},{key:"_onIconCreateResize",value:function(e){this.fire(nt,e)}},{key:"_onIconCreateEnd",value:function(e){this.fire(ot,e)}},{key:"_onTextEditing",value:function(){this.fire(et)}},{key:"_onAddText",value:function(e){this.fire(it,{originPosition:e.originPosition,clientPosition:e.clientPosition})}},{key:"_onAddObject",value:function(e){var t=this._graphics.getObject(e.id);this._invoker.fire(ht,Gn(t.type)),this._pushAddObjectCommand(t)}},{key:"_onObjectAdded",value:function(e){this.fire(Qa,e),this.fire(Va,e)}},{key:"_onObjectModified",value:function(e){e.type!==Oe&&(this._invoker.fire(ht,Gn(e.type)),this._pushModifyObjectCommand(e))}},{key:"_selectionCleared",value:function(){this.fire(La)}},{key:"_selectionCreated",value:function(e){this.fire(ja,e)}},{key:"registerIcons",value:function(e){this._graphics.registerPaths(e)}},{key:"changeCursor",value:function(e){this._graphics.changeCursor(e)}},{key:"addIcon",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(Ie,e,t)}},{key:"changeIconColor",value:function(e,t){return this.execute(Re,e,t)}},{key:"removeObject",value:function(e){var t=this._graphics.getObject(e).type;return this.execute(Ee,e,Gn(t))}},{key:"hasFilter",value:function(e){return this._graphics.hasFilter(e)}},{key:"removeFilter",value:function(e){return this.execute(De,e)}},{key:"applyFilter",value:function(e,t,n){return this[n?"executeSilent":"execute"](Me,e,t)}},{key:"toDataURL",value:function(e){return this._graphics.toDataURL(e)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(e){return e?this.execute(Ze,e):D().reject(cn)}},{key:"destroy",value:function(){var e=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),Z()(this,(function(t,n){e[n]=null}),this)}},{key:"_setPositions",value:function(e){var t=this._graphics.getCenter();V()(e.left)&&(e.left=t.left),V()(e.top)&&(e.top=t.top)}},{key:"setObjectProperties",value:function(e,t){return this.execute(Xe,e,t)}},{key:"setObjectPropertiesQuietly",value:function(e,t){this._graphics.setObjectProperties(e,t)}},{key:"getObjectProperties",value:function(e,t){return this._graphics.getObject(e)?this._graphics.getObjectProperties(e,t):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(e,t,n){return this._graphics.getObjectPosition(e,t,n)}},{key:"setObjectPosition",value:function(e,t){return this.execute(We,e,t)}},{key:"resize",value:function(e){return this.execute(Ye,e)}}]),e}();sr.mixin(Ba),W().mixin(Ba);var Za=Ba,Xa=ke.ICON,Wa={name:Ie,execute:function(e,t,n){var o=this;return e.getComponent(Xa).add(t,n).then((function(t){return o.undoData.object=e.getObject(t.id),t}))},undo:function(e){return e.remove(this.undoData.object),D().resolve()}};uo.register(Wa);var Ua={name:Be,execute:function(e,t){var n=this;return e.addImageObject(t).then((function(t){return n.undoData.object=e.getObject(t.id),t}))},undo:function(e){return e.remove(this.undoData.object),D().resolve()}};uo.register(Ua);var Ya={name:Qe,execute:function(e,t){return new(D())((function(n,o){e.contains(t)?o(an):(e.add(t),n(t))}))},undo:function(e,t){return new(D())((function(n,o){e.contains(t)?(e.remove(t),n(t)):o(fn)}))}};uo.register(Ya);var Fa=ke.SHAPE,qa={name:ze,execute:function(e,t,n){var o=this;return e.getComponent(Fa).add(t,n).then((function(t){var n=t.id;return o.undoData.object=e.getObject(n),t}))},undo:function(e){return e.remove(this.undoData.object),D().resolve()}};uo.register(qa);var Ha=ke.TEXT,Ga={name:Le,execute:function(e,t,n){var o=this,i=e.getComponent(Ha);if(this.undoData.object){var r=this.undoData.object;return new(D())((function(t,n){e.contains(r)?n(pn):(e.add(r),t(r))}))}return i.add(t,n).then((function(t){var n=t.id,i=e.getObject(n);return o.undoData.object=i,fa(pa(i,(function(){return ma(n,i,!1)}))),t}))},undo:function(e){return e.remove(this.undoData.object),D().resolve()}};uo.register(Ga);var Ka=ke.FILTER,Ja=null,el={name:Me,execute:function(e,t,n,o){var i=e.getComponent(Ka);if("mask"===t){var r=e.getObject(n.maskObjId);if(!r||!r.isType("image"))return D().reject(cn);L()(n,{mask:r}),e.remove(n.mask)}if(!this.isRedo){var s=function(e,t,n){var o={};return"mask"===e&&(o.object=n.mask),o.options=t,o}(t,i.getOptions(t),n);Ja=this.setUndoData(s,Ja,o)}return i.add(t,n)},undo:function(e,t){var n=e.getComponent(Ka);if("mask"===t){var o=this.undoData.object;return e.add(o),e.setActiveObject(o),n.remove(t)}return this.undoData.options?n.add(t,this.undoData.options):n.remove(t)}};uo.register(el);var tl=ke.ICON,nl={name:Re,execute:function(e,t,n){var o=this;return new(D())((function(i,r){var s=e.getComponent(tl),a=e.getObject(t);a||r(fn),o.undoData.object=a,o.undoData.color=s.getColor(a),s.setColor(n,a),i()}))},undo:function(e){var t=e.getComponent(tl),n=this.undoData,o=n.object,i=n.color;return t.setColor(i,o),D().resolve()}};uo.register(nl);var ol=ke.SHAPE,il=null,rl={name:Ne,execute:function(e,t,n,o){var i=e.getComponent(ol),r=e.getObject(t);if(!r)return D().reject(fn);if(!this.isRedo){var s=function(e,t){var n={object:t,options:{}};return ur()(e,(function(e,o){n.options[o]=t[o]})),n}(n,r);il=this.setUndoData(s,il,o)}return i.change(r,n)},undo:function(e){var t=e.getComponent(ol),n=this.undoData,o=n.object,i=n.options;return t.change(o,i)}};uo.register(rl);var sl=ke.TEXT,al={name:je,execute:function(e,t,n){var o=e.getComponent(sl),i=e.getObject(t);return i?(this.undoData.object=i,this.undoData.text=o.getText(i),o.change(i,n)):D().reject(fn)},undo:function(e){var t=e.getComponent(sl),n=this.undoData,o=n.object,i=n.text;return t.change(o,i)}};uo.register(al);var ll=ke.TEXT,cl=null,ul={name:Ve,execute:function(e,t,n,o){var i=e.getComponent(ll),r=e.getObject(t);if(!r)return D().reject(fn);if(!this.isRedo){var s=function(e,t){var n={object:t,styles:{}};return ur()(e,(function(e,o){var i=t[o];n.styles[o]=i})),n}(n,r);cl=this.setUndoData(s,cl,o)}return i.setStyle(r,n)},undo:function(e){var t=e.getComponent(ll),n=this.undoData,o=n.object,i=n.styles;return t.setStyle(o,i)}};uo.register(ul);var dl={name:Te,execute:function(e){var t=this;return new(D())((function(n){t.undoData.objects=e.removeAll(),n()}))},undo:function(e){return e.add(this.undoData.objects),D().resolve()}};uo.register(dl);var hl=ke.FLIP,fl={name:Pe,execute:function(e,t){var n=e.getComponent(hl);return this.undoData.setting=n.getCurrentSetting(),n[t]()},undo:function(e){return e.getComponent(hl).set(this.undoData.setting)}};uo.register(fl);var pl=ke.IMAGE_LOADER,ml={name:$e,execute:function(e,t,n){var o,i=e.getComponent(pl),r=i.getCanvasImage(),s=r?r.width:0,a=r?r.height:0,l=ir()(o=e.removeAll(!0)).call(o,(function(e){return"cropzone"!==e.type}));return te()(l).call(l,(function(e){e.evented=!0})),this.undoData={name:i.getImageName(),image:r,objects:l},i.load(t,n).then((function(e){return{oldWidth:s,oldHeight:a,newWidth:e.width,newHeight:e.height}}))},undo:function(e){var t=e.getComponent(pl),n=this.undoData,o=n.objects,i=n.name,r=n.image;return e.removeAll(!0),e.add(o),t.load(i,r)}};uo.register(ml);var gl=ke.FILTER,Ol={name:De,execute:function(e,t){var n=e.getComponent(gl);return this.undoData.options=n.getOptions(t),n.remove(t)},undo:function(e,t){var n=e.getComponent(gl),o=this.undoData.options;return n.add(t,o)}};uo.register(Ol);var vl={name:Ee,execute:function(e,t){var n=this;return new(D())((function(o,i){n.undoData.objects=e.removeObjectById(t),n.undoData.objects.length?o():i(fn)}))},undo:function(e){return e.add(this.undoData.objects),D().resolve()}};uo.register(vl);var bl={name:Ze,execute:function(e,t){var n=this;return new(D())((function(o){n.undoData.size={width:e.cssMaxWidth,height:e.cssMaxHeight},e.setCssMaxDimension(t),e.adjustCanvasDimension(),o()}))},undo:function(e){return e.setCssMaxDimension(this.undoData.size),e.adjustCanvasDimension(),D().resolve()}};uo.register(bl);var yl=ke.ROTATION,xl=null,wl={name:Ae,execute:function(e,t,n,o){var i=e.getComponent(yl);if(!this.isRedo){var r=function(e){return{angle:e.getCurrentAngle()}}(i);xl=this.setUndoData(r,xl,o)}return i[t](n)},undo:function(e){var t=e.getComponent(yl),n=H(this.args,3),o=n[1],i=n[2];return"setAngle"===o?t[o](this.undoData.angle):t.rotate(-i)}};uo.register(wl);var Sl={name:Xe,execute:function(e,t,n){var o=this,i=e.getObject(t);return i?(this.undoData.props={},ur()(n,(function(e,t){o.undoData.props[t]=i[t]})),e.setObjectProperties(t,n),D().resolve()):D().reject(fn)},undo:function(e,t){var n=this.undoData.props;return e.setObjectProperties(t,n),D().resolve()}};uo.register(Sl);var _l={name:We,execute:function(e,t,n){return e.getObject(t)?(this.undoData.objectId=t,this.undoData.props=e.getObjectProperties(t,["left","top"]),e.setObjectPosition(t,n),e.renderAll(),D().resolve()):D().reject(fn)},undo:function(e){var t=this.undoData,n=t.objectId,o=t.props;return e.setObjectProperties(n,o),e.renderAll(),D().resolve()}};uo.register(_l);var kl={name:Ue,execute:function(e,t){return this.isRedo?te()(t).call(t,(function(t){e.setObjectProperties(t.id,t)})):this.undoData=ha,D().resolve()},undo:function(e){var t;return te()(t=this.undoData).call(t,(function(t){e.setObjectProperties(t.id,t)})),D().resolve()}};uo.register(kl);var Cl=ke.RESIZE,Tl={name:Ye,execute:function(e,t){var n=e.getComponent(Cl),o=n.getOriginalDimensions();return o||(o=n.getCurrentDimensions()),this.undoData.dimensions=o,n.resize(t)},undo:function(e){return e.getComponent(Cl).resize(this.undoData.dimensions)}};uo.register(Tl);var $l=Za}(),r=r.default}()},e.exports=o(n(8620))},5606:e=>{var t,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var a,l=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},5775:(e,t,n)=>{n(7524)},5983:()=>{tinymce.Resource.add("ui/oxide/skin.css",'.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:16px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:16px;margin-bottom:16px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:\'\';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:\'\';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:\'\';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:\'\';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:\'\';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:\'\';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:\'\';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:\'\';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:\'\';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}')},6075:(e,t,n)=>{n(4934)},6272:(e,t,n)=>{"use strict";let o=[],i=[];function r(e){if(e<768)return!1;for(let t=0,n=o.length;;){let r=t+n>>1;if(e<o[r])n=r;else{if(!(e>=i[r]))return!0;t=r+1}if(t==n)return!1}}function s(e){return e>=127462&&e<=127487}(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let t=0,n=0;t<e.length;t++)(t%2?i:o).push(n+=e[t])})();function a(e,t,n=!0,o=!0){return(n?l:c)(e,t,o)}function l(e,t,n){if(t==e.length)return t;t&&d(e.charCodeAt(t))&&h(e.charCodeAt(t-1))&&t--;let o=u(e,t);for(t+=f(o);t<e.length;){let i=u(e,t);if(8205==o||8205==i||n&&r(i))t+=f(i),o=i;else{if(!s(i))break;{let n=0,o=t-2;for(;o>=0&&s(u(e,o));)n++,o-=2;if(n%2==0)break;t+=2}}}return t}function c(e,t,n){for(;t>0;){let o=l(e,t-2,n);if(o<t)return o;t--}return 0}function u(e,t){let n=e.charCodeAt(t);if(!h(n)||t+1==e.length)return n;let o=e.charCodeAt(t+1);return d(o)?o-56320+(n-55296<<10)+65536:n}function d(e){return e>=56320&&e<57344}function h(e){return e>=55296&&e<56320}function f(e){return e<65536?1:2}class p{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=S(this,e,t);let o=[];return this.decompose(0,e,o,2),n.length&&n.decompose(0,n.length,o,3),this.decompose(t,this.length,o,1),g.from(o,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=S(this,e,t);let n=[];return this.decompose(e,t,n,0),g.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),o=new b(this),i=new b(e);for(let e=t,r=t;;){if(o.next(e),i.next(e),e=0,o.lineBreak!=i.lineBreak||o.done!=i.done||o.value!=i.value)return!1;if(r+=o.value.length,o.done||r>=n)return!0}}iter(e=1){return new b(this,e)}iterRange(e,t=this.length){return new y(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let o=this.line(e).from;n=this.iterRange(o,Math.max(o,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new x(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new m(e):g.from(m.split(e,[])):p.empty}}class m extends p{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,o){for(let i=0;;i++){let r=this.text[i],s=o+r.length;if((t?n:s)>=e)return new w(o,s,n,r);o=s+1,n++}}decompose(e,t,n,o){let i=e<=0&&t>=this.length?this:new m(v(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&o){let e=n.pop(),t=O(i.text,e.text.slice(),0,i.length);if(t.length<=32)n.push(new m(t,e.length+i.length));else{let e=t.length>>1;n.push(new m(t.slice(0,e)),new m(t.slice(e)))}}else n.push(i)}replace(e,t,n){if(!(n instanceof m))return super.replace(e,t,n);[e,t]=S(this,e,t);let o=O(this.text,O(n.text,v(this.text,0,e)),t),i=this.length+n.length-(t-e);return o.length<=32?new m(o,i):g.from(m.split(o,[]),i)}sliceString(e,t=this.length,n="\n"){[e,t]=S(this,e,t);let o="";for(let i=0,r=0;i<=t&&r<this.text.length;r++){let s=this.text[r],a=i+s.length;i>e&&r&&(o+=n),e<a&&t>i&&(o+=s.slice(Math.max(0,e-i),t-i)),i=a+1}return o}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],o=-1;for(let i of e)n.push(i),o+=i.length+1,32==n.length&&(t.push(new m(n,o)),n=[],o=-1);return o>-1&&t.push(new m(n,o)),t}}class g extends p{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,o){for(let i=0;;i++){let r=this.children[i],s=o+r.length,a=n+r.lines-1;if((t?a:s)>=e)return r.lineInner(e,t,n,o);o=s+1,n=a+1}}decompose(e,t,n,o){for(let i=0,r=0;r<=t&&i<this.children.length;i++){let s=this.children[i],a=r+s.length;if(e<=a&&t>=r){let i=o&((r<=e?1:0)|(a>=t?2:0));r>=e&&a<=t&&!i?n.push(s):s.decompose(e-r,t-r,n,i)}r=a+1}}replace(e,t,n){if([e,t]=S(this,e,t),n.lines<this.lines)for(let o=0,i=0;o<this.children.length;o++){let r=this.children[o],s=i+r.length;if(e>=i&&t<=s){let a=r.replace(e-i,t-i,n),l=this.lines-r.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let i=this.children.slice();return i[o]=a,new g(i,this.length-(t-e)+n.length)}return super.replace(i,s,a)}i=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){[e,t]=S(this,e,t);let o="";for(let i=0,r=0;i<this.children.length&&r<=t;i++){let s=this.children[i],a=r+s.length;r>e&&i&&(o+=n),e<a&&t>r&&(o+=s.sliceString(e-r,t-r,n)),r=a+1}return o}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof g))return 0;let n=0,[o,i,r,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;o+=t,i+=t){if(o==r||i==s)return n;let a=this.children[o],l=e.children[i];if(a!=l)return n+a.scanIdentical(l,t);n+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new m(n,t)}let o=Math.max(32,n>>5),i=o<<1,r=o>>1,s=[],a=0,l=-1,c=[];function u(e){let t;if(e.lines>i&&e instanceof g)for(let t of e.children)u(t);else e.lines>r&&(a>r||!a)?(d(),s.push(e)):e instanceof m&&a&&(t=c[c.length-1])instanceof m&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new m(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>o&&d(),a+=e.lines,l+=e.length+1,c.push(e))}function d(){0!=a&&(s.push(1==c.length?c[0]:g.from(c,l)),l=-1,a=c.length=0)}for(let t of e)u(t);return d(),1==s.length?s[0]:new g(s,t)}}function O(e,t,n=0,o=1e9){for(let i=0,r=0,s=!0;r<e.length&&i<=o;r++){let a=e[r],l=i+a.length;l>=n&&(l>o&&(a=a.slice(0,o-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function v(e,t,n){return O(e,[""],t,n)}p.empty=new m([""],0);class b{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof m?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,o=this.nodes[n],i=this.offsets[n],r=i>>1,s=o instanceof m?o.text.length:o.children.length;if(r==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(o instanceof m){let i=o.text[r+(t<0?-1:0)];if(this.offsets[n]+=t,i.length>Math.max(0,e))return this.value=0==e?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let i=o.children[r+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof m?i.text.length:i.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class y{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new b(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:o}=this.cursor.next(e);return this.pos+=(o.length+e)*t,this.value=o.length<=n?o:t<0?o.slice(o.length-n):o.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class x{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:o}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(p.prototype[Symbol.iterator]=function(){return this.iter()},b.prototype[Symbol.iterator]=y.prototype[Symbol.iterator]=x.prototype[Symbol.iterator]=function(){return this});class w{constructor(e,t,n,o){this.from=e,this.to=t,this.number=n,this.text=o}get length(){return this.to-this.from}}function S(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}function _(e,t,n=!0,o=!0){return a(e,t,n,o)}function k(e,t){let n=e.charCodeAt(t);if(!(o=n,o>=55296&&o<56320&&t+1!=e.length))return n;var o;let i=e.charCodeAt(t+1);return function(e){return e>=56320&&e<57344}(i)?i-56320+(n-55296<<10)+65536:n}function C(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function T(e){return e<65536?1:2}const $=/\r\n?|\n/;var P=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(P||(P={}));class A{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,o=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?(e(n,o,i),o+=i):o+=r,n+=i}}iterChangedRanges(e,t=!1){D(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],o=this.sections[t++];o<0?e.push(n,o):e.push(o,n)}return new A(e)}composeDesc(e){return this.empty?e:e.empty?this:R(this,e)}mapDesc(e,t=!1){return e.empty?this:I(this,e,t)}mapPos(e,t=-1,n=P.Simple){let o=0,i=0;for(let r=0;r<this.sections.length;){let s=this.sections[r++],a=this.sections[r++],l=o+s;if(a<0){if(l>e)return i+(e-o);i+=s}else{if(n!=P.Simple&&l>=e&&(n==P.TrackDel&&o<e&&l>e||n==P.TrackBefore&&o<e||n==P.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==o||t<0?i:i+a;i+=a}o=l}if(e>o)throw new RangeError(`Position ${e} is out of range for changeset of length ${o}`);return i}touchesRange(e,t=e){for(let n=0,o=0;n<this.sections.length&&o<=t;){let i=o+this.sections[n++];if(this.sections[n++]>=0&&o<=t&&i>=e)return!(o<e&&i>t)||"cover";o=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],o=this.sections[t++];e+=(e?" ":"")+n+(o>=0?":"+o:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new A(e)}static create(e){return new A(e)}}class Q extends A{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return D(this,((t,n,o,i,r)=>e=e.replace(o,o+(n-t),r)),!1),e}mapDesc(e,t=!1){return I(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let o=0,i=0;o<t.length;o+=2){let r=t[o],s=t[o+1];if(s>=0){t[o]=s,t[o+1]=r;let a=o>>1;for(;n.length<a;)n.push(p.empty);n.push(r?e.slice(i,i+r):p.empty)}i+=r}return new Q(t,n)}compose(e){return this.empty?e:e.empty?this:R(this,e,!0)}map(e,t=!1){return e.empty?this:I(this,e,t,!0)}iterChanges(e,t=!1){D(this,e,t)}get desc(){return A.create(this.sections)}filter(e){let t=[],n=[],o=[],i=new z(this);e:for(let r=0,s=0;;){let a=r==e.length?1e9:e[r++];for(;s<a||s==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-s);E(o,e,-1);let r=-1==i.ins?-1:0==i.off?i.ins:0;E(t,e,r),r>0&&M(n,t,i.text),i.forward(e),s+=e}let l=e[r++];for(;s<l;){if(i.done)break e;let e=Math.min(i.len,l-s);E(t,e,-1),E(o,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),s+=e}}return{changes:new Q(t,n),filtered:A.create(o)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],o=this.sections[t+1];o<0?e.push(n):0==o?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let o=[],i=[],r=0,s=null;function a(e=!1){if(!e&&!o.length)return;r<t&&E(o,t-r,-1);let n=new Q(o,i);s=s?s.compose(n.map(s)):n,o=[],i=[],r=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Q){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let u=c?"string"==typeof c?p.of(c.split(n||$)):c:p.empty,d=u.length;if(e==s&&0==d)return;e<r&&a(),e>r&&E(o,e-r,-1),E(o,s-e,d),M(i,o,u),r=s}}(e),a(!s),s}static empty(e){return new Q(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let o=0;o<e.length;o++){let i=e[o];if("number"==typeof i)t.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)t.push(i[0],0);else{for(;n.length<o;)n.push(p.empty);n[o]=p.of(i.slice(1)),t.push(i[0],n[o].length)}}}return new Q(t,n)}static createSet(e,t){return new Q(e,t)}}function E(e,t,n,o=!1){if(0==t&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:i>=0&&0==t&&0==e[i]?e[i+1]+=n:o?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function M(e,t,n){if(0==n.length)return;let o=t.length-2>>1;if(o<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<o;)e.push(p.empty);e.push(n)}}function D(e,t,n){let o=e.inserted;for(let i=0,r=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)i+=a,r+=a;else{let c=i,u=r,d=p.empty;for(;c+=a,u+=l,l&&o&&(d=d.append(o[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(i,c,r,u,d),i=c,r=u}}}function I(e,t,n,o=!1){let i=[],r=o?[]:null,s=new z(e),a=new z(t);for(let e=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(-1==s.ins&&-1==a.ins){let e=Math.min(s.len,a.len);E(i,e,-1),s.forward(e),a.forward(e)}else if(a.ins>=0&&(s.ins<0||e==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){let t=a.len;for(E(i,a.ins,-1);t;){let n=Math.min(s.len,t);s.ins>=0&&e<s.i&&s.len<=n&&(E(i,0,s.ins),r&&M(r,i,s.text),e=s.i),s.forward(n),t-=n}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return r?Q.createSet(i,r):A.create(i);throw new Error("Mismatched change set lengths")}{let t=0,n=s.len;for(;n;)if(-1==a.ins){let e=Math.min(n,a.len);t+=e,n-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}E(i,t,e<s.i?s.ins:0),r&&e<s.i&&M(r,i,s.text),e=s.i,s.forward(s.len-n)}}}}function R(e,t,n=!1){let o=[],i=n?[]:null,r=new z(e),s=new z(t);for(let e=!1;;){if(r.done&&s.done)return i?Q.createSet(o,i):A.create(o);if(0==r.ins)E(o,r.len,0,e),r.next();else if(0!=s.len||s.done){if(r.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(r.len2,s.len),n=o.length;if(-1==r.ins){let n=-1==s.ins?-1:s.off?0:s.ins;E(o,t,n,e),i&&n&&M(i,o,s.text)}else-1==s.ins?(E(o,r.off?0:r.len,t,e),i&&M(i,o,r.textBit(t))):(E(o,r.off?0:r.len,s.off?0:s.ins,e),i&&!s.off&&M(i,o,s.text));e=(r.ins>t||s.ins>=0&&s.len>t)&&(e||o.length>n),r.forward2(t),s.forward(t)}}else E(o,0,s.ins,e),i&&M(i,o,s.text),s.next()}}class z{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?p.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?p.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class N{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,o;return this.empty?n=o=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),o=e.mapPos(this.to,-1)),n==this.from&&o==this.to?this:new N(n,o,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return L.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return L.range(this.anchor,n)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return L.range(e.anchor,e.head)}static create(e,t,n){return new N(e,t,n)}}class L{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:L.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new L([this.main],0)}addRange(e,t=!0){return L.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,L.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new L(e.ranges.map((e=>N.fromJSON(e))),e.main)}static single(e,t=e){return new L([L.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,o=0;o<e.length;o++){let i=e[o];if(i.empty?i.from<=n:i.from<n)return L.normalized(e.slice(),t);n=i.to}return new L(e,t)}static cursor(e,t=0,n,o){return N.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=o?o:16777215)<<6)}static range(e,t,n,o){let i=(null!=n?n:16777215)<<6|(null==o?7:Math.min(6,o));return t<e?N.create(t,e,48|i):N.create(e,t,(t>e?8:0)|i)}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let o=e[n],i=e[n-1];if(o.empty?o.from<=i.to:o.from<i.to){let r=i.from,s=Math.max(o.to,i.to);n<=t&&t--,e.splice(--n,2,o.anchor>o.head?L.range(s,r):L.range(r,s))}}return new L(e,t)}}function j(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let V=0;class B{constructor(e,t,n,o,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=o,this.id=V++,this.default=e([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(e={}){return new B(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:Z),!!e.static,e.enables)}of(e){return new X([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new X(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new X(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function Z(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class X{constructor(e,t,n,o){this.dependencies=e,this.facet=t,this.type=n,this.value=o,this.id=V++}dynamicSlot(e){var t;let n=this.value,o=this.facet.compareInput,i=this.id,r=e[i]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?l=!0:1&(null!==(t=e[n.id])&&void 0!==t?t:1)||c.push(e[n.id]);return{create:e=>(e.values[r]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||U(e,c)){let t=n(e);if(s?!W(t,e.values[r],o):!o(t,e.values[r]))return e.values[r]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[i];if(null!=l){let i=ae(t,l);if(this.dependencies.every((n=>n instanceof B?t.facet(n)===e.facet(n):!(n instanceof q)||t.field(n,!1)==e.field(n,!1)))||(s?W(a=n(e),i,o):o(a=n(e),i)))return e.values[r]=i,0}else a=n(e);return e.values[r]=a,1}}}}function W(e,t,n){if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0}function U(e,t){let n=!1;for(let o of t)1&se(e,o)&&(n=!0);return n}function Y(e,t,n){let o=n.map((t=>e[t.id])),i=n.map((e=>e.type)),r=o.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<o.length;t++){let r=ae(e,o[t]);if(2==i[t])for(let e of r)n.push(e);else n.push(r)}return t.combine(n)}return{create(e){for(let t of o)se(e,t);return e.values[s]=a(e),1},update(e,n){if(!U(e,r))return 0;let o=a(e);return t.compare(o,e.values[s])?0:(e.values[s]=o,1)},reconfigure(e,i){let r=U(e,o),l=i.config.facets[t.id],c=i.facet(t);if(l&&!r&&Z(n,l))return e.values[s]=c,0;let u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}const F=B.define({static:!0});class q{constructor(e,t,n,o,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=o,this.spec=i,this.provides=void 0}static define(e){let t=new q(V++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(F).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let o=e.values[t],i=this.updateF(o,n);return this.compareF(o,i)?0:(e.values[t]=i,1)},reconfigure:(e,n)=>{let o,i=e.facet(F),r=n.facet(F);return(o=i.find((e=>e.field==this)))&&o!=r.find((e=>e.field==this))?(e.values[t]=o.create(e),1):null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}}init(e){return[this,F.of({field:this,create:e})]}get extension(){return this}}const H=4,G=3,K=2,J=1;function ee(e){return t=>new ne(t,e)}const te={highest:ee(0),high:ee(J),default:ee(K),low:ee(G),lowest:ee(H)};class ne{constructor(e,t){this.inner=e,this.prec=t}}class oe{of(e){return new ie(this,e)}reconfigure(e){return oe.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class ie{constructor(e,t){this.compartment=e,this.inner=t}}class re{constructor(e,t,n,o,i,r){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=o,this.staticValues=i,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let o=[],i=Object.create(null),r=new Map;for(let n of function(e,t,n){let o=[[],[],[],[],[]],i=new Map;function r(e,s){let a=i.get(e);if(null!=a){if(a<=s)return;let t=o[a].indexOf(e);t>-1&&o[a].splice(t,1),e instanceof ie&&n.delete(e.compartment)}if(i.set(e,s),Array.isArray(e))for(let t of e)r(t,s);else if(e instanceof ie){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let o=t.get(e.compartment)||e.inner;n.set(e.compartment,o),r(o,s)}else if(e instanceof ne)r(e.inner,e.prec);else if(e instanceof q)o[s].push(e),e.provides&&r(e.provides,s);else if(e instanceof X)o[s].push(e),e.facet.extensions&&r(e.facet.extensions,K);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(t,s)}}return r(e,K),o.reduce(((e,t)=>e.concat(t)))}(e,t,r))n instanceof q?o.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],l=[];for(let e of o)s[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in i){let t=i[e],o=t[0].facet,r=c&&c[e]||[];if(t.every((e=>0==e.type)))if(s[o.id]=a.length<<1|1,Z(r,t))a.push(n.facet(o));else{let e=o.combine(t.map((e=>e.value)));a.push(n&&o.compare(e,n.facet(o))?n.facet(o):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[o.id]=l.length<<1,l.push((e=>Y(e,o,t)))}}let u=l.map((e=>e(s)));return new re(e,r,u,s,a,i)}}function se(e,t){if(1&t)return 2;let n=t>>1,o=e.status[n];if(4==o)throw new Error("Cyclic dependency between fields and/or facets");if(2&o)return o;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function ae(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const le=B.define(),ce=B.define({combine:e=>e.some((e=>e)),static:!0}),ue=B.define({combine:e=>e.length?e[0]:void 0,static:!0}),de=B.define(),he=B.define(),fe=B.define(),pe=B.define({combine:e=>!!e.length&&e[0]});class me{constructor(e,t){this.type=e,this.value=t}static define(){return new ge}}class ge{of(e){return new me(this,e)}}class Oe{constructor(e){this.map=e}of(e){return new ve(this,e)}}class ve{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new ve(this.type,t)}is(e){return this.type==e}static define(e={}){return new Oe(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let o of e){let e=o.map(t);e&&n.push(e)}return n}}ve.reconfigure=ve.define(),ve.appendConfig=ve.define();class be{constructor(e,t,n,o,i,r){this.startState=e,this.changes=t,this.selection=n,this.effects=o,this.annotations=i,this.scrollIntoView=r,this._doc=null,this._state=null,n&&j(n,t.newLength),i.some((e=>e.type==be.time))||(this.annotations=i.concat(be.time.of(Date.now())))}static create(e,t,n,o,i,r){return new be(e,t,n,o,i,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(be.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function ye(e,t){let n=[];for(let o=0,i=0;;){let r,s;if(o<e.length&&(i==t.length||t[i]>=e[o]))r=e[o++],s=e[o++];else{if(!(i<t.length))return n;r=t[i++],s=t[i++]}!n.length||n[n.length-1]<r?n.push(r,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function xe(e,t,n){var o;let i,r,s;return n?(i=t.changes,r=Q.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),r=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(r):null===(o=e.selection)||void 0===o?void 0:o.map(i),effects:ve.mapEffects(e.effects,i).concat(ve.mapEffects(t.effects,r)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function we(e,t,n){let o=t.selection,i=ke(t.annotations);return t.userEvent&&(i=i.concat(be.userEvent.of(t.userEvent))),{changes:t.changes instanceof Q?t.changes:Q.of(t.changes||[],n,e.facet(ue)),selection:o&&(o instanceof L?o:L.single(o.anchor,o.head)),effects:ke(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function Se(e,t,n){let o=we(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);let r=!!t[i].sequential;o=xe(o,we(e,t[i],r?o.changes.newLength:e.doc.length),r)}let i=be.create(e,o.changes,o.selection,o.effects,o.annotations,o.scrollIntoView);return function(e){let t=e.startState,n=t.facet(fe),o=e;for(let i=n.length-1;i>=0;i--){let r=n[i](e);r&&Object.keys(r).length&&(o=xe(o,we(t,r,e.changes.newLength),!0))}return o==e?e:be.create(t,e.changes,e.selection,o.effects,o.annotations,o.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let o of t.facet(de)){let t=o(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:ye(n,t))}if(!0!==n){let o,i;if(!1===n)i=e.changes.invertedDesc,o=Q.empty(t.doc.length);else{let t=e.changes.filter(n);o=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=be.create(t,o,e.selection&&e.selection.map(i),ve.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let o=t.facet(he);for(let n=o.length-1;n>=0;n--){let i=o[n](e);e=i instanceof be?i:Array.isArray(i)&&1==i.length&&i[0]instanceof be?i[0]:Se(t,ke(i),!1)}return e}(i):i)}be.time=me.define(),be.userEvent=me.define(),be.addToHistory=me.define(),be.remote=me.define();const _e=[];function ke(e){return null==e?_e:Array.isArray(e)?e:[e]}var Ce=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Ce||(Ce={}));const Te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let $e;try{$e=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function Pe(e){return t=>{if(!/\S/.test(t))return Ce.Space;if(function(e){if($e)return $e.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Te.test(n)))return!0}return!1}(t))return Ce.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Ce.Word;return Ce.Other}}class Ae{constructor(e,t,n,o,i,r){this.config=e,this.doc=t,this.selection=n,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=i,r&&(r._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)se(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return se(this,n),ae(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return Se(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:o,compartments:i}=n;for(let t of e.effects)t.is(oe.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((e,t)=>i.set(t,e))),n=null),i.set(t.value.compartment,t.value.extension)):t.is(ve.reconfigure)?(n=null,o=t.value):t.is(ve.appendConfig)&&(n=null,o=ke(o).concat(t.value));if(n)t=e.startState.values.slice();else{n=re.resolve(o,i,this),t=new Ae(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}let r=e.startState.facet(ce)?e.newSelection:e.newSelection.asSingle();new Ae(n,e.newDoc,r,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:L.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),o=this.changes(n.changes),i=[n.range],r=ke(n.effects);for(let n=1;n<t.ranges.length;n++){let s=e(t.ranges[n]),a=this.changes(s.changes),l=a.map(o);for(let e=0;e<n;e++)i[e]=i[e].map(l);let c=o.mapDesc(a,!0);i.push(s.range.map(c)),o=o.compose(l),r=ve.mapEffects(r,l).concat(ve.mapEffects(ke(s.effects),c))}return{changes:o,selection:L.create(i,t.mainIndex),effects:r}}changes(e=[]){return e instanceof Q?e:Q.of(e,this.doc.length,this.facet(Ae.lineSeparator))}toText(e){return p.of(e.split(this.facet(Ae.lineSeparator)||$))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(se(this,t),ae(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let o=e[n];o instanceof q&&null!=this.config.address[o.id]&&(t[n]=o.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let i=n[t],r=e[t];o.push(i.init((e=>i.spec.fromJSON(r,e))))}return Ae.create({doc:e.doc,selection:L.fromJSON(e.selection),extensions:t.extensions?o.concat([t.extensions]):o})}static create(e={}){let t=re.resolve(e.extensions||[],new Map),n=e.doc instanceof p?e.doc:p.of((e.doc||"").split(t.staticFacet(Ae.lineSeparator)||$)),o=e.selection?e.selection instanceof L?e.selection:L.single(e.selection.anchor,e.selection.head):L.single(0);return j(o,n.length),t.staticFacet(ce)||(o=o.asSingle()),new Ae(t,n,o,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Ae.tabSize)}get lineBreak(){return this.facet(Ae.lineSeparator)||"\n"}get readOnly(){return this.facet(pe)}phrase(e,...t){for(let t of this.facet(Ae.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let o=+(n||1);return!o||o>t.length?e:t[o-1]}))),e}languageDataAt(e,t,n=-1){let o=[];for(let i of this.facet(le))for(let r of i(this,t,n))Object.prototype.hasOwnProperty.call(r,e)&&o.push(r[e]);return o}charCategorizer(e){return Pe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:o}=this.doc.lineAt(e),i=this.charCategorizer(e),r=e-n,s=e-n;for(;r>0;){let e=_(t,r,!1);if(i(t.slice(e,r))!=Ce.Word)break;r=e}for(;s<o;){let e=_(t,s);if(i(t.slice(s,e))!=Ce.Word)break;s=e}return r==s?null:L.range(r+n,s+n)}}function Qe(e,t,n={}){let o={};for(let t of e)for(let e of Object.keys(t)){let i=t[e],r=o[e];if(void 0===r)o[e]=i;else if(r===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);o[e]=n[e](r,i)}}for(let e in t)void 0===o[e]&&(o[e]=t[e]);return o}Ae.allowMultipleSelections=ce,Ae.tabSize=B.define({combine:e=>e.length?e[0]:4}),Ae.lineSeparator=ue,Ae.readOnly=pe,Ae.phrases=B.define({compare(e,t){let n=Object.keys(e),o=Object.keys(t);return n.length==o.length&&n.every((n=>e[n]==t[n]))}}),Ae.languageData=le,Ae.changeFilter=de,Ae.transactionFilter=he,Ae.transactionExtender=fe,oe.reconfigure=ve.define();class Ee{eq(e){return this==e}range(e,t=e){return Me.create(e,t,this)}}Ee.prototype.startSide=Ee.prototype.endSide=0,Ee.prototype.point=!1,Ee.prototype.mapMode=P.TrackDel;class Me{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Me(e,t,n)}}function De(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Ie{constructor(e,t,n,o){this.from=e,this.to=t,this.value=n,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,o=0){let i=n?this.to:this.from;for(let r=o,s=i.length;;){if(r==s)return r;let o=r+s>>1,a=i[o]-e||(n?this.value[o].endSide:this.value[o].startSide)-t;if(o==r)return a>=0?r:s;a>=0?s=o:r=o+1}}between(e,t,n,o){for(let i=this.findIndex(t,-1e9,!0),r=this.findIndex(n,1e9,!1,i);i<r;i++)if(!1===o(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let n=[],o=[],i=[],r=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],d=this.from[a]+e,h=this.to[a]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(d,u.endSide),c<l))continue}else if(l=t.mapPos(d,u.startSide),c=t.mapPos(h,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(r<0&&(r=l),u.point&&(s=Math.max(s,c-l)),n.push(u),o.push(l-r),i.push(c-r))}return{mapped:n.length?new Ie(o,i,n,s):null,pos:r}}}class Re{constructor(e,t,n,o){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=o}static create(e,t,n,o){return new Re(e,t,n,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:o=0,filterTo:i=this.length}=e,r=e.filter;if(0==t.length&&!r)return this;if(n&&(t=t.slice().sort(De)),this.isEmpty)return t.length?Re.of(t):this;let s=new Le(this,null,-1).goto(0),a=0,l=[],c=new ze;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!r||o>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!r||o>s.to||i<s.from||r(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(Me.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Re.empty:this.nextLayer.update({add:l,filter:r,filterFrom:o,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],o=-1;for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i],a=e.touchesRange(r,r+s.length);if(!1===a)o=Math.max(o,s.maxPoint),t.push(s),n.push(e.mapPos(r));else if(!0===a){let{mapped:i,pos:a}=s.map(r,e);i&&(o=Math.max(o,i.maxPoint),t.push(i),n.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new Re(n,t,i||Re.empty,o)}between(e,t,n){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],r=this.chunk[o];if(t>=i&&e<=i+r.length&&!1===r.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return je.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return je.from(e).goto(t)}static compare(e,t,n,o,i=-1){let r=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),a=Ne(r,s,n),l=new Be(r,a,i),c=new Be(s,a,i);n.iterGaps(((e,t,n)=>Ze(l,e,c,t,n,o))),n.empty&&0==n.length&&Ze(l,0,c,0,0,o)}static eq(e,t,n=0,o){null==o&&(o=999999999);let i=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(i.length!=r.length)return!1;if(!i.length)return!0;let s=Ne(i,r),a=new Be(i,s,0).goto(n),l=new Be(r,s,0).goto(n);for(;;){if(a.to!=l.to||!Xe(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>o)return!0;a.next(),l.next()}}static spans(e,t,n,o,i=-1){let r=new Be(e,null,i).goto(t),s=t,a=r.openStart;for(;;){let e=Math.min(r.to,n);if(r.point){let n=r.activeForPoint(r.to),i=r.pointFrom<t?n.length+1:r.point.startSide<0?n.length:Math.min(n.length,a);o.point(s,e,r.point,n,i,r.pointRank),a=Math.min(r.openEnd(e),n.length)}else e>s&&(o.span(s,e,r.active,a),a=r.openEnd(e));if(r.to>n)return a+(r.point&&r.to>n?1:0);s=r.to,r.next()}}static of(e,t=!1){let n=new ze;for(let o of e instanceof Me?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let o=e[n];if(De(t,o)>0)return e.slice().sort(De);t=o}return e}(e):e)n.add(o.from,o.to,o.value);return n.finish()}static join(e){if(!e.length)return Re.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let o=e[n];o!=Re.empty;o=o.nextLayer)t=new Re(o.chunkPos,o.chunk,t,Math.max(o.maxPoint,t.maxPoint));return t}}Re.empty=new Re([],[],null,-1),Re.empty.nextLayer=Re.empty;class ze{finishChunk(e){this.chunks.push(new Ie(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new ze)).add(e,t,n)}addInner(e,t,n){let o=e-this.lastTo||n.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(o<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Re.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Re.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ne(e,t,n){let o=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&o.set(t.chunk[e],t.chunkPos[e]);let i=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let r=o.get(e.chunk[t]);null==r||(n?n.mapPos(r):r)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(r,r+e.chunk[t].length))||i.add(e.chunk[t])}return i}class Le{constructor(e,t,n,o=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class je{constructor(e){this.heap=e}static from(e,t=null,n=-1){let o=[];for(let i=0;i<e.length;i++)for(let r=e[i];!r.isEmpty;r=r.nextLayer)r.maxPoint>=n&&o.push(new Le(r,t,n,i));return 1==o.length?o[0]:new je(o)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Ve(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Ve(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ve(this.heap,0)}}}function Ve(e,t){for(let n=e[t];;){let o=1+(t<<1);if(o>=e.length)break;let i=e[o];if(o+1<e.length&&i.compare(e[o+1])>=0&&(i=e[o+1],o++),n.compare(i)<0)break;e[o]=n,e[t]=i,t=o}}class Be{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=je.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){We(this.active,e),We(this.activeTo,e),We(this.activeRank,e),this.minActive=Ye(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:o,rank:i}=this.cursor;for(;t<this.activeRank.length&&(i-this.activeRank[t]||o-this.activeTo[t])>0;)t++;Ue(this.active,t,n),Ue(this.activeTo,t,o),Ue(this.activeRank,t,i),e&&Ue(e,t,this.cursor.from),this.minActive=Ye(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),n&&We(n,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Ze(e,t,n,o,i,r){e.goto(t),n.goto(o);let s=o+i,a=o,l=o-t;for(;;){let t=e.to+l-n.to,o=t||e.endSide-n.endSide,i=o<0?e.to+l:n.to,c=Math.min(i,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Xe(e.activeForPoint(e.to),n.activeForPoint(n.to))||r.comparePoint(a,c,e.point,n.point):c>a&&!Xe(e.active,n.active)&&r.compareRange(a,c,e.active,n.active),i>s)break;(t||e.openEnd!=n.openEnd)&&r.boundChange&&r.boundChange(i),a=i,o<=0&&e.next(),o>=0&&n.next()}}function Xe(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function We(e,t){for(let n=t,o=e.length-1;n<o;n++)e[n]=e[n+1];e.pop()}function Ue(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function Ye(e,t){let n=-1,o=1e9;for(let i=0;i<t.length;i++)(t[i]-o||e[i].endSide-e[n].endSide)<0&&(n=i,o=t[i]);return n}function Fe(e,t,n=e.length){let o=0;for(let i=0;i<n&&i<e.length;)9==e.charCodeAt(i)?(o+=t-o%t,i++):(o++,i=_(e,i));return o}function qe(e,t,n,o){for(let o=0,i=0;;){if(i>=t)return o;if(o==e.length)break;i+=9==e.charCodeAt(o)?n-i%n:1,o=_(e,o)}return!0===o?-1:e.length}const He="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Ge="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Je{constructor(e,t){this.rules=[];let{finish:n}=t||{};function o(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,r,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return r.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))i(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,r);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(o(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&r.push((!n||l||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)i(o(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=Ke[He]||1;return Ke[He]=e+1,"ͼ"+e.toString(36)}static mount(e,t,n){let o=e[Ge],i=n&&n.nonce;o?i&&o.setNonce(i):o=new tt(e,i),o.mount(Array.isArray(t)?t:[t],e)}}let et=new Map;class tt{constructor(e,t){let n=e.ownerDocument||e,o=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&o.CSSStyleSheet){let t=et.get(n);if(t)return e[Ge]=t;this.sheet=new o.CSSStyleSheet,et.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Ge]=this}mount(e,t){let n=this.sheet,o=0,i=0;for(let t=0;t<e.length;t++){let r=e[t],s=this.modules.indexOf(r);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,r),n)for(let e=0;e<r.rules.length;e++)n.insertRule(r.rules[e],o++)}else{for(;i<s;)o+=this.modules[i++].rules.length;o+=r.rules.length,i++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e;let n=t.head||t;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var nt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ot={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},it="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),rt="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),st=0;st<10;st++)nt[48+st]=nt[96+st]=String(st);for(st=1;st<=24;st++)nt[st+111]="F"+st;for(st=65;st<=90;st++)nt[st]=String.fromCharCode(st+32),ot[st]=String.fromCharCode(st);for(var at in nt)ot.hasOwnProperty(at)||(ot[at]=nt[at]);function lt(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function ct(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function ut(e,t){if(!t.anchorNode)return!1;try{return ct(e,t.anchorNode)}catch(e){return!1}}function dt(e){return 3==e.nodeType?_t(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function ht(e,t,n,o){return!!n&&(mt(e,t,n,o,-1)||mt(e,t,n,o,1))}function ft(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function pt(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function mt(e,t,n,o,i){for(;;){if(e==n&&t==o)return!0;if(t==(i<0?0:gt(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=ft(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?gt(e):0}}}function gt(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ot(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function vt(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function bt(e,t){let n=t.width/e.offsetWidth,o=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(o>.995&&o<1.005||!isFinite(o)||Math.abs(t.height-e.offsetHeight)<1)&&(o=1),{scaleX:n,scaleY:o}}class yt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?gt(t):0),n,Math.min(e.focusOffset,n?gt(n):0))}set(e,t,n,o){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=o}}let xt,wt=null;function St(e){if(e.setActive)return e.setActive();if(wt)return e.focus(wt);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==wt?{get preventScroll(){return wt={preventScroll:!0},!0}}:void 0),!wt){wt=!1;for(let e=0;e<t.length;){let n=t[e++],o=t[e++],i=t[e++];n.scrollTop!=o&&(n.scrollTop=o),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function _t(e,t,n=t){let o=xt||(xt=document.createRange());return o.setEnd(e,n),o.setStart(e,t),o}function kt(e,t,n,o){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0};o&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=o);let r=new KeyboardEvent("keydown",i);r.synthetic=!0,e.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,e.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function Ct(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function Tt(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function $t(e,t){for(let n=e,o=t;;){if(3==n.nodeType&&o>0)return{node:n,offset:o};if(1==n.nodeType&&o>0){if("false"==n.contentEditable)return null;n=n.childNodes[o-1],o=gt(n)}else{if(!n.parentNode||pt(n))return null;o=ft(n),n=n.parentNode}}}function Pt(e,t){for(let n=e,o=t;;){if(3==n.nodeType&&o<n.nodeValue.length)return{node:n,offset:o};if(1==n.nodeType&&o<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[o],o=0}else{if(!n.parentNode||pt(n))return null;o=ft(n)+1,n=n.parentNode}}}class At{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new At(e.parentNode,ft(e),t)}static after(e,t){return new At(e.parentNode,ft(e)+1,t)}}const Qt=[];class Et{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,o=this.dom,i=null;for(let r of this.children){if(7&r.flags){if(!r.dom&&(n=i?i.nextSibling:o.firstChild)){let e=Et.get(n);(!e||!e.parent&&e.canReuseDOM(r))&&r.reuseDOM(n)}r.sync(e,t),r.flags&=-8}if(n=i?i.nextSibling:o.firstChild,t&&!t.written&&t.node==o&&n!=r.dom&&(t.written=!0),r.dom.parentNode==o)for(;n&&n!=r.dom;)n=Mt(n);else o.insertBefore(r.dom,n);i=r.dom}for(n=i?i.nextSibling:o.firstChild,n&&t&&t.node==o&&(t.written=!0);n;)n=Mt(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let o=0==gt(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==o&&t.firstChild!=t.lastChild&&(o=e==t.firstChild?-1:1),e=t}n=o<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Et.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let o=this.children[e];if(o.dom==n)return t;t+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let o=-1,i=-1,r=-1,s=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==o&&(o=a,i=l),l>t&&n.dom.parentNode==this.dom){r=a,s=c;break}c=u,l=u+n.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Qt){this.markDirty();for(let o=e;o<t;o++){let e=this.children[o];e.parent==this&&n.indexOf(e)<0&&e.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Dt(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,o,i,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function Mt(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Et.prototype.breakAfter=0;class Dt{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function It(e,t,n,o,i,r,s,a,l){let{children:c}=e,u=c.length?c[t]:null,d=r.length?r[r.length-1]:null,h=d?d.breakAfter:s;if(!(t==o&&u&&!s&&!h&&r.length<2&&u.merge(n,i,r.length?d:null,0==n,a,l))){if(o<c.length){let e=c[o];e&&(i<e.length||e.breakAfter&&(null==d?void 0:d.breakAfter))?(t==o&&(e=e.split(i),i=0),!h&&d&&e.merge(0,i,d,!0,0,l)?r[r.length-1]=e:((i||e.children.length&&!e.children[0].length)&&e.merge(0,i,null,!1,0,l),r.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:s=1),o++}for(u&&(u.breakAfter=s,n>0&&(!s&&r.length&&u.merge(n,u.length,r[0],!1,a,0)?u.breakAfter=r.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<o&&r.length;)if(c[o-1].become(r[r.length-1]))o--,r.pop(),l=r.length?0:a;else{if(!c[t].become(r[0]))break;t++,r.shift(),a=r.length?0:l}!r.length&&t&&o<c.length&&!c[t-1].breakAfter&&c[o].merge(0,0,c[t-1],!1,a,l)&&t--,(t<o||r.length)&&e.replaceChildren(t,o,r)}}function Rt(e,t,n,o,i,r){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),d=t-n;for(let e of o)d+=e.length;e.length+=d,It(e,c,u,a,l,o,0,i,r)}let zt="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Nt="undefined"!=typeof document?document:{documentElement:{style:{}}};const Lt=/Edge\/(\d+)/.exec(zt.userAgent),jt=/MSIE \d/.test(zt.userAgent),Vt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zt.userAgent),Bt=!!(jt||Vt||Lt),Zt=!Bt&&/gecko\/(\d+)/i.test(zt.userAgent),Xt=!Bt&&/Chrome\/(\d+)/.exec(zt.userAgent),Wt="webkitFontSmoothing"in Nt.documentElement.style,Ut=!Bt&&/Apple Computer/.test(zt.vendor),Yt=Ut&&(/Mobile\/\w+/.test(zt.userAgent)||zt.maxTouchPoints>2);var Ft={mac:Yt||/Mac/.test(zt.platform),windows:/Win/.test(zt.platform),linux:/Linux|X11/.test(zt.platform),ie:Bt,ie_version:jt?Nt.documentMode||6:Vt?+Vt[1]:Lt?+Lt[1]:0,gecko:Zt,gecko_version:Zt?+(/Firefox\/(\d+)/.exec(zt.userAgent)||[0,0])[1]:0,chrome:!!Xt,chrome_version:Xt?+Xt[1]:0,ios:Yt,android:/Android\b/.test(zt.userAgent),webkit:Wt,safari:Ut,webkit_version:Wt?+(/\bAppleWebKit\/(\d+)/.exec(zt.userAgent)||[0,0])[1]:0,tabSize:null!=Nt.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class qt extends Et{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof qt)||this.length-(t-e)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new qt(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new At(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let o=e.nodeValue.length;t>o&&(t=o);let i=t,r=t,s=0;0==t&&n<0||t==o&&n>=0?Ft.chrome||Ft.gecko||(t?(i--,s=1):r<o&&(r++,s=-1)):n<0?i--:r<o&&r++;let a=_t(e,i,r).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];Ft.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l);return s?Ot(l,s<0):l||null}(this.dom,e,t)}}class Ht extends Et{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(Ct(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,o,i,r){return(!n||!(!(n instanceof Ht&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&r<=0))&&(Rt(this,e,t,n?n.children.slice():[],i-1,r-1),this.markDirty(),!0)}split(e){let t=[],n=0,o=-1,i=0;for(let r of this.children){let s=n+r.length;s>e&&t.push(n<e?r.split(e-n):r),o<0&&n>=e&&(o=i),n=s,i++}let r=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new Ht(this.mark,t,r)}domAtPos(e){return Jt(this,e)}coordsAt(e,t){return tn(this,e,t)}}class Gt extends Et{static create(e,t,n){return new Gt(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=Gt.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,o,i,r){return!(n&&(!(n instanceof Gt&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&r<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof Gt&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return p.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,o=this.posAtStart;return n?n.slice(o,o+this.length):p.empty}domAtPos(e){return(this.length?0==e:this.side>0)?At.before(this.dom):At.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let o=this.dom.getClientRects(),i=null;if(!o.length)return null;let r=this.side?this.side<0:e>0;for(let t=r?o.length-1:0;i=o[t],!(e>0?0==t:t==o.length-1||i.top<i.bottom);t+=r?-1:1);return Ot(i,!r)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Kt extends Et{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Kt&&e.side==this.side}split(){return new Kt(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?At.before(this.dom):At.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return p.empty}get isHidden(){return!0}}function Jt(e,t){let n=e.dom,{children:o}=e,i=0;for(let e=0;i<o.length;i++){let r=o[i],s=e+r.length;if(!(s==e&&r.getSide()<=0)){if(t>e&&t<s&&r.dom.parentNode==n)return r.domAtPos(t-e);if(t<=e)break;e=s}}for(let e=i;e>0;e--){let t=o[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=i;e<o.length;e++){let t=o[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new At(n,0)}function en(e,t,n){let o,{children:i}=e;n>0&&t instanceof Ht&&i.length&&(o=i[i.length-1])instanceof Ht&&o.mark.eq(t.mark)?en(o,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function tn(e,t,n){let o=null,i=-1,r=null,s=-1;!function e(t,a){for(let l=0,c=0;l<t.children.length&&c<=a;l++){let u=t.children[l],d=c+u.length;d>=a&&(u.children.length?e(u,a-c):(!r||r.isHidden&&(n>0||nn(r,u)))&&(d>a||c==d&&u.getSide()>0)?(r=u,s=a-c):(c<a||c==d&&u.getSide()<0&&!u.isHidden)&&(o=u,i=a-c)),c=d}}(e,t);let a=(n<0?o:r)||o||r;return a?a.coordsAt(Math.max(0,a==o?i:s),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=dt(t);return n[n.length-1]||null}(e)}function nn(e,t){let n=e.coordsAt(0,1),o=t.coordsAt(0,1);return n&&o&&o.top<n.bottom}function on(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}qt.prototype.children=Gt.prototype.children=Kt.prototype.children=Qt;const rn=Object.create(null);function sn(e,t,n){if(e==t)return!0;e||(e=rn),t||(t=rn);let o=Object.keys(e),i=Object.keys(t);if(o.length-(n&&o.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let r of o)if(r!=n&&(-1==i.indexOf(r)||e[r]!==t[r]))return!1;return!0}function an(e,t,n){let o=!1;if(t)for(let i in t)n&&i in n||(o=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(o=!0,"style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return o}function ln(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let o=e.attributes[n];t[o.name]=o.value}return t}class cn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var un=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(un||(un={}));class dn extends Ee{constructor(e,t,n,o){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=o}get heightRelevant(){return!1}static mark(e){return new hn(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new pn(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,o=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:i,end:r}=mn(e,o);t=(i?o?-3e8:-1:5e8)-1,n=1+(r?o?2e8:1:-6e8)}return new pn(e,t,n,o,e.widget||null,!0)}static line(e){return new fn(e)}static set(e,t=!1){return Re.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}dn.none=Re.empty;class hn extends dn{constructor(e){let{start:t,end:n}=mn(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof hn&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&sn(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}hn.prototype.point=!1;class fn extends dn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof fn&&this.spec.class==e.spec.class&&sn(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}fn.prototype.mapMode=P.TrackBefore,fn.prototype.point=!0;class pn extends dn{constructor(e,t,n,o,i,r){super(t,n,i,e),this.block=o,this.isReplace=r,this.mapMode=o?t<=0?P.TrackBefore:P.TrackAfter:P.TrackDel}get type(){return this.startSide!=this.endSide?un.WidgetRange:this.startSide<=0?un.WidgetBefore:un.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof pn&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function mn(e,t=!1){let{inclusiveStart:n,inclusiveEnd:o}=e;return null==n&&(n=e.inclusive),null==o&&(o=e.inclusive),{start:null!=n?n:t,end:null!=o?o:t}}function gn(e,t,n,o=0){let i=n.length-1;i>=0&&n[i]+o>=e?n[i]=Math.max(n[i],t):n.push(e,t)}pn.prototype.point=!0;class On extends Et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,o,i,r){if(n){if(!(n instanceof On))return!1;this.dom||n.transferDOM(this)}return o&&this.setDeco(n?n.attrs:null),Rt(this,e,t,n?n.children.slice():[],i,r),!0}split(e){let t=new On;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:o}=this.childPos(e);o&&(t.append(this.children[n].split(o),0),this.children[n].merge(o,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){sn(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){en(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=on(t,this.attrs||{})),n&&(this.attrs=on({class:n},this.attrs||{}))}domAtPos(e){return Jt(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(Ct(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(an(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let o=this.dom.lastChild;for(;o&&Et.get(o)instanceof Ht;)o=o.lastChild;if(!(o&&this.length&&("BR"==o.nodeName||0!=(null===(n=Et.get(o))||void 0===n?void 0:n.isEditable)||Ft.ios&&this.children.some((e=>e instanceof qt))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof qt)||/[^ -~]/.test(n.text))return null;let o=dt(n.dom);if(1!=o.length)return null;t+=o[0].width,e=o[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=tn(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let o=(t-e.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof On&&0==this.children.length&&0==e.children.length&&sn(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,o=0;n<e.children.length;n++){let i=e.children[n],r=o+i.length;if(r>=t){if(i instanceof On)return i;if(r>t)break}o=r+i.breakAfter}return null}}class vn extends Et{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,o,i,r){return!(n&&(!(n instanceof vn&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&r<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?At.before(this.dom):At.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new vn(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Qt}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):p.empty}domBoundsAround(){return null}become(e){return e instanceof vn&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof bn?null:Ot(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class bn extends cn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class yn{constructor(e,t,n,o){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof vn&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new On),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(xn(new Kt(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof vn||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let o=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(xn(new qt(this.text.slice(this.textOff,this.textOff+o)),t),n),this.atCursorPos=!0,this.textOff+=o,e-=o,n=0}}span(e,t,n,o){this.buildText(t-e,n,o),this.pos=t,this.openStart<0&&(this.openStart=o)}point(e,t,n,o,i,r){if(this.disallowBlockEffectsFor[r]&&n instanceof pn){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(n instanceof pn)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new vn(n.widget||wn.block,s,n));else{let r=Gt.create(n.widget||wn.inline,s,s?0:n.startSide),a=this.atCursorPos&&!r.isEditable&&i<=o.length&&(e<t||n.startSide>0),l=!r.isEditable&&(e<t||i>o.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||r.isEditable||(this.pendingBuffer=0),this.flushBuffer(o),a&&(c.append(xn(new Kt(1),o),i),i=o.length+Math.max(0,i-o.length)),c.append(xn(r,o),i),this.atCursorPos=l,this.pendingBuffer=l?e<t||i>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,n,o,i){let r=new yn(e,t,n,i);return r.openEnd=Re.spans(o,t,n,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function xn(e,t){for(let n of t)e=new Ht(n,[e],e.length);return e}class wn extends cn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}wn.inline=new wn("span"),wn.block=new wn("div");var Sn=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Sn||(Sn={}));const _n=Sn.LTR,kn=Sn.RTL;function Cn(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const Tn=Cn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),$n=Cn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Pn=Object.create(null),An=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);Pn[t]=n,Pn[n]=-t}function Qn(e){return e<=247?Tn[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?$n[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const En=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Mn{get dir(){return this.level%2?kn:_n}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,o){let i=-1;for(let r=0;r<e.length;r++){let s=e[r];if(s.from<=t&&s.to>=t){if(s.level==n)return r;(i<0||(0!=o?o<0?s.from<t:s.to>t:e[i].level>s.level))&&(i=r)}}if(i<0)throw new RangeError("Index out of range");return i}}function Dn(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(o.from!=i.from||o.to!=i.to||o.direction!=i.direction||!Dn(o.inner,i.inner))return!1}return!0}const In=[];function Rn(e,t,n,o,i,r,s){let a=o%2?2:1;if(o%2==i%2)for(let l=t,c=0;l<n;){let t=!0,u=!1;if(c==r.length||l<r[c].from){let e=In[l];e!=a&&(t=!1,u=16==e)}let d=t||1!=a?null:[],h=t?o:o+1,f=l;e:for(;;)if(c<r.length&&f==r[c].from){if(u)break e;let p=r[c];if(!t)for(let e=p.to,t=c+1;;){if(e==n)break e;if(!(t<r.length&&r[t].from==e)){if(In[e]==a)break e;break}e=r[t++].to}if(c++,d)d.push(p);else{p.from>l&&s.push(new Mn(l,p.from,h)),zn(e,p.direction==_n!=!(h%2)?o+1:o,i,p.inner,p.from,p.to,s),l=p.to}f=p.to}else{if(f==n||(t?In[f]!=a:In[f]==a))break;f++}d?Rn(e,l,f,o+1,i,d,s):l<f&&s.push(new Mn(l,f,h)),l=f}else for(let l=n,c=r.length;l>t;){let n=!0,u=!1;if(!c||l>r[c-1].to){let e=In[l-1];e!=a&&(n=!1,u=16==e)}let d=n||1!=a?null:[],h=n?o:o+1,f=l;e:for(;;)if(c&&f==r[c-1].to){if(u)break e;let p=r[--c];if(!n)for(let e=p.from,n=c;;){if(e==t)break e;if(!n||r[n-1].to!=e){if(In[e-1]==a)break e;break}e=r[--n].from}if(d)d.push(p);else{p.to<l&&s.push(new Mn(p.to,l,h)),zn(e,p.direction==_n!=!(h%2)?o+1:o,i,p.inner,p.from,p.to,s),l=p.from}f=p.from}else{if(f==t||(n?In[f-1]!=a:In[f-1]==a))break;f--}d?Rn(e,f,l,o+1,i,d,s):f<l&&s.push(new Mn(f,l,h)),l=f}}function zn(e,t,n,o,i,r,s){let a=t%2?2:1;!function(e,t,n,o,i){for(let r=0;r<=o.length;r++){let s=r?o[r-1].to:t,a=r<o.length?o[r].from:n,l=r?256:i;for(let t=s,n=l,o=l;t<a;t++){let i=Qn(e.charCodeAt(t));512==i?i=n:8==i&&4==o&&(i=16),In[t]=4==i?2:i,7&i&&(o=i),n=i}for(let e=s,t=l,o=l;e<a;e++){let i=In[e];if(128==i)e<a-1&&t==In[e+1]&&24&t?i=In[e]=t:In[e]=256;else if(64==i){let i=e+1;for(;i<a&&64==In[i];)i++;let r=e&&8==t||i<n&&8==In[i]?1==o?1:8:256;for(let t=e;t<i;t++)In[t]=r;e=i-1}else 8==i&&1==o&&(In[e]=1);t=i,7&i&&(o=i)}}}(e,i,r,o,a),function(e,t,n,o,i){let r=1==i?2:1;for(let s=0,a=0,l=0;s<=o.length;s++){let c=s?o[s-1].to:t,u=s<o.length?o[s].from:n;for(let t,n,o,s=c;s<u;s++)if(n=Pn[t=e.charCodeAt(s)])if(n<0){for(let e=a-3;e>=0;e-=3)if(An[e+1]==-n){let t=An[e+2],n=2&t?i:4&t?1&t?r:i:0;n&&(In[s]=In[An[e]]=n),a=e;break}}else{if(189==An.length)break;An[a++]=s,An[a++]=t,An[a++]=l}else if(2==(o=In[s])||1==o){let e=o==i;l=e?0:1;for(let t=a-3;t>=0;t-=3){let n=An[t+2];if(2&n)break;if(e)An[t+2]|=2;else{if(4&n)break;An[t+2]|=4}}}}}(e,i,r,o,a),function(e,t,n,o){for(let i=0,r=o;i<=n.length;i++){let s=i?n[i-1].to:e,a=i<n.length?n[i].from:t;for(let l=s;l<a;){let s=In[l];if(256==s){let s=l+1;for(;;)if(s==a){if(i==n.length)break;s=n[i++].to,a=i<n.length?n[i].from:t}else{if(256!=In[s])break;s++}let c=1==r,u=c==(1==(s<t?In[s]:o))?c?1:2:o;for(let t=s,o=i,r=o?n[o-1].to:e;t>l;)t==r&&(t=n[--o].from,r=o?n[o-1].to:e),In[--t]=u;l=s}else r=s,l++}}}(i,r,o,a),Rn(e,i,r,t,n,o,s)}function Nn(e,t,n){if(!e)return[new Mn(0,0,t==kn?1:0)];if(t==_n&&!n.length&&!En.test(e))return Ln(e.length);if(n.length)for(;e.length>In.length;)In[In.length]=256;let o=[],i=t==_n?0:1;return zn(e,i,i,n,0,e.length,o),o}function Ln(e){return[new Mn(0,e,0)]}let jn="";function Vn(e,t,n,o,i){var r;let s=o.head-e.from,a=Mn.find(t,s,null!==(r=o.bidiLevel)&&void 0!==r?r:-1,o.assoc),l=t[a],c=l.side(i,n);if(s==c){let e=a+=i?1:-1;if(e<0||e>=t.length)return null;l=t[a=e],s=l.side(!i,n),c=l.side(i,n)}let u=_(e.text,s,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),jn=e.text.slice(Math.min(s,u),Math.max(s,u));let d=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?L.cursor(d.side(!i,n)+e.from,d.forward(i,n)?1:-1,d.level):L.cursor(u+e.from,l.forward(i,n)?-1:1,l.level)}function Bn(e,t,n){for(let o=t;o<n;o++){let t=Qn(e.charCodeAt(o));if(1==t)return _n;if(2==t||4==t)return kn}return _n}const Zn=B.define(),Xn=B.define(),Wn=B.define(),Un=B.define(),Yn=B.define(),Fn=B.define(),qn=B.define(),Hn=B.define(),Gn=B.define(),Kn=B.define({combine:e=>e.some((e=>e))}),Jn=B.define({combine:e=>e.some((e=>e))}),eo=B.define();class to{constructor(e,t="nearest",n="nearest",o=5,i=5,r=!1){this.range=e,this.y=t,this.x=n,this.yMargin=o,this.xMargin=i,this.isSnapshot=r}map(e){return e.empty?this:new to(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new to(L.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const no=ve.define({map:(e,t)=>e.map(t)}),oo=ve.define();function io(e,t,n){let o=e.facet(Un);o.length?o[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const ro=B.define({combine:e=>!e.length||e[0]});let so=0;const ao=B.define();class lo{constructor(e,t,n,o,i){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=o,this.extension=i(this)}static define(e,t){const{eventHandlers:n,eventObservers:o,provide:i,decorations:r}=t||{};return new lo(so++,e,n,o,(e=>{let t=[ao.of(e)];return r&&t.push(fo.of((t=>{let n=t.plugin(e);return n?r(n):dn.none}))),i&&t.push(i(e)),t}))}static fromClass(e,t){return lo.define((t=>new e(t)),t)}}class co{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(io(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){io(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){io(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const uo=B.define(),ho=B.define(),fo=B.define(),po=B.define(),mo=B.define(),go=B.define();function Oo(e,t){let n=e.state.facet(go);if(!n.length)return n;let o=n.map((t=>t instanceof Function?t(e):t)),i=[];return Re.spans(o,t.from,t.to,{point(){},span(e,n,o,r){let s=e-t.from,a=n-t.from,l=i;for(let e=o.length-1;e>=0;e--,r--){let n,i=o[e].spec.bidiIsolate;if(null==i&&(i=Bn(t.text,s,a)),r>0&&l.length&&(n=l[l.length-1]).to==s&&n.direction==i)n.to=a,l=n.inner;else{let e={from:s,to:a,direction:i,inner:[]};l.push(e),l=e.inner}}}}),i}const vo=B.define();function bo(e){let t=0,n=0,o=0,i=0;for(let r of e.state.facet(vo)){let s=r(e);s&&(null!=s.left&&(t=Math.max(t,s.left)),null!=s.right&&(n=Math.max(n,s.right)),null!=s.top&&(o=Math.max(o,s.top)),null!=s.bottom&&(i=Math.max(i,s.bottom)))}return{left:t,right:n,top:o,bottom:i}}const yo=B.define();class xo{constructor(e,t,n,o){this.fromA=e,this.toA=t,this.fromB=n,this.toB=o}join(e){return new xo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let o=e[t-1];if(!(o.fromA>n.toA)){if(o.toA<n.fromA)break;n=n.join(o),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let o=0,i=0,r=0,s=0;;o++){let a=o==e.length?null:e[o],l=r-s,c=a?a.fromB:1e9;for(;i<t.length&&t[i]<c;){let e=t[i],o=t[i+1],r=Math.max(s,e),a=Math.min(c,o);if(r<=a&&new xo(r+l,a+l,r,a).addToSet(n),o>c)break;i+=2}if(!a)return n;new xo(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),r=a.toA,s=a.toB}}}class wo{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Q.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let o=[];this.changes.iterChangedRanges(((e,t,n,i)=>o.push(new xo(e,t,n,i)))),this.changedRanges=o}static create(e,t,n){return new wo(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class So extends Et{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=dn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new On],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new xo(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?o=this.domChanged.newSel.head:function(e,t){let n=!1;t&&e.iterChangedRanges(((e,o)=>{e<t.to&&o>t.from&&(n=!0)}));return n}(e.changes,this.hasComposition)||e.selectionSet||(o=e.state.selection.main.head));let i=o>-1?function(e,t,n){let o=_o(e,n);if(!o)return null;let{node:i,from:r,to:s}=o,a=i.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(o.from,o.to)!=a)return null;let l=t.invertedDesc,c=new xo(l.mapPos(r),l.mapPos(s),r,s),u=[];for(let t=i.parentNode;;t=t.parentNode){let n=Et.get(t);if(n instanceof Ht)u.push({node:t,deco:n.mark});else{if(n instanceof On||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:c,text:i,marks:u,line:t};if(t==e.contentDOM)return null;u.push({node:t,deco:new hn({inclusive:!0,attributes:ln(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,o):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:o}=this.hasComposition;n=new xo(t,o,e.changes.mapPos(t,-1),e.changes.mapPos(o,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(Ft.ie||Ft.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=function(e,t,n){let o=new ko;return Re.compare(e,t,n,o),o.changes}(this.decorations,this.updateDeco(),e.changes);return n=xo.extendWithRanges(n,r),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:o}=this.view;o.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Ft.chrome||Ft.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||o.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof vn&&e.widget instanceof bn&&i.push(e.dom);o.updateGaps(i)}updateChildren(e,t,n){let o=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let e=o.length-1;;e--){let t=e>=0?o[e]:null;if(!t)break;let r,s,a,l,{fromA:c,toA:u,fromB:d,toB:h}=t;if(n&&n.range.fromB<h&&n.range.toB>d){let e=yn.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),t=yn.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);s=e.breakAtStart,a=e.openStart,l=t.openEnd;let o=this.compositionView(n);t.breakAtStart?o.breakAfter=1:t.content.length&&o.merge(o.length,o.length,t.content[0],!1,t.openStart,0)&&(o.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&o.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),r=e.content.concat(o).concat(t.content)}else({content:r,breakAtStart:s,openStart:a,openEnd:l}=yn.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=i.findPos(u,1),{i:m,off:g}=i.findPos(c,-1);It(this,m,g,f,p,r,s,a,l)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(oo)&&(this.editContextFormatting=e.value)}compositionView(e){let t=new qt(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new Ht(n,[t],t.length);let n=new On;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let n=Et.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),o=this.children[n.i];t(e.line,o);for(let i=e.marks.length-1;i>=-1;i--)n=o.childPos(n.off,1),o=o.children[n.i],t(i>=0?e.marks[i].node:e.text,o)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,o=n==this.dom,i=!o&&!(this.view.state.facet(ro)||this.dom.tabIndex>-1)&&ut(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(o||t||i))return;let r=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(s.anchor)),l=s.empty?a:this.moveToLine(this.domAtPos(s.head));if(Ft.gecko&&s.empty&&!this.hasComposition&&(1==(c=a).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>a.node.insertBefore(e,a.node.childNodes[a.offset]||null))),a=l=new At(e,0),r=!0}var c;let u=this.view.observer.selectionRange;!r&&u.focusNode&&(ht(a.node,a.offset,u.anchorNode,u.anchorOffset)&&ht(l.node,l.offset,u.focusNode,u.focusOffset)||this.suppressWidgetCursorChange(u,s))||(this.view.observer.ignore((()=>{Ft.android&&Ft.chrome&&this.dom.contains(u.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=lt(this.view.root);if(e)if(s.empty){if(Ft.gecko){let e=(t=a.node,o=a.offset,1!=t.nodeType?0:(o&&"false"==t.childNodes[o-1].contentEditable?1:0)|(o<t.childNodes.length&&"false"==t.childNodes[o].contentEditable?2:0));if(e&&3!=e){let t=(1==e?$t:Pt)(a.node,a.offset);t&&(a=new At(t.node,t.offset))}}e.collapse(a.node,a.offset),null!=s.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=s.bidiLevel)}else if(e.extend){e.collapse(a.node,a.offset);try{e.extend(l.node,l.offset)}catch(e){}}else{let t=document.createRange();s.anchor>s.head&&([a,l]=[l,a]),t.setEnd(l.node,l.offset),t.setStart(a.node,a.offset),e.removeAllRanges(),e.addRange(t)}else;var t,o;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(a,l)),this.impreciseAnchor=a.precise?null:new At(u.anchorNode,u.anchorOffset),this.impreciseHead=l.precise?null:new At(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&ht(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=lt(e.root),{anchorNode:o,anchorOffset:i}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let r=On.find(this,t.head);if(!r)return;let s=r.posAtStart;if(t.head==s||t.head==s+r.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(o,i)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let o=e.offset;!t&&o<n.childNodes.length;o++){let e=Et.get(n.childNodes[o]);e instanceof On&&(t=e.domAtPos(0))}for(let o=e.offset-1;!t&&o>=0;o--){let e=Et.get(n.childNodes[o]);e instanceof On&&(t=e.domAtPos(e.length))}return t?new At(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=Et.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof On)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,o=0;for(let i=this.length,r=this.children.length-1;r>=0;r--){let s=this.children[r],a=i-s.breakAfter,l=a-s.length;if(a<e)break;if(l<=e&&(l<e||s.covers(-1))&&(a>e||s.covers(1))&&(!n||s instanceof On&&!(n instanceof On&&t>=0)))n=s,o=l;else if(n&&l==e&&a==e&&s instanceof vn&&Math.abs(t)<2){if(s.deco.startSide<0)break;r&&(n=null)}i=l}return n?n.coordsAt(e-o,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),o=this.children[t];if(!(o instanceof On))return null;for(;o.children.length;){let{i:e,off:t}=o.childPos(n,1);for(;;e++){if(e==o.children.length)return null;if((o=o.children[e]).length)break}n=t}if(!(o instanceof qt))return null;let i=_(o.text,n);if(i==n)return null;let r=_t(o.dom,n,i).getClientRects();for(let e=0;e<r.length;e++){let t=r[e];if(e==r.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:o}=e,i=this.view.contentDOM.clientWidth,r=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Sn.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],u=e+c.length;if(u>o)break;if(e>=n){let n=c.dom.getBoundingClientRect();if(t.push(n.height),r){let t=c.dom.lastChild,o=t?dt(t):[];if(o.length){let t=o[o.length-1],r=a?t.right-n.left:n.right-t.left;r>s&&(s=r,this.minWidth=i,this.minWidthFrom=e,this.minWidthTo=u)}}}e=u+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Sn.RTL:Sn.LTR}measureTextSize(){for(let e of this.children)if(e instanceof On){let t=e.measureTextSize();if(t)return t}let e,t,n,o=document.createElement("div");return o.className="cm-line",o.style.width="99999px",o.style.position="absolute",o.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(o);let i=dt(o.firstChild)[0];e=o.getBoundingClientRect().height,t=i?i.width/27:7,n=i?i.height:e,o.remove()})),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Dt(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,o=0;;o++){let i=o==t.viewports.length?null:t.viewports[o],r=i?i.from-1:this.length;if(r>n){let o=(t.lineBlockAt(r).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(dn.replace({widget:new bn(o),block:!0,inclusive:!0,isBlockGap:!0}).range(n,r))}if(!i)break;n=i.to+1}return dn.set(e)}updateDeco(){let e=1,t=this.view.state.facet(fo).map((t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t)),n=!1,o=this.view.state.facet(po).map(((e,t)=>{let o="function"==typeof e;return o&&(n=!0),o?e(this.view):e}));for(o.length&&(this.dynamicDecorationMap[e++]=n,t.push(Re.join(o))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let t of this.view.state.facet(eo))try{if(t(this.view,e.range,e))return!0}catch(e){io(this.view.state,e,"scroll handler")}let t,{range:n}=e,o=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!o)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(o={left:Math.min(o.left,t.left),top:Math.min(o.top,t.top),right:Math.max(o.right,t.right),bottom:Math.max(o.bottom,t.bottom)});let i=bo(this.view),r={left:o.left-i.left,top:o.top-i.top,right:o.right+i.right,bottom:o.bottom+i.bottom},{offsetWidth:s,offsetHeight:a}=this.view.scrollDOM;!function(e,t,n,o,i,r,s,a){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,d=!1;u&&!d;)if(1==u.nodeType){let e,h=u==l.body,f=1,p=1;if(h)e=vt(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:f,scaleY:p}=bt(u,t)),e={left:t.left,right:t.left+u.clientWidth*f,top:t.top,bottom:t.top+u.clientHeight*p}}let m=0,g=0;if("nearest"==i)t.top<e.top?(g=t.top-(e.top+s),n>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+s)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+s,n<0&&t.top-g<e.top&&(g=t.top-(e.top+s)));else{let o=t.bottom-t.top,r=e.bottom-e.top;g=("center"==i&&o<=r?t.top+o/2-r/2:"start"==i||"center"==i&&n<0?t.top-s:t.bottom-r+s)-e.top}if("nearest"==o?t.left<e.left?(m=t.left-(e.left+r),n>0&&t.right>e.right+m&&(m=t.right-e.right+r)):t.right>e.right&&(m=t.right-e.right+r,n<0&&t.left<e.left+m&&(m=t.left-(e.left+r))):m=("center"==o?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==o==a?t.left-r:t.right-(e.right-e.left)+r)-e.left,m||g)if(h)c.scrollBy(m,g);else{let e=0,n=0;if(g){let e=u.scrollTop;u.scrollTop+=g/p,n=(u.scrollTop-e)*p}if(m){let t=u.scrollLeft;u.scrollLeft+=m/f,e=(u.scrollLeft-t)*f}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-m)<1&&(o="nearest"),n&&Math.abs(n-g)<1&&(i="nearest")}if(h)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,r,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Sn.LTR)}}function _o(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let o=$t(n.focusNode,n.focusOffset),i=Pt(n.focusNode,n.focusOffset),r=o||i;if(i&&o&&i.node!=o.node){let t=Et.get(i.node);if(!t||t instanceof qt&&t.text!=i.node.nodeValue)r=i;else if(e.docView.lastCompositionAfterCursor){let e=Et.get(o.node);!e||e instanceof qt&&e.text!=o.node.nodeValue||(r=i)}}if(e.docView.lastCompositionAfterCursor=r!=o,!r)return null;let s=t-r.offset;return{from:s,to:s+r.node.nodeValue.length,node:r.node}}let ko=class{constructor(){this.changes=[]}compareRange(e,t){gn(e,t,this.changes)}comparePoint(e,t){gn(e,t,this.changes)}boundChange(e){gn(e,e,this.changes)}};function Co(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function To(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function $o(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Po(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Ao(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Qo(e,t,n){let o,i,r,s,a,l,c,u,d=!1;for(let h=e.firstChild;h;h=h.nextSibling){let e=dt(h);for(let f=0;f<e.length;f++){let p=e[f];i&&$o(i,p)&&(p=Po(Ao(p,i.bottom),i.top));let m=Co(t,p),g=To(n,p);if(0==m&&0==g)return 3==h.nodeType?Eo(h,t,n):Qo(h,t,n);if(!o||s>g||s==g&&r>m){o=h,i=p,r=m,s=g;let a=g?n<p.top?-1:1:m?t<p.left?-1:1:0;d=!a||(a>0?f<e.length-1:f>0)}0==m?n>p.bottom&&(!c||c.bottom<p.bottom)?(a=h,c=p):n<p.top&&(!u||u.top>p.top)&&(l=h,u=p):c&&$o(c,p)?c=Ao(c,p.bottom):u&&$o(u,p)&&(u=Po(u,p.top))}}if(c&&c.bottom>=n?(o=a,i=c):u&&u.top<=n&&(o=l,i=u),!o)return{node:e,offset:0};let h=Math.max(i.left,Math.min(i.right,t));return 3==o.nodeType?Eo(o,h,n):d&&"false"!=o.contentEditable?Qo(o,h,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,o)+(t>=(i.left+i.right)/2?1:0)}}function Eo(e,t,n){let o=e.nodeValue.length,i=-1,r=1e9,s=0;for(let a=0;a<o;a++){let o=_t(e,a,a+1).getClientRects();for(let l=0;l<o.length;l++){let c=o[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<r){let n=t>=(c.left+c.right)/2,o=n;if(Ft.chrome||Ft.gecko){_t(e,a).getBoundingClientRect().left==c.right&&(o=!n)}if(u<=0)return{node:e,offset:a+(o?1:0)};i=a+(o?1:0),r=u}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function Mo(e,t,n,o=-1){var i,r;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:u,y:d}=t,h=d-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,i=!1;s=e.elementAtHeight(h),s.type!=un.Text;)for(;h=o>0?s.bottom+t:s.top-t,!(h>=0&&h<=c);){if(i)return n?null:0;i=!0,o=-o}d=l+h;let f=s.from;if(f<e.viewport.from)return 0==e.viewport.from?0:n?null:Do(e,a,s,u,d);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:Do(e,a,s,u,d);let p=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:p,g=m.elementFromPoint(u,d);g&&!e.contentDOM.contains(g)&&(g=null),g||(u=Math.max(a.left+1,Math.min(a.right-1,u)),g=m.elementFromPoint(u,d),g&&!e.contentDOM.contains(g)&&(g=null));let O,v=-1;if(g&&0!=(null===(i=e.docView.nearest(g))||void 0===i?void 0:i.isEditable)){if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(u,d);e&&({offsetNode:O,offset:v}=e)}else if(p.caretRangeFromPoint){let t=p.caretRangeFromPoint(u,d);t&&(({startContainer:O,startOffset:v}=t),(!e.contentDOM.contains(O)||Ft.safari&&function(e,t,n){let o;if(3!=e.nodeType||t!=(o=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return _t(e,o-1,o).getBoundingClientRect().left>n}(O,v,u)||Ft.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}let o=1==e.nodeType?e.getBoundingClientRect():_t(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-o.left>5}(O,v,u))&&(O=void 0))}O&&(v=Math.min(gt(O),v))}if(!O||!e.docView.dom.contains(O)){let t=On.find(e.docView,f);if(!t)return h>s.top+s.height/2?s.to:s.from;({node:O,offset:v}=Qo(t.dom,u,d))}let b=e.docView.nearest(O);if(!b)return null;if(b.isWidget&&1==(null===(r=b.dom)||void 0===r?void 0:r.nodeType)){let e=b.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(O,v)+b.posAtStart}function Do(e,t,n,o,i){let r=Math.round((o-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;r+=Math.floor((i-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+qe(s,r,e.state.tabSize)}function Io(e,t,n){let o=e.lineBlockAt(t);if(Array.isArray(o.type)){let e;for(let i of o.type){if(i.from>t)break;if(!(i.to<t)){if(i.from<t&&i.to>t)return i;e&&(i.type!=un.Text||e.type==i.type&&!(n<0?i.from<t:i.to>t))||(e=i)}}return e||o}return o}function Ro(e,t,n,o){let i=e.state.doc.lineAt(t.head),r=e.bidiSpans(i),s=e.textDirectionAt(i.from);for(let a=t,l=null;;){let t=Vn(i,r,s,a,n),c=jn;if(!t){if(i.number==(n?e.state.doc.lines:1))return a;c="\n",i=e.state.doc.line(i.number+(n?1:-1)),r=e.bidiSpans(i),t=e.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!o)return t;l=o(c)}a=t}}function zo(e,t,n){for(;;){let o=0;for(let i of e)i.between(t-1,t+1,((e,i,r)=>{if(t>e&&t<i){let r=o||n||(t-e<i-t?-1:1);t=r<0?e:i,o=r}}));if(!o)return t}}function No(e,t,n){let o=zo(e.state.facet(mo).map((t=>t(e))),n.from,t.head>n.from?-1:1);return o==n.from?n:L.cursor(o,o<n.from?1:-1)}const Lo="￿";class jo{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ae.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Lo}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let o=e;;){this.findPointBefore(n,o);let e=this.text.length;this.readNode(o);let i=o.nextSibling;if(i==t)break;let r=Et.get(o),s=Et.get(i);(r&&s?r.breakAfter:(r?r.breakAfter:pt(o))||pt(i)&&("BR"!=o.nodeName||o.cmIgnore)&&this.text.length>e)&&this.lineBreak(),o=i}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let i,r=-1,s=1;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(i=o.exec(t))&&(r=i.index,s=i[0].length),this.append(t.slice(n,r<0?t.length:r)),r<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=r+s}}readNode(e){if(e.cmIgnore)return;let t=Et.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(Vo(e,n.node,n.offset)?t:0))}}function Vo(e,t,n){for(;;){if(!t||n<gt(t))return!1;if(t==e)return!0;n=ft(t)+1,t=t.parentNode}}class Bo{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Zo{constructor(e,t,n,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:i,impreciseAnchor:r}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=i||r?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:o,focusNode:i,focusOffset:r}=e.observer.selectionRange;n&&(t.push(new Bo(n,o)),i==n&&r==o||t.push(new Bo(i,r)));return t}(e),n=new jo(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,o=2==e.length?e[1].pos:n;return n>-1&&o>-1?L.single(n+t,o+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=i&&i.node==t.focusNode&&i.offset==t.focusOffset||!ct(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),o=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset||!ct(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),s=e.viewport;if((Ft.ios||Ft.chrome)&&e.state.selection.main.empty&&n!=o&&(s.from>0||s.to<e.state.doc.length)){let t=Math.min(n,o),i=Math.max(n,o),r=s.from-t,a=s.to-i;0!=r&&1!=r&&0!=t||0!=a&&-1!=a&&i!=e.state.doc.length||(n=0,o=e.state.doc.length)}this.newSel=L.single(o,n)}}}function Xo(e,t){let n,{newSel:o}=t,i=e.state.selection.main,r=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:o,to:s}=t.bounds,a=i.from,l=null;(8===r||Ft.android&&t.text.length<s-o)&&(a=i.to,l="end");let c=function(e,t,n,o){let i=Math.min(e.length,t.length),r=0;for(;r<i&&e.charCodeAt(r)==t.charCodeAt(r);)r++;if(r==i&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==o){n-=s+Math.max(0,r-Math.min(s,a))-r}if(s<r&&e.length<t.length){r-=n<=r&&n>=s?r-n:0,a=r+(a-s),s=r}else if(a<r){r-=n<=r&&n>=a?r-n:0,s=r+(s-a),a=r}return{from:r,toA:s,toB:a}}(e.state.doc.sliceString(o,s,Lo),t.text,a-o,l);c&&(Ft.chrome&&13==r&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==Lo+Lo&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:p.of(t.text.slice(c.from,c.toB).split(Lo))})}else o&&(!e.hasFocus&&e.state.facet(ro)||o.main.eq(i))&&(o=null);if(!n&&!o)return!1;if(!n&&t.typeOver&&!i.empty&&o&&o.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:(Ft.mac||Ft.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(o&&2==n.insert.length&&(o=L.single(o.main.anchor-1,o.main.head-1)),n={from:n.from,to:n.to,insert:p.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:Ft.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(o&&(o=L.single(o.main.anchor-1,o.main.head-1)),n={from:i.from,to:i.to,insert:p.of([" "])}),n)return Wo(e,n,o,r);if(o&&!o.main.eq(i)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:o,scrollIntoView:t,userEvent:n}),!0}return!1}function Wo(e,t,n,o=-1){if(Ft.ios&&e.inputState.flushIOSKey(t))return!0;let i=e.state.selection.main;if(Ft.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&" "==e.state.sliceDoc(t.from,i.from))&&1==t.insert.length&&2==t.insert.lines&&kt(e.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&0==t.insert.length||8==o&&t.insert.length<t.to-t.from&&t.to>i.head)&&kt(e.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&0==t.insert.length&&kt(e.contentDOM,"Delete",46)))return!0;let r,s=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a=()=>r||(r=function(e,t,n){let o,i=e.state,r=i.selection.main;if(t.from>=r.from&&t.to<=r.to&&t.to-t.from>=(r.to-r.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=r.from<t.from?i.sliceDoc(r.from,t.from):"",s=r.to>t.to?i.sliceDoc(t.to,r.to):"";o=i.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let s=i.changes(t),a=n&&n.main.to<=s.newLength?n.main:void 0;if(i.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=r.to&&t.to>=r.to-10){let l,c=e.state.sliceDoc(t.from,t.to),u=n&&_o(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);l={from:u.from,to:u.to-e}}else l=e.state.doc.lineAt(r.head);let d=r.to-t.to,h=r.to-r.from;o=i.changeByRange((n=>{if(n.from==r.from&&n.to==r.to)return{changes:s,range:a||n.map(s)};let o=n.to-d,u=o-c.length;if(n.to-n.from!=h||e.state.sliceDoc(u,o)!=c||n.to>=l.from&&n.from<=l.to)return{range:n};let f=i.changes({from:u,to:o,insert:t.insert}),p=n.to-r.to;return{changes:f,range:a?L.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):n.map(f)}}))}else o={changes:s,selection:a&&i.selection.replaceRange(a)}}let s="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,s+=".compose",e.inputState.compositionFirstChange&&(s+=".start",e.inputState.compositionFirstChange=!1));return i.update(o,{userEvent:s,scrollIntoView:!0})}(e,t,n));return e.state.facet(Fn).some((n=>n(e,t.from,t.to,s,a)))||e.dispatch(a()),!0}class Uo{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ft.safari&&e.contentDOM.addEventListener("input",(()=>null)),Ft.gecko&&function(e){bi.has(e)||(bi.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,o=t.target;o!=e.contentDOM;o=o.parentNode)if(!o||11==o.nodeType||(n=Et.get(o))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then((()=>this.runHandlers(e.type,e))):this.runHandlers(e.type,e)))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Fo(e),n=this.handlers,o=this.view.contentDOM;for(let e in t)if("scroll"!=e){let i=!t[e].handlers.length,r=n[e];r&&i!=!r.handlers.length&&(o.removeEventListener(e,this.handleEvent),r=null),r||o.addEventListener(e,this.handleEvent,{passive:i})}for(let e in n)"scroll"==e||t[e]||o.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=e.keyCode&&Go.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ft.android&&Ft.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!Ft.ios||e.synthetic||e.altKey||e.metaKey||!((t=qo.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||Ho.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,kt(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0)))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Ft.safari&&!Ft.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Yo(e,t){return(n,o)=>{try{return t.call(e,o,n)}catch(e){io(n.state,e)}}}function Fo(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec;if(e&&e.domEventHandlers)for(let o in e.domEventHandlers){let i=e.domEventHandlers[o];i&&n(o).handlers.push(Yo(t.value,i))}if(e&&e.domEventObservers)for(let o in e.domEventObservers){let i=e.domEventObservers[o];i&&n(o).observers.push(Yo(t.value,i))}}for(let e in ei)n(e).handlers.push(ei[e]);for(let e in ti)n(e).observers.push(ti[e]);return t}const qo=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ho="dthko",Go=[16,17,18,20,91,92,224,225];function Ko(e){return.7*Math.max(0,e)+8}class Jo{constructor(e,t,n,o){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(e){let t,n,o=e.ownerDocument;for(let i=e.parentNode;i&&!(i==o.body||t&&n);)if(1==i.nodeType)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}return{x:t,y:n}}(e.contentDOM),this.atoms=e.state.facet(mo).map((t=>t(e)));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ae.allowMultipleSelections)&&function(e,t){let n=e.state.facet(Zn);return n.length?n[0](t):Ft.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let o=lt(e.root);if(!o||0==o.rangeCount)return!0;let i=o.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){let n=i[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=fi(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(t=this.startEvent,n=e,Math.max(Math.abs(t.clientX-n.clientX),Math.abs(t.clientY-n.clientY))<10))return;var t,n;this.select(this.lastEvent=e);let o=0,i=0,r=0,s=0,a=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=bo(this.view);e.clientX-c.left<=r+6?o=-Ko(r-e.clientX):e.clientX+c.right>=a-6&&(o=Ko(e.clientX-a)),e.clientY-c.top<=s+6?i=-Ko(s-e.clientY):e.clientY+c.bottom>=l-6&&(i=Ko(e.clientY-l)),this.setScrollSpeed(o,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let o=e.ranges[n],i=null;if(o.empty){let e=zo(this.atoms,o.from,0);e!=o.from&&(i=L.cursor(e,-1))}else{let e=zo(this.atoms,o.from,-1),t=zo(this.atoms,o.to,1);e==o.from&&t==o.to||(i=L.range(o.from==o.anchor?e:t,o.from==o.head?e:t))}i&&(t||(t=e.ranges.slice()),t[n]=i)}return t?L.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some((e=>e.isUserEvent("input.type")))?this.destroy():this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const ei=Object.create(null),ti=Object.create(null),ni=Ft.ie&&Ft.ie_version<15||Ft.ios&&Ft.webkit_version<604;function oi(e,t,n){for(let o of e.facet(t))n=o(n,e);return n}function ii(e,t){t=oi(e.state,Hn,t);let n,{state:o}=e,i=1,r=o.toText(t),s=r.lines==o.selection.ranges.length;if(null!=mi&&o.selection.ranges.every((e=>e.empty))&&mi==r.toString()){let e=-1;n=o.changeByRange((n=>{let a=o.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let l=o.toText((s?r.line(i++).text:t)+o.lineBreak);return{changes:{from:a.from,insert:l},range:L.cursor(n.from+l.length)}}))}else n=s?o.changeByRange((e=>{let t=r.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:L.cursor(e.from+t.length)}})):o.replaceSelection(r);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function ri(e,t,n,o){if(1==o)return L.cursor(t,n);if(2==o)return function(e,t,n=1){let o=e.charCategorizer(t),i=e.doc.lineAt(t),r=t-i.from;if(0==i.length)return L.cursor(t);0==r?n=1:r==i.length&&(n=-1);let s=r,a=r;n<0?s=_(i.text,r,!1):a=_(i.text,r);let l=o(i.text.slice(s,a));for(;s>0;){let e=_(i.text,s,!1);if(o(i.text.slice(e,s))!=l)break;s=e}for(;a<i.length;){let e=_(i.text,a);if(o(i.text.slice(a,e))!=l)break;a=e}return L.range(s+i.from,a+i.from)}(e.state,t,n);{let n=On.find(e.docView,t),o=e.state.doc.lineAt(n?n.posAtEnd:t),i=n?n.posAtStart:o.from,r=n?n.posAtEnd:o.to;return r<e.state.doc.length&&r==o.to&&r++,L.range(i,r)}}ti.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},ei.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),ti.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},ti.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},ei.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let o of e.state.facet(Wn))if(n=o(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=li(e,t),o=fi(t),i=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get(t,r,s){let a,l=li(e,t),c=ri(e,l.pos,l.bias,o);if(n.pos!=l.pos&&!r){let t=ri(e,n.pos,n.bias,o),i=Math.min(t.from,c.from),r=Math.max(t.to,c.to);c=i<c.from?L.range(i,r):L.range(r,i)}return r?i.replaceRange(i.main.extend(c.from,c.to)):s&&1==o&&i.ranges.length>1&&(a=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:o,to:i}=e.ranges[n];if(o<=t&&i>=t)return L.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(i,l.pos))?a:s?i.addRange(c):L.create([c])}}}(e,t)),n){let o=!e.hasFocus;e.inputState.startMouseSelection(new Jo(e,t,n,o)),o&&e.observer.ignore((()=>{St(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()}));let i=e.inputState.mouseSelection;if(i)return i.start(t),!1===i.dragging}return!1};let si=(e,t,n)=>t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right;function ai(e,t,n,o){let i=On.find(e.docView,t);if(!i)return 1;let r=t-i.posAtStart;if(0==r)return 1;if(r==i.length)return-1;let s=i.coordsAt(r,-1);if(s&&si(n,o,s))return-1;let a=i.coordsAt(r,1);return a&&si(n,o,a)?1:s&&s.bottom>=o?-1:1}function li(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:ai(e,n,t.clientX,t.clientY)}}const ci=Ft.ie&&Ft.ie_version<=11;let ui=null,di=0,hi=0;function fi(e){if(!ci)return e.detail;let t=ui,n=hi;return ui=e,hi=Date.now(),di=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(di+1)%3:1}function pi(e,t,n,o){if(!(n=oi(e.state,Hn,n)))return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:r}=e.inputState,s=o&&r&&function(e,t){let n=e.state.facet(Xn);return n.length?n[0](t):Ft.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:r.from,to:r.to}:null,a={from:i,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),e.inputState.draggedContent=null}ei.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let o=e.docView.nearest(t.target);if(o&&o.isWidget){let e=o.posAtStart,t=e+o.length;(e>=n.to||t<=n.from)&&(n=L.range(e,t))}}let{inputState:o}=e;return o.mouseSelection&&(o.mouseSelection.dragging=!0),o.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",oi(e.state,Gn,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1},ei.dragend=e=>(e.inputState.draggedContent=null,!1),ei.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let o=Array(n.length),i=0,r=()=>{++i==n.length&&pi(e,t,o.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=r,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(o[e]=t.result),r()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return pi(e,t,n,!0),!0}return!1},ei.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=ni?null:t.clipboardData;return n?(ii(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),ii(e,n.value)}),50)}(e),!1)};let mi=null;ei.copy=ei.cut=(e,t)=>{let{text:n,ranges:o,linewise:i}=function(e){let t=[],n=[],o=!1;for(let o of e.selection.ranges)o.empty||(t.push(e.sliceDoc(o.from,o.to)),n.push(o));if(!t.length){let i=-1;for(let{from:o}of e.selection.ranges){let r=e.doc.lineAt(o);r.number>i&&(t.push(r.text),n.push({from:r.from,to:Math.min(e.doc.length,r.to+1)})),i=r.number}o=!0}return{text:oi(e,Gn,t.join(e.lineBreak)),ranges:n,linewise:o}}(e.state);if(!n&&!i)return!1;mi=i?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"});let r=ni?null:t.clipboardData;return r?(r.clearData(),r.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let o=n.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.value=t,o.focus(),o.selectionEnd=t.length,o.selectionStart=0,setTimeout((()=>{o.remove(),e.focus()}),50)}(e,n),!1)};const gi=me.define();function Oi(e,t){let n=[];for(let o of e.facet(qn)){let i=o(e,t);i&&n.push(i)}return n.length?e.update({effects:n,annotations:gi.of(!0)}):null}function vi(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=Oi(e.state,t);n?e.dispatch(n):e.update([])}}),10)}ti.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),vi(e)},ti.blur=e=>{e.observer.clearSelectionRange(),vi(e)},ti.compositionstart=ti.compositionupdate=e=>{e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},ti.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,Ft.chrome&&Ft.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50))},ti.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},ei.beforeinput=(e,t)=>{var n,o;if("insertReplacementText"==t.inputType&&e.observer.editContext){let o=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),i=t.getTargetRanges();if(o&&i.length){let t=i[0],n=e.posAtDOM(t.startContainer,t.startOffset),r=e.posAtDOM(t.endContainer,t.endOffset);return Wo(e,{from:n,to:r,insert:e.state.toText(o)},null),!0}}let i;if(Ft.chrome&&Ft.android&&(i=qo.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null===(o=window.visualViewport)||void 0===o?void 0:o.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return Ft.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),Ft.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout((()=>ti.compositionend(e,t)),20),!1};const bi=new Set;const yi=["pre-wrap","normal","pre-line","break-spaces"];let xi=!1;function wi(){xi=!1}class Si{constructor(e){this.lineWrapping=e,this.doc=p.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return yi.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let o=e[n];o<0?n++:this.heightSamples[Math.floor(10*o)]||(t=!0,this.heightSamples[Math.floor(10*o)]=!0)}return t}refresh(e,t,n,o,i,r){let s=yi.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=n,this.textHeight=o,this.lineLength=i,a){this.heightSamples={};for(let e=0;e<r.length;e++){let t=r[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class _i{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ki{constructor(e,t,n,o,i){this.from=e,this.length=t,this.top=n,this.height=o,this._content=i}get type(){return"number"==typeof this._content?un.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof pn?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ki(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ci=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Ci||(Ci={}));const Ti=.001;class $i{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ti&&(xi=!0),this.height=e)}replace(e,t,n){return $i.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,o){let i=this,r=n.doc;for(let s=o.length-1;s>=0;s--){let{fromA:a,toA:l,fromB:c,toB:u}=o[s],d=i.lineAt(a,Ci.ByPosNoHeight,n.setDoc(t),0,0),h=d.to>=l?d:i.lineAt(l,Ci.ByPosNoHeight,n,0,0);for(u+=h.to-l,l=h.to;s>0&&d.from<=o[s-1].toA;)a=o[s-1].fromA,c=o[s-1].fromB,s--,a<d.from&&(d=i.lineAt(a,Ci.ByPosNoHeight,n,0,0));c+=d.from-a,a=d.from;let f=Ii.build(n.setDoc(r),e,c,u);i=Pi(i,i.replace(a,l,f))}return i.updateHeight(n,0)}static empty(){return new Qi(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,o=0,i=0;for(;;)if(t==n)if(o>2*i){let i=e[t-1];i.break?e.splice(--t,1,i.left,null,i.right):e.splice(--t,1,i.left,i.right),n+=1+i.break,o-=i.size}else{if(!(i>2*o))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,i-=t.size}}else if(o<i){let n=e[t++];n&&(o+=n.size)}else{let t=e[--n];t&&(i+=t.size)}let r=0;return null==e[t-1]?(r=1,t--):null==e[t]&&(r=1,n++),new Mi($i.of(e.slice(0,t)),r,$i.of(e.slice(n)))}}function Pi(e,t){return e==t?e:(e.constructor!=t.constructor&&(xi=!0),t)}$i.prototype.size=1;class Ai extends $i{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,o){return new ki(o,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,o,i){return this.blockAt(0,n,o,i)}forEachLine(e,t,n,o,i,r){e<=i+this.length&&t>=i&&r(this.blockAt(0,n,o,i))}updateHeight(e,t=0,n=!1,o){return o&&o.from<=t&&o.more&&this.setHeight(o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Qi extends Ai{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,o){return new ki(o,this.length,n,this.height,this.breaks)}replace(e,t,n){let o=n[0];return 1==n.length&&(o instanceof Qi||o instanceof Ei&&4&o.flags)&&Math.abs(this.length-o.length)<10?(o instanceof Ei?o=new Qi(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):$i.of(n)}updateHeight(e,t=0,n=!1,o){return o&&o.from<=t&&o.more?this.setHeight(o.heights[o.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ei extends $i{constructor(e){super(e,0)}heightMetrics(e,t){let n,o=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,r=i-o+1,s=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*r);n=t/r,this.length>r+1&&(s=(this.height-t)/(this.length-r-1))}else n=this.height/r;return{firstLine:o,lastLine:i,perLine:n,perChar:s}}blockAt(e,t,n,o){let{firstLine:i,lastLine:r,perLine:s,perChar:a}=this.heightMetrics(t,o);if(t.lineWrapping){let i=o+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),r=t.doc.lineAt(i),l=s+r.length*a,c=Math.max(n,e-l/2);return new ki(r.from,r.length,c,l,0)}{let o=Math.max(0,Math.min(r-i,Math.floor((e-n)/s))),{from:a,length:l}=t.doc.line(i+o);return new ki(a,l,n+s*o,s,0)}}lineAt(e,t,n,o,i){if(t==Ci.ByHeight)return this.blockAt(e,n,o,i);if(t==Ci.ByPosNoHeight){let{from:t,to:o}=n.doc.lineAt(e);return new ki(t,o-t,0,0,0)}let{firstLine:r,perLine:s,perChar:a}=this.heightMetrics(n,i),l=n.doc.lineAt(e),c=s+l.length*a,u=l.number-r,d=o+s*u+a*(l.from-i-u);return new ki(l.from,l.length,Math.max(o,Math.min(d,o+this.height-c)),c,0)}forEachLine(e,t,n,o,i,r){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);for(let c=e,u=o;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-s;u+=a*n+l*(e-i-n)}let o=a+l*t.length;r(new ki(t.from,t.length,u,o,0)),u+=o,c=t.to+1}}replace(e,t,n){let o=this.length-t;if(o>0){let e=n[n.length-1];e instanceof Ei?n[n.length-1]=new Ei(e.length+o):n.push(null,new Ei(o-1))}if(e>0){let t=n[0];t instanceof Ei?n[0]=new Ei(e+t.length):n.unshift(new Ei(e-1),null)}return $i.of(n)}decomposeLeft(e,t){t.push(new Ei(e-1),null)}decomposeRight(e,t){t.push(null,new Ei(this.length-e-1))}updateHeight(e,t=0,n=!1,o){let i=t+this.length;if(o&&o.from<=t+this.length&&o.more){let n=[],r=Math.max(t,o.from),s=-1;for(o.from>t&&n.push(new Ei(o.from-t-1).updateHeight(e,t));r<=i&&o.more;){let t=e.doc.lineAt(r).length;n.length&&n.push(null);let i=o.heights[o.index++];-1==s?s=i:Math.abs(i-s)>=Ti&&(s=-2);let a=new Qi(t,i);a.outdated=!1,n.push(a),r+=t+1}r<=i&&n.push(null,new Ei(i-r).updateHeight(e,r));let a=$i.of(n);return(s<0||Math.abs(a.height-this.height)>=Ti||Math.abs(s-this.heightMetrics(e,t).perLine)>=Ti)&&(xi=!0),Pi(this,a)}return(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Mi extends $i{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,o){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,o):this.right.blockAt(e,t,i,o+this.left.length+this.break)}lineAt(e,t,n,o,i){let r=o+this.left.height,s=i+this.left.length+this.break,a=t==Ci.ByHeight?e<r:e<s,l=a?this.left.lineAt(e,t,n,o,i):this.right.lineAt(e,t,n,r,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==Ci.ByPosNoHeight?Ci.ByPosNoHeight:Ci.ByPos;return a?l.join(this.right.lineAt(s,c,n,r,s)):this.left.lineAt(s,c,n,o,i).join(l)}forEachLine(e,t,n,o,i,r){let s=o+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,o,i,r),t>=a&&this.right.forEachLine(e,t,n,s,a,r);else{let l=this.lineAt(a,Ci.ByPos,n,o,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,o,i,r),l.to>=e&&l.from<=t&&r(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,r)}}replace(e,t,n){let o=this.left.length+this.break;if(t<o)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-o,t-o,n));let i=[];e>0&&this.decomposeLeft(e,i);let r=i.length;for(let e of n)i.push(e);if(e>0&&Di(i,r-1),t<this.length){let e=i.length;this.decomposeRight(t,i),Di(i,e)}return $i.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,o=n+this.break;if(e>=o)return this.right.decomposeRight(e-o,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<o&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?$i.of(this.break?[e,null,t]:[e,t]):(this.left=Pi(this.left,e),this.right=Pi(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,o){let{left:i,right:r}=this,s=t+i.length+this.break,a=null;return o&&o.from<=t+i.length&&o.more?a=i=i.updateHeight(e,t,n,o):i.updateHeight(e,t,n),o&&o.from<=s+r.length&&o.more?a=r=r.updateHeight(e,s,n,o):r.updateHeight(e,s,n),a?this.balanced(i,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Di(e,t){let n,o;null==e[t]&&(n=e[t-1])instanceof Ei&&(o=e[t+1])instanceof Ei&&e.splice(t-1,3,new Ei(n.length+1+o.length))}class Ii{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Qi?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Qi(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let o=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let r=t-e;n.block?this.addBlock(new Ai(r,o,n)):(r||i||o>=5)&&this.addLineDeco(o,i,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Qi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Ei(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Qi)return e;let t=new Qi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let o=this.ensureLine();o.length+=n,o.collapsed+=n,o.widgetHeight=Math.max(o.widgetHeight,e),o.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Qi||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Qi(0,-1));let n=e;for(let e of this.nodes)e instanceof Qi&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,o){let i=new Ii(n,e);return Re.spans(t,n,o,i,0),i.finish(n)}}class Ri{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,o){(e<t||n&&n.heightRelevant||o&&o.heightRelevant)&&gn(e,t,this.changes,5)}}function zi(e,t){let n=e.getBoundingClientRect(),o=e.ownerDocument,i=o.defaultView||window,r=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=o.body;)if(1==t.nodeType){let n=t,o=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=o.overflow){let o=n.getBoundingClientRect();r=Math.max(r,o.left),s=Math.min(s,o.right),a=Math.max(a,o.top),l=Math.min(t==e.parentNode?i.innerHeight:l,o.bottom)}t="absolute"==o.position||"fixed"==o.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:r-n.left,right:Math.max(r,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function Ni(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class Li{constructor(e,t,n,o){this.from=e,this.to=t,this.size=n,this.displaySize=o}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(o.from!=i.from||o.to!=i.to||o.size!=i.size)return!1}return!0}draw(e,t){return dn.replace({widget:new ji(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class ji extends cn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Vi{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Wi,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Sn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(ho).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new Si(t),this.stateDeco=e.facet(fo).filter((e=>"function"!=typeof e)),this.heightMap=$i.empty().applyChanges(this.stateDeco,p.empty,this.heightOracle.setDoc(e.doc),[new xo(0,0,0,e.doc.length)]);for(let e=0;e<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());e++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=dn.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let o=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>o>=e&&o<=t))){let{from:t,to:n}=this.lineBlockAt(o);e.push(new Bi(t,n))}}return this.viewports=e.sort(((e,t)=>e.from-t.from)),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Wi:new Ui(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(Yi(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(fo).filter((e=>"function"!=typeof e));let o=e.changedRanges,i=xo.extendWithRanges(o,function(e,t,n){let o=new Ri;return Re.compare(e,t,n,o,0),o.changes}(n,this.stateDeco,e?e.changes:Q.empty(this.state.doc.length))),r=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);wi(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=r||xi)&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=r);let a=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(l||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Jn)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),o=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Sn.RTL:Sn.LTR;let r=this.heightOracle.mustRefreshForWrapping(i),s=t.getBoundingClientRect(),a=r||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let l=0,c=0;if(s.width&&s.height){let{scaleX:e,scaleY:n}=bt(t,s);(e>.005&&Math.abs(this.scaleX-e)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=e,this.scaleY=n,l|=16,r=a=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,l|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=Tt(e.scrollDOM);let f=(this.printing?Ni:zi)(t,this.paddingTop),m=f.top-this.pixelViewport.top,g=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(a=!0)),!this.inView&&!this.scrollTarget&&!function(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}(e.dom))return 0;let v=s.width;if(this.contentDOMWidth==v&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,l|=16),a){let t=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(t)&&(r=!0),r||o.lineWrapping&&Math.abs(v-this.contentDOMWidth)>o.charWidth){let{lineHeight:n,charWidth:s,textHeight:a}=e.docView.measureTextSize();r=n>0&&o.refresh(i,n,s,a,v/s,t),r&&(e.docView.minWidth=0,l|=16)}m>0&&g>0?c=Math.max(m,g):m<0&&g<0&&(c=Math.min(m,g)),wi();for(let n of this.viewports){let i=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(r?$i.empty().applyChanges(this.stateDeco,p.empty,this.heightOracle,[new xo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(o,0,r,new _i(n.from,i))}xi&&(l|=2)}let b=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),l|=this.updateForViewport()),(2&l||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,i=this.heightOracle,{visibleTop:r,visibleBottom:s}=this,a=new Bi(o.lineAt(r-1e3*n,Ci.ByHeight,i,0,0).from,o.lineAt(s+1e3*(1-n),Ci.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,r=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=o.lineAt(e,Ci.ByPos,i,0,0);n="center"==t.y?(s.top+s.bottom)/2-r/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-r,a=new Bi(o.lineAt(n-500,Ci.ByHeight,i,0,0).from,o.lineAt(n+r+500,Ci.ByHeight,i,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),o=t.mapPos(e.to,1);return new Bi(this.heightMap.lineAt(n,Ci.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,Ci.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(e,Ci.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,Ci.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:s}=this;return(0==e||o<=r-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=s+Math.max(10,Math.min(n,250)))&&o>r-2e3&&i<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let o of e)t.touchesRange(o.from,o.to)||n.push(new Li(t.mapPos(o.from),t.mapPos(o.to),o.size,o.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,o=n?1e4:2e3,i=o>>1,r=o<<1;if(this.defaultTextDirection!=Sn.LTR&&!n)return[];let s=[],a=(o,r,l,c)=>{if(r-o<i)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>o&&e<r)return a(o,e-10,l,c),void a(e+10,r,l,c);let h=function(e,t){for(let n of e)if(t(n))return n;return}(e,(e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-o)<i&&Math.abs(e.to-r)<i&&!d.some((t=>e.from<t&&e.to>t))));if(!h){if(r<l.to&&t&&n&&t.visibleRanges.some((e=>e.from<=r&&e.to>=r))){let e=t.moveToLineBoundary(L.cursor(r),!1,!0).head;e>o&&(r=e)}let e=this.gapSize(l,o,r,c);h=new Li(o,r,e,n||e<2e6?e:2e6)}s.push(h)},l=t=>{if(t.length<r||t.type!=un.Text)return;let i=function(e,t,n){let o=[],i=e,r=0;Re.spans(n,e,t,{span(){},point(e,t){e>i&&(o.push({from:i,to:e}),r+=e-i),i=t}},20),i<t&&(o.push({from:i,to:t}),r+=t-i);return{total:r,ranges:o}}(t.from,t.to,this.stateDeco);if(i.total<r)return;let s,l,c=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let e,n,r=o/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let o=Xi(i,c),s=((this.visibleBottom-this.visibleTop)/2+r)/t.height;e=o-s,n=o+s}else e=(this.visibleTop-t.top-r)/t.height,n=(this.visibleBottom-t.top+r)/t.height;s=Zi(i,e),l=Zi(i,n)}else{let n=i.total*this.heightOracle.charWidth,r=o*this.heightOracle.charWidth,a=0;if(n>2e6)for(let n of e)n.from>=t.from&&n.from<t.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+a<this.pixelViewport.left&&(a=n.size-n.displaySize);let u,d,h=this.pixelViewport.left+a,f=this.pixelViewport.right+a;if(null!=c){let e=Xi(i,c),t=((f-h)/2+r)/n;u=e-t,d=e+t}else u=(h-r)/n,d=(f+r)/n;s=Zi(i,u),l=Zi(i,d)}s>t.from&&a(t.from,s,t,i),l<t.to&&a(l,t.to,t,i)};for(let e of this.viewportLines)Array.isArray(e.type)?e.type.forEach(l):l(e);return s}gapSize(e,t,n,o){let i=Xi(o,n)-Xi(o,t);return this.heightOracle.lineWrapping?e.height*i:o.total*this.heightOracle.charWidth*i}updateLineGaps(e){Li.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=dn.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Re.spans(t,this.viewport.from,this.viewport.to,{span(e,t){n.push({from:e,to:t})},point(){}},20);let o=0;if(n.length!=this.visibleRanges.length)o=12;else for(let t=0;t<n.length&&!(8&o);t++){let i=this.visibleRanges[t],r=n[t];i.from==r.from&&i.to==r.to||(o|=4,e&&e.mapPos(i.from,-1)==r.from&&e.mapPos(i.to,1)==r.to||(o|=8))}return this.visibleRanges=n,o}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Yi(this.heightMap.lineAt(e,Ci.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((t=>t.top<=e&&t.bottom>=e))||Yi(this.heightMap.lineAt(this.scaler.fromDOM(e),Ci.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Yi(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Bi{constructor(e,t){this.from=e,this.to=t}}function Zi({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let o=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:i}=t[e],r=i-n;if(o<=r)return n+o;o-=r}}function Xi(e,t){let n=0;for(let{from:o,to:i}of e.ranges){if(t<=i){n+=t-o;break}n+=i-o}return n/e.total}const Wi={toDOM:e=>e,fromDOM:e=>e,scale:1,eq(e){return e==this}};class Ui{constructor(e,t,n){let o=0,i=0,r=0;this.viewports=n.map((({from:n,to:i})=>{let r=t.lineAt(n,Ci.ByPos,e,0,0).top,s=t.lineAt(i,Ci.ByPos,e,0,0).bottom;return o+=s-r,{from:n,to:i,top:r,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-o)/(t.height-o);for(let e of this.viewports)e.domTop=r+(e.top-i)*this.scale,r=e.domBottom=e.domTop+(e.bottom-e.top),i=e.bottom}toDOM(e){for(let t=0,n=0,o=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return o+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,o=i.domBottom}}fromDOM(e){for(let t=0,n=0,o=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-o)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,o=i.domBottom}}eq(e){return e instanceof Ui&&(this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every(((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to)))}}function Yi(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),o=t.toDOM(e.bottom);return new ki(e.from,e.length,n,o-n,Array.isArray(e._content)?e._content.map((e=>Yi(e,t))):e._content)}const Fi=B.define({combine:e=>e.join(" ")}),qi=B.define({combine:e=>e.indexOf(!0)>-1}),Hi=Je.newName(),Gi=Je.newName(),Ki=Je.newName(),Ji={"&light":"."+Gi,"&dark":"."+Ki};function er(e,t,n){return new Je(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const tr=er("."+Hi,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Ji),nr={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},or=Ft.ie&&Ft.ie_version<=11;class ir{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new yt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Ft.ie&&Ft.ie_version<=11||Ft.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===e.constructor.EDIT_CONTEXT||Ft.chrome&&Ft.chrome_version<126||(this.editContext=new ar(e),e.state.facet(ro)&&(e.contentDOM.editContext=this.editContext.editContext)),or&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(e){("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,o=this.selectionRange;if(n.state.facet(ro)?n.root.activeElement!=this.dom:!ut(this.dom,o))return;let i=o.anchorNode&&n.docView.nearest(o.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(Ft.ie&&Ft.ie_version<=11||Ft.android&&Ft.chrome)&&!n.state.selection.main.empty&&o.focusNode&&ht(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=lt(e.root);if(!t)return!1;let n=Ft.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return sr(e,n)}let n=null;function o(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",o,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",o,!0),n?sr(e,n):null}(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let o=ut(this.dom,n);return o&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,o=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=o)return!1;for(o=Math.min(o,gt(n));;)if(o){if(1!=n.nodeType)return!1;let e=n.childNodes[o-1];"false"==e.contentEditable?o--:(n=e,o=gt(n))}else{if(n==e)return!0;o=ft(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),o&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,nr),or&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),or&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;if(e){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&kt(this.dom,e.key,e.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,o=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(o=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:o}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),o=this.selectionChanged&&ut(this.dom,this.selectionRange);if(e<0&&!o)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Zo(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,o=Xo(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),o}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=rr(t,e.previousSibling||e.target.previousSibling,-1),o=rr(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:o?t.posBefore(o):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ro)!=e.state.facet(ro)&&(e.view.contentDOM.editContext=e.state.facet(ro)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function rr(e,t,n){for(;t;){let o=Et.get(t);if(o&&o.parent==e)return o;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function sr(e,t){let n=t.startContainer,o=t.startOffset,i=t.endContainer,r=t.endOffset,s=e.docView.domAtPos(e.state.selection.main.anchor);return ht(s.node,s.offset,i,r)&&([n,o,i,r]=[i,r,n,o]),{anchorNode:n,anchorOffset:o,focusNode:i,focusOffset:r}}class ar{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=t=>{let n=e.state.selection.main,{anchor:o,head:i}=n,r=this.toEditorPos(t.updateRangeStart),s=this.toEditorPos(t.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:t.updateRangeStart,editorBase:r,drifted:!1});let a={from:r,to:s,insert:p.of(t.text.split("\n"))};if(a.from==this.from&&o<this.from?a.from=o:a.to==this.to&&o>this.to&&(a.to=o),a.from!=a.to||a.insert.length){if((Ft.mac||Ft.android)&&a.from==i-1&&/^\. ?$/.test(t.text)&&"off"==e.contentDOM.getAttribute("autocorrect")&&(a={from:r,to:s,insert:p.of([t.text.replace("."," ")])}),this.pendingContextChange=a,!e.state.readOnly){let n=this.to-this.from+(a.to-a.from+a.insert.length);Wo(e,a,L.single(this.toEditorPos(t.selectionStart,n),this.toEditorPos(t.selectionEnd,n)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))}else{let o=L.single(this.toEditorPos(t.selectionStart),this.toEditorPos(t.selectionEnd));o.main.eq(n)||e.dispatch({selection:o,userEvent:"select"})}},this.handlers.characterboundsupdate=n=>{let o=[],i=null;for(let t=this.toEditorPos(n.rangeStart),r=this.toEditorPos(n.rangeEnd);t<r;t++){let n=e.coordsForChar(t);i=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||i||new DOMRect,o.push(i)}t.updateCharacterBounds(n.rangeStart,o)},this.handlers.textformatupdate=t=>{let n=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,o=e.underlineThickness;if("None"!=t&&"None"!=o){let i=this.toEditorPos(e.rangeStart),r=this.toEditorPos(e.rangeEnd);if(i<r){let e=`text-decoration: underline ${"Dashed"==t?"dashed ":"Squiggle"==t?"wavy ":""}${"Thin"==o?1:2}px`;n.push(dn.mark({attributes:{style:e}}).range(i,r))}}}e.dispatch({effects:oo.of(dn.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}};for(let e in this.handlers)t.addEventListener(e,this.handlers[e]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=lt(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,o=this.pendingContextChange;return e.changes.iterChanges(((i,r,s,a,l)=>{if(n)return;let c=l.length-(r-i);if(o&&r>=o.to){if(o.from==i&&o.to==r&&o.insert.eq(l))return o=this.pendingContextChange=null,t+=c,void(this.to+=c);o=null,this.revertPending(e.state)}if(i+=t,(r+=t)<=this.from)this.from+=c,this.to+=c;else if(i<this.to){if(i<this.from||r>this.to||this.to-this.from+l.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(i),this.toContextPos(r),l.toString()),this.to+=c}t+=c})),o&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some((e=>!e.isUserEvent("input.type")&&e.changes.touchesRange(this.from,this.to))))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),o=this.toContextPos(t.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==o||this.editContext.updateSelection(n,o)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class lr{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(e=>e.forEach((e=>n(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new Vi(e.state||Ae.create(e)),e.scrollTo&&e.scrollTo.is(no)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ao).map((e=>new co(e)));for(let e of this.plugins)e.update(this);this.observer=new ir(this),this.inputState=new Uo(this),this.inputState.ensureHandlers(this.plugins),this.docView=new So(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...e){let t=1==e.length&&e[0]instanceof be?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,o=!1,i=this.state;for(let t of e){if(t.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=t.state}if(this.destroyed)return void(this.viewState.state=i);let r=this.hasFocus,s=0,a=null;e.some((e=>e.annotation(gi)))?(this.inputState.notifiedFocused=r,s=1):r!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=r,a=Oi(i,r),a||(s=1));let l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(c=null)):this.observer.clear(),i.facet(Ae.phrases)!=this.state.facet(Ae.phrases))return this.setState(i);t=wo.create(this,i,e),t.flags|=s;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new to(e.empty?e:L.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(no)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=dr.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(yo)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Fi)!=t.state.facet(Fi)&&(this.viewState.mustMeasureContent=!0),(n||o||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!t.empty)for(let e of this.state.facet(Yn))try{e(t)}catch(e){io(this.state,e,"update listener")}(a||c)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),c&&!Xo(this,c)&&l.force&&kt(this.contentDOM,l.key,l.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new Vi(e),this.plugins=e.facet(ao).map((e=>new co(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new So(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(ao),n=e.state.facet(ao);if(t!=n){let o=[];for(let i of n){let n=t.indexOf(i);if(n<0)o.push(new co(i));else{let t=this.plugins[n];t.mustUpdate=e,o.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(e){io(this.state,e,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,o=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:r}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(r=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(r<0)if(Tt(n))i=-1,r=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(o);i=e.from,r=e.top}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&s||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map((e=>{try{return e.read(this)}catch(e){return io(this.state,e),ur}})),c=wo.create(this,this.state,[]),u=!1;c.flags|=s,t?t.flags|=s:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c),u&&this.docViewUpdate());for(let e=0;e<a.length;e++)if(l[e]!=ur)try{let t=a[e];t.write&&t.write(l[e],this)}catch(e){io(this.state,e)}if(u&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,r=-1;continue}{let e=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-r;if(e>1||e<-1){o+=e,n.scrollTop=o/this.scaleY,r=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(Yn))e(t)}get themeClasses(){return Hi+" "+(this.state.facet(qi)?Ki:Gi)+" "+this.state.facet(Fi)}updateAttrs(){let e=hr(this,uo,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ro)?"true":"false",class:"cm-content",style:`${Ft.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),hr(this,ho,t);let n=this.observer.ignore((()=>{let n=an(this.contentDOM,this.contentAttrs,t),o=an(this.dom,this.editorAttrs,e);return n||o}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(lr.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(yo);let e=this.state.facet(lr.cspNonce);Je.mount(this.root,this.styleModules.concat(tr).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return No(this,e,Ro(this,e,t,n))}moveByGroup(e,t){return No(this,e,Ro(this,e,t,(t=>function(e,t,n){let o=e.state.charCategorizer(t),i=o(n);return e=>{let t=o(e);return i==Ce.Space&&(i=t),i==t}}(this,e.head,t))))}visualLineSide(e,t){let n=this.bidiSpans(e),o=this.textDirectionAt(e.from),i=n[t?n.length-1:0];return L.cursor(i.side(t,o)+e.from,i.forward(!t,o)?1:-1)}moveToLineBoundary(e,t,n=!0){return function(e,t,n,o){let i=Io(e,t.head,t.assoc||-1),r=o&&i.type==un.Text&&(e.lineWrapping||i.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(r){let t=e.dom.getBoundingClientRect(),o=e.textDirectionAt(i.from),s=e.posAtCoords({x:n==(o==Sn.LTR)?t.right-1:t.left+1,y:(r.top+r.bottom)/2});if(null!=s)return L.cursor(s,n?-1:1)}return L.cursor(n?i.to:i.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return No(this,e,function(e,t,n,o){let i=t.head,r=n?1:-1;if(i==(n?e.state.doc.length:0))return L.cursor(i,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=r<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(i);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-t.from))),s=(r<0?t.top:t.bottom)+u}let d=l.left+a,h=null!=o?o:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=s+(h+t)*r,o=Mo(e,{x:d,y:n},!1,r);if(n<l.top||n>l.bottom||(r<0?o<i:o>i)){let t=e.docView.coordsForChar(o),i=!t||n<t.top?-1:1;return L.cursor(o,i,void 0,a)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Mo(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let o=this.state.doc.lineAt(e),i=this.bidiSpans(o);return Ot(n,i[Mn.find(i,e-o.from,-1,t)].dir==Sn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Kn)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>cr)return Ln(e.length);let t,n=this.textDirectionAt(e.from);for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||Dn(o.isolates,t=Oo(this,e))))return o.order;t||(t=Oo(this,e));let o=Nn(e.text,n,t);return this.bidiCache.push(new dr(e.from,e.to,n,t,!0,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ft.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{St(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return no.of(new to("number"==typeof e?L.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return no.of(new to(L.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return lo.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return lo.define((()=>({})),{eventObservers:e})}static theme(e,t){let n=Je.newName(),o=[Fi.of(n),yo.of(er(`.${n}`,e))];return t&&t.dark&&o.push(qi.of(!0)),o}static baseTheme(e){return te.lowest(yo.of(er("."+Hi,e,Ji)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),o=n&&Et.get(n)||Et.get(e);return(null===(t=null==o?void 0:o.rootView)||void 0===t?void 0:t.view)||null}}lr.styleModule=yo,lr.inputHandler=Fn,lr.clipboardInputFilter=Hn,lr.clipboardOutputFilter=Gn,lr.scrollHandler=eo,lr.focusChangeEffect=qn,lr.perLineTextDirection=Kn,lr.exceptionSink=Un,lr.updateListener=Yn,lr.editable=ro,lr.mouseSelectionStyle=Wn,lr.dragMovesSelection=Xn,lr.clickAddsSelectionRange=Zn,lr.decorations=fo,lr.outerDecorations=po,lr.atomicRanges=mo,lr.bidiIsolatedRanges=go,lr.scrollMargins=vo,lr.darkTheme=qi,lr.cspNonce=B.define({combine:e=>e.length?e[0]:""}),lr.contentAttributes=ho,lr.editorAttributes=uo,lr.lineWrapping=lr.contentAttributes.of({class:"cm-lineWrapping"}),lr.announce=ve.define();const cr=4096,ur={};class dr{constructor(e,t,n,o,i,r){this.from=e,this.to=t,this.dir=n,this.isolates=o,this.fresh=i,this.order=r}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let n=[],o=e.length?e[e.length-1].dir:Sn.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let r=e[i];r.dir!=o||t.touchesRange(r.from,r.to)||n.push(new dr(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.isolates,!1,r.order))}return n}}function hr(e,t,n){for(let o=e.state.facet(t),i=o.length-1;i>=0;i--){let t=o[i],r="function"==typeof t?t(e):t;r&&on(r,n)}return n}const fr=Ft.mac?"mac":Ft.windows?"win":Ft.linux?"linux":"key";function pr(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const mr=te.default(lr.domEventHandlers({keydown:(e,t)=>wr(vr(t.state),e,t,"editor")})),gr=B.define({enables:mr}),Or=new WeakMap;function vr(e){let t=e.facet(gr),n=Or.get(t);return n||Or.set(t,n=function(e,t=fr){let n=Object.create(null),o=Object.create(null),i=(e,t)=>{let n=o[e];if(null==n)o[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},r=(e,o,r,s,a)=>{var l,c;let u=n[e]||(n[e]=Object.create(null)),d=o.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let o,i,r,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))o=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))r=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:i=!0}}return o&&(a="Alt-"+a),i&&(a="Ctrl-"+a),s&&(a="Meta-"+a),r&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<d.length;t++){let n=d.slice(0,t).join(" ");i(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let o=br={view:t,prefix:n,scope:e};return setTimeout((()=>{br==o&&(br=null)}),yr),!0}]})}let h=d.join(" ");i(h,!1);let f=u[h]||(u[h]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});r&&f.run.push(r),s&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let o of e){let e=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:i}=o;for(let t in e)e[t].run.push((e=>i(e,xr)))}let i=o[t]||o.key;if(i)for(let t of e)r(t,i,o.run,o.preventDefault,o.stopPropagation),o.shift&&r(t,"Shift-"+i,o.shift,o.preventDefault,o.stopPropagation)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let br=null;const yr=4e3;let xr=null;function wr(e,t,n,o){xr=t;let i=function(e){var t=!(it&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||rt&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?ot:nt)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),r=T(k(i,0))==i.length&&" "!=i,s="",a=!1,l=!1,c=!1;br&&br.view==n&&br.scope==o&&(s=br.prefix+" ",Go.indexOf(t.keyCode)<0&&(l=!0,br=null));let u,d,h=new Set,f=e=>{if(e){for(let t of e.run)if(!h.has(t)&&(h.add(t),t(n)))return e.stopPropagation&&(c=!0),!0;e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},p=e[o];return p&&(f(p[s+pr(i,t,!r)])?a=!0:r&&(t.altKey||t.metaKey||t.ctrlKey)&&!(Ft.windows&&t.ctrlKey&&t.altKey)&&(u=nt[t.keyCode])&&u!=i?(f(p[s+pr(u,t,!0)])||t.shiftKey&&(d=ot[t.keyCode])!=i&&d!=u&&f(p[s+pr(d,t,!1)]))&&(a=!0):r&&t.shiftKey&&f(p[s+pr(i,t,!0)])&&(a=!0),!a&&f(p._any)&&(a=!0)),l&&(a=!0),a&&c&&t.stopPropagation(),xr=null,a}class Sr{constructor(e,t,n,o,i){this.className=e,this.left=t,this.top=n,this.width=o,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let o=e.coordsAtPos(n.head,n.assoc||1);if(!o)return[];let i=_r(e);return[new Sr(t,o.left-i.left,o.top-i.top,null,o.bottom-o.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let o=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),r=e.textDirection==Sn.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=_r(e),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=a.right-(u?parseInt(u.paddingRight):0),f=Io(e,o,1),p=Io(e,i,-1),m=f.type==un.Text?f:null,g=p.type==un.Text?p:null;m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=kr(e,o,1,m));g&&(e.lineWrapping||p.widgetLineBreaks)&&(g=kr(e,i,-1,g));if(m&&g&&m.from==g.from&&m.to==g.to)return v(b(n.from,n.to,m));{let t=m?b(n.from,null,m):y(f,!1),o=g?b(null,n.to,g):y(p,!0),i=[];return(m||f).to<(g||p).from-(m&&g?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<o.top?i.push(O(d,t.bottom,h,o.top)):t.bottom<o.top&&e.elementAtHeight((t.bottom+o.top)/2).type==un.Text&&(t.bottom=o.top=(t.bottom+o.top)/2),v(t).concat(i).concat(v(o))}function O(e,n,o,i){return new Sr(t,e-l.left,n-l.top,o-e,i-n)}function v({top:e,bottom:t,horizontal:n}){let o=[];for(let i=0;i<n.length;i+=2)o.push(O(n[i],e,n[i+1],t));return o}function b(t,n,o){let i=1e9,s=-1e9,a=[];function l(t,n,l,c,u){let f=e.coordsAtPos(t,t==o.to?-2:2),p=e.coordsAtPos(l,l==o.from?2:-2);f&&p&&(i=Math.min(f.top,p.top,i),s=Math.max(f.bottom,p.bottom,s),u==Sn.LTR?a.push(r&&n?d:f.left,r&&c?h:p.right):a.push(!r&&c?d:p.left,!r&&n?h:f.right))}let c=null!=t?t:o.from,u=null!=n?n:o.to;for(let o of e.visibleRanges)if(o.to>c&&o.from<u)for(let i=Math.max(o.from,c),r=Math.min(o.to,u);;){let o=e.state.doc.lineAt(i);for(let s of e.bidiSpans(o)){let e=s.from+o.from,a=s.to+o.from;if(e>=r)break;a>i&&l(Math.max(e,i),null==t&&e<=c,Math.min(a,r),null==n&&a>=u,s.dir)}if(i=o.to+1,i>=r)break}return 0==a.length&&l(c,null==t,u,null==n,e.textDirection),{top:i,bottom:s,horizontal:a}}function y(e,t){let n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function _r(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Sn.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function kr(e,t,n,o){let i=e.coordsAtPos(t,2*n);if(!i)return o;let r=e.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=e.posAtCoords({x:r.left+1,y:s}),l=e.posAtCoords({x:r.right-1,y:s});return null==a||null==l?o:{from:Math.max(o.from,Math.min(a,l)),to:Math.min(o.to,Math.max(a,l))}}class Cr{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Tr)!=e.state.facet(Tr)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Tr);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return n=e,o=this.drawn[t],!(n.constructor==o.constructor&&n.eq(o));var n,o}))){let t=this.dom.firstChild,n=0;for(let o of e)o.update&&t&&o.constructor&&this.drawn[n].constructor&&o.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(o.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Tr=B.define();function $r(e){return[lo.define((t=>new Cr(t,e))),Tr.of(e)]}const Pr=B.define({combine:e=>Qe(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function Ar(e={}){return[Pr.of(e),Er,Dr,Ir,Jn.of(!0)]}function Qr(e){return e.startState.facet(Pr)!=e.state.facet(Pr)}const Er=$r({above:!0,markers(e){let{state:t}=e,n=t.facet(Pr),o=[];for(let i of t.selection.ranges){let r=i==t.selection.main;if(i.empty||n.drawRangeCursor){let t=r?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=i.empty?i:L.cursor(i.head,i.head>i.anchor?-1:1);for(let i of Sr.forRange(e,t,n))o.push(i)}}return o},update(e,t){e.transactions.some((e=>e.selection))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=Qr(e);return n&&Mr(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){Mr(t.state,e)},class:"cm-cursorLayer"});function Mr(e,t){t.style.animationDuration=e.facet(Pr).cursorBlinkRate+"ms"}const Dr=$r({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:Sr.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||Qr(e),class:"cm-selectionLayer"}),Ir=te.highest(lr.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Rr=ve.define({map:(e,t)=>null==e?null:t.mapPos(e)}),zr=q.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(Rr)?t.value:e),e))}),Nr=lo.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(zr);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(zr)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(zr),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let o=e.scrollDOM.getBoundingClientRect();return{left:n.left-o.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-o.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(zr)!=e&&this.view.dispatch({effects:Rr.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Lr(e,t,n,o,i){t.lastIndex=0;for(let r,s=e.iterRange(n,o),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;r=t.exec(s.value);)i(a+r.index,r)}class jr{constructor(e){const{regexp:t,decoration:n,decorate:o,boundary:i,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,o)this.addMatch=(e,t,n,i)=>o(i,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,o,i)=>{let r=n(e,t,o);r&&i(o,o+e[0].length,r)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,o,i)=>i(o,o+e[0].length,n)}this.boundary=i,this.maxLength=r}createDeco(e){let t=new ze,n=t.add.bind(t);for(let{from:t,to:o}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let o=[];for(let{from:i,to:r}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),r=Math.min(e.state.doc.lineAt(r).to,r+t),o.length&&o[o.length-1].to>=i?o[o.length-1].to=r:o.push({from:i,to:r});return o}(e,this.maxLength))Lr(e.state.doc,this.regexp,t,o,((t,o)=>this.addMatch(o,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,o=-1;return e.docChanged&&e.changes.iterChanges(((t,i,r,s)=>{s>=e.view.viewport.from&&r<=e.view.viewport.to&&(n=Math.min(r,n),o=Math.max(s,o))})),e.viewportMoved||o-n>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,t.map(e.changes),n,o):t}updateRange(e,t,n,o){for(let i of e.visibleRanges){let r=Math.max(i.from,n),s=Math.min(i.to,o);if(s>r){let n=e.state.doc.lineAt(r),o=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(i.from,n.from),l=Math.min(i.to,o.to);if(this.boundary){for(;r>n.from;r--)if(this.boundary.test(n.text[r-1-n.from])){a=r;break}for(;s<o.to;s++)if(this.boundary.test(o.text[s-o.from])){l=s;break}}let c,u=[],d=(e,t,n)=>u.push(n.range(e,t));if(n==o)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,d);else Lr(e.state.doc,this.regexp,a,l,((t,n)=>this.addMatch(n,e,t,d)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:u})}}return t}}const Vr=null!=/x/.unicode?"gu":"g",Br=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Vr),Zr={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Xr=null;const Wr=B.define({combine(e){let t=Qe(e,{render:null,specialChars:Br,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==Xr&&"undefined"!=typeof document&&document.body){let t=document.body.style;Xr=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return Xr||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Vr)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Vr)),t}});function Ur(e={}){return[Wr.of(e),Yr||(Yr=lo.fromClass(class{constructor(e){this.view=e,this.decorations=dn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Wr)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new jr({regexp:e.specialChars,decoration:(t,n,o)=>{let{doc:i}=n.state,r=k(t[0],0);if(9==r){let e=i.lineAt(o),t=n.state.tabSize,r=Fe(e.text,t,o-e.from);return dn.replace({widget:new qr((t-r%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[r]||(this.decorationCache[r]=dn.replace({widget:new Fr(e,r)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Wr);e.startState.facet(Wr)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let Yr=null;class Fr extends cn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(Zr[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,n,t);if(o)return o;let i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class qr extends cn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const Hr=dn.line({class:"cm-activeLine"}),Gr=lo.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let o of e.state.selection.ranges){let i=e.lineBlockAt(o.head);i.from>t&&(n.push(Hr.range(i.from)),t=i.from)}return dn.set(n)}},{decorations:e=>e.decorations});class Kr extends cn{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?dt(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),o=Ot(t[0],"rtl"!=n.direction),i=parseInt(n.lineHeight);return o.bottom-o.top>1.5*i?{left:o.left,right:o.right,top:o.top,bottom:o.top+i}:o}ignoreEvent(){return!1}}const Jr=2e3;function es(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),o=e.state.doc.lineAt(n),i=n-o.from,r=i>Jr?-1:i==o.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Fe(o.text,e.state.tabSize,n-o.from);return{line:o.number,col:r,off:i}}function ts(e,t){let n=es(e,t),o=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},o=o.map(e.changes)}},get(t,i,r){let s=es(e,t);if(!s)return o;let a=function(e,t,n){let o=Math.min(t.line,n.line),i=Math.max(t.line,n.line),r=[];if(t.off>Jr||n.off>Jr||t.col<0||n.col<0){let s=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let t=o;t<=i;t++){let n=e.doc.line(t);n.length<=a&&r.push(L.range(n.from+s,n.to+a))}}else{let s=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let t=o;t<=i;t++){let n=e.doc.line(t),o=qe(n.text,s,e.tabSize,!0);if(o<0)r.push(L.cursor(n.to));else{let t=qe(n.text,a,e.tabSize);r.push(L.range(n.from+o,n.from+t))}}}return r}(e.state,n,s);return a.length?r?L.create(a.concat(o.ranges)):L.create(a):o}}:null}function ns(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return lr.mouseSelectionStyle.of(((e,n)=>t(n)?ts(e,n):null))}const os={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},is={style:"cursor: crosshair"};function rs(e={}){let[t,n]=os[e.key||"Alt"],o=lo.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[o,lr.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.isDown)?is:null}))]}const ss="-10000px";class as{constructor(e,t,n,o){this.facet=t,this.createTooltipView=n,this.removeTooltipView=o,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e));let i=null;this.tooltipViews=this.tooltips.map((e=>i=n(e,i)))}update(e,t){var n;let o=e.state.facet(this.facet),i=o.filter((e=>e));if(o===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let r=[],s=t?[]:null;for(let n=0;n<i.length;n++){let o=i[n],a=-1;if(o){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==o.create&&(a=e)}if(a<0)r[n]=this.createTooltipView(o,n?r[n-1]:null),s&&(s[n]=!!o.above);else{let o=r[n]=this.tooltipViews[a];s&&(s[n]=t[a]),o.update&&o.update(e)}}}for(let e of this.tooltipViews)r.indexOf(e)<0&&(this.removeTooltipView(e),null===(n=e.destroy)||void 0===n||n.call(e));return t&&(s.forEach(((e,n)=>t[n]=e)),t.length=s.length),this.input=o,this.tooltips=i,this.tooltipViews=r,!0}}function ls(e){let t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const cs=B.define({combine:e=>{var t,n,o;return{position:Ft.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(o=e.find((e=>e.tooltipSpace)))||void 0===o?void 0:o.tooltipSpace)||ls}}}),us=new WeakMap,ds=lo.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(cs);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new as(e,ms,((e,t)=>this.createTooltip(e,t)),(e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()})),this.above=this.manager.tooltips.map((e=>!!e.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,o=e.state.facet(cs);if(o.position!=this.position&&!this.madeAbsolute){this.position=o.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),o=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",n.dom.appendChild(e)}return n.dom.style.position=this.position,n.dom.style.top=ss,n.dom.style.left="0px",this.container.insertBefore(n.dom,o),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(e=t.destroy)||void 0===e||e.call(t);this.parent&&this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=1,t=1,n=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(Ft.gecko)n=e.offsetParent!=this.container.ownerDocument.body;else if(e.style.top==ss&&"0px"==e.style.left){let t=e.getBoundingClientRect();n=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(n||"absolute"==this.position)if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(e=n.width/this.parent.offsetWidth,t=n.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);let o=this.view.scrollDOM.getBoundingClientRect(),i=bo(this.view);return{visible:{left:o.left+i.left,top:o.top+i.top,right:o.right-i.right,bottom:o.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(cs).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:n}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{visible:n,space:o,scaleX:i,scaleY:r}=e,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=e.pos[a],h=e.size[a];if(!d||!1!==l.clip&&(d.bottom<=Math.max(n.top,o.top)||d.top>=Math.min(n.bottom,o.bottom)||d.right<Math.max(n.left,o.left)-.1||d.left>Math.min(n.right,o.right)+.1)){u.style.top=ss;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=h.right-h.left,g=null!==(t=us.get(c))&&void 0!==t?t:h.bottom-h.top,O=c.offset||ps,v=this.view.textDirection==Sn.LTR,b=h.width>o.right-o.left?v?o.left:o.right-h.width:v?Math.max(o.left,Math.min(d.left-(f?14:0)+O.x,o.right-m)):Math.min(Math.max(o.left,d.left-m+(f?14:0)-O.x),o.right-m),y=this.above[a];!l.strictSide&&(y?d.top-g-p-O.y<o.top:d.bottom+g+p+O.y>o.bottom)&&y==o.bottom-d.bottom>d.top-o.top&&(y=this.above[a]=!y);let x=(y?d.top-o.top:o.bottom-d.bottom)-p;if(x<g&&!1!==c.resize){if(x<this.view.defaultLineHeight){u.style.top=ss;continue}us.set(c,g),u.style.height=(g=x)/r+"px"}else u.style.height&&(u.style.height="");let w=y?d.top-g-p-O.y:d.bottom+p+O.y,S=b+m;if(!0!==c.overlap)for(let e of s)e.left<S&&e.right>b&&e.top<w+g&&e.bottom>w&&(w=y?e.top-g-2-p:e.bottom+p+2);if("absolute"==this.position?(u.style.top=(w-e.parent.top)/r+"px",hs(u,(b-e.parent.left)/i)):(u.style.top=w/r+"px",hs(u,b/i)),f){let e=d.left+(v?O.x:-O.x)-(b+14-7);f.style.left=e/i+"px"}!0!==c.overlap&&s.push({left:b,top:w,right:S,bottom:w+g}),u.classList.toggle("cm-tooltip-above",y),u.classList.toggle("cm-tooltip-below",!y),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=ss}},{eventObservers:{scroll(){this.maybeMeasure()}}});function hs(e,t){let n=parseInt(e.style.left,10);(isNaN(n)||Math.abs(t-n)>1)&&(e.style.left=t+"px")}const fs=lr.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ps={x:0,y:0},ms=B.define({enables:[ds,fs]}),gs=B.define({combine:e=>e.reduce(((e,t)=>e.concat(t)),[])});class Os{static create(e){return new Os(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new as(e,gs,((e,t)=>this.createHostedView(e,t)),(e=>e.dom.remove()))}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let o=n[e];if(void 0!==o)if(void 0===t)t=o;else if(t!==o)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const vs=ms.compute([gs],(e=>{let t=e.facet(gs);return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.map((e=>{var t;return null!==(t=e.end)&&void 0!==t?t:e.pos}))),create:Os.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class bs{constructor(e,t,n,o,i){this.view=e,this.source=t,this.field=n,this.setHover=o,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let o,i=1;if(n instanceof Gt)o=n.posAtStart;else{if(o=e.posAtCoords(t),null==o)return;let n=e.coordsAtPos(o);if(!n||t.y<n.top||t.y>n.bottom||t.x<n.left-e.defaultCharacterWidth||t.x>n.right+e.defaultCharacterWidth)return;let r=e.bidiSpans(e.state.doc.lineAt(o)).find((e=>e.from<=o&&e.to>=o)),s=r&&r.dir==Sn.RTL?-1:1;i=t.x<n.left?-s:s}let r=this.source(e,o,i);if(null==r?void 0:r.then){let t=this.pending={pos:o};r.then((n=>{this.pending==t&&(this.pending=null,!n||Array.isArray(n)&&!n.length||e.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))}),(t=>io(e.state,t,"hover tooltip")))}else!r||Array.isArray(r)&&!r.length||e.dispatch({effects:this.setHover.of(Array.isArray(r)?r:[r])})}get tooltip(){let e=this.view.plugin(ds),t=e?e.manager.tooltips.findIndex((e=>e.create==Os.create)):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:i}=this;if(o.length&&i&&!function(e,t){let n,{left:o,right:i,top:r,bottom:s}=e.getBoundingClientRect();if(n=e.querySelector(".cm-tooltip-arrow")){let e=n.getBoundingClientRect();r=Math.min(e.top,r),s=Math.max(e.bottom,s)}return t.clientX>=o-ys&&t.clientX<=i+ys&&t.clientY>=r-ys&&t.clientY<=s+ys}(i.dom,e)||this.pending){let{pos:i}=o[0]||this.pending,r=null!==(n=null===(t=o[0])||void 0===t?void 0:t.end)&&void 0!==n?n:i;(i==r?this.view.posAtCoords(this.lastMove)==i:function(e,t,n,o,i){let r=e.scrollDOM.getBoundingClientRect(),s=e.documentTop+e.documentPadding.top+e.contentHeight;if(r.left>o||r.right<o||r.top>i||Math.min(r.bottom,s)<i)return!1;let a=e.posAtCoords({x:o,y:i},!1);return a>=t&&a<=n}(this.view,i,r,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:t}=this;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ys=4;function xs(e,t={}){let n=ve.define(),o=q.define({create:()=>[],update(e,o){if(e.length&&(t.hideOnChange&&(o.docChanged||o.selection)?e=[]:t.hideOn&&(e=e.filter((e=>!t.hideOn(o,e)))),o.docChanged)){let t=[];for(let n of e){let e=o.changes.mapPos(n.pos,-1,P.TrackDel);if(null!=e){let i=Object.assign(Object.create(null),n);i.pos=e,null!=i.end&&(i.end=o.changes.mapPos(i.end)),t.push(i)}}e=t}for(let t of o.effects)t.is(n)&&(e=t.value),t.is(Ss)&&(e=[]);return e},provide:e=>gs.from(e)});return{active:o,extension:[o,lo.define((i=>new bs(i,e,o,n,t.hoverTime||300))),vs]}}function ws(e,t){let n=e.plugin(ds);if(!n)return null;let o=n.manager.tooltips.indexOf(t);return o<0?null:n.manager.tooltipViews[o]}const Ss=ve.define();const _s=B.define({combine(e){let t,n;for(let o of e)t=t||o.topContainer,n=n||o.bottomContainer;return{topContainer:t,bottomContainer:n}}});function ks(e,t){let n=e.plugin(Cs),o=n?n.specs.indexOf(t):-1;return o>-1?n.panels[o]:null}const Cs=lo.fromClass(class{constructor(e){this.input=e.state.facet(Ps),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(_s);this.top=new Ts(e,!0,t.topContainer),this.bottom=new Ts(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(_s);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Ts(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ts(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Ps);if(n!=this.input){let t=n.filter((e=>e)),o=[],i=[],r=[],s=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),o.push(t),(t.top?i:r).push(t)}this.specs=t,this.panels=o,this.top.sync(i),this.bottom.sync(r);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>lr.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class Ts{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=$s(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=$s(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function $s(e){let t=e.nextSibling;return e.remove(),t}const Ps=B.define({enables:Cs});class As extends Ee{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}As.prototype.elementClass="",As.prototype.toDOM=void 0,As.prototype.mapMode=P.TrackBefore,As.prototype.startSide=As.prototype.endSide=-1,As.prototype.point=!0;const Qs=B.define(),Es=B.define(),Ms={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Re.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ds=B.define();function Is(e){return[zs(),Ds.of(Object.assign(Object.assign({},Ms),e))]}const Rs=B.define({combine:e=>e.some((e=>e))});function zs(e){let t=[Ns];return e&&!1===e.fixed&&t.push(Rs.of(!0)),t}const Ns=lo.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(Ds).map((t=>new Bs(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(Rs),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,o=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(o<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Rs)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=Re.iter(this.view.state.facet(Qs),this.view.viewport.from),o=[],i=this.gutters.map((e=>new Vs(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks)if(o.length&&(o=[]),Array.isArray(e.type)){let t=!0;for(let r of e.type)if(r.type==un.Text&&t){js(n,o,r.from);for(let e of i)e.line(this.view,r,o);t=!1}else if(r.widget)for(let e of i)e.widget(this.view,r)}else if(e.type==un.Text){js(n,o,e.from);for(let t of i)t.line(this.view,e,o)}else if(e.widget)for(let t of i)t.widget(this.view,e);for(let e of i)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(Ds),n=e.state.facet(Ds),o=e.docChanged||e.heightChanged||e.viewportChanged||!Re.eq(e.startState.facet(Qs),e.state.facet(Qs),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(o=!0);else{o=!0;let i=[];for(let o of n){let n=t.indexOf(o);n<0?i.push(new Bs(this.view,o)):(this.gutters[n].update(e),i.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),i.indexOf(e)<0&&e.destroy();for(let e of i)this.dom.appendChild(e.dom);this.gutters=i}return o}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>lr.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==Sn.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))});function Ls(e){return Array.isArray(e)?e:[e]}function js(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Vs{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Re.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:o}=this,i=(t.top-this.height)/e.scaleY,r=t.height/e.scaleY;if(this.i==o.elements.length){let t=new Zs(e,r,i,n);o.elements.push(t),o.dom.appendChild(t.dom)}else o.elements[this.i].update(e,r,i,n);this.height=t.bottom,this.i++}line(e,t,n){let o=[];js(this.cursor,o,t.from),n.length&&(o=o.concat(n));let i=this.gutter.config.lineMarker(e,t,o);i&&o.unshift(i);let r=this.gutter;(0!=o.length||r.config.renderEmptyElements)&&this.addElement(e,t,o)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),o=n?[n]:null;for(let n of e.state.facet(Es)){let i=n(e,t.widget,t);i&&(o||(o=[])).push(i)}o&&this.addElement(e,t,o)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Bs{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(o=>{let i,r=o.target;if(r!=this.dom&&this.dom.contains(r)){for(;r.parentNode!=this.dom;)r=r.parentNode;let e=r.getBoundingClientRect();i=(e.top+e.bottom)/2}else i=o.clientY;let s=e.lineBlockAtHeight(i-e.documentTop);t.domEventHandlers[n](e,s,o)&&o.preventDefault()}));this.markers=Ls(t.markers(e)),t.initialSpacer&&(this.spacer=new Zs(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Ls(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!Re.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Zs{constructor(e,t,n,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,o)}update(e,t,n,o){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,o)||this.setMarkers(e,o)}setMarkers(e,t){let n="cm-gutterElement",o=this.dom.firstChild;for(let i=0,r=0;;){let s=r,a=i<t.length?t[i++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let e=r;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;r<s;){let e=this.markers[r++];if(e.toDOM){e.destroy(o);let t=o.nextSibling;o.remove(),o=t}}if(!a)break;a.toDOM&&(l?o=o.nextSibling:this.dom.insertBefore(a.toDOM(e),o)),l&&r++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const Xs=B.define(),Ws=B.define(),Us=B.define({combine:e=>Qe(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let o=n[e],i=t[e];n[e]=o?(e,t,n)=>o(e,t,n)||i(e,t,n):i}return n}})});class Ys extends As{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Fs(e,t){return e.state.facet(Us).formatNumber(t,e.state)}const qs=Ds.compute([Us],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Xs),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new Ys(Fs(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,n)=>{for(let o of e.state.facet(Ws)){let i=o(e,t,n);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(Us)!=e.state.facet(Us),initialSpacer:e=>new Ys(Fs(e,Gs(e.state.doc.lines))),updateSpacer(e,t){let n=Fs(t.view,Gs(t.view.state.doc.lines));return n==e.number?e:new Ys(n)},domEventHandlers:e.facet(Us).domEventHandlers})));function Hs(e={}){return[Us.of(e),zs(),qs]}function Gs(e){let t=9;for(;t<e;)t=10*t+9;return t}const Ks=new class extends As{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Js=Qs.compute(["selection"],(e=>{let t=[],n=-1;for(let o of e.selection.ranges){let i=e.doc.lineAt(o.head).from;i>n&&(n=i,t.push(Ks.range(i)))}return Re.of(t)}));const ea=1024;let ta=0;class na{constructor(e,t){this.from=e,this.to=t}}class oa{constructor(e={}){this.id=ta++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=sa.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}oa.closedBy=new oa({deserialize:e=>e.split(" ")}),oa.openedBy=new oa({deserialize:e=>e.split(" ")}),oa.group=new oa({deserialize:e=>e.split(" ")}),oa.isolate=new oa({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),oa.contextHash=new oa({perNode:!0}),oa.lookAhead=new oa({perNode:!0}),oa.mounted=new oa({perNode:!0});class ia{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[oa.mounted.id]}}const ra=Object.create(null);class sa{constructor(e,t,n,o=0){this.name=e,this.props=t,this.id=n,this.flags=o}static define(e){let t=e.props&&e.props.length?Object.create(null):ra,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),o=new sa(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(o)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return o}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(oa.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let o of n.split(" "))t[o]=e[n];return e=>{for(let n=e.prop(oa.group),o=-1;o<(n?n.length:0);o++){let i=t[o<0?e.name:n[o]];if(i)return i}}}}sa.none=new sa("",Object.create(null),0,8);class aa{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let o=null;for(let t of e){let e=t(n);e&&(o||(o=Object.assign({},n.props)),o[e[0].id]=e[1])}t.push(o?new sa(n.name,o,n.id,n.flags):n)}return new aa(t)}}const la=new WeakMap,ca=new WeakMap;var ua;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(ua||(ua={}));class da{constructor(e,t,n,o,i){if(this.type=e,this.children=t,this.positions=n,this.length=o,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=ia.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new _a(this.topNode,e)}cursorAt(e,t=0,n=0){let o=la.get(this)||this.topNode,i=new _a(o);return i.moveTo(e,t),la.set(this,i._tree),i}get topNode(){return new Oa(this,0,0,null)}resolve(e,t=0){let n=ma(la.get(this)||this.topNode,e,t,!1);return la.set(this,n),n}resolveInner(e,t=0){let n=ma(ca.get(this)||this.topNode,e,t,!0);return ca.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let o=e.resolveInner(t,n),i=null;for(let e=o instanceof Oa?o:o.context.parent;e;e=e.parent)if(e.index<0){let r=e.parent;(i||(i=[o])).push(r.resolve(t,n)),e=r}else{let r=ia.get(e.tree);if(r&&r.overlay&&r.overlay[0].from<=t&&r.overlay[r.overlay.length-1].to>=t){let s=new Oa(r.tree,r.overlay[0].from+e.from,-1,e);(i||(i=[o])).push(ma(s,t,n,!1))}}return i?wa(i):o}(this,e,t)}iterate(e){let{enter:t,leave:n,from:o=0,to:i=this.length}=e,r=e.mode||0,s=(r&ua.IncludeAnonymous)>0;for(let e=this.cursor(r|ua.IncludeAnonymous);;){let r=!1;if(e.from<=i&&e.to>=o&&(!s&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;r=!0}for(;r&&n&&(s||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;r=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:$a(sa.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new da(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new da(sa.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:o,maxBufferLength:i=ea,reused:r=[],minRepeatType:s=o.types.length}=e,a=Array.isArray(n)?new ha(n,n.length):n,l=o.types,c=0,u=0;function d(e,t,n,v,b,y){let{id:x,start:w,end:S,size:_}=a,k=u,C=c;for(;_<0;){if(a.next(),-1==_){let t=r[x];return n.push(t),void v.push(w-e)}if(-3==_)return void(c=x);if(-4==_)return void(u=x);throw new RangeError(`Unrecognized record size: ${_}`)}let T,$,P=l[x],A=w-e;if(S-w<=i&&($=g(a.pos-t,b))){let t=new Uint16Array($.size-$.skip),n=a.pos-$.size,i=t.length;for(;a.pos>n;)i=O($.start,t,i);T=new fa(t,S-$.start,o),A=$.start-e}else{let e=a.pos-_;a.next();let t=[],n=[],o=x>=s?x:-1,r=0,l=S;for(;a.pos>e;)o>=0&&a.id==o&&a.size>=0?(a.end<=l-i&&(p(t,n,w,r,a.end,l,o,k,C),r=t.length,l=a.end),a.next()):y>2500?h(w,e,t,n):d(w,e,t,n,o,y+1);if(o>=0&&r>0&&r<t.length&&p(t,n,w,r,w,l,o,k,C),t.reverse(),n.reverse(),o>-1&&r>0){let e=f(P,C);T=$a(P,t,n,0,t.length,0,S-w,e,e)}else T=m(P,t,n,S-w,k-S,C)}n.push(T),v.push(A)}function h(e,t,n,r){let s=[],l=0,c=-1;for(;a.pos>t;){let{id:e,start:t,end:n,size:o}=a;if(o>4)a.next();else{if(c>-1&&t<c)break;c<0&&(c=n-i),s.push(e,t,n),l++,a.next()}}if(l){let t=new Uint16Array(4*l),i=s[s.length-2];for(let e=s.length-3,n=0;e>=0;e-=3)t[n++]=s[e],t[n++]=s[e+1]-i,t[n++]=s[e+2]-i,t[n++]=n;n.push(new fa(t,s[2]-i,o)),r.push(i-e)}}function f(e,t){return(n,o,i)=>{let r,s,a=0,l=n.length-1;if(l>=0&&(r=n[l])instanceof da){if(!l&&r.type==e&&r.length==i)return r;(s=r.prop(oa.lookAhead))&&(a=o[l]+r.length+s)}return m(e,n,o,i,a,t)}}function p(e,t,n,i,r,s,a,l,c){let u=[],d=[];for(;e.length>i;)u.push(e.pop()),d.push(t.pop()+n-r);e.push(m(o.types[a],u,d,s-r,l-s,c)),t.push(r-n)}function m(e,t,n,o,i,r,s){if(r){let e=[oa.contextHash,r];s=s?[e].concat(s):[e]}if(i>25){let e=[oa.lookAhead,i];s=s?[e].concat(s):[e]}return new da(e,t,n,o,s)}function g(e,t){let n=a.fork(),o=0,r=0,l=0,c=n.end-i,u={size:0,start:0,skip:0};e:for(let i=n.pos-e;n.pos>i;){let e=n.size;if(n.id==t&&e>=0){u.size=o,u.start=r,u.skip=l,l+=4,o+=4,n.next();continue}let a=n.pos-e;if(e<0||a<i||n.start<c)break;let d=n.id>=s?4:0,h=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=s&&(d+=4);n.next()}r=h,o+=e,l+=d}return(t<0||o==e)&&(u.size=o,u.start=r,u.skip=l),u.size>4?u:void 0}function O(e,t,n){let{id:o,start:i,end:r,size:l}=a;if(a.next(),l>=0&&o<s){let s=n;if(l>4){let o=a.pos-(l-4);for(;a.pos>o;)n=O(e,t,n)}t[--n]=s,t[--n]=r-e,t[--n]=i-e,t[--n]=o}else-3==l?c=o:-4==l&&(u=o);return n}let v=[],b=[];for(;a.pos>0;)d(e.start||0,e.bufferStart||0,v,b,-1,0);let y=null!==(t=e.length)&&void 0!==t?t:v.length?b[0]+v[0].length:0;return new da(l[e.topID],v.reverse(),b.reverse(),y)}(e)}}da.empty=new da(sa.none,[],[],0);class ha{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ha(this.buffer,this.index)}}class fa{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return sa.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],o=this.set.types[t],i=o.name;if(/\W/.test(i)&&!o.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;let r=[];for(;e<n;)r.push(this.childString(e)),e=this.buffer[e+3];return i+"("+r.join(",")+")"}findChild(e,t,n,o,i){let{buffer:r}=this,s=-1;for(let a=e;a!=t&&!(pa(i,o,r[a+1],r[a+2])&&(s=a,n>0));a=r[a+3]);return s}slice(e,t,n){let o=this.buffer,i=new Uint16Array(t-e),r=0;for(let s=e,a=0;s<t;){i[a++]=o[s++],i[a++]=o[s++]-n;let t=i[a++]=o[s++]-n;i[a++]=o[s++]-e,r=Math.max(r,t)}return new fa(i,r,this.set)}}function pa(e,t,n,o){switch(e){case-2:return n<t;case-1:return o>=t&&n<t;case 0:return n<t&&o>t;case 1:return n<=t&&o>t;case 2:return o>t;case 4:return!0}}function ma(e,t,n,o){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!o&&e instanceof Oa&&e.index<0?null:e.parent;if(!t)return e;e=t}let r=o?0:ua.IgnoreOverlays;if(o)for(let o=e,s=o.parent;s;o=s,s=o.parent)o instanceof Oa&&o.index<0&&(null===(i=s.enter(t,n,r))||void 0===i?void 0:i.from)!=o.from&&(e=s);for(;;){let o=e.enter(t,n,r);if(!o)return e;e=o}}class ga{cursor(e=0){return new _a(this,e)}getChild(e,t=null,n=null){let o=va(this,e,t,n);return o.length?o[0]:null}getChildren(e,t=null,n=null){return va(this,e,t,n)}resolve(e,t=0){return ma(this,e,t,!1)}resolveInner(e,t=0){return ma(this,e,t,!0)}matchContext(e){return ba(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class Oa extends ga{constructor(e,t,n,o){super(),this._tree=e,this.from=t,this.index=n,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,o,i=0){for(let r=this;;){for(let{children:s,positions:a}=r._tree,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+r.from;if(pa(o,n,c,c+l.length))if(l instanceof fa){if(i&ua.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,t,n-c,o);if(s>-1)return new xa(new ya(r,l,e,c),null,s)}else if(i&ua.IncludeAnonymous||!l.type.isAnonymous||ka(l)){let s;if(!(i&ua.IgnoreMounts)&&(s=ia.get(l))&&!s.overlay)return new Oa(s.tree,c,e,r);let a=new Oa(l,c,e,r);return i&ua.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,n,o)}}if(i&ua.IncludeAnonymous||!r.type.isAnonymous)return null;if(e=r.index>=0?r.index+t:t<0?-1:r._parent._tree.children.length,r=r._parent,!r)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let o;if(!(n&ua.IgnoreOverlays)&&(o=ia.get(this._tree))&&o.overlay){let n=e-this.from;for(let{from:e,to:i}of o.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new Oa(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function va(e,t,n,o){let i=e.cursor(),r=[];if(!i.firstChild())return r;if(null!=n)for(let e=!1;!e;)if(e=i.type.is(n),!i.nextSibling())return r;for(;;){if(null!=o&&i.type.is(o))return r;if(i.type.is(t)&&r.push(i.node),!i.nextSibling())return null==o?r:[]}}function ba(e,t,n=t.length-1){for(let o=e;n>=0;o=o.parent){if(!o)return!1;if(!o.type.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}class ya{constructor(e,t,n,o){this.parent=e,this.buffer=t,this.index=n,this.start=o}}class xa extends ga{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new xa(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&ua.ExcludeBuffers)return null;let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new xa(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new xa(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new xa(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,o=this.index+4,i=n.buffer[this.index+3];if(i>o){let r=n.buffer[this.index+1];e.push(n.slice(o,i,r)),t.push(0)}return new da(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function wa(e){if(!e.length)return null;let t=0,n=e[0];for(let o=1;o<e.length;o++){let i=e[o];(i.from>n.from||i.to<n.to)&&(n=i,t=o)}let o=n instanceof Oa&&n.index<0?null:n.parent,i=e.slice();return o?i[t]=o:i.splice(t,1),new Sa(i,n)}class Sa{constructor(e,t){this.heads=e,this.node=t}get next(){return wa(this.heads)}}class _a{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Oa)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:o}=this.buffer;return this.type=t||o.set.types[o.buffer[e]],this.from=n+o.buffer[e+1],this.to=n+o.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Oa?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:o}=this.buffer,i=o.findChild(this.index+4,o.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&ua.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ua.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ua.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:o}=this;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(o.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=o)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let o=t+e,i=e<0?-1:n._tree.children.length;o!=i;o+=e){let e=n._tree.children[o];if(this.mode&ua.IncludeAnonymous||e instanceof fa||!e.type.isAnonymous||ka(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let o=this.index,i=this.stack.length;i>=0;){for(let r=e;r;r=r._parent)if(r.index==o){if(o==this.index)return r;t=r,n=i+1;break e}o=this.stack[--i]}for(let e=n;e<this.stack.length;e++)t=new xa(this.buffer,t,this.stack[e]);return this.bufferNode=new xa(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let o=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(o=!0)}for(;;){if(o&&t&&t(this),o=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,o=!0}}}matchContext(e){if(!this.buffer)return ba(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let o=e.length-1,i=this.stack.length-1;o>=0;i--){if(i<0)return ba(this._tree,e,o);let r=n[t.buffer[this.stack[i]]];if(!r.isAnonymous){if(e[o]&&e[o]!=r.name)return!1;o--}}return!0}}function ka(e){return e.children.some((e=>e instanceof fa||!e.type.isAnonymous||ka(e)))}const Ca=new WeakMap;function Ta(e,t){if(!e.isAnonymous||t instanceof fa||t.type!=e)return 1;let n=Ca.get(t);if(null==n){n=1;for(let o of t.children){if(o.type!=e||!(o instanceof da)){n=1;break}n+=Ta(e,o)}Ca.set(t,n)}return n}function $a(e,t,n,o,i,r,s,a,l){let c=0;for(let n=o;n<i;n++)c+=Ta(e,t[n]);let u=Math.ceil(1.5*c/8),d=[],h=[];return function t(n,o,i,s,a){for(let c=i;c<s;){let i=c,f=o[c],p=Ta(e,n[c]);for(c++;c<s;c++){let t=Ta(e,n[c]);if(p+t>=u)break;p+=t}if(c==i+1){if(p>u){let e=n[i];t(e.children,e.positions,0,e.children.length,o[i]+a);continue}d.push(n[i])}else{let t=o[c-1]+n[c-1].length-f;d.push($a(e,n,o,i,c,f,t,null,l))}h.push(f+a-r)}}(t,n,o,i,0),(a||l)(d,h,s)}class Pa{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let o=this.map.get(e);o||this.map.set(e,o=new Map),o.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof xa?this.setBuffer(e.context.buffer,e.index,t):e instanceof Oa&&this.map.set(e.tree,t)}get(e){return e instanceof xa?this.getBuffer(e.context.buffer,e.index):e instanceof Oa?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Aa{constructor(e,t,n,o,i=!1,r=!1){this.from=e,this.to=t,this.tree=n,this.offset=o,this.open=(i?1:0)|(r?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let o=[new Aa(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&o.push(n);return o}static applyChanges(e,t,n=128){if(!t.length)return e;let o=[],i=1,r=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;r&&r.from<u;){let t=r;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new Aa(e,n,t.tree,t.offset+l,s>0,!!c)}if(t&&o.push(t),r.to>u)break;r=i<e.length?e[i++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return o}}class Qa{startParse(e,t,n){return"string"==typeof e&&(e=new Ea(e)),n=n?n.length?n.map((e=>new na(e.from,e.to))):[new na(0,0)]:[new na(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let o=this.startParse(e,t,n);for(;;){let e=o.advance();if(e)return e}}}class Ea{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function Ma(e){return(t,n,o,i)=>new Na(t,e,n,o,i)}class Da{constructor(e,t,n,o,i){this.parser=e,this.parse=t,this.overlay=n,this.target=o,this.from=i}}function Ia(e){if(!e.length||e.some((e=>e.from>=e.to)))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(e))}class Ra{constructor(e,t,n,o,i,r,s){this.parser=e,this.predicate=t,this.mounts=n,this.index=o,this.start=i,this.target=r,this.prev=s,this.depth=0,this.ranges=[]}}const za=new oa({perNode:!0});class Na{constructor(e,t,n,o,i){this.nest=t,this.input=n,this.fragments=o,this.ranges=i,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let e of this.inner)e.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new da(e.type,e.children,e.positions,e.length,e.propValues.concat([[za,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[oa.mounted.id]=new ia(t,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new Za(this.fragments),t=null,n=null,o=new _a(new Oa(this.baseTree,this.ranges[0].from,0,null),ua.IncludeAnonymous|ua.IgnoreMounts);e:for(let i,r;;){let s,a=!0;if(null!=this.stoppedAt&&o.from>=this.stoppedAt)a=!1;else if(e.hasNode(o)){if(t){let e=t.mounts.find((e=>e.frag.from<=o.from&&e.frag.to>=o.to&&e.mount.overlay));if(e)for(let n of e.mount.overlay){let i=n.from+e.pos,r=n.to+e.pos;i>=o.from&&r<=o.to&&!t.ranges.some((e=>e.from<r&&e.to>i))&&t.ranges.push({from:i,to:r})}}a=!1}else if(n&&(r=La(n.ranges,o.from,o.to)))a=2!=r;else if(!o.type.isAnonymous&&(i=this.nest(o,this.input))&&(o.from<o.to||!i.overlay)){o.tree||Va(o);let r=e.findMounts(o.from,i.parser);if("function"==typeof i.overlay)t=new Ra(i.parser,i.overlay,r,this.inner.length,o.from,o.tree,t);else{let e=Xa(this.ranges,i.overlay||(o.from<o.to?[new na(o.from,o.to)]:[]));e.length&&Ia(e),!e.length&&i.overlay||this.inner.push(new Da(i.parser,e.length?i.parser.startParse(this.input,Ua(r,e),e):i.parser.startParse(""),i.overlay?i.overlay.map((e=>new na(e.from-o.from,e.to-o.from))):null,o.tree,e.length?e[0].from:o.from)),i.overlay?e.length&&(n={ranges:e,depth:0,prev:n}):a=!1}}else if(t&&(s=t.predicate(o))&&(!0===s&&(s=new na(o.from,o.to)),s.from<s.to)){let e=t.ranges.length-1;e>=0&&t.ranges[e].to==s.from?t.ranges[e]={from:t.ranges[e].from,to:s.to}:t.ranges.push(s)}if(a&&o.firstChild())t&&t.depth++,n&&n.depth++;else for(;!o.nextSibling();){if(!o.parent())break e;if(t&&! --t.depth){let e=Xa(this.ranges,t.ranges);e.length&&(Ia(e),this.inner.splice(t.index,0,new Da(t.parser,t.parser.startParse(this.input,Ua(t.mounts,e),e),t.ranges.map((e=>new na(e.from-t.start,e.to-t.start))),t.target,e[0].from))),t=t.prev}n&&! --n.depth&&(n=n.prev)}}}}function La(e,t,n){for(let o of e){if(o.from>=n)break;if(o.to>t)return o.from<=t&&o.to>=n?2:1}return 0}function ja(e,t,n,o,i,r){if(t<n){let s=e.buffer[t+1];o.push(e.slice(t,n,s)),i.push(s-r)}}function Va(e){let{node:t}=e,n=[],o=t.context.buffer;do{n.push(e.index),e.parent()}while(!e.tree);let i=e.tree,r=i.children.indexOf(o),s=i.children[r],a=s.buffer,l=[r];i.children[r]=function e(o,i,r,c,u,d){let h=n[d],f=[],p=[];ja(s,o,h,f,p,c);let m=a[h+1],g=a[h+2];l.push(f.length);let O=d?e(h+4,a[h+3],s.set.types[a[h]],m,g-m,d-1):t.toTree();return f.push(O),p.push(m-c),ja(s,a[h+3],i,f,p,c),new da(r,f,p,u)}(0,a.length,sa.none,0,s.length,n.length-1);for(let t of l){let n=e.tree.children[t],o=e.tree.positions[t];e.yield(new Oa(n,o+e.from,t,e._tree))}}class Ba{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(ua.IncludeAnonymous|ua.IgnoreMounts)}moveTo(e){let{cursor:t}=this,n=e-this.offset;for(;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,ua.IgnoreOverlays|ua.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof da))break;t=t.children[0]}return!1}}class Za{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=null!==(t=n.tree.prop(za))&&void 0!==t?t:n.to,this.inner=new Ba(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(za))&&void 0!==e?e:t.to,this.inner=new Ba(t.tree,-t.offset)}}findMounts(e,t){var n;let o=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let i=null===(n=e.tree)||void 0===n?void 0:n.prop(oa.mounted);if(i&&i.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let n=this.fragments[t];if(n.from>=e.to)break;n.tree==this.curFrag.tree&&o.push({frag:n,pos:e.from-n.offset,mount:i})}}}return o}}function Xa(e,t){let n=null,o=t;for(let i=1,r=0;i<e.length;i++){let s=e[i-1].to,a=e[i].from;for(;r<o.length;r++){let e=o[r];if(e.from>=a)break;e.to<=s||(n||(o=n=t.slice()),e.from<s?(n[r]=new na(e.from,s),e.to>a&&n.splice(r+1,0,new na(a,e.to))):e.to>a?n[r--]=new na(a,e.to):n.splice(r--,1))}}return o}function Wa(e,t,n,o){let i=0,r=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==e.length?1e9:s?e[i].to:e[i].from,d=r==t.length?1e9:a?t[r].to:t[r].from;if(s!=a){let e=Math.max(l,n),t=Math.min(u,d,o);e<t&&c.push(new na(e,t))}if(l=Math.min(u,d),1e9==l)break;u==l&&(s?(s=!1,i++):s=!0),d==l&&(a?(a=!1,r++):a=!0)}return c}function Ua(e,t){let n=[];for(let{pos:o,mount:i,frag:r}of e){let e=o+(i.overlay?i.overlay[0].from:0),s=e+i.tree.length,a=Math.max(r.from,e),l=Math.min(r.to,s);if(i.overlay){let s=Wa(t,i.overlay.map((e=>new na(e.from+o,e.to+o))),a,l);for(let t=0,o=a;;t++){let a=t==s.length,c=a?l:s[t].from;if(c>o&&n.push(new Aa(o,c,i.tree,-e,r.from>=o||r.openStart,r.to<=c||r.openEnd)),a)break;o=s[t].to}}else n.push(new Aa(a,l,i.tree,-e,r.from>=e||r.openStart,r.to<=s||r.openEnd))}return n}let Ya=0;class Fa{constructor(e,t,n,o){this.name=e,this.set=t,this.base=n,this.modified=o,this.id=Ya++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n="string"==typeof e?e:"?";if(e instanceof Fa&&(t=e),null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let o=new Fa(n,[],null,[]);if(o.set.push(o),t)for(let e of t.set)o.set.push(e);return o}static defineModifier(e){let t=new Ha(e);return e=>e.modified.indexOf(t)>-1?e:Ha.get(e.base||e,e.modified.concat(t).sort(((e,t)=>e.id-t.id)))}}let qa=0;class Ha{constructor(e){this.name=e,this.instances=[],this.id=qa++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(o=t,i=n.modified,o.length==i.length&&o.every(((e,t)=>e==i[t])));var o,i}));if(n)return n;let o=[],i=new Fa(e.name,o,e,t);for(let e of t)e.instances.push(i);let r=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let o=0,i=t.length;o<i;o++)t.push(t[o].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of r)o.push(Ha.get(t,e));return i}}function Ga(e){let t=Object.create(null);for(let n in e){let o=e[n];Array.isArray(o)||(o=[o]);for(let e of n.split(" "))if(e){let n=[],i=2,r=e;for(let t=0;;){if("..."==r&&t>0&&t+3==e.length){i=1;break}let o=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(r);if(!o)throw new RangeError("Invalid path: "+e);if(n.push("*"==o[0]?"":'"'==o[0][0]?JSON.parse(o[0]):o[0]),t+=o[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){i=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);r=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new Ja(o,i,s>0?n.slice(0,s):null);t[a]=l.sort(t[a])}}return Ka.add(t)}const Ka=new oa;class Ja{constructor(e,t,n,o){this.tags=e,this.mode=t,this.context=n,this.next=o}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function el(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:o,all:i=null}=t||{};return{style:e=>{let t=i;for(let o of e)for(let e of o.set){let o=n[e.id];if(o){t=t?t+" "+o:o;break}}return t},scope:o}}function tl(e,t,n,o=0,i=e.length){let r=new nl(o,Array.isArray(t)?t:[t],n);r.highlightRange(e.cursor(),o,i,"",r.highlighters),r.flush(i)}Ja.empty=new Ja([],2,null);class nl{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,o,i){let{type:r,from:s,to:a}=e;if(s>=n||a<=t)return;r.isTop&&(i=this.highlighters.filter((e=>!e.scope||e.scope(r))));let l=o,c=function(e){let t=e.type.prop(Ka);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||Ja.empty,u=function(e,t){let n=null;for(let o of e){let e=o.style(t);e&&(n=n?n+" "+e:e)}return n}(i,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(o+=(o?" ":"")+u)),this.startSpan(Math.max(t,s),l),c.opaque)return;let d=e.tree&&e.tree.prop(oa.mounted);if(d&&d.overlay){let r=e.node.enter(d.overlay[0].from+s,1),c=this.highlighters.filter((e=>!e.scope||e.scope(d.tree.type))),u=e.firstChild();for(let h=0,f=s;;h++){let p=h<d.overlay.length?d.overlay[h]:null,m=p?p.from+s:a,g=Math.max(t,f),O=Math.min(n,m);if(g<O&&u)for(;e.from<O&&(this.highlightRange(e,g,O,o,i),this.startSpan(Math.min(O,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;f=p.to+s,f>t&&(this.highlightRange(r.cursor(),Math.max(t,p.from+s),Math.min(n,f),"",c),this.startSpan(Math.min(n,f),l))}u&&e.parent()}else if(e.firstChild()){d&&(o="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,o,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}const ol=Fa.define,il=ol(),rl=ol(),sl=ol(rl),al=ol(rl),ll=ol(),cl=ol(ll),ul=ol(ll),dl=ol(),hl=ol(dl),fl=ol(),pl=ol(),ml=ol(),gl=ol(ml),Ol=ol(),vl={comment:il,lineComment:ol(il),blockComment:ol(il),docComment:ol(il),name:rl,variableName:ol(rl),typeName:sl,tagName:ol(sl),propertyName:al,attributeName:ol(al),className:ol(rl),labelName:ol(rl),namespace:ol(rl),macroName:ol(rl),literal:ll,string:cl,docString:ol(cl),character:ol(cl),attributeValue:ol(cl),number:ul,integer:ol(ul),float:ol(ul),bool:ol(ll),regexp:ol(ll),escape:ol(ll),color:ol(ll),url:ol(ll),keyword:fl,self:ol(fl),null:ol(fl),atom:ol(fl),unit:ol(fl),modifier:ol(fl),operatorKeyword:ol(fl),controlKeyword:ol(fl),definitionKeyword:ol(fl),moduleKeyword:ol(fl),operator:pl,derefOperator:ol(pl),arithmeticOperator:ol(pl),logicOperator:ol(pl),bitwiseOperator:ol(pl),compareOperator:ol(pl),updateOperator:ol(pl),definitionOperator:ol(pl),typeOperator:ol(pl),controlOperator:ol(pl),punctuation:ml,separator:ol(ml),bracket:gl,angleBracket:ol(gl),squareBracket:ol(gl),paren:ol(gl),brace:ol(gl),content:dl,heading:hl,heading1:ol(hl),heading2:ol(hl),heading3:ol(hl),heading4:ol(hl),heading5:ol(hl),heading6:ol(hl),contentSeparator:ol(dl),list:ol(dl),quote:ol(dl),emphasis:ol(dl),strong:ol(dl),link:ol(dl),monospace:ol(dl),strikethrough:ol(dl),inserted:ol(),deleted:ol(),changed:ol(),invalid:ol(),meta:Ol,documentMeta:ol(Ol),annotation:ol(Ol),processingInstruction:ol(Ol),definition:Fa.defineModifier("definition"),constant:Fa.defineModifier("constant"),function:Fa.defineModifier("function"),standard:Fa.defineModifier("standard"),local:Fa.defineModifier("local"),special:Fa.defineModifier("special")};for(let e in vl){let t=vl[e];t instanceof Fa&&(t.name=e)}el([{tag:vl.link,class:"tok-link"},{tag:vl.heading,class:"tok-heading"},{tag:vl.emphasis,class:"tok-emphasis"},{tag:vl.strong,class:"tok-strong"},{tag:vl.keyword,class:"tok-keyword"},{tag:vl.atom,class:"tok-atom"},{tag:vl.bool,class:"tok-bool"},{tag:vl.url,class:"tok-url"},{tag:vl.labelName,class:"tok-labelName"},{tag:vl.inserted,class:"tok-inserted"},{tag:vl.deleted,class:"tok-deleted"},{tag:vl.literal,class:"tok-literal"},{tag:vl.string,class:"tok-string"},{tag:vl.number,class:"tok-number"},{tag:[vl.regexp,vl.escape,vl.special(vl.string)],class:"tok-string2"},{tag:vl.variableName,class:"tok-variableName"},{tag:vl.local(vl.variableName),class:"tok-variableName tok-local"},{tag:vl.definition(vl.variableName),class:"tok-variableName tok-definition"},{tag:vl.special(vl.variableName),class:"tok-variableName2"},{tag:vl.definition(vl.propertyName),class:"tok-propertyName tok-definition"},{tag:vl.typeName,class:"tok-typeName"},{tag:vl.namespace,class:"tok-namespace"},{tag:vl.className,class:"tok-className"},{tag:vl.macroName,class:"tok-macroName"},{tag:vl.propertyName,class:"tok-propertyName"},{tag:vl.operator,class:"tok-operator"},{tag:vl.comment,class:"tok-comment"},{tag:vl.meta,class:"tok-meta"},{tag:vl.invalid,class:"tok-invalid"},{tag:vl.punctuation,class:"tok-punctuation"}]);var bl;const yl=new oa;function xl(e){return B.define({combine:e?t=>t.concat(e):void 0})}const wl=new oa;class Sl{constructor(e,t,n=[],o=""){this.data=e,this.name=o,Ae.prototype.hasOwnProperty("tree")||Object.defineProperty(Ae.prototype,"tree",{get(){return Cl(this)}}),this.parser=t,this.extension=[Il.of(this),Ae.languageData.of(((e,t,n)=>{let o=_l(e,t,n),i=o.type.prop(yl);if(!i)return[];let r=e.facet(i),s=o.type.prop(wl);if(s){let i=o.resolve(t-o.from,n);for(let t of s)if(t.test(i,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(r)}}return r}))].concat(n)}isActiveAt(e,t,n=-1){return _l(e,t,n).type.prop(yl)==this.data}findRegions(e){let t=e.facet(Il);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],o=(e,t)=>{if(e.prop(yl)==this.data)return void n.push({from:t,to:t+e.length});let i=e.prop(oa.mounted);if(i){if(i.tree.prop(yl)==this.data){if(i.overlay)for(let e of i.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(i.overlay){let e=n.length;if(o(i.tree,i.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let i=e.children[n];i instanceof da&&o(i,e.positions[n]+t)}};return o(Cl(e),0),n}get allowsNesting(){return!0}}function _l(e,t,n){let o=e.facet(Il),i=Cl(e).topNode;if(!o||o.allowsNesting)for(let e=i;e;e=e.enter(t,n,ua.ExcludeBuffers))e.type.isTop&&(i=e);return i}Sl.setState=ve.define();class kl extends Sl{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=xl(e.languageData);return new kl(t,e.parser.configure({props:[yl.add((e=>e.isTop?t:void 0))]}),e.name)}configure(e,t){return new kl(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Cl(e){let t=e.field(Sl.state,!1);return t?t.tree:da.empty}class Tl{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let $l=null;class Pl{constructor(e,t,n=[],o,i,r,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=o,this.treeLen=i,this.viewport=r,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Pl(e,t,[],da.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Tl(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=da.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let o=this.parse.advance();if(o){if(this.fragments=this.withoutTempSkipped(Aa.addTree(o,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=o,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Aa.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=$l;$l=this;try{return e()}finally{$l=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Al(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:o,treeLen:i,viewport:r,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,o,i)=>t.push({fromA:e,toA:n,fromB:o,toB:i}))),n=Aa.applyChanges(n,t),o=da.empty,i=0,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),o=e.mapPos(t.to,-1);n<o&&s.push({from:n,to:o})}}}return new Pl(this.parser,t,n,o,i,r,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:o}=this.skipped[t];n<e.to&&o>e.from&&(this.fragments=Al(this.fragments,n,o),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Qa{createParse(t,n,o){let i=o[0].from,r=o[o.length-1].to;return{parsedPos:i,advance(){let t=$l;if(t){for(let e of o)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=r,new da(sa.none,[],[],r-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return $l}}function Al(e,t,n){return Aa.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class Ql{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Ql(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Pl.create(e.facet(Il).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Ql(n)}}Sl.state=q.define({create:Ql.init,update(e,t){for(let e of t.effects)if(e.is(Sl.setState))return e.value;return t.startState.facet(Il)!=t.state.facet(Il)?Ql.init(t.state):e.apply(t)}});let El=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(El=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const Ml="undefined"!=typeof navigator&&(null===(bl=navigator.scheduling)||void 0===bl?void 0:bl.isInputPending)?()=>navigator.scheduling.isInputPending():null,Dl=lo.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Sl.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Sl.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=El(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:o}}=this.view,i=n.field(Sl.state);if(i.tree==i.context.tree&&i.context.isDone(o+1e5))return;let r=Date.now()+Math.min(this.chunkBudget,100,e&&!Ml?Math.max(25,e.timeRemaining()-5):1e9),s=i.context.treeLen<o&&n.doc.length>o+1e3,a=i.context.work((()=>Ml&&Ml()||Date.now()>r),o+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Sl.setState.of(new Ql(i.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>io(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Il=B.define({combine:e=>e.length?e[0]:null,enables:e=>[Sl.state,Dl,lr.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]});class Rl{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const zl=B.define(),Nl=B.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function Ll(e){let t=e.facet(Nl);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function jl(e,t){let n="",o=e.tabSize,i=e.facet(Nl)[0];if("\t"==i){for(;t>=o;)n+="\t",t-=o;i=" "}for(let e=0;e<t;e++)n+=i;return n}function Vl(e,t){e instanceof Ae&&(e=new Bl(e));for(let n of e.state.facet(zl)){let o=n(e,t);if(void 0!==o)return o}let n=Cl(e.state);return n.length>=t?function(e,t,n){let o=t.resolveStack(n),i=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=o.node){let e=[];for(let t=i;t&&(t.from!=o.node.from||t.type!=o.node.type);t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)o={node:e[t],next:o}}return Xl(o,e,n)}(e,n,t):null}class Bl{constructor(e,t={}){this.state=e,this.options=t,this.unit=Ll(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:o,simulateDoubleBreak:i}=this.options;return null!=o&&o>=n.from&&o<=n.to?i&&o==e?{text:"",from:e}:(t<0?o<e:o<=e)?{text:n.text.slice(o-n.from),from:o}:{text:n.text.slice(0,o-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:o}=this.lineAt(e,t);return n.slice(e-o,Math.min(n.length,e+100-o))}column(e,t=1){let{text:n,from:o}=this.lineAt(e,t),i=this.countColumn(n,e-o),r=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return r>-1&&(i+=r-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return Fe(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:o}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(o);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Zl=new oa;function Xl(e,t,n){for(let o=e;o;o=o.next){let e=Wl(o.node);if(e)return e(Yl.create(t,n,o))}return 0}function Wl(e){let t=e.type.prop(Zl);if(t)return t;let n,o=e.firstChild;if(o&&(n=o.type.prop(oa.closedBy))){let t=e.lastChild,o=t&&n.indexOf(t.name)>-1;return e=>Hl(e,!0,1,void 0,o&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?Ul:null}function Ul(){return 0}class Yl extends Bl{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Yl(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Fl(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return Xl(this.context.next,this.base,this.pos)}}function Fl(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function ql({closing:e,align:t=!0,units:n=1}){return o=>Hl(o,t,n,e)}function Hl(e,t,n,o,i){let r=e.textAfter,s=r.match(/^\s*/)[0].length,a=o&&r.slice(s,s+o.length)==o||i==e.pos+s,l=t?function(e){let t=e.node,n=t.childAfter(t.from),o=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,r=e.state.doc.lineAt(n.from),s=null==i||i<=r.from?r.to:Math.min(r.to,i);for(let e=n.to;;){let i=t.childAfter(e);if(!i||i==o)return null;if(!i.type.isSkipped){if(i.from>=s)return null;let e=/^ */.exec(r.text.slice(n.to-r.from))[0].length;return{from:n.from,to:n.to+e}}e=i.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}const Gl=e=>e.baseIndent;function Kl({except:e,units:t=1}={}){return n=>{let o=e&&e.test(n.textAfter);return n.baseIndent+(o?0:t*n.unit)}}const Jl=B.define(),ec=new oa;function tc(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function nc(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function oc(e,t,n){for(let o of e.facet(Jl)){let i=o(e,t,n);if(i)return i}return function(e,t,n){let o=Cl(e);if(o.length<n)return null;let i=null;for(let r=o.resolveStack(n,1);r;r=r.next){let s=r.node;if(s.to<=n||s.from>n)continue;if(i&&s.from<t)break;let a=s.type.prop(ec);if(a&&(s.to<o.length-50||o.length==e.doc.length||!nc(s))){let o=a(s,e);o&&o.from<=n&&o.from>=t&&o.to>n&&(i=o)}}return i}(e,t,n)}function ic(e,t){let n=t.mapPos(e.from,1),o=t.mapPos(e.to,-1);return n>=o?void 0:{from:n,to:o}}const rc=ve.define({map:ic}),sc=ve.define({map:ic});function ac(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const lc=q.define({create:()=>dn.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(rc)&&!uc(e,n.value.from,n.value.to)){let{preparePlaceholder:o}=t.state.facet(mc),i=o?dn.replace({widget:new bc(o(t.state,n.value))}):vc;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(sc)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:o}=t.selection.main;e.between(o,o,((e,t)=>{e<o&&t>o&&(n=!0)})),n&&(e=e.update({filterFrom:o,filterTo:o,filter:(e,t)=>t<=o||e>=o}))}return e},provide:e=>lr.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let o=e[n++],i=e[n++];if("number"!=typeof o||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(vc.range(o,i))}return dn.set(t,!0)}});function cc(e,t,n){var o;let i=null;return null===(o=e.field(lc,!1))||void 0===o||o.between(t,n,((e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})})),i}function uc(e,t,n){let o=!1;return e.between(t,t,((e,i)=>{e==t&&i==n&&(o=!0)})),o}function dc(e,t){return e.field(lc,!1)?t:t.concat(ve.appendConfig.of(gc()))}function hc(e,t,n=!0){let o=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return lr.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${o} ${e.state.phrase("to")} ${i}.`)}const fc=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of ac(e)){let n=oc(e.state,t.from,t.to);if(n)return e.dispatch({effects:dc(e.state,[rc.of(n),hc(e,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(lc,!1))return!1;let t=[];for(let n of ac(e)){let o=cc(e.state,n.from,n.to);o&&t.push(sc.of(o),hc(e,o,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let o=0;o<t.doc.length;){let i=e.lineBlockAt(o),r=oc(t,i.from,i.to);r&&n.push(rc.of(r)),o=(r?e.lineBlockAt(r.to):i).to+1}return n.length&&e.dispatch({effects:dc(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(lc,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(sc.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],pc={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},mc=B.define({combine:e=>Qe(e,pc)});function gc(e){let t=[lc,Sc];return e&&t.push(mc.of(e)),t}function Oc(e,t){let{state:n}=e,o=n.facet(mc),i=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),o=cc(e.state,n.from,n.to);o&&e.dispatch({effects:sc.of(o)}),t.preventDefault()};if(o.placeholderDOM)return o.placeholderDOM(e,i,t);let r=document.createElement("span");return r.textContent=o.placeholderText,r.setAttribute("aria-label",n.phrase("folded code")),r.title=n.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}const vc=dn.replace({widget:new class extends cn{toDOM(e){return Oc(e,null)}}});class bc extends cn{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Oc(e,this.value)}}const yc={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class xc extends As{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function wc(e={}){let t=Object.assign(Object.assign({},yc),e),n=new xc(t,!0),o=new xc(t,!1),i=lo.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(Il)!=e.state.facet(Il)||e.startState.field(lc,!1)!=e.state.field(lc,!1)||Cl(e.startState)!=Cl(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new ze;for(let i of e.viewportLineBlocks){let r=cc(e.state,i.from,i.to)?o:oc(e.state,i.from,i.to)?n:null;r&&t.add(i.from,i.from,r)}return t.finish()}}),{domEventHandlers:r}=t;return[i,Is({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||Re.empty},initialSpacer:()=>new xc(t,!1),domEventHandlers:Object.assign(Object.assign({},r),{click:(e,t,n)=>{if(r.click&&r.click(e,t,n))return!0;let o=cc(e.state,t.from,t.to);if(o)return e.dispatch({effects:sc.of(o)}),!0;let i=oc(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:rc.of(i)}),!0)}})}),gc()]}const Sc=lr.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class _c{constructor(e,t){let n;function o(e){let t=Je.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const i="string"==typeof t.all?t.all:t.all?o(t.all):void 0,r=t.scope;this.scope=r instanceof Sl?e=>e.prop(yl)==r.data:r?e=>e==r:void 0,this.style=el(e.map((e=>({tag:e.tag,class:e.class||o(Object.assign({},e,{tag:null}))}))),{all:i}).style,this.module=n?new Je(n):null,this.themeType=t.themeType}static define(e,t){return new _c(e,t||{})}}const kc=B.define(),Cc=B.define({combine:e=>e.length?[e[0]]:null});function Tc(e){let t=e.facet(kc);return t.length?t:e.facet(Cc)}function $c(e,t){let n,o=[Ac];return e instanceof _c&&(e.module&&o.push(lr.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?o.push(Cc.of(e)):n?o.push(kc.computeN([lr.darkTheme],(t=>t.facet(lr.darkTheme)==("dark"==n)?[e]:[]))):o.push(kc.of(e)),o}class Pc{constructor(e){this.markCache=Object.create(null),this.tree=Cl(e.state),this.decorations=this.buildDeco(e,Tc(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Cl(e.state),n=Tc(e.state),o=n!=Tc(e.startState),{viewport:i}=e.view,r=e.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!o&&t.type==this.tree.type&&r>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=r):(t!=this.tree||e.viewportChanged||o)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=i.to)}buildDeco(e,t){if(!t||!this.tree.length)return dn.none;let n=new ze;for(let{from:o,to:i}of e.visibleRanges)tl(this.tree,t,((e,t,o)=>{n.add(e,t,this.markCache[o]||(this.markCache[o]=dn.mark({class:o})))}),o,i);return n.finish()}}const Ac=te.high(lo.fromClass(Pc,{decorations:e=>e.decorations})),Qc=_c.define([{tag:vl.meta,color:"#404740"},{tag:vl.link,textDecoration:"underline"},{tag:vl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:vl.emphasis,fontStyle:"italic"},{tag:vl.strong,fontWeight:"bold"},{tag:vl.strikethrough,textDecoration:"line-through"},{tag:vl.keyword,color:"#708"},{tag:[vl.atom,vl.bool,vl.url,vl.contentSeparator,vl.labelName],color:"#219"},{tag:[vl.literal,vl.inserted],color:"#164"},{tag:[vl.string,vl.deleted],color:"#a11"},{tag:[vl.regexp,vl.escape,vl.special(vl.string)],color:"#e40"},{tag:vl.definition(vl.variableName),color:"#00f"},{tag:vl.local(vl.variableName),color:"#30a"},{tag:[vl.typeName,vl.namespace],color:"#085"},{tag:vl.className,color:"#167"},{tag:[vl.special(vl.variableName),vl.macroName],color:"#256"},{tag:vl.definition(vl.propertyName),color:"#00c"},{tag:vl.comment,color:"#940"},{tag:vl.invalid,color:"#f00"}]),Ec=lr.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Mc="()[]{}",Dc=B.define({combine:e=>Qe(e,{afterCursor:!0,brackets:Mc,maxScanDistance:1e4,renderMatch:zc})}),Ic=dn.mark({class:"cm-matchingBracket"}),Rc=dn.mark({class:"cm-nonmatchingBracket"});function zc(e){let t=[],n=e.matched?Ic:Rc;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Nc=q.define({create:()=>dn.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],o=t.state.facet(Dc);for(let e of t.state.selection.ranges){if(!e.empty)continue;let i=Xc(t.state,e.head,-1,o)||e.head>0&&Xc(t.state,e.head-1,1,o)||o.afterCursor&&(Xc(t.state,e.head,1,o)||e.head<t.state.doc.length&&Xc(t.state,e.head+1,-1,o));i&&(n=n.concat(o.renderMatch(i,t.state)))}return dn.set(n,!0)},provide:e=>lr.decorations.from(e)}),Lc=[Nc,Ec];function jc(e={}){return[Dc.of(e),Lc]}const Vc=new oa;function Bc(e,t,n){let o=e.prop(t<0?oa.openedBy:oa.closedBy);if(o)return o;if(1==e.name.length){let o=n.indexOf(e.name);if(o>-1&&o%2==(t<0?1:0))return[n[o+t]]}return null}function Zc(e){let t=e.type.prop(Vc);return t?t(e.node):e}function Xc(e,t,n,o={}){let i=o.maxScanDistance||1e4,r=o.brackets||Mc,s=Cl(e),a=s.resolveInner(t,n);for(let o=a;o;o=o.parent){let i=Bc(o.type,n,r);if(i&&o.from<o.to){let s=Zc(o);if(s&&(n>0?t>=s.from&&t<s.to:t>s.from&&t<=s.to))return Wc(e,t,n,o,s,i,r)}}return function(e,t,n,o,i,r,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!u.next().done&&e<=r;){let r=u.value;n<0&&(e+=r.length);let a=t+e*n;for(let e=n>0?0:r.length-1,t=n>0?r.length:-1;e!=t;e+=n){let t=s.indexOf(r[e]);if(!(t<0||o.resolveInner(a+e,1).type!=i))if(t%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};d--}}n>0&&(e+=r.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,i,r)}function Wc(e,t,n,o,i,r,s){let a=o.parent,l={from:i.from,to:i.to},c=0,u=null==a?void 0:a.cursor();if(u&&(n<0?u.childBefore(o.from):u.childAfter(o.to)))do{if(n<0?u.to<=o.from:u.from>=o.to){if(0==c&&r.indexOf(u.type.name)>-1&&u.from<u.to){let e=Zc(u);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(Bc(u.type,n,s))c++;else if(Bc(u.type,-n,s)){if(0==c){let e=Zc(u);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const Uc=Object.create(null),Yc=[sa.none],Fc=[],qc=Object.create(null),Hc=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Hc[e]=Kc(Uc,t);function Gc(e,t){Fc.indexOf(e)>-1||(Fc.push(e),console.warn(t))}function Kc(e,t){let n=[];for(let o of t.split(" ")){let t=[];for(let n of o.split(".")){let o=e[n]||vl[n];o?"function"==typeof o?t.length?t=t.map(o):Gc(n,`Modifier ${n} used at start of tag`):t.length?Gc(n,`Tag ${n} used as modifier`):t=Array.isArray(o)?o:[o]:Gc(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let o=t.replace(/ /g,"_"),i=o+" "+n.map((e=>e.id)),r=qc[i];if(r)return r.id;let s=qc[i]=sa.define({id:Yc.length,name:o,props:[Ga({[o]:n})]});return Yc.push(s),s.id}Sn.RTL,Sn.LTR;function Jc(e,t){return({state:n,dispatch:o})=>{if(n.readOnly)return!1;let i=e(t,n);return!!i&&(o(n.update(i)),!0)}}const eu=Jc(su,0),tu=Jc(ru,0),nu=Jc(((e,t)=>ru(e,t,function(e){let t=[];for(let n of e.selection.ranges){let o=e.doc.lineAt(n.from),i=n.to<=o.to?o:e.doc.lineAt(n.to);i.from>o.from&&i.from==n.to&&(i=n.to==o.to+1?o:e.doc.lineAt(n.to-1));let r=t.length-1;r>=0&&t[r].to>o.from?t[r].to=i.to:t.push({from:o.from+/^\s*/.exec(o.text)[0].length,to:i.to})}return t}(t))),0);function ou(e,t){let n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}const iu=50;function ru(e,t,n=t.selection.ranges){let o=n.map((e=>ou(t,e.from).block));if(!o.every((e=>e)))return null;let i=n.map(((e,n)=>function(e,{open:t,close:n},o,i){let r,s,a=e.sliceDoc(o-iu,o),l=e.sliceDoc(i,i+iu),c=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,d=a.length-c;if(a.slice(d-t.length,d)==t&&l.slice(u,u+n.length)==n)return{open:{pos:o-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};i-o<=2*iu?r=s=e.sliceDoc(o,i):(r=e.sliceDoc(o,o+iu),s=e.sliceDoc(i-iu,i));let h=/^\s*/.exec(r)[0].length,f=/\s*$/.exec(s)[0].length,p=s.length-f-n.length;return r.slice(h,h+t.length)==t&&s.slice(p,p+n.length)==n?{open:{pos:o+h+t.length,margin:/\s/.test(r.charAt(h+t.length))?1:0},close:{pos:i-f-n.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(t,o[n],e.from,e.to)));if(2!=e&&!i.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>i[t]?[]:[{from:e.from,insert:o[t].open+" "},{from:e.to,insert:" "+o[t].close}])))};if(1!=e&&i.some((e=>e))){let e=[];for(let t,n=0;n<i.length;n++)if(t=i[n]){let i=o[n],{open:r,close:s}=t;e.push({from:r.pos-i.open.length,to:r.pos+r.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:e}}return null}function su(e,t,n=t.selection.ranges){let o=[],i=-1;for(let{from:e,to:r}of n){let n=o.length,s=1e9,a=ou(t,e).line;if(a){for(let n=e;n<=r;){let l=t.doc.lineAt(n);if(l.from>i&&(e==r||r>l.from)){i=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,n=l.text.slice(e,e+a.length)==a?e:-1;e<l.text.length&&e<s&&(s=e),o.push({line:l,comment:n,token:a,indent:e,empty:t,single:!1})}n=l.to+1}if(s<1e9)for(let e=n;e<o.length;e++)o[e].indent<o[e].line.text.length&&(o[e].indent=s);o.length==n+1&&(o[n].single=!0)}}if(2!=e&&o.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:i,empty:r,single:s}of o)!s&&r||e.push({from:t.from+i,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&o.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:i}of o)if(n>=0){let o=t.from+n,r=o+i.length;" "==t.text[r-t.from]&&r++,e.push({from:o,to:r})}return{changes:e}}return null}const au=me.define(),lu=me.define(),cu=B.define(),uu=B.define({combine:e=>Qe(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,o)=>e(n,o)||t(n,o)})}),du=q.define({create:()=>$u.empty,update(e,t){let n=t.state.facet(uu),o=t.annotation(au);if(o){let i=vu.fromTransaction(t,o.selection),r=o.side,s=0==r?e.undone:e.done;return s=i?bu(s,s.length,n.minDepth,i):Su(s,t.startState.selection),new $u(0==r?o.rest:s,0==r?s:o.rest)}let i=t.annotation(lu);if("full"!=i&&"before"!=i||(e=e.isolate()),!1===t.annotation(be.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let r=vu.fromTransaction(t),s=t.annotation(be.time),a=t.annotation(be.userEvent);return r?e=e.addChanges(r,s,a,n,t):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),"full"!=i&&"after"!=i||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new $u(e.done.map(vu.fromJSON),e.undone.map(vu.fromJSON))});function hu(e={}){return[du,uu.of(e),lr.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?pu:"historyRedo"==e.inputType?mu:null;return!!n&&(e.preventDefault(),n(t))}})]}function fu(e,t){return function({state:n,dispatch:o}){if(!t&&n.readOnly)return!1;let i=n.field(du,!1);if(!i)return!1;let r=i.pop(e,n,t);return!!r&&(o(r),!0)}}const pu=fu(0,!1),mu=fu(1,!1),gu=fu(0,!0),Ou=fu(1,!0);class vu{constructor(e,t,n,o,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=o,this.selectionsAfter=i}setSelAfter(e){return new vu(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new vu(e.changes&&Q.fromJSON(e.changes),[],e.mapped&&A.fromJSON(e.mapped),e.startSelection&&L.fromJSON(e.startSelection),e.selectionsAfter.map(L.fromJSON))}static fromTransaction(e,t){let n=xu;for(let t of e.startState.facet(cu)){let o=t(e);o.length&&(n=n.concat(o))}return!n.length&&e.changes.empty?null:new vu(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,xu)}static selection(e){return new vu(void 0,xu,void 0,void 0,e)}}function bu(e,t,n,o){let i=t+1>n+20?t-n-1:0,r=e.slice(i,t);return r.push(o),r}function yu(e,t){return e.length?t.length?e.concat(t):e:t}const xu=[],wu=200;function Su(e,t){if(e.length){let n=e[e.length-1],o=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-wu));return o.length&&o[o.length-1].eq(t)?e:(o.push(t),bu(e,e.length-1,1e9,n.setSelAfter(o)))}return[vu.selection([t])]}function _u(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function ku(e,t){if(!e.length)return e;let n=e.length,o=xu;for(;n;){let i=Cu(e[n-1],t,o);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,n);return t[n-1]=i,t}t=i.mapped,n--,o=i.selectionsAfter}return o.length?[vu.selection(o)]:xu}function Cu(e,t,n){let o=yu(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):xu,n);if(!e.changes)return vu.selection(o);let i=e.changes.map(t),r=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(r):r;return new vu(i,ve.mapEffects(e.effects,t),s,e.startSelection.map(r),o)}const Tu=/^(input\.type|delete)($|\.)/;class $u{constructor(e,t,n=0,o=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=o}isolate(){return this.prevTime?new $u(this.done,this.undone):this}addChanges(e,t,n,o,i){let r=this.done,s=r[r.length-1];return r=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||Tu.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<o.newGroupDelay&&o.joinToEvent(i,function(e,t){let n=[],o=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,i,r)=>{for(let e=0;e<n.length;){let t=n[e++],s=n[e++];r>=t&&i<=s&&(o=!0)}})),o}(s.changes,e.changes))||"input.type.compose"==n)?bu(r,r.length-1,o.minDepth,new vu(e.changes.compose(s.changes),yu(ve.mapEffects(e.effects,s.changes),s.effects),s.mapped,s.startSelection,xu)):bu(r,r.length,o.minDepth,e),new $u(r,xu,t,n)}addSelection(e,t,n,o){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:xu;return i.length>0&&t-this.prevTime<o&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(r=i[i.length-1],s=e,r.ranges.length==s.ranges.length&&0===r.ranges.filter(((e,t)=>e.empty!=s.ranges[t].empty)).length)?this:new $u(Su(this.done,e),this.undone,t,n);var r,s}addMapping(e){return new $u(ku(this.done,e),ku(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let o=0==e?this.done:this.undone;if(0==o.length)return null;let i=o[o.length-1],r=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:au.of({side:e,rest:_u(o),selection:r}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==o.length?xu:o.slice(0,o.length-1);return i.mapped&&(n=ku(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:au.of({side:e,rest:n,selection:r}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}$u.empty=new $u(xu,xu);const Pu=[{key:"Mod-z",run:pu,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:mu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:mu,preventDefault:!0},{key:"Mod-u",run:gu,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Ou,preventDefault:!0}];function Au(e,t){return L.create(e.ranges.map(t),e.mainIndex)}function Qu(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Eu({state:e,dispatch:t},n){let o=Au(e.selection,n);return!o.eq(e.selection,!0)&&(t(Qu(e,o)),!0)}function Mu(e,t){return L.cursor(t?e.to:e.from)}function Du(e,t){return Eu(e,(n=>n.empty?e.moveByChar(n,t):Mu(n,t)))}function Iu(e){return e.textDirectionAt(e.state.selection.main.head)==Sn.LTR}const Ru=e=>Du(e,!Iu(e)),zu=e=>Du(e,Iu(e));function Nu(e,t){return Eu(e,(n=>n.empty?e.moveByGroup(n,t):Mu(n,t)))}"undefined"!=typeof Intl&&Intl.Segmenter;function Lu(e,t,n){if(t.type.prop(n))return!0;let o=t.to-t.from;return o&&(o>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function ju(e,t,n){let o,i,r=Cl(e).resolveInner(t.head),s=n?oa.closedBy:oa.openedBy;for(let o=t.head;;){let t=n?r.childAfter(o):r.childBefore(o);if(!t)break;Lu(e,t,s)?r=t:o=n?t.to:t.from}return i=r.type.prop(s)&&(o=n?Xc(e,r.from,1):Xc(e,r.to,-1))&&o.matched?n?o.end.to:o.end.from:n?r.to:r.from,L.cursor(i,n?-1:1)}function Vu(e,t){return Eu(e,(n=>{if(!n.empty)return Mu(n,t);let o=e.moveVertically(n,t);return o.head!=n.head?o:e.moveToLineBoundary(n,t)}))}const Bu=e=>Vu(e,!1),Zu=e=>Vu(e,!0);function Xu(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,o=0,i=0;if(n){for(let t of e.state.facet(lr.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(o=Math.max(null==n?void 0:n.top,o)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}t=e.scrollDOM.clientHeight-o-i}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:o,marginBottom:i,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function Wu(e,t){let n,o=Xu(e),{state:i}=e,r=Au(i.selection,(n=>n.empty?e.moveVertically(n,t,o.height):Mu(n,t)));if(r.eq(i.selection))return!1;if(o.selfScroll){let t=e.coordsAtPos(i.selection.main.head),s=e.scrollDOM.getBoundingClientRect(),a=s.top+o.marginTop,l=s.bottom-o.marginBottom;t&&t.top>a&&t.bottom<l&&(n=lr.scrollIntoView(r.main.head,{y:"start",yMargin:t.top-a}))}return e.dispatch(Qu(i,r),{effects:n}),!0}const Uu=e=>Wu(e,!1),Yu=e=>Wu(e,!0);function Fu(e,t,n){let o=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?o.to:o.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==o.from&&o.length){let n=/^\s*/.exec(e.state.sliceDoc(o.from,Math.min(o.from+100,o.to)))[0].length;n&&t.head!=o.from+n&&(i=L.cursor(o.from+n))}return i}function qu(e,t,n){let o=!1,i=Au(e.selection,(t=>{let i=Xc(e,t.head,-1)||Xc(e,t.head,1)||t.head>0&&Xc(e,t.head-1,1)||t.head<e.doc.length&&Xc(e,t.head+1,-1);if(!i||!i.end)return t;o=!0;let r=i.start.from==t.head?i.end.to:i.end.from;return n?L.range(t.anchor,r):L.cursor(r)}));return!!o&&(t(Qu(e,i)),!0)}function Hu(e,t){let n=Au(e.state.selection,(e=>{let n=t(e);return L.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(Qu(e.state,n)),!0)}function Gu(e,t){return Hu(e,(n=>e.moveByChar(n,t)))}const Ku=e=>Gu(e,!Iu(e)),Ju=e=>Gu(e,Iu(e));function ed(e,t){return Hu(e,(n=>e.moveByGroup(n,t)))}function td(e,t){return Hu(e,(n=>e.moveVertically(n,t)))}const nd=e=>td(e,!1),od=e=>td(e,!0);function id(e,t){return Hu(e,(n=>e.moveVertically(n,t,Xu(e).height)))}const rd=e=>id(e,!1),sd=e=>id(e,!0),ad=({state:e,dispatch:t})=>(t(Qu(e,{anchor:0})),!0),ld=({state:e,dispatch:t})=>(t(Qu(e,{anchor:e.doc.length})),!0),cd=({state:e,dispatch:t})=>(t(Qu(e,{anchor:e.selection.main.anchor,head:0})),!0),ud=({state:e,dispatch:t})=>(t(Qu(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function dd(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:o}=e,i=o.changeByRange((o=>{let{from:i,to:r}=o;if(i==r){let s=t(o);s<i?(n="delete.backward",s=hd(e,s,!1)):s>i&&(n="delete.forward",s=hd(e,s,!0)),i=Math.min(i,s),r=Math.max(r,s)}else i=hd(e,i,!1),r=hd(e,r,!0);return i==r?{range:o}:{changes:{from:i,to:r},range:L.cursor(i,i<o.head?-1:1)}}));return!i.changes.empty&&(e.dispatch(o.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?lr.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function hd(e,t,n){if(e instanceof lr)for(let o of e.state.facet(lr.atomicRanges).map((t=>t(e))))o.between(t,t,((e,o)=>{e<t&&o>t&&(t=n?o:e)}));return t}const fd=(e,t,n)=>dd(e,(o=>{let i,r,s=o.from,{state:a}=e,l=a.doc.lineAt(s);if(n&&!t&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(i=l.text.slice(0,s-l.from))){if("\t"==i[i.length-1])return s-1;let e=Fe(i,a.tabSize)%Ll(a)||Ll(a);for(let t=0;t<e&&" "==i[i.length-1-t];t++)s--;r=s}else r=_(l.text,s-l.from,t,t)+l.from,r==s&&l.number!=(t?a.doc.lines:1)?r+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(l.text.slice(r-l.from,s-l.from))&&(r=_(l.text,r-l.from,!1,!1)+l.from);return r})),pd=e=>fd(e,!1,!0),md=e=>fd(e,!0,!1),gd=(e,t)=>dd(e,(n=>{let o=n.head,{state:i}=e,r=i.doc.lineAt(o),s=i.charCategorizer(o);for(let e=null;;){if(o==(t?r.to:r.from)){o==n.head&&r.number!=(t?i.doc.lines:1)&&(o+=t?1:-1);break}let a=_(r.text,o-r.from,t)+r.from,l=r.text.slice(Math.min(o,a)-r.from,Math.max(o,a)-r.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&o==n.head||(e=c),o=a}return o})),Od=e=>gd(e,!1);function vd(e){let t=[],n=-1;for(let o of e.selection.ranges){let i=e.doc.lineAt(o.from),r=e.doc.lineAt(o.to);if(o.empty||o.to!=r.from||(r=e.doc.lineAt(o.to-1)),n>=i.number){let e=t[t.length-1];e.to=r.to,e.ranges.push(o)}else t.push({from:i.from,to:r.to,ranges:[o]});n=r.number+1}return t}function bd(e,t,n){if(e.readOnly)return!1;let o=[],i=[];for(let t of vd(e)){if(n?t.to==e.doc.length:0==t.from)continue;let r=e.doc.lineAt(n?t.to+1:t.from-1),s=r.length+1;if(n){o.push({from:t.to,to:r.to},{from:t.from,insert:r.text+e.lineBreak});for(let n of t.ranges)i.push(L.range(Math.min(e.doc.length,n.anchor+s),Math.min(e.doc.length,n.head+s)))}else{o.push({from:r.from,to:t.from},{from:t.to,insert:e.lineBreak+r.text});for(let e of t.ranges)i.push(L.range(e.anchor-s,e.head-s))}}return!!o.length&&(t(e.update({changes:o,scrollIntoView:!0,selection:L.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0)}function yd(e,t,n){if(e.readOnly)return!1;let o=[];for(let t of vd(e))n?o.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):o.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const xd=wd(!1);function wd(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let o=t.changeByRange((n=>{let{from:o,to:i}=n,r=t.doc.lineAt(o),s=!e&&o==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,o=Cl(e).resolveInner(t),i=o.childBefore(t),r=o.childAfter(t);return i&&r&&i.to<=t&&r.from>=t&&(n=i.type.prop(oa.closedBy))&&n.indexOf(r.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(r.from).from&&!/\S/.test(e.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}(t,o);e&&(o=i=(i<=r.to?r:t.doc.lineAt(i)).to);let a=new Bl(t,{simulateBreak:o,simulateDoubleBreak:!!s}),l=Vl(a,o);for(null==l&&(l=Fe(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));i<r.to&&/\s/.test(r.text[i-r.from]);)i++;s?({from:o,to:i}=s):o>r.from&&o<r.from+100&&!/\S/.test(r.text.slice(0,o))&&(o=r.from);let c=["",jl(t,l)];return s&&c.push(jl(t,a.lineIndent(r.from,-1))),{changes:{from:o,to:i,insert:p.of(c)},range:L.cursor(o+1+c[1].length)}}));return n(t.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function Sd(e,t){let n=-1;return e.changeByRange((o=>{let i=[];for(let r=o.from;r<=o.to;){let s=e.doc.lineAt(r);s.number>n&&(o.empty||o.to>s.from)&&(t(s,i,o),n=s.number),r=s.to+1}let r=e.changes(i);return{changes:i,range:L.range(r.mapPos(o.anchor,1),r.mapPos(o.head,1))}}))}const _d=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Sd(e,((t,n)=>{n.push({from:t.from,insert:e.facet(Nl)})})),{userEvent:"input.indent"})),!0),kd=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Sd(e,((t,n)=>{let o=/^\s*/.exec(t.text)[0];if(!o)return;let i=Fe(o,e.tabSize),r=0,s=jl(e,Math.max(0,i-Ll(e)));for(;r<o.length&&r<s.length&&o.charCodeAt(r)==s.charCodeAt(r);)r++;n.push({from:t.from+r,to:t.from+o.length,insert:s.slice(r)})})),{userEvent:"delete.dedent"})),!0),Cd=[{key:"Ctrl-b",run:Ru,shift:Ku,preventDefault:!0},{key:"Ctrl-f",run:zu,shift:Ju},{key:"Ctrl-p",run:Bu,shift:nd},{key:"Ctrl-n",run:Zu,shift:od},{key:"Ctrl-a",run:e=>Eu(e,(t=>L.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>Hu(e,(t=>L.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Eu(e,(t=>L.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>Hu(e,(t=>L.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:md},{key:"Ctrl-h",run:pd},{key:"Ctrl-k",run:e=>dd(e,(t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:Od},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:p.of(["",""])},range:L.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,o=e.doc.lineAt(n),i=n==o.from?n-1:_(o.text,n-o.from,!1)+o.from,r=n==o.to?n+1:_(o.text,n-o.from,!0)+o.from;return{changes:{from:i,to:r,insert:e.doc.slice(n,r).append(e.doc.slice(i,n))},range:L.cursor(r)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Yu}],Td=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Eu(e,(t=>ju(e.state,t,!Iu(e)))),shift:e=>Hu(e,(t=>ju(e.state,t,!Iu(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Eu(e,(t=>ju(e.state,t,Iu(e)))),shift:e=>Hu(e,(t=>ju(e.state,t,Iu(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>bd(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>yd(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>bd(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>yd(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,o=null;return n.ranges.length>1?o=L.create([n.main]):n.main.empty||(o=L.create([L.cursor(n.main.head)])),!!o&&(t(Qu(e,o)),!0)}},{key:"Mod-Enter",run:wd(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=vd(e).map((({from:t,to:n})=>L.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:L.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=Au(e.selection,(t=>{let n=Cl(e),o=n.resolveStack(t.from,1);if(t.empty){let e=n.resolveStack(t.from,-1);e.node.from>=o.node.from&&e.node.to<=o.node.to&&(o=e)}for(let e=o;e;e=e.next){let{node:n}=e;if((n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&e.next)return L.range(n.to,n.from)}return t}));return!n.eq(e.selection)&&(t(Qu(e,n)),!0)},preventDefault:!0},{key:"Mod-[",run:kd},{key:"Mod-]",run:_d},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),o=new Bl(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),i=Sd(e,((t,i,r)=>{let s=Vl(o,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=jl(e,s);(a!=l||r.from<t.from+a.length)&&(n[t.from]=s,i.push({from:t.from,to:t.from+a.length,insert:l}))}));return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(vd(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),o=Au(t.selection,(t=>{let n;if(e.lineWrapping){let o=e.lineBlockAt(t.head),i=e.coordsAtPos(t.head,t.assoc||1);i&&(n=o.bottom+e.documentTop-i.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,n)})).map(n);return e.dispatch({changes:n,selection:o,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>qu(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),o=ou(e.state,n.from);return o.line?eu(e):!!o.block&&nu(e)}},{key:"Alt-A",run:tu},{key:"Ctrl-m",mac:"Shift-Alt-m",run:e=>(e.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:Ru,shift:Ku,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Nu(e,!Iu(e)),shift:e=>ed(e,!Iu(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>Eu(e,(t=>Fu(e,t,!Iu(e)))),shift:e=>Hu(e,(t=>Fu(e,t,!Iu(e)))),preventDefault:!0},{key:"ArrowRight",run:zu,shift:Ju,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Nu(e,Iu(e)),shift:e=>ed(e,Iu(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>Eu(e,(t=>Fu(e,t,Iu(e)))),shift:e=>Hu(e,(t=>Fu(e,t,Iu(e)))),preventDefault:!0},{key:"ArrowUp",run:Bu,shift:nd,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ad,shift:cd},{mac:"Ctrl-ArrowUp",run:Uu,shift:rd},{key:"ArrowDown",run:Zu,shift:od,preventDefault:!0},{mac:"Cmd-ArrowDown",run:ld,shift:ud},{mac:"Ctrl-ArrowDown",run:Yu,shift:sd},{key:"PageUp",run:Uu,shift:rd},{key:"PageDown",run:Yu,shift:sd},{key:"Home",run:e=>Eu(e,(t=>Fu(e,t,!1))),shift:e=>Hu(e,(t=>Fu(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:ad,shift:cd},{key:"End",run:e=>Eu(e,(t=>Fu(e,t,!0))),shift:e=>Hu(e,(t=>Fu(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:ld,shift:ud},{key:"Enter",run:xd,shift:xd},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:pd,shift:pd},{key:"Delete",run:md},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Od},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>gd(e,!0)},{mac:"Mod-Backspace",run:e=>dd(e,(t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>dd(e,(t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}].concat(Cd.map((e=>({mac:e.key,run:e.run,shift:e.shift})))));function $d(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o];"string"==typeof i?e.setAttribute(o,i):null!=i&&(e[o]=i)}t++}for(;t<arguments.length;t++)Pd(e,arguments[t]);return e}function Pd(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)Pd(e,t[n])}}const Ad="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class Qd{constructor(e,t,n=0,o=e.length,i,r){this.test=r,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,o),this.bufferStart=n,this.normalize=i?e=>i(Ad(e)):Ad,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return k(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=C(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=T(e);let o=this.normalize(t);if(o.length)for(let e=0,i=n;;e++){let r=o.charCodeAt(e),s=this.match(r,i,this.bufferPos+this.bufferStart);if(e==o.length-1){if(s)return this.value=s,this;break}i==n&&e<t.length&&t.charCodeAt(e)==r&&i++}}}match(e,t,n){let o=null;for(let t=0;t<this.matches.length;t+=2){let i=this.matches[t],r=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?o={from:this.matches[t+1],to:n}:(this.matches[t]++,r=!0)),r||(this.matches.splice(t,2),t-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?o={from:t,to:n}:this.matches.push(1,t)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}"undefined"!=typeof Symbol&&(Qd.prototype[Symbol.iterator]=function(){return this});const Ed={from:-1,to:-1,match:/.*/.exec("")},Md="gm"+(null==/x/.unicode?"":"u");class Dd{constructor(e,t,n,o=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=Ed,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new zd(e,t,n,o,i);this.re=new RegExp(t,Md+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let r=e.lineAt(o);this.curLineStart=r.from,this.matchPos=Nd(e,o),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,o=n+t[0].length;if(this.matchPos=Nd(this.text,o+(n==o?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<o||n>this.value.to)&&(!this.test||this.test(n,o,t)))return this.value={from:n,to:o,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Id=new WeakMap;class Rd{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let o=Id.get(e);if(!o||o.from>=n||o.to<=t){let o=new Rd(t,e.sliceString(t,n));return Id.set(e,o),o}if(o.from==t&&o.to==n)return o;let{text:i,from:r}=o;return r>t&&(i=e.sliceString(t,r)+i,r=t),o.to<n&&(i+=e.sliceString(o.to,n)),Id.set(e,new Rd(r,i)),new Rd(t,i.slice(t-r,n-r))}}class zd{constructor(e,t,n,o,i){this.text=e,this.to=i,this.done=!1,this.value=Ed,this.matchPos=Nd(e,o),this.re=new RegExp(t,Md+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=Rd.get(e,o,this.chunkEnd(o+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=Nd(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Rd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Nd(e,t){if(t>=e.length)return t;let n,o=e.lineAt(t);for(;t<o.to&&(n=o.text.charCodeAt(t-o.from))>=56320&&n<57344;)t++;return t}function Ld(e){let t=$d("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:o}=e,i=o.doc.lineAt(o.selection.main.head),[,r,s,a,l]=n,c=a?+a.slice(1):0,u=s?+s:i.number;if(s&&l){let e=u/100;r&&(e=e*("-"==r?-1:1)+i.number/o.doc.lines),u=Math.round(o.doc.lines*e)}else s&&r&&(u=u*("-"==r?-1:1)+i.number);let d=o.doc.line(Math.max(1,Math.min(o.doc.lines,u))),h=L.cursor(d.from+Math.max(0,Math.min(c,d.length)));e.dispatch({effects:[jd.of(!1),lr.scrollIntoView(h.from,{y:"center"})],selection:h}),e.focus()}return{dom:$d("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:jd.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},$d("label",e.state.phrase("Go to line"),": ",t)," ",$d("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),$d("button",{name:"close",onclick:()=>{e.dispatch({effects:jd.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["×"]))}}"undefined"!=typeof Symbol&&(Dd.prototype[Symbol.iterator]=zd.prototype[Symbol.iterator]=function(){return this});const jd=ve.define(),Vd=q.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(jd)&&(e=n.value);return e},provide:e=>Ps.from(e,(e=>e?Ld:null))}),Bd=lr.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Zd={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Xd=B.define({combine:e=>Qe(e,Zd,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function Wd(e){let t=[Hd,qd];return e&&t.push(Xd.of(e)),t}const Ud=dn.mark({class:"cm-selectionMatch"}),Yd=dn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Fd(e,t,n,o){return!(0!=n&&e(t.sliceDoc(n-1,n))==Ce.Word||o!=t.doc.length&&e(t.sliceDoc(o,o+1))==Ce.Word)}const qd=lo.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(Xd),{state:n}=e,o=n.selection;if(o.ranges.length>1)return dn.none;let i,r=o.main,s=null;if(r.empty){if(!t.highlightWordAroundCursor)return dn.none;let e=n.wordAt(r.head);if(!e)return dn.none;s=n.charCategorizer(r.head),i=n.sliceDoc(e.from,e.to)}else{let e=r.to-r.from;if(e<t.minSelectionLength||e>200)return dn.none;if(t.wholeWords){if(i=n.sliceDoc(r.from,r.to),s=n.charCategorizer(r.head),!Fd(s,n,r.from,r.to)||!function(e,t,n,o){return e(t.sliceDoc(n,n+1))==Ce.Word&&e(t.sliceDoc(o-1,o))==Ce.Word}(s,n,r.from,r.to))return dn.none}else if(i=n.sliceDoc(r.from,r.to),!i)return dn.none}let a=[];for(let o of e.visibleRanges){let e=new Qd(n.doc,i,o.from,o.to);for(;!e.next().done;){let{from:o,to:i}=e.value;if((!s||Fd(s,n,o,i))&&(r.empty&&o<=r.from&&i>=r.to?a.push(Yd.range(o,i)):(o>=r.to||i<=r.from)&&a.push(Ud.range(o,i)),a.length>t.maxMatches))return dn.none}}return dn.set(a)}},{decorations:e=>e.decorations}),Hd=lr.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const Gd=B.define({combine:e=>Qe(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Ch(e),scrollToMatch:e=>lr.scrollIntoView(e)})});class Kd{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,Md),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new rh(this):new th(this)}getCursor(e,t=0,n){let o=e.doc?e:Ae.create({doc:e});return null==n&&(n=o.doc.length),this.regexp?nh(this,o,t,n):eh(this,o,t,n)}}class Jd{constructor(e){this.spec=e}}function eh(e,t,n,o){return new Qd(t.doc,e.unquoted,n,o,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,o,i,r)=>((r>n||r+i.length<o)&&(r=Math.max(0,n-2),i=e.sliceString(r,Math.min(e.length,o+2))),!(t(oh(i,n-r))==Ce.Word&&t(ih(i,n-r))==Ce.Word||t(ih(i,o-r))==Ce.Word&&t(oh(i,o-r))==Ce.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class th extends Jd{constructor(e){super(e)}nextMatch(e,t,n){let o=eh(this.spec,e,n,e.doc.length).nextOverlapping();if(o.done){let n=Math.min(e.doc.length,t+this.spec.unquoted.length);o=eh(this.spec,e,0,n).nextOverlapping()}return o.done||o.value.from==t&&o.value.to==n?null:o.value}prevMatchInRange(e,t,n){for(let o=n;;){let n=Math.max(t,o-1e4-this.spec.unquoted.length),i=eh(this.spec,e,n,o),r=null;for(;!i.nextOverlapping().done;)r=i.value;if(r)return r;if(n==t)return null;o-=1e4}}prevMatch(e,t,n){let o=this.prevMatchInRange(e,0,t);return o||(o=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),!o||o.from==t&&o.to==n?null:o}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=eh(this.spec,e,0,e.doc.length),o=[];for(;!n.next().done;){if(o.length>=t)return null;o.push(n.value)}return o}highlight(e,t,n,o){let i=eh(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)o(i.value.from,i.value.to)}}function nh(e,t,n,o){return new Dd(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(i(oh(n.input,n.index))!=Ce.Word||i(ih(n.input,n.index))!=Ce.Word)&&(i(ih(n.input,n.index+n[0].length))!=Ce.Word||i(oh(n.input,n.index+n[0].length))!=Ce.Word)):void 0},n,o);var i}function oh(e,t){return e.slice(_(e,t,!1),t)}function ih(e,t){return e.slice(t,_(e,t))}class rh extends Jd{nextMatch(e,t,n){let o=nh(this.spec,e,n,e.doc.length).next();return o.done&&(o=nh(this.spec,e,0,t).next()),o.done?null:o.value}prevMatchInRange(e,t,n){for(let o=1;;o++){let i=Math.max(t,n-1e4*o),r=nh(this.spec,e,i,n),s=null;for(;!r.next().done;)s=r.value;if(s&&(i==t||s.from>i+10))return s;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,((t,n)=>{if("&"==n)return e.match[0];if("$"==n)return"$";for(let t=n.length;t>0;t--){let o=+n.slice(0,t);if(o>0&&o<e.match.length)return e.match[o]+n.slice(t)}return t}))}matchAll(e,t){let n=nh(this.spec,e,0,e.doc.length),o=[];for(;!n.next().done;){if(o.length>=t)return null;o.push(n.value)}return o}highlight(e,t,n,o){let i=nh(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)o(i.value.from,i.value.to)}}const sh=ve.define(),ah=ve.define(),lh=q.define({create:e=>new ch(yh(e).create(),null),update(e,t){for(let n of t.effects)n.is(sh)?e=new ch(n.value.create(),e.panel):n.is(ah)&&(e=new ch(e.query,n.value?bh:null));return e},provide:e=>Ps.from(e,(e=>e.panel))});class ch{constructor(e,t){this.query=e,this.panel=t}}const uh=dn.mark({class:"cm-searchMatch"}),dh=dn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),hh=lo.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(lh))}update(e){let t=e.state.field(lh);(t!=e.startState.field(lh)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return dn.none;let{view:n}=this,o=new ze;for(let t=0,i=n.visibleRanges,r=i.length;t<r;t++){let{from:s,to:a}=i[t];for(;t<r-1&&a>i[t+1].from-500;)a=i[++t].to;e.highlight(n.state,s,a,((e,t)=>{let i=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));o.add(e,t,i?dh:uh)}))}return o.finish()}},{decorations:e=>e.decorations});function fh(e){return t=>{let n=t.state.field(lh,!1);return n&&n.query.spec.valid?e(t,n):Sh(t)}}const ph=fh(((e,{query:t})=>{let{to:n}=e.state.selection.main,o=t.nextMatch(e.state,n,n);if(!o)return!1;let i=L.single(o.from,o.to),r=e.state.facet(Gd);return e.dispatch({selection:i,effects:[Ah(e,o),r.scrollToMatch(i.main,e)],userEvent:"select.search"}),wh(e),!0})),mh=fh(((e,{query:t})=>{let{state:n}=e,{from:o}=n.selection.main,i=t.prevMatch(n,o,o);if(!i)return!1;let r=L.single(i.from,i.to),s=e.state.facet(Gd);return e.dispatch({selection:r,effects:[Ah(e,i),s.scrollToMatch(r.main,e)],userEvent:"select.search"}),wh(e),!0})),gh=fh(((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:L.create(n.map((e=>L.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),Oh=fh(((e,{query:t})=>{let{state:n}=e,{from:o,to:i}=n.selection.main;if(n.readOnly)return!1;let r=t.nextMatch(n,o,o);if(!r)return!1;let s,a,l=r,c=[],u=[];if(l.from==o&&l.to==i&&(a=n.toText(t.getReplacement(l)),c.push({from:l.from,to:l.to,insert:a}),l=t.nextMatch(n,l.from,l.to),u.push(lr.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(o).number)+"."))),l){let t=0==c.length||c[0].from>=r.to?0:r.to-r.from-a.length;s=L.single(l.from-t,l.to-t),u.push(Ah(e,l)),u.push(n.facet(Gd).scrollToMatch(s.main,e))}return e.dispatch({changes:c,selection:s,effects:u,userEvent:"input.replace"}),!0})),vh=fh(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map((e=>{let{from:n,to:o}=e;return{from:n,to:o,insert:t.getReplacement(e)}}));if(!n.length)return!1;let o=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:lr.announce.of(o),userEvent:"input.replace.all"}),!0}));function bh(e){return e.state.facet(Gd).createPanel(e)}function yh(e,t){var n,o,i,r,s;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(Gd);return new Kd({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(o=null==t?void 0:t.caseSensitive)&&void 0!==o?o:c.caseSensitive,literal:null!==(i=null==t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(r=null==t?void 0:t.regexp)&&void 0!==r?r:c.regexp,wholeWord:null!==(s=null==t?void 0:t.wholeWord)&&void 0!==s?s:c.wholeWord})}function xh(e){let t=ks(e,bh);return t&&t.dom.querySelector("[main-field]")}function wh(e){let t=xh(e);t&&t==e.root.activeElement&&t.select()}const Sh=e=>{let t=e.state.field(lh,!1);if(t&&t.panel){let n=xh(e);if(n&&n!=e.root.activeElement){let o=yh(e.state,t.query.spec);o.valid&&e.dispatch({effects:sh.of(o)}),n.focus(),n.select()}}else e.dispatch({effects:[ah.of(!0),t?sh.of(yh(e.state,t.query.spec)):ve.appendConfig.of(Eh)]});return!0},_h=e=>{let t=e.state.field(lh,!1);if(!t||!t.panel)return!1;let n=ks(e,bh);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:ah.of(!1)}),!0},kh=[{key:"Mod-f",run:Sh,scope:"editor search-panel"},{key:"F3",run:ph,shift:mh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ph,shift:mh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:_h,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:o,to:i}=n.main,r=[],s=0;for(let t=new Qd(e.doc,e.sliceDoc(o,i));!t.next().done;){if(r.length>1e3)return!1;t.value.from==o&&(s=r.length),r.push(L.range(t.value.from,t.value.to))}return t(e.update({selection:L.create(r,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=ks(e,Ld);if(!t){let n=[jd.of(!0)];null==e.state.field(Vd,!1)&&n.push(ve.appendConfig.of([Vd,Bd])),e.dispatch({effects:n}),t=ks(e,Ld)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:n}=e,o=L.create(n.ranges.map((t=>e.wordAt(t.head)||L.cursor(t.head))),n.mainIndex);return!o.eq(n)&&(t(e.update({selection:o})),!0)})({state:e,dispatch:t});let o=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=o)))return!1;let i=function(e,t){let{main:n,ranges:o}=e.selection,i=e.wordAt(n.head),r=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new Qd(e.doc,t,o[o.length-1].to);;){if(i.next(),!i.done){if(n&&o.some((e=>e.from==i.value.from)))continue;if(r){let t=e.wordAt(i.value.from);if(!t||t.from!=i.value.from||t.to!=i.value.to)continue}return i.value}if(n)return null;i=new Qd(e.doc,t,0,Math.max(0,o[o.length-1].from-1)),n=!0}}(e,o);return!!i&&(t(e.update({selection:e.selection.addRange(L.range(i.from,i.to),!1),effects:lr.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class Ch{constructor(e){this.view=e;let t=this.query=e.state.field(lh).query.spec;function n(e,t,n){return $d("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=$d("input",{value:t.search,placeholder:Th(e,"Find"),"aria-label":Th(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$d("input",{value:t.replace,placeholder:Th(e,"Replace"),"aria-label":Th(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$d("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=$d("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=$d("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=$d("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>ph(e)),[Th(e,"next")]),n("prev",(()=>mh(e)),[Th(e,"previous")]),n("select",(()=>gh(e)),[Th(e,"all")]),$d("label",null,[this.caseField,Th(e,"match case")]),$d("label",null,[this.reField,Th(e,"regexp")]),$d("label",null,[this.wordField,Th(e,"by word")]),...e.state.readOnly?[]:[$d("br"),this.replaceField,n("replace",(()=>Oh(e)),[Th(e,"replace")]),n("replaceAll",(()=>vh(e)),[Th(e,"replace all")])],$d("button",{name:"close",onclick:()=>_h(e),"aria-label":Th(e,"close"),type:"button"},["×"])])}commit(){let e=new Kd({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:sh.of(e)}))}keydown(e){var t,n,o;t=this.view,n=e,o="search-panel",wr(vr(t.state),n,t,o)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?mh:ph)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),Oh(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(sh)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Gd).top}}function Th(e,t){return e.state.phrase(t)}const $h=30,Ph=/[\s\.,:;?!]/;function Ah(e,{from:t,to:n}){let o=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,r=Math.max(o.from,t-$h),s=Math.min(i,n+$h),a=e.state.sliceDoc(r,s);if(r!=o.from)for(let e=0;e<$h;e++)if(!Ph.test(a[e+1])&&Ph.test(a[e])){a=a.slice(e);break}if(s!=i)for(let e=a.length-1;e>a.length-$h;e--)if(!Ph.test(a[e-1])&&Ph.test(a[e])){a=a.slice(0,e);break}return lr.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${o.number}.`)}const Qh=lr.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Eh=[lh,te.low(hh),Qh];class Mh{constructor(e,t,n,o){this.state=e,this.pos=t,this.explicit=n,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Cl(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),o=t.text.slice(n-t.from,this.pos-t.from),i=o.search(Nh(e,!1));return i<0?null:{from:n+i,to:this.pos,text:o.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(e,t,n){"abort"==e&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function Dh(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function Ih(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,o]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:o}of e){t[o[0]]=!0;for(let e=1;e<o.length;e++)n[o[e]]=!0}let o=Dh(t)+Dh(n)+"*$";return[new RegExp("^"+o),new RegExp(o)]}(t);return e=>{let i=e.matchBefore(o);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}class Rh{constructor(e,t,n,o){this.completion=e,this.source=t,this.match=n,this.score=o}}function zh(e){return e.selection.main.from}function Nh(e,t){var n;let{source:o}=e,i=t&&"^"!=o[0],r="$"!=o[o.length-1];return i||r?new RegExp(`${i?"^":""}(?:${o})${r?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const Lh=me.define();const jh=new WeakMap;function Vh(e){if(!Array.isArray(e))return e;let t=jh.get(e);return t||jh.set(e,t=Ih(e)),t}const Bh=ve.define(),Zh=ve.define();class Xh{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=k(e,t),o=T(n);this.chars.push(n);let i=e.slice(t,t+o),r=i.toUpperCase();this.folded.push(k(r==i?i.toLowerCase():r,0)),t+=o}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:o,precise:i,byWord:r}=this;if(1==t.length){let o=k(e,0),i=T(o),r=i==e.length?0:-100;if(o==t[0]);else{if(o!=n[0])return null;r+=-200}return this.ret(r,[0,i])}let s=e.indexOf(this.pattern);if(0==s)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,l=0;if(s<0){for(let i=0,r=Math.min(e.length,200);i<r&&l<a;){let r=k(e,i);r!=t[l]&&r!=n[l]||(o[l++]=i),i+=T(r)}if(l<a)return null}let c=0,u=0,d=!1,h=0,f=-1,p=-1,m=/[a-z]/.test(e),g=!0;for(let o=0,l=Math.min(e.length,200),O=0;o<l&&u<a;){let l=k(e,o);s<0&&(c<a&&l==t[c]&&(i[c++]=o),h<a&&(l==t[h]||l==n[h]?(0==h&&(f=o),p=o+1,h++):h=0));let v,b=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(v=C(l))!=v.toLowerCase()?1:v!=v.toUpperCase()?2:0;(!o||1==b&&m||0==O&&0!=b)&&(t[u]==l||n[u]==l&&(d=!0)?r[u++]=o:r.length&&(g=!1)),O=b,o+=T(l)}return u==a&&0==r[0]&&g?this.result((d?-200:0)-100,r,e):h==a&&0==f?this.ret(-200-e.length+(p==e.length?0:-100),[0,p]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):h==a?this.ret(-900-e.length,[f,p]):u==a?this.result((d?-200:0)-100-700+(g?0:-1100),r,e):2==t.length?null:this.result((o[0]?-700:0)-200-1100,o,e)}result(e,t,n){let o=[],i=0;for(let e of t){let t=e+(this.astral?T(k(n,e)):1);i&&o[i-1]==e?o[i-1]=t:(o[i++]=e,o[i++]=t)}return this.ret(e-n.length,o)}}class Wh{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Uh=B.define({combine:e=>Qe(e,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Fh,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>Yh(e(n),t(n)),optionClass:(e,t)=>n=>Yh(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})});function Yh(e,t){return e?t?e+" "+t:e:t}function Fh(e,t,n,o,i,r){let s,a,l=e.textDirection==Sn.RTL,c=l,u=!1,d="top",h=t.left-i.left,f=i.right-t.right,p=o.right-o.left,m=o.bottom-o.top;if(c&&h<Math.min(p,f)?c=!1:!c&&f<Math.min(p,h)&&(c=!0),p<=(c?h:f))s=Math.max(i.top,Math.min(n.top,i.bottom-m))-t.top,a=Math.min(400,c?h:f);else{u=!0,a=Math.min(400,(l?t.right:i.right-t.left)-30);let e=i.bottom-t.bottom;e>=m||e>t.top?s=n.bottom-t.top:(d="bottom",s=t.bottom-n.top)}return{style:`${d}: ${s/((t.bottom-t.top)/r.offsetHeight)}px; max-width: ${a/((t.right-t.left)/r.offsetWidth)}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function qh(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let o=Math.floor((e-t)/n);return{from:e-(o+1)*n,to:e-o*n}}class Hh{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let o=e.state.field(t),{options:i,selected:r}=o.open,s=e.state.facet(Uh);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n,o){let i=document.createElement("span");i.className="cm-completionLabel";let r=e.displayLabel||e.label,s=0;for(let e=0;e<o.length;){let t=o[e++],n=o[e++];t>s&&i.appendChild(document.createTextNode(r.slice(s,t)));let a=i.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(r.slice(t,n))),a.className="cm-completionMatchedText",s=n}return s<r.length&&i.appendChild(document.createTextNode(r.slice(s))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=qh(i.length,r,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",(n=>{let{options:o}=e.state.field(t).open;for(let t,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(t=/-(\d+)$/.exec(i.id))&&+t[1]<o.length)return this.applyCompletion(e,o[+t[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(t=>{let n=e.state.field(this.stateField,!1);n&&n.tooltip&&e.state.facet(Uh).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:Zh.of(null)})})),this.showOptions(i,o.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(e){var t;let n=e.state.field(this.stateField),o=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=o){let{options:i,selected:r,disabled:s}=n.open;o.open&&o.open.options==i||(this.range=qh(i.length,r,e.state.facet(Uh).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),s!=(null===(t=o.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=qh(t.options.length,t.selected,this.view.state.facet(Uh).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:o}=n;if(!o)return;let i="string"==typeof o?document.createTextNode(o):o(n);if(!i)return;"then"in i?i.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,n)})).catch((e=>io(this.view.state,e,"completion info"))):this.addInfoPane(i,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:o}=e;n.appendChild(t),this.infoDestroy=o||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,o=this.range.from;n;n=n.nextSibling,o++)"LI"==n.nodeName&&n.id?o==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):o--;return t&&function(e,t){let n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=n.height/e.offsetHeight;o.top<n.top?e.scrollTop-=(n.top-o.top)/i:o.bottom>n.bottom&&(e.scrollTop+=(o.bottom-n.bottom)/i)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),o=e.getBoundingClientRect(),i=this.space;if(!i){let e=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:e.clientWidth,bottom:e.clientHeight}}return o.top>Math.min(i.bottom,t.bottom)-10||o.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(Uh).positionInfo(this.view,t,o,n,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const o=document.createElement("ul");o.id=t,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions")),o.addEventListener("mousedown",(e=>{e.target==o&&e.preventDefault()}));let i=null;for(let r=n.from;r<n.to;r++){let{completion:s,match:a}=e[r],{section:l}=s;if(l){let e="string"==typeof l?l:l.name;if(e!=i&&(r>n.from||0==n.from))if(i=e,"string"!=typeof l&&l.header)o.appendChild(l.header(l));else{o.appendChild(document.createElement("completion-section")).textContent=e}}const c=o.appendChild(document.createElement("li"));c.id=t+"-"+r,c.setAttribute("role","option");let u=this.optionClass(s);u&&(c.className=u);for(let e of this.optionContent){let t=e(s,this.view.state,this.view,a);t&&c.appendChild(t)}}return n.from&&o.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Gh(e,t){return n=>new Hh(n,e,t)}function Kh(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class Jh{constructor(e,t,n,o,i,r){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=o,this.selected=i,this.disabled=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Jh(this.options,of(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,o,i,r){if(o&&!r&&e.some((e=>e.isPending)))return o.setDisabled();let s=function(e,t){let n=[],o=null,i=e=>{n.push(e);let{section:t}=e.completion;if(t){o||(o=[]);let e="string"==typeof t?t:t.name;o.some((t=>t.name==e))||o.push("string"==typeof t?{name:e}:t)}},r=t.facet(Uh);for(let o of e)if(o.hasResult()){let e=o.result.getMatch;if(!1===o.result.filter)for(let t of o.result.options)i(new Rh(t,o.source,e?e(t):[],1e9-n.length));else{let n,s=t.sliceDoc(o.from,o.to),a=r.filterStrict?new Wh(s):new Xh(s);for(let t of o.result.options)if(n=a.match(t.label)){let r=t.displayLabel?e?e(t,n.matched):[]:n.matched;i(new Rh(t,o.source,r,n.score+(t.boost||0)))}}}if(o){let e=Object.create(null),t=0,i=(e,t)=>{var n,o;return(null!==(n=e.rank)&&void 0!==n?n:1e9)-(null!==(o=t.rank)&&void 0!==o?o:1e9)||(e.name<t.name?-1:1)};for(let n of o.sort(i))t-=1e5,e[n.name]=t;for(let t of n){let{section:n}=t.completion;n&&(t.score+=e["string"==typeof n?n:n.name])}}let s=[],a=null,l=r.compareCompletions;for(let e of n.sort(((e,t)=>t.score-e.score||l(e.completion,t.completion)))){let t=e.completion;!a||a.label!=t.label||a.detail!=t.detail||null!=a.type&&null!=t.type&&a.type!=t.type||a.apply!=t.apply||a.boost!=t.boost?s.push(e):Kh(e.completion)>Kh(a)&&(s[s.length-1]=e),a=e.completion}return s}(e,t);if(!s.length)return o&&e.some((e=>e.isPending))?o.setDisabled():null;let a=t.facet(Uh).selectOnOpen?0:-1;if(o&&o.selected!=a&&-1!=o.selected){let e=o.options[o.selected].completion;for(let t=0;t<s.length;t++)if(s[t].completion==e){a=t;break}}return new Jh(s,of(n,a),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:ff,above:i.aboveCursor},o?o.timestamp:Date.now(),a,!1)}map(e){return new Jh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Jh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class ef{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new ef(rf,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Uh),o=(n.override||t.languageDataAt("autocomplete",zh(t)).map(Vh)).map((t=>(this.active.find((e=>e.source==t))||new af(t,this.active.some((e=>0!=e.state))?1:0)).update(e,n)));o.length==this.active.length&&o.every(((e,t)=>e==this.active[t]))&&(o=this.active);let i=this.open,r=e.effects.some((e=>e.is(cf)));i&&e.docChanged&&(i=i.map(e.changes)),e.selection||o.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,o=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;o<t.length&&!t[o].hasResult();)o++;let i=n==e.length,r=o==t.length;if(i||r)return i==r;if(e[n++].result!=t[o++].result)return!1}}(o,this.active)||r?i=Jh.build(o,t,this.id,i,n,r):i&&i.disabled&&!o.some((e=>e.isPending))&&(i=null),!i&&o.every((e=>!e.isPending))&&o.some((e=>e.hasResult()))&&(o=o.map((e=>e.hasResult()?new af(e.source,0):e)));for(let t of e.effects)t.is(uf)&&(i=i&&i.setSelected(t.value,this.id));return o==this.active&&i==this.open?this:new ef(o,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?tf:nf}}const tf={"aria-autocomplete":"list"},nf={};function of(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const rf=[];function sf(e,t){if(e.isUserEvent("input.complete")){let n=e.annotation(Lh);if(n&&t.activateOnCompletion(n))return 12}let n=e.isUserEvent("input.type");return n&&t.activateOnTyping?5:n?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}class af{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return 1==this.state}update(e,t){let n=sf(e,t),o=this;(8&n||16&n&&this.touches(e))&&(o=new af(o.source,0)),4&n&&0==o.state&&(o=new af(this.source,1)),o=o.updateFor(e,n);for(let t of e.effects)if(t.is(Bh))o=new af(o.source,1,t.value);else if(t.is(Zh))o=new af(o.source,0);else if(t.is(cf))for(let e of t.value)e.source==o.source&&(o=e);return o}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(zh(e.state))}}class lf extends af{constructor(e,t,n,o,i,r){super(e,3,t),this.limit=n,this.result=o,this.from=i,this.to=r}hasResult(){return!0}updateFor(e,t){var n;if(!(3&t))return this.map(e.changes);let o=this.result;o.map&&!e.changes.empty&&(o=o.map(o,e.changes));let i=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),s=zh(e.state);if(s>r||!o||2&t&&(zh(e.startState)==this.from||s<this.limit))return new af(this.source,4&t?1:0);let a=e.changes.mapPos(this.limit);return function(e,t,n,o){if(!e)return!1;let i=t.sliceDoc(n,o);return"function"==typeof e?e(i,n,o,t):Nh(e,!0).test(i)}(o.validFor,e.state,i,r)?new lf(this.source,this.explicit,a,o,i,r):o.update&&(o=o.update(o,i,r,new Mh(e.state,s,!1)))?new lf(this.source,this.explicit,a,o,o.from,null!==(n=o.to)&&void 0!==n?n:zh(e.state)):new af(this.source,1,this.explicit)}map(e){if(e.empty)return this;return(this.result.map?this.result.map(this.result,e):this.result)?new lf(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new af(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}const cf=ve.define({map:(e,t)=>e.map((e=>e.map(t)))}),uf=ve.define(),df=q.define({create:()=>ef.start(),update:(e,t)=>e.update(t),provide:e=>[ms.from(e,(e=>e.tooltip)),lr.contentAttributes.from(e,(e=>e.attrs))]});function hf(e,t){const n=t.completion.apply||t.completion.label;let o=e.state.field(df).active.find((e=>e.source==t.source));return o instanceof lf&&("string"==typeof n?e.dispatch(Object.assign(Object.assign({},function(e,t,n,o){let{main:i}=e.selection,r=n-i.from,s=o-i.from;return Object.assign(Object.assign({},e.changeByRange((a=>{if(a!=i&&n!=o&&e.sliceDoc(a.from+r,a.from+s)!=e.sliceDoc(n,o))return{range:a};let l=e.toText(t);return{changes:{from:a.from+r,to:o==i.from?a.to:a.from+s,insert:l},range:L.cursor(a.from+r+l.length)}}))),{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,n,o.from,o.to)),{annotations:Lh.of(t.completion)})):n(e,t.completion,o.from,o.to),!0)}const ff=Gh(df,hf);function pf(e,t="option"){return n=>{let o=n.state.field(df,!1);if(!o||!o.open||o.open.disabled||Date.now()-o.open.timestamp<n.state.facet(Uh).interactionDelay)return!1;let i,r=1;"page"==t&&(i=ws(n,o.open.tooltip))&&(r=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=o.open.options,a=o.open.selected>-1?o.open.selected+r*(e?1:-1):e?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),n.dispatch({effects:uf.of(a)}),!0}}const mf=e=>!!e.state.field(df,!1)&&(e.dispatch({effects:Bh.of(!0)}),!0);class gf{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Of=lo.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(df).active)t.isPending&&this.startQuery(t)}update(e){let t=e.state.field(df),n=e.state.facet(Uh);if(!e.selectionSet&&!e.docChanged&&e.startState.field(df)==t)return;let o=e.transactions.some((e=>{let t=sf(e,n);return 8&t||(e.selection||e.docChanged)&&!(3&t)}));for(let t=0;t<this.running.length;t++){let n=this.running[t];if(o||n.context.abortOnDocChange&&e.docChanged||n.updates.length+e.transactions.length>50&&Date.now()-n.time>1e3){for(let e of n.context.abortListeners)try{e()}catch(e){io(this.view.state,e)}n.context.abortListeners=null,this.running.splice(t--,1)}else n.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some((e=>e.effects.some((e=>e.is(Bh)))))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=t.active.some((e=>e.isPending&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),i):-1,0!=this.composing)for(let t of e.transactions)t.isUserEvent("input.type")?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(df);for(let e of t.active)e.isPending&&!this.running.some((t=>t.active.source==e.source))&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(Uh).updateSyncTime))}startQuery(e){let{state:t}=this.view,n=zh(t),o=new Mh(t,n,e.explicit,this.view),i=new gf(e,o);this.running.push(i),Promise.resolve(e.source(o)).then((e=>{i.context.aborted||(i.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:Zh.of(null)}),io(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(Uh).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(Uh),o=this.view.state.field(df);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(void 0===r.done)continue;if(this.running.splice(i--,1),r.done){let o=zh(r.updates.length?r.updates[0].startState:this.view.state),i=Math.min(o,r.done.from+(r.active.explicit?0:1)),s=new lf(r.active.source,r.active.explicit,i,r.done,r.done.from,null!==(e=r.done.to)&&void 0!==e?e:o);for(let e of r.updates)s=s.update(e,n);if(s.hasResult()){t.push(s);continue}}let s=o.active.find((e=>e.source==r.active.source));if(s&&s.isPending)if(null==r.done){let e=new af(r.active.source,0);for(let t of r.updates)e=e.update(t,n);e.isPending||t.push(e)}else this.startQuery(s)}(t.length||o.open&&o.open.disabled)&&this.view.dispatch({effects:cf.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(df,!1);if(t&&t.tooltip&&this.view.state.facet(Uh).closeOnBlur){let n=t.open&&ws(this.view,t.open.tooltip);n&&n.dom.contains(e.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:Zh.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:Bh.of(!1)})),20),this.composing=0}}}),vf="object"==typeof navigator&&/Win/.test(navigator.platform),bf=te.highest(lr.domEventHandlers({keydown(e,t){let n=t.state.field(df,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&(!vf||!e.altKey)||e.metaKey)return!1;let o=n.open.options[n.open.selected],i=n.active.find((e=>e.source==o.source)),r=o.completion.commitCharacters||i.result.commitCharacters;return r&&r.indexOf(e.key)>-1&&hf(t,o),!1}})),yf=lr.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class xf{constructor(e,t,n,o){this.field=e,this.line=t,this.from=n,this.to=o}}class wf{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,P.TrackDel),n=e.mapPos(this.to,1,P.TrackDel);return null==t||null==n?null:new wf(this.field,t,n)}}class Sf{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],o=[t],i=e.doc.lineAt(t),r=/^\s*/.exec(i.text)[0];for(let i of this.lines){if(n.length){let n=r,s=/^\t*/.exec(i)[0].length;for(let t=0;t<s;t++)n+=e.facet(Nl);o.push(t+n.length-s),i=n+i.slice(s)}n.push(i),t+=i.length+1}let s=this.fieldPositions.map((e=>new wf(e.field,o[e.line]+e.from,o[e.line]+e.to)));return{text:n,ranges:s}}static parse(e){let t,n=[],o=[],i=[];for(let r of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(r);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1,l=s.replace(/\\[{}]/g,(e=>e[1]));for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:l&&n[t].name==l)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:l}),a=t;for(let e of i)e.field>=a&&e.field++}i.push(new xf(a,o.length,t.index,t.index+l.length)),r=r.slice(0,t.index)+s+r.slice(t.index+t[0].length)}r=r.replace(/\\([{}])/g,((e,t,n)=>{for(let e of i)e.line==o.length&&e.from>n&&(e.from--,e.to--);return t})),o.push(r)}return new Sf(o,i)}}let _f=dn.widget({widget:new class extends cn{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),kf=dn.mark({class:"cm-snippetField"});class Cf{constructor(e,t){this.ranges=e,this.active=t,this.deco=dn.set(e.map((e=>(e.from==e.to?_f:kf).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let o=n.map(e);if(!o)return null;t.push(o)}return new Cf(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const Tf=ve.define({map:(e,t)=>e&&e.map(t)}),$f=ve.define(),Pf=q.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(Tf))return n.value;if(n.is($f)&&e)return new Cf(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>lr.decorations.from(e,(e=>e?e.deco:dn.none))});function Af(e,t){return L.create(e.filter((e=>e.field==t)).map((e=>L.range(e.from,e.to))))}function Qf(e){let t=Sf.parse(e);return(e,n,o,i)=>{let{text:r,ranges:s}=t.instantiate(e.state,o),{main:a}=e.state.selection,l={changes:{from:o,to:i==a.from?a.to:i,insert:p.of(r)},scrollIntoView:!0,annotations:n?[Lh.of(n),be.userEvent.of("input.complete")]:void 0};if(s.length&&(l.selection=Af(s,0)),s.some((e=>e.field>0))){let t=new Cf(s,0),n=l.effects=[Tf.of(t)];void 0===e.state.field(Pf,!1)&&n.push(ve.appendConfig.of([Pf,If,zf,yf]))}e.dispatch(e.state.update(l))}}function Ef(e){return({state:t,dispatch:n})=>{let o=t.field(Pf,!1);if(!o||e<0&&0==o.active)return!1;let i=o.active+e,r=e>0&&!o.ranges.some((t=>t.field==i+e));return n(t.update({selection:Af(o.ranges,i),effects:Tf.of(r?null:new Cf(o.ranges,i)),scrollIntoView:!0})),!0}}const Mf=[{key:"Tab",run:Ef(1),shift:Ef(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(Pf,!1)&&(t(e.update({effects:Tf.of(null)})),!0)}],Df=B.define({combine:e=>e.length?e[0]:Mf}),If=te.highest(gr.compute([Df],(e=>e.facet(Df))));function Rf(e,t){return Object.assign(Object.assign({},t),{apply:Qf(e)})}const zf=lr.domEventHandlers({mousedown(e,t){let n,o=t.state.field(Pf,!1);if(!o||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let i=o.ranges.find((e=>e.from<=n&&e.to>=n));return!(!i||i.field==o.active)&&(t.dispatch({selection:Af(o.ranges,i.field),effects:Tf.of(o.ranges.some((e=>e.field>i.field))?new Cf(o.ranges,i.field):null),scrollIntoView:!0}),!0)}});const Nf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Lf=ve.define({map(e,t){let n=t.mapPos(e,-1,P.TrackAfter);return null==n?void 0:n}}),jf=new class extends Ee{};jf.startSide=1,jf.endSide=-1;const Vf=q.define({create:()=>Re.empty,update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}for(let n of t.effects)n.is(Lf)&&(e=e.update({add:[jf.range(n.value,n.value+1)]}));return e}});const Bf="()[]{}<>«»»«［］｛｝";function Zf(e){for(let t=0;t<16;t+=2)if(Bf.charCodeAt(t)==e)return Bf.charAt(t+1);return C(e<128?e:e+1)}function Xf(e,t){return e.languageDataAt("closeBrackets",t)[0]||Nf}const Wf="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Uf=lr.inputHandler.of(((e,t,n,o)=>{if((Wf?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(o.length>2||2==o.length&&1==T(k(o,0))||t!=i.from||n!=i.to)return!1;let r=function(e,t){let n=Xf(e,e.selection.main.head),o=n.brackets||Nf.brackets;for(let i of o){let r=Zf(k(i,0));if(t==i)return r==i?Kf(e,i,o.indexOf(i+i+i)>-1,n):Hf(e,i,r,n.before||Nf.before);if(t==r&&Ff(e,e.selection.main.from))return Gf(e,i,r)}return null}(e.state,o);return!!r&&(e.dispatch(r),!0)})),Yf=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Xf(e,e.selection.main.head).brackets||Nf.brackets,o=null,i=e.changeByRange((t=>{if(t.empty){let o=function(e,t){let n=e.sliceString(t-2,t);return T(k(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let i of n)if(i==o&&qf(e.doc,t.head)==Zf(k(i,0)))return{changes:{from:t.head-i.length,to:t.head+i.length},range:L.cursor(t.head-i.length)}}return{range:o=t}}));return o||t(e.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!o}}];function Ff(e,t){let n=!1;return e.field(Vf).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function qf(e,t){let n=e.sliceString(t,t+2);return n.slice(0,T(k(n,0)))}function Hf(e,t,n,o){let i=null,r=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:n,from:r.to}],effects:Lf.of(r.to+t.length),range:L.range(r.anchor+t.length,r.head+t.length)};let s=qf(e.doc,r.head);return!s||/\s/.test(s)||o.indexOf(s)>-1?{changes:{insert:t+n,from:r.head},effects:Lf.of(r.head+t.length),range:L.cursor(r.head+t.length)}:{range:i=r}}));return i?null:e.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Gf(e,t,n){let o=null,i=e.changeByRange((t=>t.empty&&qf(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:L.cursor(t.head+n.length)}:o={range:t}));return o?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Kf(e,t,n,o){let i=o.stringPrefixes||Nf.stringPrefixes,r=null,s=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:t,from:o.to}],effects:Lf.of(o.to+t.length),range:L.range(o.anchor+t.length,o.head+t.length)};let s,a=o.head,l=qf(e.doc,a);if(l==t){if(Jf(e,a))return{changes:{insert:t+t,from:a},effects:Lf.of(a+t.length),range:L.cursor(a+t.length)};if(Ff(e,a)){let o=n&&e.sliceDoc(a,a+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:a,to:a+o.length,insert:o},range:L.cursor(a+o.length)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&(s=ep(e,a-2*t.length,i))>-1&&Jf(e,s))return{changes:{insert:t+t+t+t,from:a},effects:Lf.of(a+t.length),range:L.cursor(a+t.length)};if(e.charCategorizer(a)(l)!=Ce.Word&&ep(e,a,i)>-1&&!function(e,t,n,o){let i=Cl(e).resolveInner(t,-1),r=o.reduce(((e,t)=>Math.max(e,t.length)),0);for(let s=0;s<5;s++){let s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+r)),a=s.indexOf(n);if(!a||a>-1&&o.indexOf(s.slice(0,a))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>n.length+a;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let l=i.to==t&&i.parent;if(!l)break;i=l}return!1}(e,a,t,i))return{changes:{insert:t+t,from:a},effects:Lf.of(a+t.length),range:L.cursor(a+t.length)}}return{range:r=o}}));return r?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Jf(e,t){let n=Cl(e).resolveInner(t+1);return n.parent&&n.from==t}function ep(e,t,n){let o=e.charCategorizer(t);if(o(e.sliceDoc(t-1,t))!=Ce.Word)return t;for(let i of n){let n=t-i.length;if(e.sliceDoc(n,t)==i&&o(e.sliceDoc(n-1,n))!=Ce.Word)return n}return-1}function tp(e={}){return[bf,df,Uh.of(e),Of,op,yf]}const np=[{key:"Ctrl-Space",run:mf},{mac:"Alt-`",run:mf},{key:"Escape",run:e=>{let t=e.state.field(df,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:Zh.of(null)}),!0)}},{key:"ArrowDown",run:pf(!0)},{key:"ArrowUp",run:pf(!1)},{key:"PageDown",run:pf(!0,"page")},{key:"PageUp",run:pf(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(df,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(Uh).interactionDelay)&&hf(e,t.open.options[t.open.selected])}}],op=te.highest(gr.computeN([Uh],(e=>e.facet(Uh).defaultKeymap?[np]:[])));class ip{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class rp{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let o=n.facet(vp).markerFilter;o&&(e=o(e,n));let i=e.slice().sort(((e,t)=>e.from-t.from||e.to-t.to)),r=new ze,s=[],a=0;for(let e=0;;){let t,o,l=e==i.length?null:i[e];if(!l&&!s.length)break;for(s.length?(t=a,o=s.reduce(((e,t)=>Math.min(e,t.to)),l&&l.from>t?l.from:1e8)):(t=l.from,o=l.to,s.push(l),e++);e<i.length;){let n=i[e];if(n.from!=t||!(n.to>n.from||n.to==t)){o=Math.min(n.from,o);break}s.push(n),e++,o=Math.min(n.to,o)}let c=$p(s);if(s.some((e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from)))r.add(t,t,dn.widget({widget:new xp(c),diagnostics:s.slice()}));else{let e=s.reduce(((e,t)=>t.markClass?e+" "+t.markClass:e),"");r.add(t,o,dn.mark({class:"cm-lintRange cm-lintRange-"+c+e,diagnostics:s.slice(),inclusiveEnd:s.some((e=>e.to>o))}))}a=o;for(let e=0;e<s.length;e++)s[e].to<=a&&s.splice(e--,1)}let l=r.finish();return new rp(l,t,sp(l))}}function sp(e,t=null,n=0){let o=null;return e.between(n,1e9,((e,n,{spec:i})=>{if(!(t&&i.diagnostics.indexOf(t)<0))if(o){if(i.diagnostics.indexOf(o.diagnostic)<0)return!1;o=new ip(o.from,n,o.diagnostic)}else o=new ip(e,n,t||i.diagnostics[0])})),o}function ap(e,t){let n=t.pos,o=t.end||n,i=e.state.facet(vp).hideOn(e,n,o);if(null!=i)return i;let r=e.startState.doc.lineAt(t.pos);return!(!e.effects.some((e=>e.is(cp)))&&!e.changes.touchesRange(r.from,Math.max(r.to,o)))}function lp(e,t){return e.field(hp,!1)?t:t.concat(ve.appendConfig.of(Pp))}const cp=ve.define(),up=ve.define(),dp=ve.define(),hp=q.define({create:()=>new rp(dn.none,null,null),update(e,t){if(t.docChanged&&e.diagnostics.size){let n=e.diagnostics.map(t.changes),o=null,i=e.panel;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);o=sp(n,e.selected.diagnostic,i)||sp(n,null,i)}!n.size&&i&&t.state.facet(vp).autoPanel&&(i=null),e=new rp(n,i,o)}for(let n of t.effects)if(n.is(cp)){let o=t.state.facet(vp).autoPanel?n.value.length?Sp.open:null:e.panel;e=rp.init(n.value,o,t.state)}else n.is(up)?e=new rp(e.diagnostics,n.value?Sp.open:null,e.selected):n.is(dp)&&(e=new rp(e.diagnostics,e.panel,n.value));return e},provide:e=>[Ps.from(e,(e=>e.panel)),lr.decorations.from(e,(e=>e.diagnostics))]});const fp=dn.mark({class:"cm-lintRange cm-lintRange-active"});function pp(e,t,n){let o,{diagnostics:i}=e.state.field(hp),r=-1,s=-1;i.between(t-(n<0?1:0),t+(n>0?1:0),((e,i,{spec:a})=>{if(t>=e&&t<=i&&(e==i||(t>e||n>0)&&(t<i||n<0)))return o=a.diagnostics,r=e,s=i,!1}));let a=e.state.facet(vp).tooltipFilter;return o&&a&&(o=a(o,e.state)),o?{pos:r,end:s,above:e.state.doc.lineAt(r).to<s,create:()=>({dom:mp(e,o)})}:null}function mp(e,t){return $d("ul",{class:"cm-tooltip-lint"},t.map((t=>yp(e,t,!1))))}const gp=e=>{let t=e.state.field(hp,!1);return!(!t||!t.panel)&&(e.dispatch({effects:up.of(!1)}),!0)},Op=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(hp,!1);t&&t.panel||e.dispatch({effects:lp(e.state,[up.of(!0)])});let n=ks(e,Sp.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(hp,!1);if(!t)return!1;let n=e.state.selection.main,o=t.diagnostics.iter(n.to+1);return!(!o.value&&(o=t.diagnostics.iter(0),!o.value||o.from==n.from&&o.to==n.to))&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0}),!0)}}];const vp=B.define({combine:e=>Object.assign({sources:e.map((e=>e.source)).filter((e=>null!=e))},Qe(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))});function bp(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let o=n[e];if(/[a-zA-Z]/.test(o)&&!t.some((e=>e.toLowerCase()==o.toLowerCase()))){t.push(o);continue e}}t.push("")}return t}function yp(e,t,n){var o;let i=n?bp(t.actions):[];return $d("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},$d("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),null===(o=t.actions)||void 0===o?void 0:o.map(((n,o)=>{let r=!1,s=o=>{if(o.preventDefault(),r)return;r=!0;let i=sp(e.state.field(hp).diagnostics,t);i&&n.apply(e,i.from,i.to)},{name:a}=n,l=i[o]?a.indexOf(i[o]):-1,c=l<0?a:[a.slice(0,l),$d("u",a.slice(l,l+1)),a.slice(l+1)];return $d("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":` Action: ${a}${l<0?"":` (access key "${i[o]})"`}.`},c)})),t.source&&$d("div",{class:"cm-diagnosticSource"},t.source))}class xp extends cn{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return $d("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class wp{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=yp(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Sp{constructor(e){this.view=e,this.items=[];this.list=$d("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)gp(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],o=bp(n.actions);for(let i=0;i<o.length;i++)if(o[i].toUpperCase().charCodeAt(0)==t.keyCode){let t=sp(this.view.state.field(hp).diagnostics,n);t&&n.actions[i].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=$d("div",{class:"cm-panel-lint"},this.list,$d("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>gp(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(hp).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(hp),n=0,o=!1,i=null,r=new Set;for(e.between(0,this.view.state.doc.length,((e,s,{spec:a})=>{for(let e of a.diagnostics){if(r.has(e))continue;r.add(e);let s,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==e){a=t;break}a<0?(s=new wp(this.view,e),this.items.splice(n,0,s),o=!0):(s=this.items[a],a>n&&(this.items.splice(n,a-n),o=!0)),t&&s.diagnostic==t.diagnostic?s.dom.hasAttribute("aria-selected")||(s.dom.setAttribute("aria-selected","true"),i=s):s.dom.hasAttribute("aria-selected")&&s.dom.removeAttribute("aria-selected"),n++}}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new wp(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{let n=t.height/this.list.offsetHeight;e.top<t.top?this.list.scrollTop-=(t.top-e.top)/n:e.bottom>t.bottom&&(this.list.scrollTop+=(e.bottom-t.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=sp(this.view.state.field(hp).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:dp.of(t)})}static open(e){return new Sp(e)}}function _p(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function kp(e){return _p(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Cp=lr.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:kp("#d11")},".cm-lintRange-warning":{backgroundImage:kp("orange")},".cm-lintRange-info":{backgroundImage:kp("#999")},".cm-lintRange-hint":{backgroundImage:kp("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Tp(e){return"error"==e?4:"warning"==e?3:"info"==e?2:1}function $p(e){let t="hint",n=1;for(let o of e){let e=Tp(o.severity);e>n&&(n=e,t=o.severity)}return t}const Pp=[hp,lr.decorations.compute([hp],(e=>{let{selected:t,panel:n}=e.field(hp);return t&&n&&t.from!=t.to?dn.set([fp.range(t.from,t.to)]):dn.none})),xs(pp,{hideOn:ap}),Cp];const Ap=(()=>[Hs(),Js,Ur(),hu(),wc(),Ar(),[zr,Nr],Ae.allowMultipleSelections.of(!0),Ae.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:o}=e.newSelection.main,i=n.lineAt(o);if(o>i.from+200)return e;let r=n.sliceString(i.from,o);if(!t.some((e=>e.test(r))))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let n=Vl(s,t.from);if(null==n)continue;let o=/^\s*/.exec(t.text)[0],i=jl(s,n);o!=i&&l.push({from:t.from,to:t.from+o.length,insert:i})}return l.length?[e,{changes:l,sequential:!0}]:e})),$c(Qc,{fallback:!0}),jc(),[Uf,Vf],tp(),ns(),rs(),Gr,Wd(),gr.of([...Yf,...Td,...kh,...Pu,...fc,...np,...Op])])();var Qp=n(5606);class Ep{constructor(e,t,n,o,i,r,s,a,l,c=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=o,this.pos=i,this.score=r,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let o=e.parser.context;return new Ep(e,[],t,n,n,0,[],0,o?new Mp(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,o=65535&e,{parser:i}=this.p,r=this.reducePos<this.pos-25;r&&this.setLookAhead(this.pos);let s=i.dynamicPrecedence(o);if(s&&(this.score+=s),0==n)return this.pushState(i.getGoto(this.state,o,!0),this.reducePos),o<i.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,r?8:4,!0),void this.reduceContext(o,this.reducePos);let a=this.stack.length-3*(n-1)-(262144&e?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(null===(t=this.p.parser.nodeSet.types[o])||void 0===t?void 0:t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=a?this.stack[a-1]:0,d=this.bufferBase+this.buffer.length-u;if(o<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,l,e,d+4,!0)}if(262144&e)this.state=this.stack[a];else{let e=this.stack[a-3];this.state=i.getGoto(e,o,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(o,l)}storeNode(e,t,n,o=4,i=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,o=this.buffer.length;if(0==o&&e.parent&&(o=e.bufferBase-e.parent.bufferBase,e=e.parent),o>0&&0==e.buffer[o-4]&&e.buffer[o-1]>-1){if(t==n)return;if(e.buffer[o-2]>=t)return void(e.buffer[o-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4]){let e=!1;for(let t=i;t>0&&this.buffer[t-2]>n;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,o>4&&(o-=4)}this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=n,this.buffer[i+3]=o}else this.buffer.push(e,t,n,o)}shift(e,t,n,o){if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=o,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,o,4);else{let i=e,{parser:r}=this.p;(o>this.pos||t<=r.maxNode)&&(this.pos=o,r.stateFlag(i,1)||(this.reducePos=o)),this.pushState(i,n),this.shiftContext(t,n),t<=r.maxNode&&this.buffer.push(t,n,o,4)}}apply(e,t,n,o){65536&e?this.reduce(e):this.shift(e,t,n,o)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let o=this.pos;this.reducePos=this.pos=o+e.length,this.pushState(t,o),this.buffer.push(n,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),o=e.bufferBase+t;for(;e&&o==e.bufferBase;)e=e.parent;return new Ep(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,o,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Dp(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(!(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let o,i=0;i<t.length;i+=2)(o=t[i+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[i],o);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let o=t[e+1];n.some(((e,t)=>1&t&&e==o))||n.push(t[e],o)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let o=t[e+1];if(o==this.state)continue;let i=this.split();i.pushState(o,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[e],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,o=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],o,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(o,i)=>{if(!t.includes(o))return t.push(o),e.allActions(o,(t=>{if(393216&t);else if(65536&t){let n=(t>>19)-i;if(n>1){let o=65535&t,i=this.stack.length-3*n;if(i>=0&&e.getGoto(this.stack[i],o,!1)>=0)return n<<19|65536|o}}else{let e=n(t,i+1);if(null!=e)return e}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Mp(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Mp{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Dp{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let o=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=o}}class Ip{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Ip(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Ip(this.stack,this.pos,this.index)}}function Rp(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let o=0,i=0;o<e.length;){let r=0;for(;;){let t=e.charCodeAt(o++),n=!1;if(126==t){r=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,n=!0),r+=i,n)break;r*=46}n?n[i++]=r:n=new t(r)}return n}class zp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Np=new zp;class Lp{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Np,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,o=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!o)return null;let e=this.ranges[--o];i-=n.from-e.to,n=e}for(;t<0?i>n.to:i>=n.to;){if(o==this.ranges.length-1)return null;let e=this.ranges[++o];i+=e.from-n.to,n=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,o=this.chunkOff+e;if(o>=0&&o<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(o);else{let o=this.resolveOffset(e,1);if(null==o)return-1;if(t=o,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,o=this.range;for(;o.to<=t;)o=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Np,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let o of this.ranges){if(o.from>=t)break;o.to>e&&(n+=this.input.read(Math.max(o.from,e),Math.min(o.to,t)))}return n}}class jp{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;Zp(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}jp.prototype.contextual=jp.prototype.fallback=jp.prototype.extend=!1;class Vp{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?Rp(e):e}token(e,t){let n=e.pos,o=0;for(;;){let n=e.next<0,i=e.resolveOffset(1,1);if(Zp(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||o++,null==i)break;e.reset(i,e.token)}o&&(e.reset(n,e.token),e.acceptToken(this.elseToken,o))}}Vp.prototype.contextual=jp.prototype.fallback=jp.prototype.extend=!1;class Bp{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Zp(e,t,n,o,i,r){let s=0,a=1<<o,{dialect:l}=n.p.parser;e:for(;a&e[s];){let n=e[s+1];for(let o=s+3;o<n;o+=2)if((e[o+1]&a)>0){let n=e[o];if(l.allows(n)&&(-1==t.token.value||t.token.value==n||Wp(n,t.token.value,i,r))){t.acceptToken(n);break}}let o=t.next,c=0,u=e[s+2];if(!(t.next<0&&u>c&&65535==e[n+3*u-3])){for(;c<u;){let i=c+u>>1,r=n+i+(i<<1),a=e[r],l=e[r+1]||65536;if(o<a)u=i;else{if(!(o>=l)){s=e[r+2],t.advance();continue e}c=i+1}}break}s=e[n+3*u-1]}}function Xp(e,t,n){for(let o,i=t;65535!=(o=e[i]);i++)if(o==n)return i-t;return-1}function Wp(e,t,n,o){let i=Xp(n,o,t);return i<0||Xp(n,o,e)<i}const Up=void 0!==Qp&&Qp.env&&/\bparse\b/.test(Qp.env.LOG);let Yp=null;function Fp(e,t,n){let o=e.cursor(ua.IncludeAnonymous);for(o.moveTo(t);;)if(!(n<0?o.childBefore(t):o.childAfter(t)))for(;;){if((n<0?o.to<t:o.from>t)&&!o.type.isError)return n<0?Math.max(0,Math.min(o.to-1,t-25)):Math.min(e.length,Math.max(o.from+1,t+25));if(n<0?o.prevSibling():o.nextSibling())break;if(!o.parent())return n<0?0:e.length}}class qp{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Fp(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Fp(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],o=this.index[t];if(o==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[o],r=this.start[t]+n.positions[o];if(r>e)return this.nextStart=r,null;if(i instanceof da){if(r==e){if(r<this.safeFrom)return null;let e=r+i.length;if(e<=this.safeTo){let t=i.prop(oa.lookAhead);if(!t||e+t<this.fragment.to)return i}}this.index[t]++,r+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(r),this.index.push(0))}else this.index[t]++,this.nextStart=r+i.length}}}class Hp{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new zp))}getActions(e){let t=0,n=null,{parser:o}=e.p,{tokenizers:i}=o,r=o.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let o=0;o<i.length;o++){if(!(1<<o&r))continue;let l=i[o],c=this.tokens[o];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=r||c.context!=s)&&(this.updateCachedToken(c,l,e),c.mask=r,c.context=s),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let o=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>o))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new zp,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new zp,{pos:n,p:o}=e;return t.start=n,t.end=Math.min(n+1,o.stream.end),t.value=n==o.stream.end?o.parser.eofTerm:0,t}updateCachedToken(e,t,n){let o=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(o,e),n),e.value>-1){let{parser:t}=n.p;for(let o=0;o<t.specialized.length;o++)if(t.specialized[o]==e.value){let i=t.specializers[o](this.stream.read(e.start,e.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){1&i?e.extended=i>>1:e.value=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(o+1)}putAction(e,t,n,o){for(let t=0;t<o;t+=3)if(this.actions[t]==e)return o;return this.actions[o++]=e,this.actions[o++]=t,this.actions[o++]=n,o}addActions(e,t,n,o){let{state:i}=e,{parser:r}=e.p,{data:s}=r;for(let e=0;e<2;e++)for(let a=r.stateSlot(i,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==o&&2==s[a+1]&&(o=this.putAction(om(s,a+2),t,n,o));break}a=om(s,a+2)}s[a]==t&&(o=this.putAction(om(s,a+1),t,n,o))}return o}}class Gp{constructor(e,t,n,o){this.parser=e,this.input=t,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Lp(t,o),this.tokens=new Hp(e,this.stream),this.topTerm=e.top[1];let{from:i}=o[0];this.stacks=[Ep.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*e.bufferLength?new qp(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,o=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<n.length;r++){let s=n[r];for(;;){if(this.tokens.mainToken=null,s.pos>o)i.push(s);else{if(this.advanceStack(s,i,n))continue;{e||(e=[],t=[]),e.push(s);let n=this.tokens.getMainToken(s);t.push(n.value,n.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return Up&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw Up&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+o);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(n)return Up&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort(((e,t)=>t.score-e.score));i.length>e;)i.pop();i.some((e=>e.reducePos>o))&&this.recovering--}else if(i.length>1){e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let n=e+1;n<i.length;n++){let o=i[n];if(t.sameState(o)||t.buffer.length>500&&o.buffer.length>500){if(!((t.score-o.score||t.buffer.length-o.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let e=1;e<i.length;e++)i[e].pos<this.minStackPos&&(this.minStackPos=i[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let o=e.pos,{parser:i}=this,r=Up?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&o>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(o);s;){let o=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(e.state,s.type.id):-1;if(o>-1&&s.length&&(!t||(s.prop(oa.contextHash)||0)==n))return e.useNode(s,o),Up&&console.log(r+this.stackID(e)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof da)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof da&&0==s.positions[0]))break;s=a}}let s=i.stateSlot(e.state,4);if(s>0)return e.reduce(s),Up&&console.log(r+this.stackID(e)+` (via always-reduce ${i.getName(65535&s)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let l=a[s++],c=a[s++],u=a[s++],d=s==a.length||!n,h=d?e:e.split(),f=this.tokens.mainToken;if(h.apply(l,c,f?f.start:h.pos,u),Up&&console.log(r+this.stackID(h)+` (via ${65536&l?`reduce of ${i.getName(65535&l)}`:"shift"} for ${i.getName(c)} @ ${o}${h==e?"":", split"})`),d)return!0;h.pos>o?t.push(h):n.push(h)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Kp(e,t),!0}}runRecovery(e,t,n){let o=null,i=!1;for(let r=0;r<e.length;r++){let s=e[r],a=t[r<<1],l=t[1+(r<<1)],c=Up?this.stackID(s)+" -> ":"";if(s.deadEnd){if(i)continue;if(i=!0,s.restart(),Up&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}let u=s.split(),d=c;for(let e=0;u.forceReduce()&&e<10;e++){if(Up&&console.log(d+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;Up&&(d=this.stackID(u)+" -> ")}for(let e of s.recoverByInsert(a))Up&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),Up&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),Kp(s,n)):(!o||o.score<s.score)&&(o=s)}return o}stackToTree(e){return e.close(),da.build({buffer:Ip.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Yp||(Yp=new WeakMap)).get(e);return t||Yp.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Kp(e,t){for(let n=0;n<t.length;n++){let o=t[n];if(o.pos==e.pos&&o.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class Jp{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const em=e=>e;class tm{constructor(e){this.start=e.start,this.shift=e.shift||em,this.reduce=e.reduce||em,this.reuse=e.reuse||em,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class nm extends Qa{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),o=[];for(let e=0;e<t.length;e++)o.push([]);function i(e,t,n){o[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=oa[e]);for(let n=1;n<t.length;){let o=t[n++];if(o>=0)i(o,e,t[n++]);else{let r=t[n+-o];for(let s=-o;s>0;s--)i(t[n++],e,r);n++}}}this.nodeSet=new aa(t.map(((t,i)=>sa.define({name:i>=this.minRepeatTerm?void 0:t,id:i,props:o[i],top:n.indexOf(i)>-1,error:0==i,skipped:e.skippedNodes&&e.skippedNodes.indexOf(i)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=ea;let r=Rp(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(im),this.states=Rp(e.states,Uint32Array),this.data=Rp(e.stateData),this.goto=Rp(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new jp(r,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let o=new Gp(this,e,t,n);for(let i of this.wrappers)o=i(o,e,t,n);return o}getGoto(e,t,n=!1){let o=this.goto;if(t>=o[0])return-1;for(let i=o[t+1];;){let t=o[i++],r=1&t,s=o[i++];if(r&&n)return s;for(let n=i+(t>>1);i<n;i++)if(o[i]==e)return s;if(r)return-1}}hasAction(e,t){let n=this.data;for(let o=0;o<2;o++)for(let i,r=this.stateSlot(e,o?2:1);;r+=3){if(65535==(i=n[r])){if(1!=n[r+1]){if(2==n[r+1])return om(n,r+2);break}i=n[r=om(n,r+2)]}if(i==t||0==i)return om(n,r+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,(e=>e==t||null))}allActions(e,t){let n=this.stateSlot(e,4),o=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==o;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=om(this.data,n+2)}o=t(om(this.data,n+1))}return o}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=om(this.data,n+2)}if(!(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(nm.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((n,o)=>{let i=e.specializers.find((e=>e.from==n.external));if(!i)return n;let r=Object.assign(Object.assign({},n),{external:i.to});return t.specializers[o]=im(r),r}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let o of e.split(" ")){let e=t.indexOf(o);e>=0&&(n[e]=!0)}let o=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,i=this.dialects[t[e]];65535!=(n=this.data[i++]);)(o||(o=new Uint8Array(this.maxTerm+1)))[n]=1;return new Jp(e,n,o)}static deserialize(e){return new nm(e)}}function om(e,t){return e[t]|e[t+1]<<16}function im(e){if(e.external){let t=e.extend?1:0;return(n,o)=>e.external(n,o)<<1|t}return e.get}const rm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],sm=new tm({start:!1,shift:(e,t)=>5==t||6==t||319==t?e:320==t,strict:!1}),am=new Bp(((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&e.acceptToken(317)}),{contextual:!0,fallback:!0}),lm=new Bp(((e,t)=>{let n,{next:o}=e;rm.indexOf(o)>-1||(47!=o||47!=(n=e.peek(1))&&42!=n)&&(125==o||59==o||-1==o||t.context||e.acceptToken(315))}),{contextual:!0}),cm=new Bp(((e,t)=>{91!=e.next||t.context||e.acceptToken(316)}),{contextual:!0}),um=new Bp(((e,t)=>{let{next:n}=e;if(43==n||45==n){if(e.advance(),n==e.next){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}else 63==n&&46==e.peek(1)&&(e.advance(),e.advance(),(e.next<48||e.next>57)&&e.acceptToken(3))}),{contextual:!0});function dm(e,t){return e>=65&&e<=90||e>=97&&e<=122||95==e||e>=192||!t&&e>=48&&e<=57}const hm=new Bp(((e,t)=>{if(60!=e.next||!t.dialectEnabled(0))return;if(e.advance(),47==e.next)return;let n=0;for(;rm.indexOf(e.next)>-1;)e.advance(),n++;if(dm(e.next,!0)){for(e.advance(),n++;dm(e.next,!1);)e.advance(),n++;for(;rm.indexOf(e.next)>-1;)e.advance(),n++;if(44==e.next)return;for(let t=0;;t++){if(7==t){if(!dm(e.next,!0))return;break}if(e.next!="extends".charCodeAt(t))break;e.advance(),n++}}e.acceptToken(4,-n)})),fm=Ga({"get set async static":vl.modifier,"for while do if else switch try catch finally return throw break continue default case":vl.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":vl.operatorKeyword,"let var const using function class extends":vl.definitionKeyword,"import export from":vl.moduleKeyword,"with debugger new":vl.keyword,TemplateString:vl.special(vl.string),super:vl.atom,BooleanLiteral:vl.bool,this:vl.self,null:vl.null,Star:vl.modifier,VariableName:vl.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":vl.function(vl.variableName),VariableDefinition:vl.definition(vl.variableName),Label:vl.labelName,PropertyName:vl.propertyName,PrivatePropertyName:vl.special(vl.propertyName),"CallExpression/MemberExpression/PropertyName":vl.function(vl.propertyName),"FunctionDeclaration/VariableDefinition":vl.function(vl.definition(vl.variableName)),"ClassDeclaration/VariableDefinition":vl.definition(vl.className),"NewExpression/VariableName":vl.className,PropertyDefinition:vl.definition(vl.propertyName),PrivatePropertyDefinition:vl.definition(vl.special(vl.propertyName)),UpdateOp:vl.updateOperator,"LineComment Hashbang":vl.lineComment,BlockComment:vl.blockComment,Number:vl.number,String:vl.string,Escape:vl.escape,ArithOp:vl.arithmeticOperator,LogicOp:vl.logicOperator,BitOp:vl.bitwiseOperator,CompareOp:vl.compareOperator,RegExp:vl.regexp,Equals:vl.definitionOperator,Arrow:vl.function(vl.punctuation),": Spread":vl.punctuation,"( )":vl.paren,"[ ]":vl.squareBracket,"{ }":vl.brace,"InterpolationStart InterpolationEnd":vl.special(vl.brace),".":vl.derefOperator,", ;":vl.separator,"@":vl.meta,TypeName:vl.typeName,TypeDefinition:vl.definition(vl.typeName),"type enum interface implements namespace module declare":vl.definitionKeyword,"abstract global Privacy readonly override":vl.modifier,"is keyof unique infer asserts":vl.operatorKeyword,JSXAttributeValue:vl.attributeValue,JSXText:vl.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":vl.angleBracket,"JSXIdentifier JSXNameSpacedName":vl.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":vl.attributeName,"JSXBuiltin/JSXIdentifier":vl.standard(vl.tagName)}),pm={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},mm={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},gm={__proto__:null,"<":193},Om=nm.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:sm,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[fm],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[lm,cm,um,hm,2,3,4,5,6,7,8,9,10,11,12,13,14,am,new Vp("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new Vp("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:e=>pm[e]||-1},{term:342,get:e=>mm[e]||-1},{term:95,get:e=>gm[e]||-1}],tokenPrec:15124}),vm=[Rf("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Rf("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Rf("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Rf("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Rf("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),Rf("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),Rf("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),Rf("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),Rf("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),Rf('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Rf('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],bm=vm.concat([Rf("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Rf("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Rf("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),ym=new Pa,xm=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function wm(e){return(t,n)=>{let o=t.node.getChild("VariableDefinition");return o&&n(o,e),!0}}const Sm=["FunctionDeclaration"],_m={FunctionDeclaration:wm("function"),ClassDeclaration:wm("class"),ClassExpression:()=>!0,EnumDeclaration:wm("constant"),TypeAliasDeclaration:wm("type"),NamespaceDeclaration:wm("namespace"),VariableDefinition(e,t){e.matchContext(Sm)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function km(e,t){let n=ym.get(t);if(n)return n;let o=[],i=!0;function r(t,n){let i=e.sliceString(t.from,t.to);o.push({label:i,type:n})}return t.cursor(ua.IncludeAnonymous).iterate((t=>{if(i)i=!1;else if(t.name){let e=_m[t.name];if(e&&e(t,r)||xm.has(t.name))return!1}else if(t.to-t.from>8192){for(let n of km(e,t.node))o.push(n);return!1}})),ym.set(t,o),o}const Cm=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Tm=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function $m(e){let t=Cl(e.state).resolveInner(e.pos,-1);if(Tm.indexOf(t.name)>-1)return null;let n="VariableName"==t.name||t.to-t.from<20&&Cm.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let o=[];for(let n=t;n;n=n.parent)xm.has(n.name)&&(o=o.concat(km(e.state.doc,n)));return{options:o,from:n?t.from:e.pos,validFor:Cm}}const Pm=kl.define({name:"javascript",parser:Om.configure({props:[Zl.add({IfStatement:Kl({except:/^\s*({|else\b)/}),TryStatement:Kl({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Gl,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),o=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:o?1:2)*e.unit},Block:ql({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":Kl({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),ec.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":tc,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Am={test:e=>/^JSX/.test(e.name),facet:xl({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Qm=Pm.configure({dialect:"ts"},"typescript"),Em=Pm.configure({dialect:"jsx",props:[wl.add((e=>e.isTop?[Am]:void 0))]}),Mm=Pm.configure({dialect:"jsx ts",props:[wl.add((e=>e.isTop?[Am]:void 0))]},"typescript");let Dm=e=>({label:e,type:"keyword"});const Im="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Dm),Rm=Im.concat(["declare","implements","private","protected","public"].map(Dm));function zm(e={}){let t=e.jsx?e.typescript?Mm:Em:e.typescript?Qm:Pm,n=e.typescript?bm.concat(Rm):vm.concat(Im);return new Rl(t,[Pm.data.of({autocomplete:(o=Tm,i=Ih(n),e=>{for(let t=Cl(e.state).resolveInner(e.pos,-1);t;t=t.parent){if(o.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return i(e)})}),Pm.data.of({autocomplete:$m}),e.jsx?jm:[]]);var o,i}function Nm(e,t,n=e.length){for(let o=null==t?void 0:t.firstChild;o;o=o.nextSibling)if("JSXIdentifier"==o.name||"JSXBuiltin"==o.name||"JSXNamespacedName"==o.name||"JSXMemberExpression"==o.name)return e.sliceString(o.from,Math.min(o.to,n));return""}const Lm="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),jm=lr.inputHandler.of(((e,t,n,o,i)=>{if((Lm?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||">"!=o&&"/"!=o||!Pm.isActiveAt(e.state,t,-1))return!1;let r=i(),{state:s}=r,a=s.changeByRange((e=>{var t;let n,{head:i}=e,r=Cl(s).resolveInner(i-1,-1);if("JSXStartTag"==r.name&&(r=r.parent),s.doc.sliceString(i-1,i)!=o||"JSXAttributeValue"==r.name&&r.to>i);else{if(">"==o&&"JSXFragmentTag"==r.name)return{range:e,changes:{from:i,insert:"</>"}};if("/"==o&&"JSXStartCloseTag"==r.name){let e=r.parent,o=e.parent;if(o&&e.from==i-2&&((n=Nm(s.doc,o.firstChild,i))||"JSXFragmentTag"==(null===(t=o.firstChild)||void 0===t?void 0:t.name))){let e=`${n}>`;return{range:L.cursor(i+e.length,-1),changes:{from:i,insert:e}}}}else if(">"==o){let t=function(e){for(;;){if("JSXOpenTag"==e.name||"JSXSelfClosingTag"==e.name||"JSXFragmentTag"==e.name)return e;if("JSXEscape"==e.name||!e.parent)return null;e=e.parent}}(r);if(t&&"JSXOpenTag"==t.name&&!/^\/?>|^<\//.test(s.doc.sliceString(i,i+2))&&(n=Nm(s.doc,t,i)))return{range:e,changes:{from:i,insert:`</${n}>`}}}}return{range:e}}));return!a.changes.empty&&(e.dispatch([r,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}));const Vm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function Bm(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}function Zm(e){return e>=48&&e<=57}const Xm=new Bp(((e,t)=>{for(let n=!1,o=0,i=0;;i++){let{next:r}=e;if(Bm(r)||45==r||95==r||n&&Zm(r))!n&&(45!=r||i>0)&&(n=!0),o===i&&45==r&&o++,e.advance();else{if(92!=r||10==e.peek(1)){n&&e.acceptToken(40==r?102:2==o&&t.canShift(2)?2:103);break}e.advance(),e.next>-1&&e.advance(),n=!0}}})),Wm=new Bp((e=>{if(Vm.includes(e.peek(-1))){let{next:t}=e;(Bm(t)||95==t||35==t||46==t||91==t||58==t&&Bm(e.peek(1))||45==t||38==t)&&e.acceptToken(101)}})),Um=new Bp((e=>{if(!Vm.includes(e.peek(-1))){let{next:t}=e;if(37==t&&(e.advance(),e.acceptToken(1)),Bm(t)){do{e.advance()}while(Bm(e.next)||Zm(e.next));e.acceptToken(1)}}})),Ym=Ga({"AtKeyword import charset namespace keyframes media supports":vl.definitionKeyword,"from to selector":vl.keyword,NamespaceName:vl.namespace,KeyframeName:vl.labelName,KeyframeRangeName:vl.operatorKeyword,TagName:vl.tagName,ClassName:vl.className,PseudoClassName:vl.constant(vl.className),IdName:vl.labelName,"FeatureName PropertyName":vl.propertyName,AttributeName:vl.attributeName,NumberLiteral:vl.number,KeywordQuery:vl.keyword,UnaryQueryOp:vl.operatorKeyword,"CallTag ValueName":vl.atom,VariableName:vl.variableName,Callee:vl.operatorKeyword,Unit:vl.unit,"UniversalSelector NestingSelector":vl.definitionOperator,MatchOp:vl.compareOperator,"ChildOp SiblingOp, LogicOp":vl.logicOperator,BinOp:vl.arithmeticOperator,Important:vl.modifier,Comment:vl.blockComment,ColorLiteral:vl.color,"ParenthesizedContent StringLiteral":vl.string,":":vl.punctuation,"PseudoOp #":vl.derefOperator,"; ,":vl.separator,"( )":vl.paren,"[ ]":vl.squareBracket,"{ }":vl.brace}),Fm={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62,selector:140},qm={__proto__:null,"@import":120,"@media":144,"@charset":148,"@namespace":152,"@keyframes":158,"@supports":170},Hm={__proto__:null,not:134,only:134},Gm=nm.deserialize({version:14,states:":|QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$[QXO'#CaO$fQ[O'#CiO$qQ[O'#DUO$vQ[O'#DXOOQP'#Eo'#EoO${QdO'#DhO%jQ[O'#DuO${QdO'#DwO%{Q[O'#DyO&WQ[O'#D|O&`Q[O'#ESO&nQ[O'#EUOOQS'#En'#EnOOQS'#EX'#EXQYQ[OOO&uQXO'#CdO'jQWO'#DdO'oQWO'#EtO'zQ[O'#EtQOQWOOP(UO#tO'#C_POOO)C@^)C@^OOQP'#Ch'#ChOOQP,59Q,59QO#kQ[O,59QO(aQ[O,59TO$qQ[O,59pO$vQ[O,59sO(lQ[O,59vO(lQ[O,59xO(lQ[O,59yO(lQ[O'#E^O)WQWO,58{O)`Q[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)gQWO,59TO)lQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO)qQ`O,59sOOQS'#Cq'#CqO${QdO'#CrO)yQvO'#CtO+ZQtO,5:SOOQO'#Cy'#CyO)lQWO'#CxO+oQWO'#CzO+tQ[O'#DPOOQS'#Eq'#EqOOQO'#Dk'#DkO+|Q[O'#DrO,[QWO'#EuO&`Q[O'#DpO,jQWO'#DsOOQO'#Ev'#EvO)ZQWO,5:aO,oQpO,5:cOOQS'#D{'#D{O,wQWO,5:eO,|Q[O,5:eOOQO'#EO'#EOO-UQWO,5:hO-ZQWO,5:nO-cQWO,5:pOOQS-E8V-E8VO-kQdO,5:OO-{Q[O'#E`O.YQWO,5;`O.YQWO,5;`POOO'#EW'#EWP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lOOQP1G.o1G.oO)gQWO1G.oO)lQWO1G.oOOQP1G/[1G/[O.pQ`O1G/_O/ZQXO1G/bO/qQXO1G/dO0XQXO1G/eO0oQXO,5:xOOQO-E8[-E8[OOQS1G.g1G.gO0yQWO,59}O1OQ[O'#DTO1VQdO'#CpOOQP1G/_1G/_O${QdO1G/_O1^QpO,59^OOQS,59`,59`O${QdO,59bO1fQWO1G/nOOQS,59d,59dO1kQ!bO,59fOOQS'#DQ'#DQOOQS'#EZ'#EZO1vQ[O,59kOOQS,59k,59kO2OQWO'#DkO2ZQWO,5:WO2`QWO,5:^O&`Q[O,5:YO2hQ[O'#EaO3PQWO,5;aO3[QWO,5:[O(lQ[O,5:_OOQS1G/{1G/{OOQS1G/}1G/}OOQS1G0P1G0PO3mQWO1G0PO3rQdO'#EPOOQS1G0S1G0SOOQS1G0Y1G0YOOQS1G0[1G0[O3}QtO1G/jOOQO1G/j1G/jOOQO,5:z,5:zO4eQ[O,5:zOOQO-E8^-E8^O4rQWO1G0zPOOO-E8U-E8UPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO${QdO7+$yOOQS1G/i1G/iO4}QXO'#EsO5XQWO,59oO5^QtO'#EYO6UQdO'#EpO6`QWO,59[O6eQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|OOQS7+%Y7+%YOOQS1G/Q1G/QO6mQWO1G/QOOQS-E8X-E8XOOQS1G/V1G/VO${QdO1G/rOOQO1G/x1G/xOOQO1G/t1G/tO6rQWO,5:{OOQO-E8_-E8_O7QQXO1G/yOOQS7+%k7+%kO7XQYO'#CtOOQO'#ER'#ERO7dQ`O'#EQOOQO'#EQ'#EQO7oQWO'#EbO7wQdO,5:kOOQS,5:k,5:kO8SQtO'#E_O${QdO'#E_O9TQdO7+%UOOQO7+%U7+%UOOQO1G0f1G0fO9hQpO<<HeO9pQ[O'#E]O9zQWO,5;_OOQP1G/Z1G/ZOOQS-E8W-E8WO:SQdO'#E[O:^QWO,5;[OOQT1G.v1G.vOOQP<<He<<HeOOQS7+$l7+$lO:fQdO7+%^OOQO7+%e7+%eOOQO,5:l,5:lO3uQdO'#EcO7oQWO,5:|OOQS,5:|,5:|OOQS-E8`-E8`OOQS1G0V1G0VO:mQtO,5:yOOQS-E8]-E8]OOQO<<Hp<<HpOOQPAN>PAN>PO;nQXO,5:wOOQO-E8Z-E8ZO;xQdO,5:vOOQO-E8Y-E8YOOQO<<Hx<<HxOOQO,5:},5:}OOQO-E8a-E8aOOQS1G0h1G0h",stateData:"<[~O#]OS#^QQ~OUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#ZRO~OQfOUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#ZeO~O#W#hP~P!ZO#^jO~O#ZlO~OZnO^oO_oOrqOypO!PrO!StO#XsO~OuuO!UwO~P#pOa}O#YzO#ZyO~O#Z!OO~O#Z!QO~OQ![Oc!TOg![Oi![Oo!YOr!ZO#Y!WO#Z!SO#f!UO~Oc!^O!e!`O!h!aO#Z!]O!U#iP~Oi!fOo!YO#Z!eO~Oi!hO#Z!hO~Oc!^O!e!`O!h!aO#Z!]O~O!Z#iP~P%jOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#XWX~O^!mO~O!Z!nO#W#hX!T#hX~O#W#hX!T#hX~P!ZO#_!qO#`!qO#a!sO~Oa!wO#YzO#ZyO~OUYOXYOZTO^VO_VOrXOyWO#ZRO~OuuO!UwO~O!T#hP~P!ZOc#RO~Oc#SO~Oq#TO}#UO~OP#WOchXkhX!ZhX!ehX!hhX#ZhXbhXQhXghXihXohXrhXuhX!YhX#WhX#YhX#fhXqhX!ThX~Oc!^Ok#XO!e!`O!h!aO#Z!]O!Z#iP~Oc#[O~Oq#`O#Z#]O~Oc!^O!e!`O!h!aO#Z#aO~Ou#eO!c#dO!U#iX!Z#iX~Oc#hO~Ok#XO!Z#jO~O!Z#kO~Oi#lOo!YO~O!U#mO~O!UwO!c#dO~O!UwO!Z#pO~O!Y#rO!Z!Wa#W!Wa!T!Wa~P${O!Z#SX#W#SX!T#SX~P!ZO!Z!nO#W#ha!T#ha~O#_!qO#`!qO#a#xO~Oq#zO}#{O~OZnO^oO_oOrqOypO~Ou!Oi!P!Oi!S!Oi!U!Oi#X!Oib!Oi~P.xOu!Qi!P!Qi!S!Qi!U!Qi#X!Qib!Qi~P.xOu!Ri!P!Ri!S!Ri!U!Ri#X!Rib!Ri~P.xOu#Qa!U#Qa~P#pO!T#|O~Ob#gP~P(lOb#dP~P${Ob$TOk#XO~O!Z$VO~Ob$WOi$XOp$XO~Oq$ZO#Z#]O~O^!aXb!_X!c!_X~O^$[O~Ob$]O!c#dO~Oc!^O!e!`O!h!aO#Z!]Ou#TX!U#TX!Z#TX~Ou#eO!U#ia!Z#ia~O!c#dOu!da!U!da!Z!dab!da~O!Z$bO~O!T$iO#Z$dO#f$cO~Ok#XOu$kO!Y$mO!Z!Wi#W!Wi!T!Wi~P${O!Z#Sa#W#Sa!T#Sa~P!ZO!Z!nO#W#hi!T#hi~Ou$pOb#gX~P#pOb$rO~Ok#XOQ!|Xb!|Xc!|Xg!|Xi!|Xo!|Xr!|Xu!|X#Y!|X#Z!|X#f!|X~Ou$tOb#dX~P${Ob$vO~Ok#XOq$wO~Ob$xO~O!c#dOu#Ta!U#Ta!Z#Ta~Ob$zO~P#pOP#WOuhX!UhX~O#f$cOu!tX!U!tX~Ou$|O!UwO~O!T%QO#Z$dO#f$cO~Ok#XOQ#RXc#RXg#RXi#RXo#RXr#RXu#RX!Y#RX!Z#RX#W#RX#Y#RX#Z#RX#f#RX!T#RX~Ou$kO!Y%TO!Z!Wq#W!Wq!T!Wq~P${Ok#XOq%UO~Ob#PXu#PX~P(lOu$pOb#ga~Ob#OXu#OX~P${Ou$tOb#da~Ob%ZO~P${Ok#XOQ#Rac#Rag#Rai#Rao#Rar#Rau#Ra!Y#Ra!Z#Ra#W#Ra#Y#Ra#Z#Ra#f#Ra!T#Ra~Ob#Pau#Pa~P#pOb#Oau#Oa~P${O#]p#^#fk!S#f~",goto:"-o#kPPP#lP#oP#x$YP#xP$j#xPP$pPPP$v%P%PP%cP%PP%P%}&aPPPP%P&yP&}'T#xP'Z#x'aP#xP#x#xPPP'g'|(ZPP#oPP(b(b(l(bP(bP(b(bP#oP#oP#oP(o#oP(r(u(x)P#oP#oP)U)[)k)y*P*V*]*c*i*s*y+PPPPPPPPPPP+V+`,O,RP,w,z-Q-ZRkQ_bOPdhw!n#tmYOPdhrstuw!n#R#h#t$pmSOPdhrstuw!n#R#h#t$pQmTR!tnQ{VR!uoQ!u}Q#Z!XR#y!wq![Z]!T!m#S#U#X#q#{$Q$[$k$l$t$y%Xp![Z]!T!m#S#U#X#q#{$Q$[$k$l$t$y%XU$f#m$h$|R${$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$t$y%Xp![Z]!T!m#S#U#X#q#{$Q$[$k$l$t$y%XQ!f^R#l!gT#^!Z#_Q|VR!voQ!u|R#y!vQ!PWR!xpQ!RXR!yqQxUQ#PvQ#i!cQ#o!jQ#p!kQ%O$gR%^$}SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%[$|V$e#m$h$|Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$s$Q$y%XQ$y$[R%X$tQ#_!ZR$Y#_Q$u$QR%Y$uQ$q#}R%W$qQvUR#OvQ$l#qR%S$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%P$hQ$}$gR%]$}_cOPdhw!n#t^UOPdhw!n#tQ!zrQ!{sQ!|tQ!}uQ#}#RQ$a#hR%V$pR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$t$y%XQ$S#UQ$U#XS$j#q$lQ$o#{R%R$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:118,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[Ym],skippedNodes:[0,3,88],repeatNodeCount:12,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#]~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#]~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#f[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#f[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#f[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#^~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#f[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU^QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS}SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!PQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!]Qp`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSr^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSq^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUp`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!cQp`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!UUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[Wm,Um,Xm,1,2,3,4,new Vp("m~RRYZ[z{a~~g~aO#`~~dP!P!Qg~lO#a~~",28,107)],topRules:{StyleSheet:[0,4],Styles:[1,87]},specialized:[{term:102,get:e=>Fm[e]||-1},{term:59,get:e=>qm[e]||-1},{term:103,get:e=>Hm[e]||-1}],tokenPrec:1246});let Km=null;function Jm(){if(!Km&&"object"==typeof document&&document.body){let{style:e}=document.body,t=[],n=new Set;for(let o in e)"cssText"!=o&&"cssFloat"!=o&&"string"==typeof e[o]&&(/[A-Z]/.test(o)&&(o=o.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))),n.has(o)||(t.push(o),n.add(o)));Km=t.sort().map((e=>({type:"property",label:e,apply:e+": "})))}return Km||[]}const eg=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map((e=>({type:"class",label:e}))),tg=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((e=>({type:"keyword",label:e}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((e=>({type:"constant",label:e})))),ng=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((e=>({type:"type",label:e}))),og=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map((e=>({type:"keyword",label:e}))),ig=/^(\w[\w-]*|-\w[\w-]*|)$/,rg=/^-(-[\w-]*)?$/;const sg=new Pa,ag=["Declaration"];function lg(e){for(let t=e;;){if(t.type.isTop)return t;if(!(t=t.parent))return e}}function cg(e,t,n){if(t.to-t.from>4096){let o=sg.get(t);if(o)return o;let i=[],r=new Set,s=t.cursor(ua.IncludeAnonymous);if(s.firstChild())do{for(let t of cg(e,s.node,n))r.has(t.label)||(r.add(t.label),i.push(t))}while(s.nextSibling());return sg.set(t,i),i}{let o=[],i=new Set;return t.cursor().iterate((t=>{var r;if(n(t)&&t.matchContext(ag)&&":"==(null===(r=t.node.nextSibling)||void 0===r?void 0:r.name)){let n=e.sliceString(t.from,t.to);i.has(n)||(i.add(n),o.push({label:n,type:"variable"}))}})),o}}const ug=e=>t=>{let{state:n,pos:o}=t,i=Cl(n).resolveInner(o,-1),r=i.type.isError&&i.from==i.to-1&&"-"==n.doc.sliceString(i.from,i.to);if("PropertyName"==i.name||(r||"TagName"==i.name)&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:Jm(),validFor:ig};if("ValueName"==i.name)return{from:i.from,options:tg,validFor:ig};if("PseudoClassName"==i.name)return{from:i.from,options:eg,validFor:ig};if(e(i)||(t.explicit||r)&&function(e,t){var n;if(("("==e.name||e.type.isError)&&(e=e.parent||e),"ArgList"!=e.name)return!1;let o=null===(n=e.parent)||void 0===n?void 0:n.firstChild;return"Callee"==(null==o?void 0:o.name)&&"var"==t.sliceString(o.from,o.to)}(i,n.doc))return{from:e(i)||r?i.from:o,options:cg(n.doc,lg(i),e),validFor:rg};if("TagName"==i.name){for(let{parent:e}=i;e;e=e.parent)if("Block"==e.name)return{from:i.from,options:Jm(),validFor:ig};return{from:i.from,options:ng,validFor:ig}}if("AtKeyword"==i.name)return{from:i.from,options:og,validFor:ig};if(!t.explicit)return null;let s=i.resolve(o),a=s.childBefore(o);return a&&":"==a.name&&"PseudoClassSelector"==s.name?{from:o,options:eg,validFor:ig}:a&&":"==a.name&&"Declaration"==s.name||"ArgList"==s.name?{from:o,options:tg,validFor:ig}:"Block"==s.name||"Styles"==s.name?{from:o,options:Jm(),validFor:ig}:null},dg=ug((e=>"VariableName"==e.name)),hg=kl.define({name:"css",parser:Gm.configure({props:[Zl.add({Declaration:Kl()}),ec.add({"Block KeyframeList":tc})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function fg(){return new Rl(hg,hg.data.of({autocomplete:dg}))}const pg=Ga({null:vl.null,instanceof:vl.operatorKeyword,this:vl.self,"new super assert open to with void":vl.keyword,"class interface extends implements enum var":vl.definitionKeyword,"module package import":vl.moduleKeyword,"switch while for if else case default do break continue return try catch finally throw":vl.controlKeyword,"requires exports opens uses provides public private protected static transitive abstract final strictfp synchronized native transient volatile throws":vl.modifier,IntegerLiteral:vl.integer,FloatingPointLiteral:vl.float,"StringLiteral TextBlock":vl.string,CharacterLiteral:vl.character,LineComment:vl.lineComment,BlockComment:vl.blockComment,BooleanLiteral:vl.bool,PrimitiveType:vl.standard(vl.typeName),TypeName:vl.typeName,Identifier:vl.variableName,"MethodName/Identifier":vl.function(vl.variableName),Definition:vl.definition(vl.variableName),ArithOp:vl.arithmeticOperator,LogicOp:vl.logicOperator,BitOp:vl.bitwiseOperator,CompareOp:vl.compareOperator,AssignOp:vl.definitionOperator,UpdateOp:vl.updateOperator,Asterisk:vl.punctuation,Label:vl.labelName,"( )":vl.paren,"[ ]":vl.squareBracket,"{ }":vl.brace,".":vl.derefOperator,", ;":vl.separator}),mg={__proto__:null,true:34,false:34,null:42,void:46,byte:48,short:48,int:48,long:48,char:48,float:48,double:48,boolean:48,extends:62,super:64,class:76,this:78,new:84,public:100,protected:102,private:104,abstract:106,static:108,final:110,strictfp:112,default:114,synchronized:116,native:118,transient:120,volatile:122,throws:150,implements:160,interface:166,enum:176,instanceof:238,open:267,module:269,requires:274,transitive:276,exports:278,to:280,opens:282,uses:284,provides:286,with:288,package:292,import:296,if:308,else:310,while:314,for:318,var:325,assert:332,switch:336,case:342,do:346,break:350,continue:354,return:358,throw:364,try:368,catch:372,finally:380},gg=nm.deserialize({version:14,states:"##jQ]QPOOQ$wQPOOO(bQQO'#H^O*iQQO'#CbOOQO'#Cb'#CbO*pQPO'#CaO*xOSO'#CpOOQO'#Hc'#HcOOQO'#Cu'#CuO,eQPO'#D_O-OQQO'#HmOOQO'#Hm'#HmO/gQQO'#HhO/nQQO'#HhOOQO'#Hh'#HhOOQO'#Hg'#HgO1rQPO'#DUO2PQPO'#GnO4wQPO'#D_O5OQPO'#DzO*pQPO'#E[O5qQPO'#E[OOQO'#DV'#DVO7SQQO'#HaO9^QQO'#EeO9eQPO'#EdO9jQPO'#EfOOQO'#Hb'#HbO7jQQO'#HbO:pQQO'#FhO:wQPO'#ExO:|QPO'#E}O:|QPO'#FPOOQO'#Ha'#HaOOQO'#HY'#HYOOQO'#Gh'#GhOOQO'#HX'#HXO<^QPO'#FiOOQO'#HW'#HWOOQO'#Gg'#GgQ]QPOOOOQO'#Hs'#HsO<cQPO'#HsO<hQPO'#D{O<hQPO'#EVO<hQPO'#EQO<pQPO'#HpO=RQQO'#EfO*pQPO'#C`O=ZQPO'#C`O*pQPO'#FcO=`QPO'#FeO=kQPO'#FkO=kQPO'#FnO<hQPO'#FsO=pQPO'#FpO:|QPO'#FwO=kQPO'#FyO]QPO'#GOO=uQPO'#GQO>QQPO'#GSO>]QPO'#GUO=kQPO'#GWO:|QPO'#GXO>dQPO'#GZO?QQQO'#HiO?mQQO'#CuO?tQPO'#HxO@SQPO'#D_O@rQPO'#DpO?wQPO'#DqO@|QPO'#HxOA_QPO'#DpOAgQPO'#IROAlQPO'#E`OOQO'#Hr'#HrOOQO'#Gm'#GmQ$wQPOOOAtQPO'#HsOOQO'#H^'#H^OCsQQO,58{OOQO'#H['#H[OOOO'#Gi'#GiOEfOSO,59[OOQO,59[,59[OOQO'#Hi'#HiOFVQPO,59eOGXQPO,59yOOQO-E:f-E:fO*pQPO,58zOG{QPO,58zO*pQPO,5;}OHQQPO'#DQOHVQPO'#DQOOQO'#Gk'#GkOIVQQO,59jOOQO'#Dm'#DmOJqQPO'#HuOJ{QPO'#DlOKZQPO'#HtOKcQPO,5<_OKhQPO,59^OLRQPO'#CxOOQO,59c,59cOLYQPO,59bOLeQQO'#H^ONgQQO'#CbO!!iQPO'#D_O!#nQQO'#HmO!$OQQO,59pO!$VQPO'#DvO!$eQPO'#H|O!$mQPO,5:`O!$rQPO,5:`O!%YQPO,5;nO!%eQPO'#ITO!%pQPO,5;eO!%uQPO,5=YOOQO-E:l-E:lOOQO,5:f,5:fO!']QPO,5:fO!'dQPO,5:vO?tQPO,5<_O*pQPO,5:vO<hQPO,5:gO<hQPO,5:qO<hQPO,5:lO<hQPO,5<_O!'zQPO,59qO:|QPO,5:}O!(RQPO,5;QO:|QPO,59TO!(aQPO'#DXOOQO,5;O,5;OOOQO'#El'#ElOOQO'#Eo'#EoO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;fOOQO,5;i,5;iOOQO,5<S,5<SO!(hQPO,5;bO!(yQPO,5;dO!(hQPO'#CyO!)QQQO'#HmO!)`QQO,5;kO]QPO,5<TOOQO-E:e-E:eOOQO,5>_,5>_O!*sQPO,5:gO!+RQPO,5:qO!+ZQPO,5:lO!+fQPO,5>[O!$VQPO,5>[O!'iQPO,59UO!+qQQO,58zO!+yQQO,5;}O!,RQQO,5<PO*pQPO,5<PO:|QPO'#DUO]QPO,5<VO]QPO,5<YO!,ZQPO'#FrO]QPO,5<[O]QPO,5<aO!,kQQO,5<cO!,uQPO,5<eO!,zQPO,5<jOOQO'#Fj'#FjOOQO,5<l,5<lO!-PQPO,5<lOOQO,5<n,5<nO!-UQPO,5<nO!-ZQQO,5<pOOQO,5<p,5<pO>gQPO,5<rO!-bQQO,5<sO!-iQPO'#GdO!.oQPO,5<uO>gQPO,5<}O!2mQPO,59jO!2zQPO'#HuO!3RQPO,59xO!3WQPO,5>dO?tQPO,59xO!3cQPO,5:[OAlQPO,5:zO!3kQPO'#DrO?wQPO'#DrO!3vQPO'#HyO!4OQPO,5:]O?tQPO,5>dO!(hQPO,5>dOAgQPO,5>mOOQO,5:[,5:[O!$rQPO'#DtOOQO,5>m,5>mO!4TQPO'#EaOOQO,5:z,5:zO!7UQPO,5:zO!(hQPO'#DxOOQO-E:k-E:kOOQO,5:y,5:yO*pQPO,58}O!7ZQPO'#ChOOQO1G.k1G.kOOOO-E:g-E:gOOQO1G.v1G.vO!+qQQO1G.fO*pQPO1G.fO!7eQQO1G1iOOQO,59l,59lO!7mQPO,59lOOQO-E:i-E:iO!7rQPO,5>aO!8ZQPO,5:WO<hQPO'#GpO!8bQPO,5>`OOQO1G1y1G1yOOQO1G.x1G.xO!8{QPO'#CyO!9kQPO'#HmO!9uQPO'#CzO!:TQPO'#HlO!:]QPO,59dOOQO1G.|1G.|OLYQPO1G.|O!:sQPO,59eO!;QQQO'#H^O!;cQQO'#CbOOQO,5:b,5:bO<hQPO,5:cOOQO,5:a,5:aO!;tQQO,5:aOOQO1G/[1G/[O!;yQPO,5:bO!<[QPO'#GsO!<oQPO,5>hOOQO1G/z1G/zO!<wQPO'#DvO!=YQPO1G/zO!(hQPO'#GqO!=_QPO1G1YO:|QPO1G1YO<hQPO'#GyO!=gQPO,5>oOOQO1G1P1G1POOQO1G0Q1G0QO!=oQPO'#E]OOQO1G0b1G0bO!>`QPO1G1yO!'dQPO1G0bO!*sQPO1G0RO!+RQPO1G0]O!+ZQPO1G0WOOQO1G/]1G/]O!>eQQO1G.pO9eQPO1G0jO*pQPO1G0jO<pQPO'#HpO!@[QQO1G.pOOQO1G.p1G.pO!@aQQO1G0iOOQO1G0l1G0lO!@hQPO1G0lO!@sQQO1G.oO!AZQQO'#HqO!AhQPO,59sO!BzQQO1G0pO!DfQQO1G0pO!DmQQO1G0pO!FUQQO1G0pO!F]QQO1G0pO!GbQQO1G0pO!I]QQO1G0pO!IdQQO1G0pO!IkQQO1G0pO!IuQQO1G1QO!I|QQO'#HmOOQO1G0|1G0|O!KSQQO1G1OOOQO1G1O1G1OOOQO1G1o1G1oO!KjQPO'#D[O!(hQPO'#D|O!(hQPO'#D}OOQO1G0R1G0RO!KqQPO1G0RO!KvQPO1G0RO!LOQPO1G0RO!LZQPO'#EXOOQO1G0]1G0]O!LnQPO1G0]O!LsQPO'#ETO!(hQPO'#ESOOQO1G0W1G0WO!MmQPO1G0WO!MrQPO1G0WO!MzQPO'#EhO!NRQPO'#EhOOQO'#Gx'#GxO!NZQQO1G0mO# }QQO1G3vO9eQPO1G3vO#$PQPO'#FXOOQO1G.f1G.fOOQO1G1i1G1iO#$WQPO1G1kOOQO1G1k1G1kO#$cQQO1G1kO#$kQPO1G1qOOQO1G1t1G1tO+QQPO'#D_O-OQQO,5<bO#(cQPO,5<bO#(tQPO,5<^O#({QPO,5<^OOQO1G1v1G1vOOQO1G1{1G1{OOQO1G1}1G1}O:|QPO1G1}O#,oQPO'#F{OOQO1G2P1G2PO=kQPO1G2UOOQO1G2W1G2WOOQO1G2Y1G2YOOQO1G2[1G2[OOQO1G2^1G2^OOQO1G2_1G2_O#,vQQO'#H^O#-aQQO'#CbO-OQQO'#HmO#-zQQOOO#.hQQO'#EeO#.VQQO'#HbO!$VQPO'#GeO#.oQPO,5=OOOQO'#HQ'#HQO#.wQPO1G2aO#2uQPO'#G]O>gQPO'#GaOOQO1G2a1G2aO#2zQPO1G2iO#6xQPO,5>gOOQO1G/d1G/dOOQO1G4O1G4OO#7ZQPO1G/dOOQO1G/v1G/vOOQO1G0f1G0fO!7UQPO1G0fOOQO,5:^,5:^O!(hQPO'#DsO#7`QPO,5:^O?wQPO'#GrO#7kQPO,5>eOOQO1G/w1G/wOAgQPO'#H{O#7sQPO1G4OO?tQPO1G4OOOQO1G4X1G4XO!#YQPO'#DvO!!iQPO'#D_OOQO,5:{,5:{O#8OQPO,5:{O#8OQPO,5:{O#8VQQO'#HaO#9hQQO'#HbO#9rQQO'#EbO#9}QPO'#EbO#:VQPO'#IOOOQO,5:d,5:dOOQO1G.i1G.iO#:bQQO'#EeO#:rQQO'#H`O#;SQPO'#FTOOQO'#H`'#H`O#;^QPO'#H`O#;{QPO'#IWO#<TQPO,59SOOQO7+$Q7+$QO!+qQQO7+$QOOQO7+'T7+'TOOQO1G/W1G/WO#<YQPO'#DoO#<dQQO'#HvOOQO'#Hv'#HvOOQO1G/r1G/rOOQO,5=[,5=[OOQO-E:n-E:nO#<tQWO,58{O#<{QPO,59fOOQO,59f,59fO!(hQPO'#HoOKmQPO'#GjO#=ZQPO,5>WOOQO1G/O1G/OOOQO7+$h7+$hOOQO1G/{1G/{O#=cQQO1G/{OOQO1G/}1G/}O#=hQPO1G/{OOQO1G/|1G/|O<hQPO1G/}OOQO,5=_,5=_OOQO-E:q-E:qOOQO7+%f7+%fOOQO,5=],5=]OOQO-E:o-E:oO:|QPO7+&tOOQO7+&t7+&tOOQO,5=e,5=eOOQO-E:w-E:wO#=mQPO'#EUO#={QPO'#EUOOQO'#Gw'#GwO#>dQPO,5:wOOQO,5:w,5:wOOQO7+'e7+'eOOQO7+%|7+%|OOQO7+%m7+%mO!KqQPO7+%mO!KvQPO7+%mO!LOQPO7+%mOOQO7+%w7+%wO!LnQPO7+%wOOQO7+%r7+%rO!MmQPO7+%rO!MrQPO7+%rOOQO7+&U7+&UOOQO'#Ee'#EeO9eQPO7+&UO9eQPO,5>[O#?TQPO7+$[OOQO7+&T7+&TOOQO7+&W7+&WO:|QPO'#GlO#?cQPO,5>]OOQO1G/_1G/_O:|QPO7+&lO#?nQQO,59eO#@tQPO,59vOOQO,59v,59vOOQO,5:h,5:hOOQO'#EP'#EPOOQO,5:i,5:iO#@{QPO'#EYO<hQPO'#EYO#A^QPO'#IPO#AiQPO,5:sO?tQPO'#HxO!(hQPO'#HxO#AqQPO'#DpOOQO'#Gu'#GuO#AxQPO,5:oOOQO,5:o,5:oOOQO,5:n,5:nOOQO,5;S,5;SO#BrQQO,5;SO#ByQPO,5;SOOQO-E:v-E:vOOQO7+&X7+&XOOQO7+)b7+)bO#CQQQO7+)bOOQO'#G|'#G|O#DqQPO,5;sOOQO,5;s,5;sO#DxQPO'#FYO*pQPO'#FYO*pQPO'#FYO*pQPO'#FYO#EWQPO7+'VO#E]QPO7+'VOOQO7+'V7+'VO]QPO7+']O#EhQPO1G1|O?tQPO1G1|O#EvQQO1G1xO!(aQPO1G1xO#E}QPO1G1xO#FUQQO7+'iOOQO'#HP'#HPO#F]QPO,5<gOOQO,5<g,5<gO#FdQPO'#HsO:|QPO'#F|O#FlQPO7+'pO#FqQPO,5=PO?tQPO,5=PO#FvQPO1G2jO#HPQPO1G2jOOQO1G2j1G2jOOQO-E;O-E;OOOQO7+'{7+'{O!<[QPO'#G_O>gQPO,5<wOOQO,5<{,5<{O#HXQPO7+(TOOQO7+(T7+(TO#LVQPO1G4ROOQO7+%O7+%OOOQO7+&Q7+&QO#LhQPO,5:_OOQO1G/x1G/xOOQO,5=^,5=^OOQO-E:p-E:pOOQO7+)j7+)jO#LsQPO7+)jO!:bQPO,5:aOOQO1G0g1G0gO#MOQPO1G0gO#MVQPO,59qO#MkQPO,5:|O9eQPO,5:|O!(hQPO'#GtO#MpQPO,5>jO#M{QPO,59TO#NSQPO'#IVO#N[QPO,5;oO*pQPO'#G{O#NaQPO,5>rOOQO1G.n1G.nOOQO<<Gl<<GlO#NiQPO'#HwO#NqQPO,5:ZOOQO1G/Q1G/QOOQO,5>Z,5>ZOOQO,5=U,5=UOOQO-E:h-E:hO#NvQPO7+%gOOQO7+%g7+%gOOQO7+%i7+%iOOQO<<J`<<J`O$ ^QPO'#H^O$ eQPO'#CbO$ lQPO,5:pO$ qQPO,5:xO#=mQPO,5:pOOQO-E:u-E:uOOQO1G0c1G0cOOQO<<IX<<IXO!KqQPO<<IXO!KvQPO<<IXOOQO<<Ic<<IcOOQO<<I^<<I^O!MmQPO<<I^OOQO<<Ip<<IpO$ vQQO<<GvO9eQPO<<IpO*pQPO<<IpOOQO<<Gv<<GvO$#mQQO,5=WOOQO-E:j-E:jO$#zQQO<<JWOOQO1G/b1G/bOOQO,5:t,5:tO$$bQPO,5:tO$$pQPO,5:tO$%RQPO'#GvO$%iQPO,5>kO$%tQPO'#EZOOQO1G0_1G0_O$%{QPO1G0_O?tQPO,5:pOOQO-E:s-E:sOOQO1G0Z1G0ZOOQO1G0n1G0nO$&QQQO1G0nOOQO<<L|<<L|OOQO-E:z-E:zOOQO1G1_1G1_O$&XQQO,5;tOOQO'#G}'#G}O#DxQPO,5;tOOQO'#IX'#IXO$&aQQO,5;tO$&rQQO,5;tOOQO<<Jq<<JqO$&zQPO<<JqOOQO<<Jw<<JwO:|QPO7+'hO$'PQPO7+'hO!(aQPO7+'dO$'_QPO7+'dO$'dQQO7+'dOOQO<<KT<<KTOOQO-E:}-E:}OOQO1G2R1G2ROOQO,5<h,5<hO$'kQQO,5<hOOQO<<K[<<K[O:|QPO1G2kO$'rQPO1G2kOOQO,5=n,5=nOOQO7+(U7+(UO$'wQPO7+(UOOQO-E;Q-E;QO$)fQWO'#HhO$)QQWO'#HhO$)mQPO'#G`O<hQPO,5<yO!$VQPO,5<yOOQO1G2c1G2cOOQO<<Ko<<KoO$*OQPO1G/yOOQO<<MU<<MUOOQO7+&R7+&RO$*ZQPO1G0jO$*fQQO1G0hOOQO1G0h1G0hO$*nQPO1G0hOOQO,5=`,5=`OOQO-E:r-E:rO$*sQQO1G.oOOQO1G1[1G1[O$*}QPO'#GzO$+[QPO,5>qOOQO1G1Z1G1ZO$+dQPO'#FUOOQO,5=g,5=gOOQO-E:y-E:yO$+iQPO'#GoO$+vQPO,5>cOOQO1G/u1G/uOOQO<<IR<<IROOQO1G0[1G0[O$,OQPO1G0dO$,TQPO1G0[O$,YQPO1G0dOOQOAN>sAN>sO!KqQPOAN>sOOQOAN>xAN>xOOQOAN?[AN?[O9eQPOAN?[OOQO1G0`1G0`O$,_QPO1G0`OOQO,5=b,5=bOOQO-E:t-E:tO$,mQPO,5:uOOQO7+%y7+%yOOQO7+&Y7+&YOOQO1G1`1G1`O$,tQQO1G1`OOQO-E:{-E:{O$,|QQO'#IYO$,wQPO1G1`O$&gQPO1G1`O*pQPO1G1`OOQOAN@]AN@]O$-XQQO<<KSO:|QPO<<KSO$-`QPO<<KOOOQO<<KO<<KOO!(aQPO<<KOOOQO1G2S1G2SO$-eQQO7+(VO:|QPO7+(VOOQO<<Kp<<KpP!-iQPO'#HSO!$VQPO'#HRO$-oQPO,5<zO$-zQPO1G2eO<hQPO1G2eO9eQPO7+&SO$.PQPO7+&SOOQO7+&S7+&SOOQO,5=f,5=fOOQO-E:x-E:xO#M{QPO,5;pOOQO,5=Z,5=ZOOQO-E:m-E:mO$.UQPO7+&OOOQO7+%v7+%vO$.dQPO7+&OOOQOG24_G24_OOQOG24vG24vOOQO7+%z7+%zOOQO7+&z7+&zO*pQPO'#HOO$.iQPO,5>tO$.qQPO7+&zO$.vQQO'#IZOOQOAN@nAN@nO$/RQQOAN@nOOQOAN@jAN@jO$/YQPOAN@jO$/_QQO<<KqO$/iQPO,5=mOOQO-E;P-E;POOQO7+(P7+(PO$/zQPO7+(PO$0PQPO<<InOOQO<<In<<InO$0UQPO<<IjOOQO<<Ij<<IjO#M{QPO<<IjO$0UQPO<<IjO$0dQQO,5=jOOQO-E:|-E:|OOQO<<Jf<<JfO$0oQPO,5>uOOQOG26YG26YOOQOG26UG26UOOQO<<Kk<<KkOOQOAN?YAN?YOOQOAN?UAN?UO#M{QPOAN?UO$0wQPOAN?UO$0|QPOAN?UO$1[QPOG24pOOQOG24pG24pO#M{QPOG24pOOQOLD*[LD*[O$1aQPOLD*[OOQO!$'Mv!$'MvO*pQPO'#CaO$1fQQO'#H^O$1yQQO'#CbO!(hQPO'#Cy",stateData:"$2i~OPOSQOS%yOS~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~Og^Oh^Ov{O}cO!P!mO!SyO!TyO!UyO!VyO!W!pO!XyO!YyO!ZzO!]yO!^yO!_yO!u}O!z|O%}TO&P!cO&R!dO&_!hO&tdO~OWiXW&QXZ&QXuiXu&QX!P&QX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX%}iX&PiX&RiX&^&QX&_iX&_&QX&n&QX&viX&v&QX&x!aX~O#p$^X~P&bOWUXW&]XZUXuUXu&]X!PUX!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX%}&]X&P&]X&R&]X&^UX&_UX&_&]X&nUX&vUX&v&]X&x!aX~O#p$^X~P(iO&PSO&R!qO~O&W!vO&Y!tO~Og^Oh^O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO%}TO&P!wO&RWOg!RXh!RX$h!RX&P!RX&R!RX~O#y!|O#z!{O$W!}Ov!RX!u!RX!z!RX&t!RX~P+QOW#XOu#OO%}TO&P#SO&R#SO&v&aX~OW#[Ou&[X%}&[X&P&[X&R&[X&v&[XY&[Xw&[X&n&[X&q&[XZ&[Xq&[X&^&[X!P&[X#_&[X#a&[X#b&[X#d&[X#e&[X#f&[X#g&[X#h&[X#i&[X#k&[X#o&[X#r&[X}&[X!r&[X#p&[Xs&[X|&[X~O&_#YO~P-dO&_&[X~P-dOZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO#fpO#roO#tpO#upO%}TO&XUO~O&P#^O&R#]OY&pP~P/uO%}TOg%bXh%bXv%bX!S%bX!T%bX!U%bX!V%bX!W%bX!X%bX!Y%bX!Z%bX!]%bX!^%bX!_%bX!u%bX!z%bX$h%bX&P%bX&R%bX&t%bX&_%bX~O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yOg!RXh!RXv!RX!u!RX!z!RX&P!RX&R!RX&t!RX&_!RX~O$h!RX~P3gO|#kO~P]Og^Oh^Ov#pO!u#rO!z#qO&P!wO&RWO&t#oO~O$h#sO~P5VOu#uO&v#vO!P&TX#_&TX#a&TX#b&TX#d&TX#e&TX#f&TX#g&TX#h&TX#i&TX#k&TX#o&TX#r&TX&^&TX&_&TX&n&TX~OW#tOY&TX#p&TXs&TXq&TX|&TX~P5xO!b#wO#]#wOW&UXu&UX!P&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UXY&UX#p&UXs&UXq&UX|&UX~OZ#XX~P7jOZ#xO~O&v#vO~O#_#|O#a#}O#b$OO#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#o$VO#r$WO&^#zO&_#zO&n#{O~O!P$XO~P9oO&x$ZO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO#fpO#roO#tpO#upO%}TO&P0qO&R0pO&XUO~O#p$_O~O![$aO~O&P#SO&R#SO~Og^Oh^O&P!wO&RWO&_#YO~OW$gO&v#vO~O#z!{O~O!W$kO&PSO&R!qO~OZ$lO~OZ$oO~O!P$vO&P$uO&R$uO~O!P$xO&P$uO&R$uO~O!P${O~P:|OZ%OO}cO~OW&]Xu&]X%}&]X&P&]X&R&]X&_&]X~OZ!aX~P>lOWiXuiX%}iX&PiX&RiX&_iX~OZ!aX~P?XOu#OO%}TO&P#SO&R#SO~O%}TO~P3gOg^Oh^Ov#pO!u#rO!z#qO&_!hO&t#oO~O&P!cO&R!dO~P@ZOg^Oh^O%}TO&P!cO&R!dO~O}cO!P%aO~OZ%bO~O}%dO!m%gO~O}cOg&gXh&gXv&gX!S&gX!T&gX!U&gX!V&gX!W&gX!X&gX!Y&gX!Z&gX!]&gX!^&gX!_&gX!u&gX!z&gX%}&gX&P&gX&R&gX&_&gX&t&gX~OW%jOZ%kOgTahTa%}Ta&PTa&RTa~OvTa!STa!TTa!UTa!VTa!WTa!XTa!YTa!ZTa!]Ta!^Ta!_Ta!uTa!zTa#yTa#zTa$WTa$hTa&tTa&_TauTaYTaqTa|Ta!PTa~PC[O&W%nO&Y!tO~Ou#OO%}TOqma&^maYma&nma!Pma~O&vma}ma!rma~PEnO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO~Og!Rah!Rav!Ra!u!Ra!z!Ra$h!Ra&P!Ra&R!Ra&t!Ra&_!Ra~PFdO#z%pO~Os%rO~Ou%sO%}TO~Ou#OO%}ra&Pra&Rra&vraYrawra&nra&qra!Pra&^raqra~OWra#_ra#ara#bra#dra#era#fra#gra#hra#ira#kra#ora#rra&_ra#prasra|ra~PH_Ou#OO%}TOq&iX!P&iX!b&iX~OY&iX#p&iX~PJ`O!b%vOq!`X!P!`XY!`X~Oq%wO!P&hX~O!P%yO~Ov%zO~Og^Oh^O%}0oO&P!wO&RWO&b%}O~O&^&`P~PKmO%}TO&P!wO&RWO~OW&QXYiXY!aXY&QXZ&QXq!aXu&QXwiX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX&^&QX&_&QX&niX&n&QX&qiX&viX&v&QX&x!aX~P?XOWUXYUXY!aXY&]XZUXq!aXuUXw&]X!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX&^UX&_UX&nUX&n&]X&q&]X&vUX&v&]X&x!aX~P>lOg^Oh^O%}TO&P!wO&RWOg!RXh!RX&P!RX&R!RX~PFdOu#OOw&XO%}TO&P&UO&R&TO&q&WO~OW#XOY&aX&n&aX&v&aX~P!#YOY&ZO~P9oOg^Oh^O&P!wO&RWO~Oq&]OY&pX~OY&_O~Og^Oh^O%}TO&P!wO&RWOY&pP~PFdOY&dO&n&bO&v#vO~Oq&eO&x$ZOY&wX~OY&gO~O%}TOg%bah%bav%ba!S%ba!T%ba!U%ba!V%ba!W%ba!X%ba!Y%ba!Z%ba!]%ba!^%ba!_%ba!u%ba!z%ba$h%ba&P%ba&R%ba&t%ba&_%ba~O|&hO~P]O}&iO~Op&uOw&vO&PSO&R!qO&_#YO~Oz&tO~P!'iOz&xO&PSO&R!qO&_#YO~OY&eP~P:|Og^Oh^O%}TO&P!wO&RWO~O}cO~P:|OW#XOu#OO%}TO&v&aX~O#r$WO!P#sa#_#sa#a#sa#b#sa#d#sa#e#sa#f#sa#g#sa#h#sa#i#sa#k#sa#o#sa&^#sa&_#sa&n#saY#sa#p#sas#saq#sa|#sa~Oo'_O}'^O!r'`O&_!hO~O}'eO!r'`O~Oo'iO}'hO&_!hO~OZ#xOu'mO%}TO~OW%jO}'sO~OW%jO!P'uO~OW'vO!P'wO~O$h!WO&P0qO&R0pO!P&eP~P/uO!P(SO#p(TO~P9oO}(UO~O$c(WO~O!P(XO~O!P(YO~O!P(ZO~P9oO!P(]O~P9oOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdO%Q(hO%U(iOZ$}a_$}a`$}aa$}ab$}ac$}ae$}ag$}ah$}ap$}av$}aw$}az$}a}$}a!P$}a!S$}a!T$}a!U$}a!V$}a!W$}a!X$}a!Y$}a!Z$}a![$}a!]$}a!^$}a!_$}a!u$}a!z$}a#f$}a#r$}a#t$}a#u$}a#y$}a#z$}a$W$}a$Y$}a$`$}a$c$}a$e$}a$h$}a$l$}a$n$}a$s$}a$u$}a$w$}a$y$}a$|$}a%O$}a%w$}a%}$}a&P$}a&R$}a&X$}a&t$}a|$}a$a$}a$q$}a~O}ra!rra'Ora~PH_OZ%bO~PJ`O!P(mO~O!m%gO}&la!P&la~O}cO!P(pO~Oo(tOq!fX&^!fX~Oq(vO&^&mX~O&^(xO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op)UOv{Ow)TOz!OO|)PO}cO!PvO![!`O!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&_#YO&tdO~PFdO}%dO~O})]OY&zP~P:|OW%jO!P)dO~Os)eO~Ou#OO%}TOq&ia!P&ia!b&iaY&ia#p&ia~O})fO~P:|Oq%wO!P&ha~Og^Oh^O%}0oO&P!wO&RWO~O&b)mO~P!8jOu#OO%}TOq&aX&^&aXY&aX&n&aX!P&aX~O}&aX!r&aX~P!9SOo)oOp)oOqnX&^nX~Oq)pO&^&`X~O&^)rO~Ou#OOw)tO%}TO&PSO&R!qO~OYma&nma&vma~P!:bOW&QXY!aXq!aXu!aX%}!aX~OWUXY!aXq!aXu!aX%}!aX~OW)wO~Ou#OO%}TO&P#SO&R#SO&q)yO~Og^Oh^O%}TO&P!wO&RWO~PFdOq&]OY&pa~Ou#OO%}TO&P#SO&R#SO&q&WO~OY)|O~OY*PO&n&bO~Oq&eOY&wa~Og^Oh^Ov{O|*XO!u}O%}TO&P!wO&RWO&tdO~PFdO!P*YO~OW^iZ#XXu^i!P^i!b^i#]^i#_^i#a^i#b^i#d^i#e^i#f^i#g^i#h^i#i^i#k^i#o^i#r^i&^^i&_^i&n^i&v^iY^i#p^is^iq^i|^i~OW*iO~Os*jO~P9oOz*kO&PSO&R!qO~O!P]iY]i#p]is]iq]i|]i~P9oOq*lOY&eX!P&eX~P9oOY*nO~O#f$SO#g$TO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#h$UO#i$UO~P!AmO#_#|O#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO&n#{O!P#^i#b#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#a#^i~P!CUO#a#}O~P!CUO#_#|O#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO!P#^i#a#^i#b#^i#d#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O&n#^i~P!DtO&n#{O~P!DtO#f$SO#g$TO#k$YO#r$WO!P#^i#a#^i#b#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#_#|O#d$QO#h$UO#i$UO&^#zO&_#zO&n#{O~P!FdO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#f#^i#h#^i#i#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#g$TO~P!G{O#g#^i~P!G{O#h#^i#i#^i~P!AmO#p*oO~P9oO#_&aX#a&aX#b&aX#d&aX#e&aX#f&aX#g&aX#h&aX#i&aX#k&aX#o&aX#r&aX&_&aX#p&aXs&aX|&aX~P!9SO!P#liY#li#p#lis#liq#li|#li~P9oO|*rO~P$wO}'^O~O}'^O!r'`O~Oo'_O}'^O!r'`O~O%}TO&P#SO&R#SO|&sP!P&sP~PFdO}'eO~Og^Oh^Ov{O|+PO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdO}'hO~Oo'iO}'hO~Os+RO~P:|Ou+TO%}TO~Ou'mO})fO%}TOW#Zi!P#Zi#_#Zi#a#Zi#b#Zi#d#Zi#e#Zi#f#Zi#g#Zi#h#Zi#i#Zi#k#Zi#o#Zi#r#Zi&^#Zi&_#Zi&n#Zi&v#ZiY#Zi#p#Zis#Ziq#Zi|#Zi~O}'^OW&diu&di!P&di#_&di#a&di#b&di#d&di#e&di#f&di#g&di#h&di#i&di#k&di#o&di#r&di&^&di&_&di&n&di&v&diY&di#p&dis&diq&di|&di~O#}+]O$P+^O$R+^O$S+_O$T+`O~O|+[O~P##nO$Z+aO&PSO&R!qO~OW+bO!P+cO~O$a+dOZ$_i_$_i`$_ia$_ib$_ic$_ie$_ig$_ih$_ip$_iv$_iw$_iz$_i}$_i!P$_i!S$_i!T$_i!U$_i!V$_i!W$_i!X$_i!Y$_i!Z$_i![$_i!]$_i!^$_i!_$_i!u$_i!z$_i#f$_i#r$_i#t$_i#u$_i#y$_i#z$_i$W$_i$Y$_i$`$_i$c$_i$e$_i$h$_i$l$_i$n$_i$s$_i$u$_i$w$_i$y$_i$|$_i%O$_i%w$_i%}$_i&P$_i&R$_i&X$_i&t$_i|$_i$q$_i~Og^Oh^O$h#sO&P!wO&RWO~O!P+hO~P:|O!P+iO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!Z+nO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$q+oO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~O|+mO~P#)QOW&QXY&QXZ&QXu&QX!P&QX&viX&v&QX~P?XOWUXYUXZUXuUX!PUX&vUX&v&]X~P>lOW#tOu#uO&v#vO~OW&UXY%XXu&UX!P%XX&v&UX~OZ#XX~P#.VOY+uO!P+sO~O%Q(hO%U(iOZ$}i_$}i`$}ia$}ib$}ic$}ie$}ig$}ih$}ip$}iv$}iw$}iz$}i}$}i!P$}i!S$}i!T$}i!U$}i!V$}i!W$}i!X$}i!Y$}i!Z$}i![$}i!]$}i!^$}i!_$}i!u$}i!z$}i#f$}i#r$}i#t$}i#u$}i#y$}i#z$}i$W$}i$Y$}i$`$}i$c$}i$e$}i$h$}i$l$}i$n$}i$s$}i$u$}i$w$}i$y$}i$|$}i%O$}i%w$}i%}$}i&P$}i&R$}i&X$}i&t$}i|$}i$a$}i$q$}i~OZ+xO~O%Q(hO%U(iOZ%Vi_%Vi`%Via%Vib%Vic%Vie%Vig%Vih%Vip%Viv%Viw%Viz%Vi}%Vi!P%Vi!S%Vi!T%Vi!U%Vi!V%Vi!W%Vi!X%Vi!Y%Vi!Z%Vi![%Vi!]%Vi!^%Vi!_%Vi!u%Vi!z%Vi#f%Vi#r%Vi#t%Vi#u%Vi#y%Vi#z%Vi$W%Vi$Y%Vi$`%Vi$c%Vi$e%Vi$h%Vi$l%Vi$n%Vi$s%Vi$u%Vi$w%Vi$y%Vi$|%Vi%O%Vi%w%Vi%}%Vi&P%Vi&R%Vi&X%Vi&t%Vi|%Vi$a%Vi$q%Vi~Ou#OO%}TO}&oa!P&oa!m&oa~O!P,OO~Oo(tOq!fa&^!fa~Oq(vO&^&ma~O!m%gO}&li!P&li~O|,XO~P]OW,ZO~P5xOW&UXu&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UX~OZ#xO!P&UX~P#8^OW$gOZ#xO&v#vO~Op,]Ow,]O~Oq,^O}&rX!P&rX~O!b,`O#]#wOY&UXZ#XX~P#8^OY&SXq&SX|&SX!P&SX~P9oO})]O|&yP~P:|OY&SXg%[Xh%[X%}%[X&P%[X&R%[Xq&SX|&SX!P&SX~Oq,cOY&zX~OY,eO~O})fO|&kP~P:|Oq&jX!P&jX|&jXY&jX~P9oO&bTa~PC[Oo)oOp)oOqna&^na~Oq)pO&^&`a~OW,mO~Ow,nO~Ou#OO%}TO&P,rO&R,qO~Og^Oh^Ov#pO!u#rO&P!wO&RWO&t#oO~Og^Oh^Ov{O|,wO!u}O%}TO&P!wO&RWO&tdO~PFdOw-SO&PSO&R!qO&_#YO~Oq*lOY&ea!P&ea~O#_ma#ama#bma#dma#ema#fma#gma#hma#ima#kma#oma#rma&_ma#pmasma|ma~PEnO|-WO~P$wOZ#xO}'^Oq!|X|!|X!P!|X~Oq-[O|&sX!P&sX~O|-_O!P-^O~O&_!hO~P5VOg^Oh^Ov{O|-cO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdOs-dO~P9oOs-dO~P:|O}'^OW&dqu&dq!P&dq#_&dq#a&dq#b&dq#d&dq#e&dq#f&dq#g&dq#h&dq#i&dq#k&dq#o&dq#r&dq&^&dq&_&dq&n&dq&v&dqY&dq#p&dqs&dqq&dq|&dq~O|-hO~P##nO!W-lO$O-lO&PSO&R!qO~O!P-oO~O$Z-pO&PSO&R!qO~O!b%vO#p-rOq!`X!P!`X~O!P-tO~P9oO!P-tO~P:|O!P-wO~P9oO|-yO~P#)QO![$aO#p-zO~O!P-|O~O!b-}O~OY.QOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOY.QO!P.RO~O%Q(hO%U(iOZ%Vq_%Vq`%Vqa%Vqb%Vqc%Vqe%Vqg%Vqh%Vqp%Vqv%Vqw%Vqz%Vq}%Vq!P%Vq!S%Vq!T%Vq!U%Vq!V%Vq!W%Vq!X%Vq!Y%Vq!Z%Vq![%Vq!]%Vq!^%Vq!_%Vq!u%Vq!z%Vq#f%Vq#r%Vq#t%Vq#u%Vq#y%Vq#z%Vq$W%Vq$Y%Vq$`%Vq$c%Vq$e%Vq$h%Vq$l%Vq$n%Vq$s%Vq$u%Vq$w%Vq$y%Vq$|%Vq%O%Vq%w%Vq%}%Vq&P%Vq&R%Vq&X%Vq&t%Vq|%Vq$a%Vq$q%Vq~Ou#OO%}TO}&oi!P&oi!m&oi~O&n&bOq!ga&^!ga~O!m%gO}&lq!P&lq~O|.^O~P]Op.`Ow&vOz&tO&PSO&R!qO&_#YO~O!P.aO~Oq,^O}&ra!P&ra~O})]O~P:|Oq.gO|&yX~O|.iO~Oq,cOY&za~Oq.mO|&kX~O|.oO~Ow.pO~Oq!aXu!aX!P!aX!b!aX%}!aX~OZ&QX~P#N{OZUX~P#N{O!P.qO~OZ.rO~OW^yZ#XXu^y!P^y!b^y#]^y#_^y#a^y#b^y#d^y#e^y#f^y#g^y#h^y#i^y#k^y#o^y#r^y&^^y&_^y&n^y&v^yY^y#p^ys^yq^y|^y~OY%`aq%`a!P%`a~P9oO!P#nyY#ny#p#nys#nyq#ny|#ny~P9oO}'^Oq!|a|!|a!P!|a~OZ#xO}'^Oq!|a|!|a!P!|a~O%}TO&P#SO&R#SOq%jX|%jX!P%jX~PFdOq-[O|&sa!P&sa~O|!}X~P$wO|/PO~Os/QO~P9oOW%jO!P/RO~OW%jO$Q/WO&PSO&R!qO!P&|P~OW%jO$U/XO~O!P/YO~O!b%vO#p/[Oq!`X!P!`X~OY/^O~O!P/_O~P9oO#p/`O~P9oO!b/bO~OY/cOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOW#[Ou&[X%}&[X&P&[X&R&[X'O&[X~O&_#YO~P$)QOu#OO%}TO'O/eO&P%SX&R%SX~O&n&bOq!gi&^!gi~Op/iO&PSO&R!qO~OW*iOZ#xO~O!P/kO~OY&SXq&SX~P9oO})]Oq%nX|%nX~P:|Oq.gO|&ya~O!b/nO~O})fOq%cX|%cX~P:|Oq.mO|&ka~OY/qO~O!P/rO~OZ/sO~O}'^Oq!|i|!|i!P!|i~O|!}a~P$wOW%jO!P/wO~OW%jOq/xO!P&|X~OY/|O~P9oOY0OO~OY%Xq!P%Xq~P9oO'O/eO&P%Sa&R%Sa~OY0TO~O!P0WO~Ou#OO!P0YO!Z0ZO%}TO~OY0[O~Oq/xO!P&|a~O!P0_O~OW%jOq/xO!P&}X~OY0aO~P9oOY0bO~OY%Xy!P%Xy~P9oOu#OO%}TO&P%ua&R%ua'O%ua~OY0cO~O!P0dO~Ou#OO!P0eO!Z0fO%}TO~OW%jOq%ra!P%ra~Oq/xO!P&}a~O!P0jO~Ou#OO!P0jO!Z0kO%}TO~O!P0lO~O!P0nO~O#p&QXY&QXs&QXq&QX|&QX~P&bO#pUXYUXsUXqUX|UX~P(iO`Q_P#g%y&P&Xc&X~",goto:"#+S'OPPPP'P'd*x.OP'dPP.d.h0PPPPPP1nP3ZPP4v7l:[<z=d?[PPP?bPA{PPPBu3ZPDqPPElPFcFkPPPPPPPPPPPPGvH_PKjKrLOLjLpLvNiNmNmNuP! U!!^!#R!#]P!#r!!^P!#x!$S!!y!$cP!%S!%^!%d!!^!%g!%mFcFc!%q!%{!&O3Z!'m3Z3Z!)iP.hP!)mPP!*_PPPPPP.hP.h!+O.hPP.hP.hPP.h!,g!,qPP!,w!-QPPPPPPPP'PP'PPP!-U!-U!-i!-UPP!-UP!-UP!.S!.VP!-U!.m!-UP!-UP!.p!.sP!-UP!-UP!-UP!-UP!-U!-UP!-UP!.wP!.}!/Q!/WP!-U!/d!/gP!/o!0R!4T!4Z!4a!5g!5m!5{!7R!7X!7_!7i!7o!7u!7{!8R!8X!8_!8e!8k!8q!8w!8}!9T!9_!9e!9o!9uPPP!9{!-U!:pP!>WP!?[P!Ap!BW!E]3ZPPP!F|!Jm!MaPP#!P#!SP#$`#$f#&V#&f#&n#'p#(Y#)T#)^#)a#)oP#)r#*OP#*V#*^P#*aP#*lP#*o#*r#*u#*y#+PstOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y'urOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%k%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)])f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,`,u-[-^-a-r-t-}.R.V.g.m/O/[/_/b/d/n/q0R0X0Z0[0f0h0k0r#xhO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kt!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oQ#mdS&Y#`(}Q&l#oU&q#t$g,ZQ&x#vW(b%O+s.R/dU)Y%j'v+bQ)Z%kS)u&S,WU*f&s-R._Q*k&yQ,t*TQ-P*iQ.j,cR.t,uu!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oT%l!r)l#{qO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k#zlO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kX(c%O+s.R/d$TVO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k$TkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rQ&Q#[Q)s&RV.T+x.X/e&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.T+x.X/e&O]OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.U+x.X/eS#Z[.TS$f!O&tS&s#t$gQ&y#vQ)V%dQ-R*iR._,Z$kZO`copx!Y![!_!a#Y#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$_$l$m$n$o$p$q%O%d%g%k%v&b&d'_'`'i'm(O(T(U(t)Q)R)])f)o)p*P*l*o+T+d+h+i+l+o+s,Y,^,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ&O#YR,k)p&P_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0r!o#QY!e!x#R#T#`#n$]%R%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0h$SkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ$m!UQ$n!VQ$s!ZQ$|!`R+p(WQ#yiS'q$e*hQ*e&rQ+X'rS,[)T)UQ-O*gQ-Y*vQ.b,]Q.x-QQ.{-ZQ/j.`Q/u.yR0V/iQ'a$bW*[&m'b'c'dQ+W'qU,x*]*^*_Q-X*vQ-f+XS.u,y,zS.z-Y-ZQ/t.vR/v.{]!mP!o'^*q-^/OreOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!gP!o'^*q-^/OW#b`#e%b&]Q'}$oW(d%O+s.R/dS*U&i*WS*w'e-[S*|'h+OR.X+xh#VY!W!e#n#s%V'|*T*z+f,u-aQ)j%wQ)v&WR,o)y#xnOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k^!kP!g!o'^*q-^/Ov#TY!W#`#n#s%w&W&[&`'|(`(})y*T+f+r,u.W/hQ#g`Q$b{Q$c|Q$d}W%S!e%V*z-aS%Y!h(vQ%`!iQ&m#pQ&n#qQ&o#rQ(u%ZS(y%^({Q*R&eS*v'e-[R-Z*wU)h%v)f.mR+V'p[!mP!o'^*q-^/OT*}'h+O^!iP!g!o'^*q-^/OQ'd$bQ'l$dQ*_&mQ*d&oV*{'h*|+OQ%[!hR,S(vQ(s%YR,R(u#znO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%c!kS(l%S(yR(|%`T#e`%bU#c`#e%bR)z&]Q%f!lQ(n%UQ(r%XQ,U(zR.],VrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OQ%P!bQ%a!jQ%i!pQ'[$ZQ([$|Q(k%QQ(p%WQ+z(iR.Y+yrtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OS*V&i*WT*}'h+OQ'c$bS*^&m'dR,z*_Q'b$bQ'g$cU*]&m'c'dQ*a&nS,y*^*_R.v,zQ*u'`R+Q'iQ'k$dS*c&o'lR,}*dQ'j$dU*b&o'k'lS,|*c*dR.w,}rtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OT*}'h+OQ'f$cS*`&n'gR,{*aQ*x'eR.|-[R-`*yQ&j#mR*Z&lT*V&i*WQ%e!lS(q%X%fR,P(rR)R%dWk%O+s.R/d#{lO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k$SiO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kU&r#t$g,ZS*g&s._Q-Q*iR.y-RT'o$e'p!_#|m#a$r$z$}&w&z&{'O'P'Q'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q!]$Pm#a$r$z$}&w&z&{'O'P'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q#{nO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0ka)^%k)],`.g/n0Z0f0kQ)`%kR.k,cQ't$hQ)b%oR,f)cT+Y's+ZsvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YruOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YQ$w!]R$y!^R$p!XrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YR(O$oR$q!XR(V$sT+k(U+lX(f%P(g(k+{R+y(hQ.W+xR/h.XQ(j%PQ+w(gQ+|(kR.Z+{R%Q!bQ(e%OV.P+s.R/dQxOQ#lcW$`x#l)Q,YQ)Q%dR,Y)RrXOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Yn!fP!o#e&]&i'^'e'h*W*q+O+x-[-^/Ol!zX!f#P#_#i$[%Z%_%{&R'n'{)O0r!j#PY!e!x#T#`#n$]%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0hQ#_`Q#ia#d$[op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%g%k%v&b&d'_'`'i'm(O(T(t)])f)o*P*l*o+T+h+i+o,^,`-r-t-}.g.m/[/_/b/n0Z0f0kS%Z!h(vS%_!i*{S%{#Y)pQ&R#[S'n$e'pY'{$o%O+s.R/dQ)O%bR0r$YQ!uUR%m!uQ)q&OR,l)q^#RY#`$]'X'|(`*px%R!e!x#n%V%^%|&S&[&`({(}*T*z+f+r,W,u-a.V0R[%t#R%R%u+}0X0hS%u#T%SQ+}(lQ0X/qR0h0[Q*m&{R-U*mQ!oPU%h!o*q/OQ*q'^R/O-^!pbOP`cx![!o#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h(U)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dY!yX!f#_'{)OT#jb!yQ.n,gR/p.nQ%x#VR)k%xQ&c#fS*O&c.[R.[,QQ(w%[R,T(wQ&^#cR){&^Q,_)WR.d,_Q+O'hR-b+OQ-]*xR.}-]Q*W&iR,v*WQ'p$eR+U'pQ&f#gR*S&fQ.h,aR/m.hQ,d)`R.l,dQ+Z'sR-g+ZQ-k+]R/T-kQ/y/US0^/y0`R0`/{Q+l(UR-x+lQ(g%PS+v(g+{R+{(kQ/f.VR0S/fQ+t(eR.S+t`wOcx#l%d)Q)R,YQ$t![Q']$_Q'y$mQ'z$nQ(Q$pQ(R$qS+k(U+lR-q+d'dsOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,u-[-^-a-r-t-}.R.V.m/O/[/_/b/d/q0R0X0[0h0ra)_%k)],`.g/n0Z0f0kQ!rTQ$h!QQ$i!SQ$j!TQ%o!{Q%q!}Q'x$kQ)c%pQ)l0oS-i+]+_Q-m+^Q-n+`Q/S-kS/U-m/WQ/{/XR0]/x%uSOT`cdopx!Q!S!T!Y![!_!a!{!}#`#l#o#t#u#v#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$g$k$l$m$n$o$p$q%O%d%j%k%p%v&S&d&s&y'm'v(O(T(U(})Q)R)])f*P*T*i*l*o+T+]+^+_+`+b+d+h+i+l+o+s,W,Y,Z,`,c,u-R-k-m-r-t-}.R._.g.m/W/X/[/_/b/d/n/x0Z0f0k0oQ)a%kQ,a)]S.f,`/nQ/l.gQ0g0ZQ0i0fR0m0krmOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YS#a`$lQ$WoQ$^pQ$r!YQ$z!_Q$}!aQ&w#uQ&z#wY&{#x$o+h-t/_Q&}#|Q'O#}Q'P$OQ'Q$PQ'R$QQ'S$RQ'T$SQ'U$TQ'V$UQ'W$VQ'Z$Z^)[%k)].g/n0Z0f0kU)g%v)f.mQ*Q&dQ+S'mQ+g(OQ+j(TQ,p*PQ-T*lQ-V*oQ-e+TQ-v+iQ-{+oQ.e,`Q/Z-rQ/a-}Q/}/[R0Q/b#xgO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kW(a%O+s.R/dR)S%drYOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!eP!o'^*q-^/OW!xX$[%{'{Q#``Q#ne#S$]op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%k%v&d'm(O(T)])f*P*l*o+T+h+i+o,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%V!gS%^!i*{d%|#Y%g&b'_'`'i(t)o)p,^Q&S#_Q&[#bS&`#e&]Q'X$YQ'|$oW(`%O+s.R/dQ({%_Q(}%bS*T&i*WQ*p0rS*z'h+OQ+f'}Q+r(dQ,W)OQ,u*UQ-a*|S.V+x.XR0R/e&O_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rQ$e!OQ'r$fR*h&t&ZWOPX`ceopx!O!Y![!_!a!g!i!o#Y#[#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&R&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rR&P#Y$QjOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ#f`Q&O#YQ'Y$YU)W%g'`'iQ)}&bQ*s'_Q,Q(tQ,j)oQ,k)pR.c,^Q)n%}R,i)m$SfO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kT&p#t,ZQ&|#xQ(P$oQ-u+hQ/]-tR0P/_]!nP!o'^*q-^/O#PaOPX`bcx![!f!o!y#_#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h'{(U)O)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dU#WY!W'|Q%T!eU&k#n#s+fQ(o%VS,s*T*zT.s,u-aj#UY!W!e#n#s%V%w&W)y*T*z,u-aU&V#`&`(}Q)x&[Q+e'|Q+q(`Q-s+fQ.O+rQ/g.WR0U/hQ)i%vQ,g)fR/o.mR,h)f`!jP!o'^'h*q+O-^/OT%W!g*|R%]!hW%U!e%V*z-aQ(z%^R,V({S#d`%bR&a#eQ)X%gT*t'`'iR*y'e[!lP!o'^*q-^/OR%X!gR#h`R,b)]R)a%kT-j+]-kQ/V-mR/z/WR/z/X",nodeNames:"⚠ LineComment BlockComment Program ModuleDeclaration MarkerAnnotation Identifier ScopedIdentifier . Annotation ) ( AnnotationArgumentList AssignmentExpression FieldAccess IntegerLiteral FloatingPointLiteral BooleanLiteral CharacterLiteral StringLiteral TextBlock null ClassLiteral void PrimitiveType TypeName ScopedTypeName GenericType TypeArguments AnnotatedType Wildcard extends super , ArrayType ] Dimension [ class this ParenthesizedExpression ObjectCreationExpression new ArgumentList } { ClassBody ; FieldDeclaration Modifiers public protected private abstract static final strictfp default synchronized native transient volatile VariableDeclarator Definition AssignOp ArrayInitializer MethodDeclaration TypeParameters TypeParameter TypeBound FormalParameters ReceiverParameter FormalParameter SpreadParameter Throws throws Block ClassDeclaration Superclass SuperInterfaces implements InterfaceTypeList InterfaceDeclaration interface ExtendsInterfaces InterfaceBody ConstantDeclaration EnumDeclaration enum EnumBody EnumConstant EnumBodyDeclarations AnnotationTypeDeclaration AnnotationTypeBody AnnotationTypeElementDeclaration StaticInitializer ConstructorDeclaration ConstructorBody ExplicitConstructorInvocation ArrayAccess MethodInvocation MethodName MethodReference ArrayCreationExpression Dimension AssignOp BinaryExpression CompareOp CompareOp LogicOp LogicOp BitOp BitOp BitOp ArithOp ArithOp ArithOp BitOp InstanceofExpression instanceof LambdaExpression InferredParameters TernaryExpression LogicOp : UpdateExpression UpdateOp UnaryExpression LogicOp BitOp CastExpression ElementValueArrayInitializer ElementValuePair open module ModuleBody ModuleDirective requires transitive exports to opens uses provides with PackageDeclaration package ImportDeclaration import Asterisk ExpressionStatement LabeledStatement Label IfStatement if else WhileStatement while ForStatement for ForSpec LocalVariableDeclaration var EnhancedForStatement ForSpec AssertStatement assert SwitchStatement switch SwitchBlock SwitchLabel case DoStatement do BreakStatement break ContinueStatement continue ReturnStatement return SynchronizedStatement ThrowStatement throw TryStatement try CatchClause catch CatchFormalParameter CatchType FinallyClause finally TryWithResourcesStatement ResourceSpecification Resource ClassContent",maxTerm:276,nodeProps:[["isolate",-4,1,2,18,19,""],["group",-26,4,47,76,77,82,87,92,145,147,150,151,153,156,158,161,163,165,167,172,174,176,178,180,181,183,191,"Statement",-25,6,13,14,15,16,17,18,19,20,21,22,39,40,41,99,100,102,103,106,118,120,122,125,127,130,"Expression",-7,23,24,25,26,27,29,34,"Type"],["openedBy",10,"(",44,"{"],["closedBy",11,")",45,"}"]],propSources:[pg],skippedNodes:[0,1,2],repeatNodeCount:28,tokenData:"#'f_R!_OX%QXY'fYZ)bZ^'f^p%Qpq'fqr*|rs,^st%Qtu4euv5zvw7[wx8rxyAZyzAwz{Be{|CZ|}Dq}!OE_!O!PFx!P!Q! r!Q!R!,h!R![!0`![!]!>p!]!^!@Q!^!_!@n!_!`!BX!`!a!B{!a!b!Di!b!c!EX!c!}!LT!}#O!Mj#O#P%Q#P#Q!NW#Q#R!Nt#R#S4e#S#T%Q#T#o4e#o#p# h#p#q#!U#q#r##n#r#s#$[#s#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4eS%VV&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS%qO&YSS%tVOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZS&^VOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS&vP;=`<%l%QS&|UOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZS'cP;=`<%l&Z_'mk&YS%yZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qs#y%Q#y#z'f#z$f%Q$f$g'f$g#BY%Q#BY#BZ'f#BZ$IS%Q$IS$I_'f$I_$I|%Q$I|$JO'f$JO$JT%Q$JT$JU'f$JU$KV%Q$KV$KW'f$KW&FU%Q&FU&FV'f&FV;'S%Q;'S;=`&s<%lO%Q_)iY&YS%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XZ*^Y%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XV+TX#tP&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QU+wV#_Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT,aXOY,|YZ%lZr,|rs3Ys#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T-PXOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT-qX&YSOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT.cVcPOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZT.}V&YSOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT/iW&YSOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0UWOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0sOcPP0vTOY0RYZ0RZ;'S0R;'S;=`1V<%lO0RP1YP;=`<%l0RT1`XOY,|YZ%lZr,|rs1{s#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T2QUcPOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZT2gVOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT3PP;=`<%l-lT3VP;=`<%l,|T3_VcPOY&ZYZ%lZr&Zrs3ts;'S&Z;'S;=`'`<%lO&ZT3yR&WSXY4SYZ4`pq4SP4VRXY4SYZ4`pq4SP4eO&XP_4lb&YS&PZOY%QYZ%lZr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o$g%Q$g;'S4e;'S;=`5t<%lO4e_5wP;=`<%l4eU6RX#hQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU6uV#]Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV7cZ&nR&YSOY%QYZ%lZr%Qrs%qsv%Qvw8Uw!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU8]V#aQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT8wZ&YSOY9jYZ%lZr9jrs:xsw9jwx%Qx#O9j#O#P<S#P;'S9j;'S;=`AT<%lO9jT9oX&YSOY%QYZ%lZr%Qrs%qsw%Qwx:[x;'S%Q;'S;=`&s<%lO%QT:cVbP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT:{XOY&ZYZ%lZr&Zrs&ysw&Zwx;hx;'S&Z;'S;=`'`<%lO&ZT;mVbPOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT<XZ&YSOY<zYZ%lZr<zrs=rsw<zwx9jx#O<z#O#P9j#P;'S<z;'S;=`?^<%lO<zT=PZ&YSOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT=uZOY>hYZ%lZr>hrs?dsw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hT>kZOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT?aP;=`<%l<zT?gZOY>hYZ%lZr>hrs@Ysw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hP@]VOY@YZw@Ywx@rx#O@Y#P;'S@Y;'S;=`@w<%lO@YP@wObPP@zP;=`<%l@YTAQP;=`<%l>hTAWP;=`<%l9j_AbVZZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBOVYR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBnX$ZP&YS#gQOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVCbZ#fR&YSOY%QYZ%lZr%Qrs%qs{%Q{|DT|!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVD[V#rR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVDxVqR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVEf[#fR&YSOY%QYZ%lZr%Qrs%qs}%Q}!ODT!O!_%Q!_!`6n!`!aF[!a;'S%Q;'S;=`&s<%lO%QVFcV&xR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_GPZWY&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PGr!P!Q%Q!Q![IQ![;'S%Q;'S;=`&s<%lO%QVGwX&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PHd!P;'S%Q;'S;=`&s<%lO%QVHkV&qR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTIXc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#R%Q#R#SNz#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTJkV&YS`POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTKV]&YSOY%QYZ%lZr%Qrs%qs{%Q{|LO|}%Q}!OLO!O!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLTX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLwc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![!f%Q!f!gJd!g!h%Q!h!iJd!i#R%Q#R#SNS#S#W%Q#W#XJd#X#Y%Q#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTNXZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![#R%Q#R#SNS#S;'S%Q;'S;=`&s<%lO%QT! PZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![#R%Q#R#SNz#S;'S%Q;'S;=`&s<%lO%Q_! y]&YS#gQOY%QYZ%lZr%Qrs%qsz%Qz{!!r{!P%Q!P!Q!)e!Q!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%Q_!!wX&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!#iT&YSOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!#{TOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!$_VOz!#xz{!$[{!P!#x!P!Q!$t!Q;'S!#x;'S;=`!$y<%lO!#xZ!$yOQZZ!$|P;=`<%l!#x_!%SXOY!%oYZ!#dZr!%ors!'ysz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!%rXOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!&dZ&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!'^V&YSQZOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!'vP;=`<%l!!r_!'|XOY!%oYZ!#dZr!%ors!#xsz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!(lZOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!)bP;=`<%l!%o_!)lV&YSPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!*WVPZOY!*mYZ%lZr!*mrs!+_s;'S!*m;'S;=`!,b<%lO!*m_!*rVPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!+[P;=`<%l!)e_!+dVPZOY!*mYZ%lZr!*mrs!+ys;'S!*m;'S;=`!,b<%lO!*mZ!,OSPZOY!+yZ;'S!+y;'S;=`!,[<%lO!+yZ!,_P;=`<%l!+y_!,eP;=`<%l!*mT!,ou&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!d%Q!d!e!3j!e!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o!q%Q!q!r!5h!r!z%Q!z!{!7`!{#R%Q#R#S!2r#S#U%Q#U#V!3j#V#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a#c%Q#c#d!5h#d#l%Q#l#m!7`#m;'S%Q;'S;=`&s<%lO%QT!/Za&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QT!0gi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o#R%Q#R#S!2r#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!2]V&YS_POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT!2wZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!0`![#R%Q#R#S!2r#S;'S%Q;'S;=`&s<%lO%QT!3oY&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S;'S%Q;'S;=`&s<%lO%QT!4f`&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S!n%Q!n!o!2U!o#R%Q#R#S!3j#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!5mX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y;'S%Q;'S;=`&s<%lO%QT!6a_&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y!n%Q!n!o!2U!o#R%Q#R#S!5h#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!7e_&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!P!8d!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QT!8i]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i#T%Q#T#Z!9b#Z;'S%Q;'S;=`&s<%lO%QT!9gc&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#R%Q#R#S!8d#S#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!:yi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!<h!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i!n%Q!n!o!2U!o!r%Q!r!sKQ!s#R%Q#R#S!=r#S#T%Q#T#Z!:r#Z#`%Q#`#a!2U#a#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!<ma&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!=w]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QV!>wX#pR&YSOY%QYZ%lZr%Qrs%qs![%Q![!]!?d!];'S%Q;'S;=`&s<%lO%QV!?kV&vR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!@XV!PR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!@uY&_Z&YSOY%QYZ%lZr%Qrs%qs!^%Q!^!_!Ae!_!`+p!`;'S%Q;'S;=`&s<%lO%QU!AlX#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV!B`X!bR&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QV!CSY&^R&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`!a!Cr!a;'S%Q;'S;=`&s<%lO%QU!CyY#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`!a!Ae!a;'S%Q;'S;=`&s<%lO%Q_!DrV&bX#oQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!E`X%}Z&YSOY%QYZ%lZr%Qrs%qs#]%Q#]#^!E{#^;'S%Q;'S;=`&s<%lO%QV!FQX&YSOY%QYZ%lZr%Qrs%qs#b%Q#b#c!Fm#c;'S%Q;'S;=`&s<%lO%QV!FrX&YSOY%QYZ%lZr%Qrs%qs#h%Q#h#i!G_#i;'S%Q;'S;=`&s<%lO%QV!GdX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!HP#Y;'S%Q;'S;=`&s<%lO%QV!HUX&YSOY%QYZ%lZr%Qrs%qs#f%Q#f#g!Hq#g;'S%Q;'S;=`&s<%lO%QV!HvX&YSOY%QYZ%lZr%Qrs%qs#Y%Q#Y#Z!Ic#Z;'S%Q;'S;=`&s<%lO%QV!IhX&YSOY%QYZ%lZr%Qrs%qs#T%Q#T#U!JT#U;'S%Q;'S;=`&s<%lO%QV!JYX&YSOY%QYZ%lZr%Qrs%qs#V%Q#V#W!Ju#W;'S%Q;'S;=`&s<%lO%QV!JzX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!Kg#Y;'S%Q;'S;=`&s<%lO%QV!KnV&tR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!L[b&RZ&YSOY%QYZ%lZr%Qrs%qst%Qtu!LTu!Q%Q!Q![!LT![!c%Q!c!}!LT!}#R%Q#R#S!LT#S#T%Q#T#o!LT#o$g%Q$g;'S!LT;'S;=`!Md<%lO!LT_!MgP;=`<%l!LT_!MqVuZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!N_VsR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QU!N{X#eQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV# oV}R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#!_Z'OX#dQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`#p%Q#p#q##Q#q;'S%Q;'S;=`&s<%lO%QU##XV#bQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV##uV|R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT#$cV#uP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#%Ru&YS%yZ&PZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4e",tokenizers:[0,1,2,3],topRules:{Program:[0,3],ClassContent:[1,194]},dynamicPrecedences:{27:1,232:-1,243:-1},specialized:[{term:231,get:e=>mg[e]||-1}],tokenPrec:7144}),Og=kl.define({name:"java",parser:gg.configure({props:[Zl.add({IfStatement:Kl({except:/^\s*({|else\b)/}),TryStatement:Kl({except:/^\s*({|catch|finally)\b/}),LabeledStatement:Gl,SwitchBlock:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),o=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:o?1:2)*e.unit},Block:ql({closing:"}"}),BlockComment:()=>null,Statement:Kl({except:/^{/})}),ec.add({"Block SwitchBlock ClassBody ElementValueArrayInitializer ModuleBody EnumBody ConstructorBody InterfaceBody ArrayInitializer":tc,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/}});const vg={abstract:4,and:5,array:6,as:7,true:8,false:8,break:9,case:10,catch:11,clone:12,const:13,continue:14,declare:16,default:15,do:17,echo:18,else:19,elseif:20,enddeclare:21,endfor:22,endforeach:23,endif:24,endswitch:25,endwhile:26,enum:27,extends:28,final:29,finally:30,fn:31,for:32,foreach:33,from:34,function:35,global:36,goto:37,if:38,implements:39,include:40,include_once:41,instanceof:42,insteadof:43,interface:44,list:45,match:46,namespace:47,new:48,null:49,or:50,print:51,require:52,require_once:53,return:54,switch:55,throw:56,trait:57,try:58,unset:59,use:60,var:61,public:62,private:62,protected:62,while:63,xor:64,yield:65,__proto__:null};function bg(e){let t=vg[e.toLowerCase()];return null==t?-1:t}function yg(e){return 9==e||10==e||13==e||32==e}function xg(e){return e>=97&&e<=122||e>=65&&e<=90}function wg(e){return 95==e||e>=128||xg(e)}function Sg(e){return e>=48&&e<=55||e>=97&&e<=102||e>=65&&e<=70}const _g={int:!0,integer:!0,bool:!0,boolean:!0,float:!0,double:!0,real:!0,string:!0,array:!0,object:!0,unset:!0,__proto__:null},kg=new Bp((e=>{if(40==e.next){e.advance();let t=0;for(;yg(e.peek(t));)t++;let n,o="";for(;xg(n=e.peek(t));)o+=String.fromCharCode(n),t++;for(;yg(e.peek(t));)t++;41==e.peek(t)&&_g[o.toLowerCase()]&&e.acceptToken(1)}else if(60==e.next&&60==e.peek(1)&&60==e.peek(2)){for(let t=0;t<3;t++)e.advance();for(;32==e.next||9==e.next;)e.advance();let t=39==e.next;if(t&&e.advance(),!wg(e.next))return;let n=String.fromCharCode(e.next);for(;e.advance(),wg(e.next)||e.next>=48&&e.next<=55;)n+=String.fromCharCode(e.next);if(t){if(39!=e.next)return;e.advance()}if(10!=e.next&&13!=e.next)return;for(;;){let t=10==e.next||13==e.next;if(e.advance(),e.next<0)return;if(t){for(;32==e.next||9==e.next;)e.advance();let t=!0;for(let o=0;o<n.length;o++){if(e.next!=n.charCodeAt(o)){t=!1;break}e.advance()}if(t)return e.acceptToken(2)}}}})),Cg=new Bp((e=>{e.next<0&&e.acceptToken(266)})),Tg=new Bp(((e,t)=>{63==e.next&&t.canShift(265)&&62==e.peek(1)&&e.acceptToken(265)}));function $g(e){let t=e.peek(1);if(110==t||114==t||116==t||118==t||101==t||102==t||92==t||36==t||34==t||123==t)return 2;if(t>=48&&t<=55){let t,n=2;for(;n<5&&(t=e.peek(n))>=48&&t<=55;)n++;return n}if(120==t&&Sg(e.peek(2)))return Sg(e.peek(3))?4:3;if(117==t&&123==e.peek(2))for(let t=3;;t++){let n=e.peek(t);if(125==n)return 2==t?0:t+1;if(!Sg(n))break}return 0}const Pg=new Bp(((e,t)=>{let n=!1;for(;!(34==e.next||e.next<0||36==e.next&&(wg(e.peek(1))||123==e.peek(1))||123==e.next&&36==e.peek(1));n=!0){if(92==e.next){let t=$g(e);if(t){if(n)break;return e.acceptToken(3,t)}}else if(!n&&(91==e.next||45==e.next&&62==e.peek(1)&&wg(e.peek(2))||63==e.next&&45==e.peek(1)&&62==e.peek(2)&&wg(e.peek(3)))&&t.canShift(264))break;e.advance()}n&&e.acceptToken(263)})),Ag=Ga({"Visibility abstract final static":vl.modifier,"for foreach while do if else elseif switch try catch finally return throw break continue default case":vl.controlKeyword,"endif endfor endforeach endswitch endwhile declare enddeclare goto match":vl.controlKeyword,"and or xor yield unset clone instanceof insteadof":vl.operatorKeyword,"function fn class trait implements extends const enum global interface use var":vl.definitionKeyword,"include include_once require require_once namespace":vl.moduleKeyword,"new from echo print array list as":vl.keyword,null:vl.null,Boolean:vl.bool,VariableName:vl.variableName,"NamespaceName/...":vl.namespace,"NamedType/...":vl.typeName,Name:vl.name,"CallExpression/Name":vl.function(vl.variableName),"LabelStatement/Name":vl.labelName,"MemberExpression/Name":vl.propertyName,"MemberExpression/VariableName":vl.special(vl.propertyName),"ScopedExpression/ClassMemberName/Name":vl.propertyName,"ScopedExpression/ClassMemberName/VariableName":vl.special(vl.propertyName),"CallExpression/MemberExpression/Name":vl.function(vl.propertyName),"CallExpression/ScopedExpression/ClassMemberName/Name":vl.function(vl.propertyName),"MethodDeclaration/Name":vl.function(vl.definition(vl.variableName)),"FunctionDefinition/Name":vl.function(vl.definition(vl.variableName)),"ClassDeclaration/Name":vl.definition(vl.className),UpdateOp:vl.updateOperator,ArithOp:vl.arithmeticOperator,LogicOp:vl.logicOperator,BitOp:vl.bitwiseOperator,CompareOp:vl.compareOperator,ControlOp:vl.controlOperator,AssignOp:vl.definitionOperator,"$ ConcatOp":vl.operator,LineComment:vl.lineComment,BlockComment:vl.blockComment,Integer:vl.integer,Float:vl.float,String:vl.string,ShellExpression:vl.special(vl.string),"=> ->":vl.punctuation,"( )":vl.paren,"#[ [ ]":vl.squareBracket,"${ { }":vl.brace,"-> ?->":vl.derefOperator,", ; :: : \\":vl.separator,"PhpOpen PhpClose":vl.processingInstruction}),Qg={__proto__:null,static:311,STATIC:311,class:333,CLASS:333},Eg=nm.deserialize({version:14,states:"$GSQ`OWOOQhQaOOP%oO`OOOOO#t'#H_'#H_O%tO#|O'#DtOOO#u'#Dw'#DwQ&SOWO'#DwO&XO$VOOOOQ#u'#Dx'#DxO&lQaO'#D|O(mQdO'#E}O(tQdO'#EQO*kQaO'#EWO,zQ`O'#ETO-PQ`O'#E^O/nQaO'#E^O/uQ`O'#EfO/zQ`O'#EoO*kQaO'#EoO0VQ`O'#HhO0[Q`O'#E{O0[Q`O'#E{OOQS'#Ic'#IcO0aQ`O'#EvOOQS'#IZ'#IZO2oQdO'#IWO6tQeO'#FUO*kQaO'#FeO*kQaO'#FfO*kQaO'#FgO*kQaO'#FhO*kQaO'#FhO*kQaO'#FkOOQO'#Id'#IdO7RQ`O'#FqOOQO'#Hi'#HiO7ZQ`O'#HOO7uQ`O'#FlO8QQ`O'#H]O8]Q`O'#FvO8eQaO'#FwO*kQaO'#GVO*kQaO'#GYO8}OrO'#G]OOQS'#Iq'#IqOOQS'#Ip'#IpOOQS'#IW'#IWO,zQ`O'#GdO,zQ`O'#GfO,zQ`O'#GkOhQaO'#GmO9UQ`O'#GnO9ZQ`O'#GqO9`Q`O'#GtO9eQeO'#GuO9eQeO'#GvO9eQeO'#GwO9oQ`O'#GxO9tQ`O'#GzO9yQaO'#G{O<YQ`O'#G|O<_Q`O'#G}O<dQ`O'#G}O9oQ`O'#HOO<iQ`O'#HQO<nQ`O'#HRO<sQ`O'#HSO<xQ`O'#HVO=TQ`O'#HWO9yQaO'#H[OOQ#u'#IV'#IVOOQ#u'#Ha'#HaQhQaOOO=fQ`O'#HPO7pQ`O'#HPO=kO#|O'#DrPOOO)CCw)CCwOOO#t-E;]-E;]OOO#u,5:c,5:cOOO#u'#H`'#H`O&XO$VOOO=vQ$VO'#IUOOOO'#IU'#IUQOOOOOOOQ#y,5:h,5:hO=}QaO,5:hOOQ#u,5:j,5:jO@eQaO,5:mO@lQaO,5;UO*kQaO,5;UO@sQ`O,5;VOCbQaO'#EsOOQS,5;^,5;^OCiQ`O,5;jOOQP'#F]'#F]O*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qOOQ#u'#Im'#ImOOQS,5<q,5<qOOQ#u,5:l,5:lOEbQ`O,5:rOEiQdO'#E}OF]Q`O'#FlOFeQ`O'#FlOFmQ`O,5:oOFrQaO'#E_OOQS,5:x,5:xOHyQ`O'#I]O9yQaO'#EaO9yQaO'#I]OOQS'#I]'#I]OIQQ`O'#I[OIYQ`O,5:xO-UQaO,5:xOI_QaO'#EgOOQS,5;Q,5;QOOQS,5;Z,5;ZOIiQ`O,5;ZOOQO,5>S,5>SOJ[QdO,5;gOOQO-E;f-E;fOL^Q`O,5;gOLcQpO,5;bO0aQ`O'#EyOLkQtO'#E}OOQS'#Ez'#EzOOQS'#Ib'#IbOM`QaO,5:wO*kQaO,5;nOOQS,5;p,5;pO*kQaO,5;pOMgQdO,5<POMwQdO,5<QONXQdO,5<RONiQdO,5<SO!!sQdO,5<SO!!zQdO,5<VO!#[Q`O'#FrO!#gQ`O'#IgO!#oQ`O,5<]OOQO-E;g-E;gO!#tQ`O'#IoO<_Q`O,5=iO!#|Q`O,5=iO9oQ`O,5=jO!$RQ`O,5=nO!$WQ`O,5=kO!$]Q`O,5=kO!$bQ`O'#FnO!$xQ`O,5<WO!%TQ`O,5<WO!%WQ`O,5?ZO!%]Q`O,5<WO!%eQ`O,5<bO!%mQdO'#GPO!%{QdO'#InO!&WQdO,5=wO!&`Q`O,5<bO!%WQ`O,5<bO!&hQdO,5<cO!&xQ`O,5<cO!'lQdO,5<qO!)nQdO,5<tO!*OOrO'#HsOOOQ'#It'#ItO*kQaO'#GbOOOQ'#Hs'#HsO!*pOrO,5<wOOQS,5<w,5<wO!*wQaO,5=OO!+OQ`O,5=QO!+WQeO,5=VO!+bQ`O,5=XO!+gQaO'#GoO!+WQeO,5=YO9yQaO'#GrO!+WQeO,5=]O!&WQdO,5=`O(tQdO,5=aOOQ#u,5=a,5=aO(tQdO,5=bOOQ#u,5=b,5=bO(tQdO,5=cOOQ#u,5=c,5=cO!+nQ`O,5=dO!+vQ`O,5=fO!+{QdO'#IvOOQS'#Iv'#IvO!&WQdO,5=gO>UQaO,5=hO!-eQ`O'#F}O!-jQdO'#IlO!&WQdO,5=iOOQ#u,5=j,5=jO!-uQ`O,5=lO!-xQ`O,5=mO!-}Q`O,5=nO!.YQdO,5=qOOQ#u,5=q,5=qO!.eQ`O,5=rO!.eQ`O,5=rO!.mQdO'#IwO!.{Q`O'#HXO!&WQdO,5=rO!/ZQ`O,5=rO!/fQdO'#IYO!&WQdO,5=vOOQ#u-E;_-E;_O!1RQ`O,5=kOOO#u,5:^,5:^O!1^O#|O,5:^OOO#u-E;^-E;^OOOO,5>p,5>pOOQ#y1G0S1G0SO!1fQ`O1G0XO*kQaO1G0XO!2xQ`O1G0pOOQS1G0p1G0pO!4[Q`O1G0pOOQS'#I_'#I_O*kQaO'#I_OOQS1G0q1G0qO!4cQ`O'#IaO!7lQ`O'#E}O!7yQaO'#EuOOQO'#Ia'#IaO!8TQ`O'#I`O!8]Q`O,5;_OOQS'#FQ'#FQOOQS1G1U1G1UO!8bQdO1G1]O!:dQdO1G1]O!<PQdO1G1]O!=lQdO1G1]O!?XQdO1G1]O!@tQdO1G1]O!BaQdO1G1]O!C|QdO1G1]O!EiQdO1G1]O!GUQdO1G1]O!HqQdO1G1]O!J^QdO1G1]O!KyQdO1G1]O!MfQdO1G1]O# RQdO1G1]O#!nQdO1G1]OOQT1G0^1G0^O!%WQ`O,5<WO#$ZQaO'#EXOOQS1G0Z1G0ZO#$bQ`O,5:yOFuQaO,5:yO#$gQaO,5:}O#$nQdO,5:{O#&jQdO,5>wO#(fQaO'#HdO#(vQ`O,5>vOOQS1G0d1G0dO#)OQ`O1G0dO#)TQ`O'#I^O#*mQ`O'#I^O#*uQ`O,5;ROIbQaO,5;ROOQS1G0u1G0uPOQO'#E}'#E}O#+fQdO1G1RO0aQ`O'#HgO#-hQtO,5;cO#.YQaO1G0|OOQS,5;e,5;eO#0iQtO,5;gO#0vQdO1G0cO*kQaO1G0cO#2cQdO1G1YO#4OQdO1G1[OOQO,5<^,5<^O#4`Q`O'#HjO#4nQ`O,5?ROOQO1G1w1G1wO#4vQ`O,5?ZO!&WQdO1G3TO<_Q`O1G3TOOQ#u1G3U1G3UO#4{Q`O1G3YO!1RQ`O1G3VO#5WQ`O1G3VO#5]QpO'#FoO#5kQ`O'#FoO#5{Q`O'#FoO#6WQ`O'#FoO#6`Q`O'#FsO#6eQ`O'#FtOOQO'#If'#IfO#6lQ`O'#IeO#6tQ`O,5<YOOQS1G1r1G1rO0aQ`O1G1rO#6yQ`O1G1rO#7OQ`O1G1rO!%WQ`O1G4uO#7ZQdO1G4uO!%WQ`O1G1rO#7iQ`O1G1|O!%WQ`O1G1|O9yQaO,5<kO#7qQdO'#HqO#8PQdO,5?YOOQ#u1G3c1G3cO*kQaO1G1|O0aQ`O1G1|O#8[QdO1G1}O7RQ`O'#FyO7RQ`O'#FzO#:nQ`O'#F{OOQS1G1}1G1}O!-xQ`O1G1}O!1UQ`O1G1}O!1RQ`O1G1}O#;eO`O,5<xO#;jO`O,5<xO#;uO!bO,5<yO#<TQ`O,5<|OOOQ-E;q-E;qOOQS1G2c1G2cO#<[QaO'#GeO#<uQ$VO1G2jO#AuQ`O1G2jO#BQQ`O'#GgO#B]Q`O'#GjOOQ#u1G2l1G2lO#BhQ`O1G2lOOQ#u'#Gl'#GlOOQ#u'#Iu'#IuOOQ#u1G2q1G2qO#BmQ`O1G2qO,zQ`O1G2sO#BrQaO,5=ZO#ByQ`O,5=ZOOQ#u1G2t1G2tO#COQ`O1G2tO#CTQ`O,5=^OOQ#u1G2w1G2wO#DgQ`O1G2wOOQ#u1G2z1G2zOOQ#u1G2{1G2{OOQ#u1G2|1G2|OOQ#u1G2}1G2}O#DlQ`O'#HxO9oQ`O'#HxO#DqQ$VO1G3OO#IwQ`O1G3QO9yQaO'#HwO#I|QdO,5=[OOQ#u1G3R1G3RO#JXQ`O1G3SO9yQaO,5<iO#J^QdO'#HpO#JlQdO,5?WOOQ#u1G3T1G3TOOQ#u1G3W1G3WO!-xQ`O1G3WOOQ#u1G3X1G3XO#KfQ`O'#HTOOQ#u1G3Y1G3YO#KmQ`O1G3YO0aQ`O1G3YOOQ#u1G3]1G3]O!&WQdO1G3^O#KrQ`O1G3^O#KzQdO'#HzO#L]QdO,5?cO#LhQ`O,5?cO#LmQ`O'#HYO7RQ`O'#HYO#LxQ`O'#IxO#MQQ`O,5=sOOQ#u1G3^1G3^O!.eQ`O1G3^O!.eQ`O1G3^O#MVQeO'#HbO#MgQdO,5>tOOQ#u1G3b1G3bOOQ#u1G3V1G3VO!-xQ`O1G3VO!1UQ`O1G3VOOO#u1G/x1G/xO*kQaO7+%sO#MuQdO7+%sOOQS7+&[7+&[O$ bQ`O,5>yO>UQaO,5;`O$ iQ`O,5;aO$#OQaO'#HfO$#YQ`O,5>zOOQS1G0y1G0yO$#bQ`O'#EYO$#gQ`O'#IXO$#oQ`O,5:sOOQS1G0e1G0eO$#tQ`O1G0eO$#yQ`O1G0iO9yQaO1G0iOOQO,5>O,5>OOOQO-E;b-E;bOOQS7+&O7+&OO>UQaO,5;SO$%`QaO'#HeO$%jQ`O,5>xOOQS1G0m1G0mO$%rQ`O1G0mOOQS,5>R,5>ROOQS-E;e-E;eO$%wQdO7+&hO$'yQtO1G1RO$(WQdO7+%}OOQS1G0i1G0iOOQO,5>U,5>UOOQO-E;h-E;hOOQ#u7+(o7+(oO!&WQdO7+(oOOQ#u7+(t7+(tO#KmQ`O7+(tO0aQ`O7+(tOOQ#u7+(q7+(qO!-xQ`O7+(qO!1UQ`O7+(qO!1RQ`O7+(qO$)sQ`O,5<ZO$*OQ`O,5<ZO$*WQ`O,5<_O$*]QpO,5<ZO>UQaO,5<ZOOQO,5<_,5<_O$*kQpO,5<`O$*sQ`O,5<`O$+OQ`O'#HkO$+iQ`O,5?POOQS1G1t1G1tO$+qQpO7+'^O$+yQ`O'#FuO$,UQ`O7+'^OOQS7+'^7+'^O0aQ`O7+'^O#6yQ`O7+'^O$,^QdO7+*aO0aQ`O7+*aO$,lQ`O7+'^O*kQaO7+'hO0aQ`O7+'hO$,wQ`O7+'hO$-PQdO1G2VOOQS,5>],5>]OOQS-E;o-E;oO$.iQdO7+'hO$.yQpO7+'hO$/RQdO'#IiOOQO,5<e,5<eOOQO,5<f,5<fO$/dQpO'#GOO$/lQ`O'#GOOOQO'#Ik'#IkOOQO'#Ho'#HoO$0]Q`O'#GOO<_Q`O'#F|O!&WQdO'#GOO!.YQdO'#GQO7RQ`O'#GROOQO'#Ij'#IjOOQO'#Hn'#HnO$0yQ`O,5<gOOQ#y,5<g,5<gOOQS7+'i7+'iO!-xQ`O7+'iO!1UQ`O7+'iOOOQ1G2d1G2dO$1pO`O1G2dO$1uO!bO1G2eO$2TO`O'#G`O$2YO`O1G2eOOOQ1G2h1G2hO$2_QaO,5=PO,zQ`O'#HtO$2xQ$VO7+(UOhQaO7+(UO,zQ`O'#HuO$7xQ`O7+(UO!&WQdO7+(UO$8TQ`O7+(UO$8YQaO'#GhO$:iQ`O'#GiOOQO'#Hv'#HvO$:qQ`O,5=ROOQ#u,5=R,5=RO$:|Q`O,5=UO!&WQdO7+(WO!&WQdO7+(]O!&WQdO7+(_O$;XQaO1G2uO$;`Q`O1G2uO$;eQaO1G2uO!&WQdO7+(`O9yQaO1G2xO!&WQdO7+(cO0aQ`O'#GyO9oQ`O,5>dOOQ#u,5>d,5>dOOQ#u-E;v-E;vO$;lQaO7+(lO$<TQdO,5>cOOQS-E;u-E;uO!&WQdO7+(nO$=mQdO1G2TOOQS,5>[,5>[OOQS-E;n-E;nOOQ#u7+(r7+(rO$?nQ`O'#GQO$?uQ`O'#GQO$@ZQ`O'#HUOOQO'#Hy'#HyO$@`Q`O,5=oOOQ#u,5=o,5=oO$@gQpO7+(tOOQ#u7+(x7+(xO!&WQdO7+(xO$@rQdO,5>fOOQS-E;x-E;xO$AQQdO1G4}O$A]Q`O,5=tO$AbQ`O,5=tO$AmQ`O'#H{O$BRQ`O,5?dOOQS1G3_1G3_O#KrQ`O7+(xO$BZQdO,5=|OOQS-E;`-E;`O$CvQdO<<I_OOQS1G4e1G4eO$EcQ`O1G0zOOQO,5>Q,5>QOOQO-E;d-E;dO$8YQaO,5:tO$FxQaO'#HcO$GVQ`O,5>sOOQS1G0_1G0_OOQS7+&P7+&PO$G_Q`O7+&TO$HtQ`O1G0nO$JZQ`O,5>POOQO,5>P,5>POOQO-E;c-E;cOOQS7+&X7+&XOOQS7+&T7+&TOOQ#u<<LZ<<LZOOQ#u<<L`<<L`O$@gQpO<<L`OOQ#u<<L]<<L]O!-xQ`O<<L]O!1UQ`O<<L]O>UQaO1G1uO$KsQ`O1G1uO$LOQ`O1G1yOOQO1G1y1G1yO$LTQ`O1G1uO$L]Q`O1G1uO$MrQ`O1G1zO>UQaO1G1zOOQO,5>V,5>VOOQO-E;i-E;iOOQS<<Jx<<JxO$M}Q`O'#IhO$NVQ`O'#IhO$N[Q`O,5<aO0aQ`O<<JxO$+qQpO<<JxO$NaQ`O<<JxO0aQ`O<<M{O$NiQtO<<M{O#6yQ`O<<JxO$NwQdO<<KSO% XQpO<<KSO*kQaO<<KSO0aQ`O<<KSO% aQdO'#HmO% xQdO,5?TO!&WQdO,5<jO$/dQpO,5<jO%!ZQ`O,5<jO<_Q`O,5<hO!.YQdO,5<lOOQO-E;m-E;mO!&WQdO,5<hOOQO,5<j,5<jOOQO,5<l,5<lO%!tQdO,5<mOOQO-E;l-E;lOOQ#y1G2R1G2ROOQS<<KT<<KTO!-xQ`O<<KTOOOQ7+(O7+(OO%#PO`O7+(POOOO,5<z,5<zOOOQ7+(P7+(POhQaO,5>`OOQ#u-E;r-E;rOhQaO<<KpOOQ#u<<Kp<<KpO$8TQ`O,5>aOOQO-E;s-E;sO!&WQdO<<KpO$8TQ`O<<KpO%#UQ`O<<KpO%#ZQ`O,5=SO%$pQaO,5=TOOQO-E;t-E;tOOQ#u1G2m1G2mOOQ#u<<Kr<<KrOOQ#u<<Kw<<KwOOQ#u<<Ky<<KyOOQT7+(a7+(aO%%QQ`O7+(aO%%VQaO7+(aO%%^Q`O7+(aOOQ#u<<Kz<<KzO%%cQ`O7+(dO%&xQ`O7+(dOOQ#u<<K}<<K}O%&}QpO,5=eOOQ#u1G4O1G4OO%'YQ`O<<LWOOQ#u<<LY<<LYO$?uQ`O,5<lO%'_Q`O,5=pO%'dQdO,5=pOOQO-E;w-E;wOOQ#u1G3Z1G3ZO#KmQ`O<<L`OOQ#u<<Ld<<LdO%'oQ`O1G4QO%'tQdO7+*iOOQO1G3`1G3`O%(PQ`O1G3`O%(UQ`O'#HZO7RQ`O'#HZOOQO,5>g,5>gOOQO-E;y-E;yO!&WQdO<<LdO%(aQ`O1G0`OOQO,5=},5=}OOQO-E;a-E;aO>UQaO,5;TOOQ#uANAzANAzO#KmQ`OANAzOOQ#uANAwANAwO!-xQ`OANAwO%)vQ`O7+'aO>UQaO7+'aOOQO7+'e7+'eO%+]Q`O7+'aO%+hQ`O7+'eO>UQaO7+'fO%+mQ`O7+'fO%-SQ`O'#HlO%-bQ`O,5?SO%-bQ`O,5?SOOQO1G1{1G1{O$+qQpOAN@dOOQSAN@dAN@dO0aQ`OAN@dO%-jQtOANCgO%-xQ`OAN@dO*kQaOAN@nO%.QQdOAN@nO%.bQpOAN@nOOQS,5>X,5>XOOQS-E;k-E;kOOQO1G2U1G2UO!&WQdO1G2UO$/dQpO1G2UO<_Q`O1G2SO!.YQdO1G2WO!&WQdO1G2SOOQO1G2W1G2WOOQO1G2S1G2SO%.jQaO'#GSOOQO1G2X1G2XOOQSAN@oAN@oOOOQ<<Kk<<KkOOQ#u1G3z1G3zOOQ#uANA[ANA[OOQO1G3{1G3{O%0iQ`OANA[O!&WQdOANA[O%0nQaO1G2nO%1OQaO1G2oOOQT<<K{<<K{O%1`Q`O<<K{O%1eQaO<<K{O*kQaO,5=_OOQT<<LO<<LOOOQO1G3P1G3PO%1lQ`O1G3PO!+WQeOANArO%1qQdO1G3[OOQO1G3[1G3[O%1|Q`O1G3[OOQS7+)l7+)lOOQO7+(z7+(zO%2UQ`O,5=uO%2ZQ`O,5=uOOQ#uANBOANBOO%2fQ`O1G0oOOQ#uG27fG27fOOQ#uG27cG27cO%3{Q`O<<J{O>UQaO<<J{OOQO<<KP<<KPO%5bQ`O<<KQOOQO,5>W,5>WO%6wQ`O,5>WOOQO-E;j-E;jO%6|Q`O1G4nOOQSG26OG26OO$+qQpOG26OO0aQ`OG26OO%7UQdOG26YO*kQaOG26YOOQO7+'p7+'pO!&WQdO7+'pO!&WQdO7+'nOOQO7+'r7+'rOOQO7+'n7+'nO%7fQ`OLD+tO%8uQ`O'#E}O%9PQ`O'#IZO!&WQdO'#HrO%:|QaO,5<nOOQO,5<n,5<nO!&WQdOG26vOOQ#uG26vG26vO%<{QaO7+(YOOQTANAgANAgO%=]Q`OANAgO%=bQ`O1G2yOOQO7+(k7+(kOOQ#uG27^G27^O%=iQ`OG27^OOQO7+(v7+(vO%=nQ`O7+(vO!&WQdO7+(vOOQO1G3a1G3aO%=vQ`O1G3aO%={Q`OAN@gOOQO1G3r1G3rOOQSLD+jLD+jO$+qQpOLD+jO%?bQdOLD+tOOQO<<K[<<K[OOQO<<KY<<KYO%?rQ`O,5<oO%?wQ`O,5<pOOQP,5>^,5>^OOQP-E;p-E;pOOQO1G2Y1G2YOOQ#uLD,bLD,bOOQTG27RG27RO!&WQdOLD,xO!&WQdO<<LbOOQO<<Lb<<LbOOQO7+({7+({OOQS!$( U!$( UOOQS1G2Z1G2ZOOQS1G2[1G2[O%@PQdO1G2[OOQ#u!$(!d!$(!dOOQOANA|ANA|OOQS7+'v7+'vO%@[Q`O'#E{O%@[Q`O'#E{O%@aQ`O,5;gO%@fQdO,5<cO%BbQaO,5:}O*kQaO1G0iO%BiQaO'#FwO#.YQaO'#GVO#.YQaO'#GYO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO%BpQdO'#I]O%D`QdO'#I]O#.YQaO'#EaO#.YQaO'#I]O%FbQaO,5:wO#.YQaO,5;nO#.YQaO,5;pO%FiQdO,5<PO%HeQdO,5<QO%JaQdO,5<RO%L]QdO,5<SO%NXQdO,5<SO%NoQdO,5<VO&!kQdO,5<tO#.YQaO1G0XO&$gQdO1G1]O&&cQdO1G1]O&(_QdO1G1]O&*ZQdO1G1]O&,VQdO1G1]O&.RQdO1G1]O&/}QdO1G1]O&1yQdO1G1]O&3uQdO1G1]O&5qQdO1G1]O&7mQdO1G1]O&9iQdO1G1]O&;eQdO1G1]O&=aQdO1G1]O&?]QdO1G1]O&AXQdO,5:{O&CTQdO,5>wO&EPQdO1G0cO#.YQaO1G0cO&F{QdO1G1YO&HwQdO1G1[O#.YQaO1G1|O#.YQaO7+%sO&JsQdO7+%sO&LoQdO7+%}O#.YQaO7+'hO&NkQdO7+'hO'!gQdO<<I_O'$cQdO<<KSO#.YQaO<<KSO#.YQaOAN@nO'&_QdOAN@nO'(ZQdOG26YO#.YQaOG26YO'*VQdOLD+tO',RQaO,5:}O'.QQaO1G0iO'/|QdO'#IWO'0aQeO'#FUO'4aQeO'#FUO#.YQaO'#FeO'.QQaO'#FeO#.YQaO'#FfO'.QQaO'#FfO#.YQaO'#FgO'.QQaO'#FgO#.YQaO'#FhO'.QQaO'#FhO#.YQaO'#FhO'.QQaO'#FhO#.YQaO'#FkO'.QQaO'#FkO'8gQaO,5:mO'8nQ`O,5<bO'8vQ`O1G0XO'.QQaO1G0|O':YQ`O1G1|O':bQ`O7+'hO':jQpO7+'hO':rQpO<<KSO':zQpOAN@nO';SQaO'#FwO'.QQaO'#GVO'.QQaO'#GYO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO'#EaO'.QQaO'#I]O'=RQaO,5:wO'.QQaO,5;nO'.QQaO,5;pO'?QQdO,5<PO'ASQdO,5<QO'CUQdO,5<RO'EWQdO,5<SO'GYQdO,5<SO'GvQdO,5<VO'IxQdO,5<tO'.QQaO1G0XO'KzQdO1G1]O'M|QdO1G1]O(!OQdO1G1]O($QQdO1G1]O(&SQdO1G1]O((UQdO1G1]O(*WQdO1G1]O(,YQdO1G1]O(.[QdO1G1]O(0^QdO1G1]O(2`QdO1G1]O(4bQdO1G1]O(6dQdO1G1]O(8fQdO1G1]O(:hQdO1G1]O(<jQdO,5:{O(>lQdO,5>wO(@nQdO1G0cO'.QQaO1G0cO(BpQdO1G1YO(DrQdO1G1[O'.QQaO1G1|O'.QQaO7+%sO(FtQdO7+%sO(HvQdO7+%}O'.QQaO7+'hO(JxQdO7+'hO(LzQdO<<I_O(N|QdO<<KSO'.QQaO<<KSO'.QQaOAN@nO)#OQdOAN@nO)%QQdOG26YO'.QQaOG26YO)'SQdOLD+tO))UQaO,5:}O#.YQaO1G0iO))]Q`O'#FvO))eQpO,5;bO))mQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO))uQdO,5<cO)+wQdO'#I]O)-vQdO'#IWO).aQaO,5:mO).hQ`O,5<bO).pQ`O1G0XO)0SQ`O1G1|O)0[Q`O7+'hO)0dQpO7+'hO)0lQpO<<KSO)0tQpOAN@nO0aQ`O'#EvO9yQaO'#FeO9yQaO'#FfO9yQaO'#FgO9yQaO'#FhO9yQaO'#FhO9yQaO'#FkO)0|QaO'#FwO9yQaO'#GVO9yQaO'#GYO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO)1TQ`O'#FlO*kQaO'#EaO*kQaO'#I]O)1]QaO,5:wO9yQaO,5;nO9yQaO,5;pO)1dQdO,5<PO)3`QdO,5<QO)5[QdO,5<RO)7WQdO,5<SO)9SQdO,5<SO)9jQdO,5<VO);fQdO,5<cO)=bQdO,5<tO)?^Q`O'#IvO)@sQ`O'#IYO9yQaO1G0XO)BYQdO1G1]O)DUQdO1G1]O)FQQdO1G1]O)G|QdO1G1]O)IxQdO1G1]O)KtQdO1G1]O)MpQdO1G1]O* lQdO1G1]O*#hQdO1G1]O*%dQdO1G1]O*'`QdO1G1]O*)[QdO1G1]O*+WQdO1G1]O*-SQdO1G1]O*/OQdO1G1]O*0zQaO,5:}O*1RQdO,5:{O*1cQdO,5>wO*1sQaO'#HdO*2TQ`O,5>vO*2]QdO1G0cO9yQaO1G0cO*4XQdO1G1YO*6TQdO1G1[O9yQaO1G1|O>UQaO'#HwO*8PQ`O,5=[O*8XQaO'#HbO*8cQ`O,5>tO9yQaO7+%sO*8kQdO7+%sO*:gQ`O1G0iO>UQaO1G0iO*;|QdO7+%}O9yQaO7+'hO*=xQdO7+'hO*?tQ`O,5>cO*AZQ`O,5=|O*BpQdO<<I_O*DlQ`O7+&TO*FRQdO<<KSO9yQaO<<KSO9yQaOAN@nO*G}QdOAN@nO*IyQdOG26YO9yQaOG26YO*KuQdOLD+tO*MqQaO,5:}O9yQaO1G0iO*MxQdO'#I]O*NcQ`O'#FvO*NkQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO*NsQdO'#IWO+ ^QeO'#FUO+ zQaO'#FUO+#sQaO'#FUO+%`QaO'#FUO>UQaO'#FeO>UQaO'#FfO>UQaO'#FgO>UQaO'#FhO>UQaO'#FhO>UQaO'#FkO+'XQaO'#FwO>UQaO'#GVO>UQaO'#GYO+'`QaO,5:mO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO+'gQ`O'#I]O$8YQaO'#EaO+)PQaOG26YO$8YQaO'#I]O+*{Q`O'#I[O++TQaO,5:wO>UQaO,5;nO>UQaO,5;pO++[Q`O,5<PO+,wQ`O,5<QO+.dQ`O,5<RO+0PQ`O,5<SO+1lQ`O,5<SO+3XQ`O,5<VO+4tQ`O,5<bO+4|Q`O,5<cO+6iQ`O,5<tO+8UQ`O1G0XO>UQaO1G0XO+9hQ`O1G1]O+;TQ`O1G1]O+<pQ`O1G1]O+>]Q`O1G1]O+?xQ`O1G1]O+AeQ`O1G1]O+CQQ`O1G1]O+DmQ`O1G1]O+FYQ`O1G1]O+GuQ`O1G1]O+IbQ`O1G1]O+J}Q`O1G1]O+LjQ`O1G1]O+NVQ`O1G1]O, rQ`O1G1]O,#_Q`O1G0cO>UQaO1G0cO,$zQ`O1G1YO,&gQ`O1G1[O,(SQ`O1G1|O>UQaO1G1|O>UQaO7+%sO,([Q`O7+%sO,)wQ`O7+%}O>UQaO7+'hO,+dQ`O7+'hO,+lQ`O7+'hO,-XQpO7+'hO,-aQ`O<<I_O,.|Q`O<<KSO,0iQpO<<KSO>UQaO<<KSO>UQaOAN@nO,0qQ`OAN@nO,2^QpOAN@nO,2fQ`OG26YO>UQaOG26YO,4RQ`OLD+tO,5nQaO,5:}O>UQaO1G0iO,5uQ`O'#I]O$8YQaO'#FeO$8YQaO'#FfO$8YQaO'#FgO$8YQaO'#FhO$8YQaO'#FhO+)PQaO'#FhO$8YQaO'#FkO,6SQaO'#FwO,6ZQaO'#FwO$8YQaO'#GVO+)PQaO'#GVO$8YQaO'#GYO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO,8YQ`O'#FlO>UQaO'#EaO>UQaO'#I]O,8bQaO,5:wO,8iQaO,5:wO$8YQaO,5;nO+)PQaO,5;nO$8YQaO,5;pO,:hQ`O,5<PO,<TQ`O,5<QO,=pQ`O,5<RO,?]Q`O,5<SO,@xQ`O,5<SO,BeQ`O,5<SO,CtQ`O,5<VO,EaQ`O,5<cO%7fQ`O,5<cO,F|Q`O,5<tO$8YQaO1G0XO+)PQaO1G0XO,HiQ`O1G1]O,JUQ`O1G1]O,KeQ`O1G1]O,MQQ`O1G1]O,NaQ`O1G1]O- |Q`O1G1]O-#]Q`O1G1]O-$xQ`O1G1]O-&XQ`O1G1]O-'tQ`O1G1]O-)TQ`O1G1]O-*pQ`O1G1]O-,PQ`O1G1]O--lQ`O1G1]O-.{Q`O1G1]O-0hQ`O1G1]O-1wQ`O1G1]O-3dQ`O1G1]O-4sQ`O1G1]O-6`Q`O1G1]O-7oQ`O1G1]O-9[Q`O1G1]O-:kQ`O1G1]O-<WQ`O1G1]O-=gQ`O1G1]O-?SQ`O1G1]O-@cQ`O1G1]O-BOQ`O1G1]O-C_Q`O1G1]O-DzQ`O1G1]O-FZQ`O,5:{O-GvQ`O,5>wO-IcQ`O1G0cO-KOQ`O1G0cO$8YQaO1G0cO+)PQaO1G0cO-L_Q`O1G1YO-MzQ`O1G1YO. ZQ`O1G1[O$8YQaO1G1|O$8YQaO7+%sO+)PQaO7+%sO.!vQ`O7+%sO.$cQ`O7+%sO.%rQ`O7+%}O.'_Q`O7+%}O$8YQaO7+'hO.(nQ`O7+'hO.*ZQ`O<<I_O.+vQ`O<<I_O.-VQ`O<<KSO$8YQaO<<KSO$8YQaOAN@nO..rQ`OAN@nO.0_Q`OG26YO$8YQaOG26YO.1zQ`OLD+tO.3gQaO,5:}O.3nQaO,5:}O$8YQaO1G0iO+)PQaO1G0iO.5mQ`O'#I]O.7PQ`O'#I]O.:fQ`O'#IWO.:vQ`O'#FvO.;OQaO,5:mO.;VQ`O,5<bO.;_Q`O,5<bO!%WQ`O,5<bO.;gQ`O1G0XO.<yQ`O,5:{O.>fQ`O,5>wO.@RQ`O1G1|O!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO.@ZQ`O7+'hO.@cQpO7+'hO.@kQpO<<KSO0aQ`O<<KSO.@sQpOAN@nO.@{Q`O'#IWO.A]Q`O'#IWO.CSQaO,5:mO.CZQaO,5:mO.CbQ`O,5<bO.CjQ`O7+'hO.CrQ`O1G0XO.EUQ`O1G0XO.FhQ`O1G1|O.FpQ`O7+'hO.FxQpO7+'hO.GQQpOAN@nO.GYQpO<<KSO.GbQpOAN@nO.GjQ`O'#FvO.GrQ`O'#FlO.GzQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO.HSQ`O'#FvO.H[Q`O,5<bO.HdQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O!%WQ`O1G1|O0aQ`O1G1|O0aQ`O<<KSO0aQ`O7+'hO0aQ`O<<KSO.HlQ`O'#FlO.HtQ`O'#FlO.H|Q`O'#Fl",stateData:".Ic~O!dOS!eOS&vOS!gQQ~O!iTO&wRO~OPgOQ|OS!lOU^OW}OX!XO[mO]!_O^!WO`![Oa!SOb!]Ok!dOm!lOowOp!TOq!UOsuOt!gOu!VOv!POxkOykO|!bO}`O!O]O!P!eO!QxO!R}O!TpO!UlO!VlO!W!YO!X!QO!YzO!Z!cO![!ZO!]!^O!^!fO!`!`O!a!RO!cjO!mWO!oXO!sYO!y[O#W_O#bhO#daO#ebO#peO$ToO$]nO$^oO$aqO$drO$l!kO$zyO${!OO$}}O%O}O%V|O'g{O~O!g!mO~O&wRO!i!hX&p!hX&t!hX~O!i!pO~O!d!qO!e!qO!g!mO&t!tO&v!qO~PhO!n!vO~PhOT'VXz'VX!S'VX!b'VX!m'VX!o'VX!v'VX!y'VX#S'VX#W'VX#`'VX#a'VX#p#qX#s'VX#z'VX#{'VX#|'VX#}'VX$O'VX$Q'VX$R'VX$S'VX$T'VX$U'VX$V'VX$W'VX$z'VX&s'VX~O!q!xO~P&sOT#TOz#RO!S#UO!b#VO!m#cO!o!{O!v!yO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO&s#cO~OPgOQ|OU^OW}O[mOowOs#hOxkOykO}`O!O]O!QxO!R}O!TpO!UlO!VlO!YzO!cjO!s#gO!y[O#W_O#bhO#daO#ebO#peO$ToO$]nO$^oO$aqO$zyO${!OO$}}O%O}O%V|O'g{O~O!y[O~O!y#kO~OP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#S#oO#U#nO#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{O#X'OP~O!}#sO~P-UO!y#tO~O#b#vO#daO#ebO~O#p#xO~O!s#yO~OU$PO!R$PO!s$OO!v#}O#p2XO~OT&zXz&zX!S&zX!b&zX!m&zX!o&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX&s&zX!x&zX!n&zX~O#u$RO#w$SO~P0rOP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{OT#xXz#xX!S#xX!b#xX!m#xX!o#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX&s#xX!x#xX!n#xX~Or$UO#S6yO#U6xO~P2yO!s#gO#peO~OS$gO]$bOk$eOm$gOs$aO!`$cO$drO$l$fO~O!s$kO!y$hO#S$jO~Oo$mOs$lO#b$nO~O!y$hO#S$rO~O$l$tO~P*kOR$zO!o$yO#b$xO#e$yO&q$zO~O'f$|O~P8lO!y%RO~O!y%TO~O!s%VO~O!m#cO&s#cO~P*kO!oXO~O!y%_O~OP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{O~O!y%cO~O!s%dO~O]$bO~O!s%hO~O!s%iO~O!s%jO~O!oXO!s#gO#peO~O]%rOs%rO!o%pO!s#gO#p%nO~O!s%vO~O!i%wO&t%wO&wRO~O&t%zO~PhO!n%{O~PhOPgOQ|OU^OW}O[8lOo=yOs#hOx8jOy8jO}`O!O]O!Q8pO!R}O!T8oO!U8kO!V8kO!Y8rO!c8iO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T8nO$]8mO$^8nO$aqO$z8qO${!OO$}}O%O}O%V|O'g{O~O!q%}O~P>UO#X&PO~P>UO!o&SO!s&RO#b&RO~OPgOQ|OU^OW}O[8lOo=yOs#hOx8jOy8jO}`O!O]O!Q8pO!R}O!T8oO!U8kO!V8kO!Y8rO!c8iO!s&VO!y[O#U&WO#W_O#bhO#daO#ebO#peO$T8nO$]8mO$^8nO$aqO$z8qO${!OO$}}O%O}O%V|O'g{O~O!x'SP~PAOO!s&[O#b&[O~OT#TOz#RO!S#UO!b#VO!o!{O!v!yO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO~O!x&nO~PCqO!x'VX!}'VX#O'VX#X'VX!n'VXV'VX!q'VX#u'VX#w'VXw'VX~P&sO!y$hO#S&oO~Oo$mOs$lO~O!o&pO~O!}&sO#S;dO#U;cO!x'OP~P9yOT6iOz6gO!S6jO!b6kO!o!{O!v8sO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}'PX#X'PX~O#O&tO~PGSO!}&wO#X'OX~O#X&yO~O!}'OO!x'QP~P9yO!n'PO~PCqO!m#oa!o#oa#S#oa#p#qX&s#oa!x#oa#O#oaw#oa~OT#oaz#oa!S#oa!b#oa!v#oa!y#oa#W#oa#`#oa#a#oa#s#oa#z#oa#{#oa#|#oa#}#oa$O#oa$Q#oa$R#oa$S#oa$T#oa$U#oa$V#oa$W#oa$z#oa!}#oa#X#oa!n#oaV#oa!q#oa#u#oa#w#oa~PIpO!s'RO~O!x'UO#l'SO~O!x'VX#l'VX#p#qX#S'VX#U'VX#b'VX!o'VX#O'VXw'VX!m'VX&s'VX~O#S'YO~P*kO!m$Xa&s$Xa!x$Xa!n$Xa~PCqO!m$Ya&s$Ya!x$Ya!n$Ya~PCqO!m$Za&s$Za!x$Za!n$Za~PCqO!m$[a&s$[a!x$[a!n$[a~PCqO!o!{O!y!}O#W!zO#`!|O#a!|O#s#PO$z#dOT$[a!S$[a!b$[a!m$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a&s$[a!x$[a!n$[a~Oz#RO~PNyO!m$_a&s$_a!x$_a!n$_a~PCqO!y!}O!}$fX#X$fX~O!}'^O#X'ZX~O#X'`O~O!s$kO#S'aO~O]'cO~O!s'eO~O!s'fO~O$l'gO~O!`'mO#S'kO#U'lO#b'jO$drO!x'XP~P0aO!^'sO!oXO!q'rO~O!s'uO!y$hO~O!y$hO#S'wO~O!y$hO#S'yO~O#u'zO!m$sX!}$sX&s$sX~O!}'{O!m'bX&s'bX~O!m#cO&s#cO~O!q(PO#O(OO~O!m$ka&s$ka!x$ka!n$ka~PCqOl(ROw(SO!o(TO!y!}O~O!o!{O!y!}O#W!zO#`!|O#a!|O#s#PO~OT$yaz$ya!S$ya!b$ya!m$ya!v$ya#S$ya#z$ya#{$ya#|$ya#}$ya$O$ya$Q$ya$R$ya$S$ya$T$ya$U$ya$V$ya$W$ya$z$ya&s$ya!x$ya!}$ya#O$ya#X$ya!n$ya!q$yaV$ya#u$ya#w$ya~P!'WO!m$|a&s$|a!x$|a!n$|a~PCqO#W([O#`(YO#a(YO&r(ZOR&gX!o&gX#b&gX#e&gX&q&gX'f&gX~O'f(_O~P8lO!q(`O~PhO!o(cO!q(dO~O!q(`O&s(gO~PhO!a(kO~O!m(lO~P9yOZ(wOn(xO~O!s(zO~OT6iOz6gO!S6jO!b6kO!v8sO!}({O#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'jX&s'jX~P!'WO#u)PO~O!})QO!m'`X&s'`X~Ol(RO!o(TO~Ow(SO!o)WO!q)ZO~O!m#cO!oXO&s#cO~O!o%pO!s#yO~OV)aO!})_O!m'kX&s'kX~O])cOs)cO!s#gO#peO~O!o%pO!s#gO#p)hO~OT6iOz6gO!S6jO!b6kO!v8sO!})iO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&|X&s&|X#O&|X~P!'WOl(ROw(SO!o(TO~O!i)oO&t)oO~OT8vOz8tO!S8wO!b8xO!q)pO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#X)rO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!n)rO~PCqOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'TX!}'TX~P!'WOT'VXz'VX!S'VX!b'VX!o'VX!v'VX!y'VX#S'VX#W'VX#`'VX#a'VX#p#qX#s'VX#z'VX#{'VX#|'VX#}'VX$O'VX$Q'VX$R'VX$S'VX$T'VX$U'VX$V'VX$W'VX$z'VX~O!q)tO!x'VX!}'VX~P!5xO!x#iX!}#iX~P>UO!})vO!x'SX~O!x)xO~O$z#dOT#yiz#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi$W#yi&s#yi!x#yi!}#yi#O#yi#X#yi!n#yi!q#yiV#yi#u#yi#w#yi~P!'WOz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi&s#yi!x#yi!n#yi~P!'WOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi&s#yi!x#yi!n#yi~P!'WOT#TOz#RO!b#VO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO!S#yi!m#yi&s#yi!x#yi!n#yi~P!'WOT#TOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO!S#yi!b#yi!m#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi#}#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi~P!'WOz#RO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi~P!'WOz#RO$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi&s#yi!x#yi!n#yi~P!'WOz#RO$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi&s#yi!x#yi!n#yi~P!'WOz#RO$T#`O$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$S#_O$T#`O$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi&s#yi!x#yi!n#yi~P!'WO_)yO~P9yO!x)|O~O#S*PO~P9yOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Ta#X#Ta#O#Ta!m#Ta&s#Ta!x#Ta!n#TaV#Ta!q#Ta~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}'Pa#X'Pa#O'Pa!m'Pa&s'Pa!x'Pa!n'PaV'Pa!q'Pa~P!'WO#S#oO#U#nO!}&WX#X&WX~P9yO!}&wO#X'Oa~O#X*SO~OT6iOz6gO!S6jO!b6kO!v8sO!}*UO#O*TO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x'QX~P!'WO!}*UO!x'QX~O!x*WO~O!m#oi!o#oi#S#oi#p#qX&s#oi!x#oi#O#oiw#oi~OT#oiz#oi!S#oi!b#oi!v#oi!y#oi#W#oi#`#oi#a#oi#s#oi#z#oi#{#oi#|#oi#}#oi$O#oi$Q#oi$R#oi$S#oi$T#oi$U#oi$V#oi$W#oi$z#oi!}#oi#X#oi!n#oiV#oi!q#oi#u#oi#w#oi~P#*zO#l'SO!x#ka#S#ka#U#ka#b#ka!o#ka#O#kaw#ka!m#ka&s#ka~OPgOQ|OU^OW}O[4OOo5xOs#hOx3zOy3zO}`O!O]O!Q2^O!R}O!T4UO!U3|O!V3|O!Y2`O!c3xO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4SO$]4QO$^4SO$aqO$z2_O${!OO$}}O%O}O%V|O'g{O~O#l#oa#U#oa#b#oa~PIpOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#Pi!S#Pi!b#Pi!m#Pi&s#Pi!x#Pi!n#Pi~P!'WOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#vi!S#vi!b#vi!m#vi&s#vi!x#vi!n#vi~P!'WO!m#xi&s#xi!x#xi!n#xi~PCqO!s#gO#peO!}&^X#X&^X~O!}'^O#X'Za~O!s'uO~Ow(SO!o)WO!q*fO~O!s*jO~O#S*lO#U*mO#b*kO#l'SO~O#S*lO#U*mO#b*kO$drO~P0aO#u*oO!x$cX!}$cX~O#U*mO#b*kO~O#b*pO~O#b*rO~P0aO!}*sO!x'XX~O!x*uO~O!y*wO~O!^*{O!oXO!q*zO~O!q*}O!o'ci!m'ci&s'ci~O!q+QO#O+PO~O#b$nO!m&eX!}&eX&s&eX~O!}'{O!m'ba&s'ba~OT$kiz$ki!S$ki!b$ki!m$ki!o$ki!v$ki!y$ki#S$ki#W$ki#`$ki#a$ki#s$ki#u#fa#w#fa#z$ki#{$ki#|$ki#}$ki$O$ki$Q$ki$R$ki$S$ki$T$ki$U$ki$V$ki$W$ki$z$ki&s$ki!x$ki!}$ki#O$ki#X$ki!n$ki!q$kiV$ki~OS+^O]+aOm+^Os$aO!^+dO!_+^O!`+^O!n+hO#b$nO$aqO$drO~P0aO!s+lO~O#W+nO#`+mO#a+mO~O!s+pO#b+pO$}+pO%T+oO~O!n+qO~PCqOc%XXd%XXh%XXj%XXf%XXg%XXe%XX~PhOc+uOd+sOP%WiQ%WiS%WiU%WiW%WiX%Wi[%Wi]%Wi^%Wi`%Wia%Wib%Wik%Wim%Wio%Wip%Wiq%Wis%Wit%Wiu%Wiv%Wix%Wiy%Wi|%Wi}%Wi!O%Wi!P%Wi!Q%Wi!R%Wi!T%Wi!U%Wi!V%Wi!W%Wi!X%Wi!Y%Wi!Z%Wi![%Wi!]%Wi!^%Wi!`%Wi!a%Wi!c%Wi!m%Wi!o%Wi!s%Wi!y%Wi#W%Wi#b%Wi#d%Wi#e%Wi#p%Wi$T%Wi$]%Wi$^%Wi$a%Wi$d%Wi$l%Wi$z%Wi${%Wi$}%Wi%O%Wi%V%Wi&p%Wi'g%Wi&t%Wi!n%Wih%Wij%Wif%Wig%WiY%Wi_%Wii%Wie%Wi~Oc+yOd+vOh+xO~OY+zO_+{O!n,OO~OY+zO_+{Oi%^X~Oi,QO~Oj,RO~O!m,TO~P9yO!m,VO~Of,WO~OT6iOV,XOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WOg,YO~O!y,ZO~OZ(wOn(xOP%liQ%liS%liU%liW%liX%li[%li]%li^%li`%lia%lib%lik%lim%lio%lip%liq%lis%lit%liu%liv%lix%liy%li|%li}%li!O%li!P%li!Q%li!R%li!T%li!U%li!V%li!W%li!X%li!Y%li!Z%li![%li!]%li!^%li!`%li!a%li!c%li!m%li!o%li!s%li!y%li#W%li#b%li#d%li#e%li#p%li$T%li$]%li$^%li$a%li$d%li$l%li$z%li${%li$}%li%O%li%V%li&p%li'g%li&t%li!n%lic%lid%lih%lij%lif%lig%liY%li_%lii%lie%li~O#u,_O~O!}({O!m%da&s%da~O!x,bO~O!s%dO!m&dX!}&dX&s&dX~O!})QO!m'`a&s'`a~OS+^OY,iOm+^Os$aO!^+dO!_+^O!`+^O$aqO$drO~O!n,lO~P#JwO!o)WO~O!o%pO!s'RO~O!s#gO#peO!m&nX!}&nX&s&nX~O!})_O!m'ka&s'ka~O!s,rO~OV,sO!n%|X!}%|X~O!},uO!n'lX~O!n,wO~O!m&UX!}&UX&s&UX#O&UX~P9yO!})iO!m&|a&s&|a#O&|a~Oz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT!uq!S!uq!b!uq!m!uq!v!uq&s!uq!x!uq!n!uq~P!'WO!n,|O~PCqOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#ia!}#ia~P!'WO!x&YX!}&YX~PAOO!})vO!x'Sa~O#O-QO~O!}-RO!n&{X~O!n-TO~O!x-UO~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Vi#X#Vi~P!'WO!x&XX!}&XX~P9yO!}*UO!x'Qa~O!x-[O~OT#jqz#jq!S#jq!b#jq!m#jq!v#jq#S#jq#u#jq#w#jq#z#jq#{#jq#|#jq#}#jq$O#jq$Q#jq$R#jq$S#jq$T#jq$U#jq$V#jq$W#jq$z#jq&s#jq!x#jq!}#jq#O#jq#X#jq!n#jq!q#jqV#jq~P!'WO#l#oi#U#oi#b#oi~P#*zOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#Pq!S#Pq!b#Pq!m#Pq&s#Pq!x#Pq!n#Pq~P!'WO#u-dO!x$ca!}$ca~O#U-fO#b-eO~O#b-gO~O#S-hO#U-fO#b-eO#l'SO~O#b-jO#l'SO~O#u-kO!x$ha!}$ha~O!`'mO#S'kO#U'lO#b'jO$drO!x&_X!}&_X~P0aO!}*sO!x'Xa~O!oXO#l'SO~O#S-pO#b-oO!x'[P~O!oXO!q-rO~O!q-uO!o'cq!m'cq&s'cq~O!^-wO!oXO!q-rO~O!q-{O#O-zO~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m$si!}$si&s$si~P!'WO!m$jq&s$jq!x$jq!n$jq~PCqO#O-zO#l'SO~O!}-|Ow']X!o']X!m']X&s']X~O#b$nO#l'SO~OS+^O].ROm+^Os$aO!_+^O!`+^O#b$nO$aqO$drO~P0aOS+^O].ROm+^Os$aO!_+^O!`+^O#b$nO$aqO~P0aOS+^O]+aOm+^Os$aO!^+dO!_+^O!`+^O!n.ZO#b$nO$aqO$drO~P0aO!s.^O~O!s._O#b._O$}._O%T+oO~O$}.`O~O#X.aO~Oc%Xad%Xah%Xaj%Xaf%Xag%Xae%Xa~PhOc.dOd+sOP%WqQ%WqS%WqU%WqW%WqX%Wq[%Wq]%Wq^%Wq`%Wqa%Wqb%Wqk%Wqm%Wqo%Wqp%Wqq%Wqs%Wqt%Wqu%Wqv%Wqx%Wqy%Wq|%Wq}%Wq!O%Wq!P%Wq!Q%Wq!R%Wq!T%Wq!U%Wq!V%Wq!W%Wq!X%Wq!Y%Wq!Z%Wq![%Wq!]%Wq!^%Wq!`%Wq!a%Wq!c%Wq!m%Wq!o%Wq!s%Wq!y%Wq#W%Wq#b%Wq#d%Wq#e%Wq#p%Wq$T%Wq$]%Wq$^%Wq$a%Wq$d%Wq$l%Wq$z%Wq${%Wq$}%Wq%O%Wq%V%Wq&p%Wq'g%Wq&t%Wq!n%Wqh%Wqj%Wqf%Wqg%WqY%Wq_%Wqi%Wqe%Wq~Oc.iOd+vOh.hO~O!q(`O~OP6]OQ|OU^OW}O[:fOo>ROs#hOx:dOy:dO}`O!O]O!Q:kO!R}O!T:jO!U:eO!V:eO!Y:oO!c8gO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:hO$]:gO$^:hO$aqO$z:mO${!OO$}}O%O}O%V|O'g{O~O!m.lO!q.lO~OY+zO_+{O!n.nO~OY+zO_+{Oi%^a~O!x.rO~P>UO!m.tO~O!m.tO~P9yOQ|OW}O!R}O$}}O%O}O%V|O'g{O~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&ka!}&ka&s&ka~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m$qi!}$qi&s$qi~P!'WOS+^Om+^Os$aO!_+^O!`+^O$aqO$drO~OY/PO~P$?VOS+^Om+^Os$aO!_+^O!`+^O$aqO~O!s/QO~O!n/SO~P#JwOw(SO!o)WO#l'SO~OV/VO!m&na!}&na&s&na~O!})_O!m'ki&s'ki~O!s/XO~OV/YO!n%|a!}%|a~O]/[Os/[O!s#gO#peO!n&oX!}&oX~O!},uO!n'la~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&Ua!}&Ua&s&Ua#O&Ua~P!'WOz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT!uy!S!uy!b!uy!m!uy!v!uy&s!uy!x!uy!n!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#hi!}#hi~P!'WO_)yO!n&VX!}&VX~P9yO!}-RO!n&{a~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Vq#X#Vq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#[i!}#[i~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#O/cO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x&Xa!}&Xa~P!'WO#u/iO!x$ci!}$ci~O#b/jO~O#U/lO#b/kO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$ci!}$ci~P!'WO#u/mO!x$hi!}$hi~O!}/oO!x'[X~O#b/qO~O!x/rO~O!oXO!q/uO~O#l'SO!o'cy!m'cy&s'cy~O!m$jy&s$jy!x$jy!n$jy~PCqO#O/xO#l'SO~O!s#gO#peOw&aX!o&aX!}&aX!m&aX&s&aX~O!}-|Ow']a!o']a!m']a&s']a~OU$PO]0QO!R$PO!s$OO!v#}O#b$nO#p2XO~P$?uO!m#cO!o0VO&s#cO~O#X0YO~Oh0_O~OT:tOz:pO!S:vO!b:xO!m0`O!q0`O!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO~P!'WOY%]a_%]a!n%]ai%]a~PhO!x0bO~O!x0bO~P>UO!m0dO~OT6iOz6gO!S6jO!b6kO!v8sO!x0fO#O0eO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WO!x0fO~O!x0gO#b0hO#l'SO~O!x0iO~O!s0jO~O!m#cO#u0lO&s#cO~O!s0mO~O!})_O!m'kq&s'kq~O!s0nO~OV0oO!n%}X!}%}X~OT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!n!|i!}!|i~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$cq!}$cq~P!'WO#u0vO!x$cq!}$cq~O#b0wO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$hq!}$hq~P!'WO#S0zO#b0yO!x&`X!}&`X~O!}/oO!x'[a~O#l'SO!o'c!R!m'c!R&s'c!R~O!oXO!q1PO~O!m$j!R&s$j!R!x$j!R!n$j!R~PCqO#O1RO#l'SO~OP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!n1^O!s1YO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOh1_O~OY%[i_%[i!n%[ii%[i~PhOY%]i_%]i!n%]ii%]i~PhO!x1bO~O!x1bO~P>UO!x1eO~O!m#cO#u1iO&s#cO~O$}1jO%V1jO~O!s1kO~OV1lO!n%}a!}%}a~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#]i!}#]i~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$cy!}$cy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$hy!}$hy~P!'WO#b1nO~O!}/oO!x'[i~O!m$j!Z&s$j!Z!x$j!Z!n$j!Z~PCqOT:uOz:qO!S:wO!b:yO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO~P!'WOV1uO{1tO~P!5xOV1uO{1tOT&}Xz&}X!S&}X!b&}X!o&}X!v&}X!y&}X#S&}X#W&}X#`&}X#a&}X#s&}X#u&}X#w&}X#z&}X#{&}X#|&}X#}&}X$O&}X$Q&}X$R&}X$S&}X$T&}X$U&}X$V&}X$W&}X$z&}X~OP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!n1xO!s1YO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOY%[q_%[q!n%[qi%[q~PhO!x1zO~O!x%gi~PCqOe1{O~O$}1|O%V1|O~O!s2OO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$c!R!}$c!R~P!'WO!m$j!c&s$j!c!x$j!c!n$j!c~PCqO!s2QO~O!`2SO!s2RO~O!s2VO!m$xi&s$xi~O!s'WO~O!s*]O~OT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$ka#u$ka#w$ka&s$ka!x$ka!n$ka!q$ka#X$ka!}$ka~P!'WO#S2]O~P*kO$l$tO~P#.YOT6iOz6gO!S6jO!b6kO!v8sO#O2[O#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'PX&s'PX!x'PX!n'PX~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#O3uO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}'PX#X'PX#u'PX#w'PX!m'PX&s'PX!x'PX!n'PXV'PX!q'PX~P!'WO#S3dO~P#.YOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Xa#u$Xa#w$Xa&s$Xa!x$Xa!n$Xa!q$Xa#X$Xa!}$Xa~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Ya#u$Ya#w$Ya&s$Ya!x$Ya!n$Ya!q$Ya#X$Ya!}$Ya~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Za#u$Za#w$Za&s$Za!x$Za!n$Za!q$Za#X$Za!}$Za~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$[a#u$[a#w$[a&s$[a!x$[a!n$[a!q$[a#X$[a!}$[a~P!'WOz2aO#u$[a#w$[a!q$[a#X$[a!}$[a~PNyOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$_a#u$_a#w$_a&s$_a!x$_a!n$_a!q$_a#X$_a!}$_a~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$|a#u$|a#w$|a&s$|a!x$|a!n$|a!q$|a#X$|a!}$|a~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!S#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!S#yi!b#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$T2nO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$S2mO$T2nO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m#Ta#u#Ta#w#Ta&s#Ta!x#Ta!n#Ta!q#Ta#X#Ta!}#Ta~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m'Pa#u'Pa#w'Pa&s'Pa!x'Pa!n'Pa!q'Pa#X'Pa!}'Pa~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#Pi!S#Pi!b#Pi!m#Pi#u#Pi#w#Pi&s#Pi!x#Pi!n#Pi!q#Pi#X#Pi!}#Pi~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#vi!S#vi!b#vi!m#vi#u#vi#w#vi&s#vi!x#vi!n#vi!q#vi#X#vi!}#vi~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m#xi#u#xi#w#xi&s#xi!x#xi!n#xi!q#xi#X#xi!}#xi~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT!uq!S!uq!b!uq!m!uq!v!uq#u!uq#w!uq&s!uq!x!uq!n!uq!q!uq#X!uq!}!uq~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#Pq!S#Pq!b#Pq!m#Pq#u#Pq#w#Pq&s#Pq!x#Pq!n#Pq!q#Pq#X#Pq!}#Pq~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$jq#u$jq#w$jq&s$jq!x$jq!n$jq!q$jq#X$jq!}$jq~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT!uy!S!uy!b!uy!m!uy!v!uy#u!uy#w!uy&s!uy!x!uy!n!uy!q!uy#X!uy!}!uy~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$jy#u$jy#w$jy&s$jy!x$jy!n$jy!q$jy#X$jy!}$jy~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!R#u$j!R#w$j!R&s$j!R!x$j!R!n$j!R!q$j!R#X$j!R!}$j!R~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!Z#u$j!Z#w$j!Z&s$j!Z!x$j!Z!n$j!Z!q$j!Z#X$j!Z!}$j!Z~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!c#u$j!c#w$j!c&s$j!c!x$j!c!n$j!c!q$j!c#X$j!c!}$j!c~P!'WOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S3vO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lO#u2uO#w2vO!q&zX#X&zX!}&zX~P0rOP6]OU^O[4POo8^Or2wOs#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S2tO#U2sO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OOT#xXz#xX!S#xX!b#xX!m#xX!o#xX!v#xX#`#xX#a#xX#s#xX#u#xX#w#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX&s#xX!x#xX!n#xX!q#xX#X#xX!}#xX~P$;lOP6]OU^O[4POo8^Or4xOs#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S4uO#U4tO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OOT#xXz#xX!S#xX!b#xX!o#xX!v#xX!}#xX#O#xX#X#xX#`#xX#a#xX#s#xX#u#xX#w#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX!m#xX&s#xX!x#xX!n#xXV#xX!q#xX~P$;lO!q3PO~P>UO!q5}O#O3gO~OT8vOz8tO!S8wO!b8xO!q3hO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q6OO#O3kO~O!q6PO#O3oO~O#O3oO#l'SO~O#O3pO#l'SO~O#O3sO#l'SO~OP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$l$tO$z4bO${!OO~P$;lOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S5eO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Xa#O$Xa#X$Xa#u$Xa#w$Xa!m$Xa&s$Xa!x$Xa!n$XaV$Xa!q$Xa~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Ya#O$Ya#X$Ya#u$Ya#w$Ya!m$Ya&s$Ya!x$Ya!n$YaV$Ya!q$Ya~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Za#O$Za#X$Za#u$Za#w$Za!m$Za&s$Za!x$Za!n$ZaV$Za!q$Za~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$[a#O$[a#X$[a#u$[a#w$[a!m$[a&s$[a!x$[a!n$[aV$[a!q$[a~P!'WOz4dO!}$[a#O$[a#X$[a#u$[a#w$[aV$[a!q$[a~PNyOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$_a#O$_a#X$_a#u$_a#w$_a!m$_a&s$_a!x$_a!n$_aV$_a!q$_a~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$|a#O$|a#X$|a#u$|a#w$|a!m$|a&s$|a!x$|a!n$|aV$|a!q$|a~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!S#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!S#yi!b#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$T4qO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$S4pO$T4qO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}#Ta#O#Ta#X#Ta#u#Ta#w#Ta!m#Ta&s#Ta!x#Ta!n#TaV#Ta!q#Ta~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}'Pa#O'Pa#X'Pa#u'Pa#w'Pa!m'Pa&s'Pa!x'Pa!n'PaV'Pa!q'Pa~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#Pi!S#Pi!b#Pi!}#Pi#O#Pi#X#Pi#u#Pi#w#Pi!m#Pi&s#Pi!x#Pi!n#PiV#Pi!q#Pi~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#vi!S#vi!b#vi!}#vi#O#vi#X#vi#u#vi#w#vi!m#vi&s#vi!x#vi!n#viV#vi!q#vi~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}#xi#O#xi#X#xi#u#xi#w#xi!m#xi&s#xi!x#xi!n#xiV#xi!q#xi~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT!uq!S!uq!b!uq!v!uq!}!uq#O!uq#X!uq#u!uq#w!uq!m!uq&s!uq!x!uq!n!uqV!uq!q!uq~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#Pq!S#Pq!b#Pq!}#Pq#O#Pq#X#Pq#u#Pq#w#Pq!m#Pq&s#Pq!x#Pq!n#PqV#Pq!q#Pq~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$jq#O$jq#X$jq#u$jq#w$jq!m$jq&s$jq!x$jq!n$jqV$jq!q$jq~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT!uy!S!uy!b!uy!v!uy!}!uy#O!uy#X!uy#u!uy#w!uy!m!uy&s!uy!x!uy!n!uyV!uy!q!uy~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$jy#O$jy#X$jy#u$jy#w$jy!m$jy&s$jy!x$jy!n$jyV$jy!q$jy~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!R#O$j!R#X$j!R#u$j!R#w$j!R!m$j!R&s$j!R!x$j!R!n$j!RV$j!R!q$j!R~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!Z#O$j!Z#X$j!Z#u$j!Z#w$j!Z!m$j!Z&s$j!Z!x$j!Z!n$j!ZV$j!Z!q$j!Z~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!c#O$j!c#X$j!c#u$j!c#w$j!c!m$j!c&s$j!c!x$j!c!n$j!cV$j!c!q$j!c~P!'WO#S5wO~P#.YO!y$hO#S5{O~O!x4ZO#l'SO~O!y$hO#S5|O~OT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$ka#O$ka#X$ka#u$ka#w$ka!m$ka&s$ka!x$ka!n$kaV$ka!q$ka~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#O5vO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!m'PX#u'PX#w'PX&s'PX!x'PX!n'PX!q'PX#X'PX!}'PX~P!'WO#u4vO#w4wO!}&zX#O&zX#X&zXV&zX!q&zX~P0rO!q5QO~P>UO!q8bO#O5hO~OT8vOz8tO!S8wO!b8xO!q5iO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q8cO#O5lO~O!q8dO#O5pO~O#O5pO#l'SO~O#O5qO#l'SO~O#O5tO#l'SO~O$l$tO~P9yOo5zOs$lO~O#S7oO~P9yOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Xa#O$Xa#X$Xa!m$Xa&s$Xa!x$Xa!n$XaV$Xa!q$Xa~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Ya#O$Ya#X$Ya!m$Ya&s$Ya!x$Ya!n$YaV$Ya!q$Ya~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Za#O$Za#X$Za!m$Za&s$Za!x$Za!n$ZaV$Za!q$Za~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$[a#O$[a#X$[a!m$[a&s$[a!x$[a!n$[aV$[a!q$[a~P!'WOz6gO!}$[a#O$[a#X$[aV$[a!q$[a~PNyOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$_a#O$_a#X$_a!m$_a&s$_a!x$_a!n$_aV$_a!q$_a~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$ka#O$ka#X$ka!m$ka&s$ka!x$ka!n$kaV$ka!q$ka~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$|a#O$|a#X$|a!m$|a&s$|a!x$|a!n$|aV$|a!q$|a~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO!}7sO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'jX~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO!}7uO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&|X~P!'WOz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT6iOz6gO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!S#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT6iOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!S#yi!b#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi#}#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$T6tO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$S6sO$T6tO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WO#S7zO~P>UO!m#Ta&s#Ta!x#Ta!n#Ta~PCqO!m'Pa&s'Pa!x'Pa!n'Pa~PCqO#S;dO#U;cO!x&WX!}&WX~P9yO!}7lO!x'Oa~Oz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#Pi!S#Pi!b#Pi!}#Pi#O#Pi#X#Pi!m#Pi&s#Pi!x#Pi!n#PiV#Pi!q#Pi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#vi!S#vi!b#vi!}#vi#O#vi#X#vi!m#vi&s#vi!x#vi!n#viV#vi!q#vi~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#xi#O#xi#X#xi!m#xi&s#xi!x#xi!n#xiV#xi!q#xi~P!'WO!}7sO!x%da~O!x&UX!}&UX~P>UO!}7uO!x&|a~Oz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT!uq!S!uq!b!uq!v!uq!}!uq#O!uq#X!uq!m!uq&s!uq!x!uq!n!uqV!uq!q!uq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Vi!}#Vi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#Pq!S#Pq!b#Pq!}#Pq#O#Pq#X#Pq!m#Pq&s#Pq!x#Pq!n#PqV#Pq!q#Pq~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$jq#O$jq#X$jq!m$jq&s$jq!x$jq!n$jqV$jq!q$jq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&ka!}&ka~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&Ua!}&Ua~P!'WOz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT!uy!S!uy!b!uy!v!uy!}!uy#O!uy#X!uy!m!uy&s!uy!x!uy!n!uyV!uy!q!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Vq!}#Vq~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$jy#O$jy#X$jy!m$jy&s$jy!x$jy!n$jyV$jy!q$jy~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!R#O$j!R#X$j!R!m$j!R&s$j!R!x$j!R!n$j!RV$j!R!q$j!R~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!Z#O$j!Z#X$j!Z!m$j!Z&s$j!Z!x$j!Z!n$j!ZV$j!Z!q$j!Z~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!c#O$j!c#X$j!c!m$j!c&s$j!c!x$j!c!n$j!cV$j!c!q$j!c~P!'WO#S8[O~P9yO#O8ZO!m'PX&s'PX!x'PX!n'PXV'PX!q'PX~PGSO!y$hO#S8`O~O!y$hO#S8aO~O#u6zO#w6{O!}&zX#O&zX#X&zXV&zX!q&zX~P0rOr6|O#S#oO#U#nO!}#xX#O#xX#X#xXV#xX!q#xX~P2yOr;iO#S9XO#U9VOT#xXz#xX!S#xX!b#xX!m#xX!o#xX!q#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX!n#xX!}#xX~P9yOr9WO#S9WO#U9WOT#xXz#xX!S#xX!b#xX!o#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX~P9yOr9]O#S;dO#U;cOT#xXz#xX!S#xX!b#xX!o#xX!q#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX#X#xX!x#xX!}#xX~P9yO$l$tO~P>UO!q7XO~P>UOT6iOz6gO!S6jO!b6kO!v8sO#O7iO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x'PX!}'PX~P!'WOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lO!}7lO!x'OX~O#S9yO~P>UOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Xa#X$Xa!x$Xa!}$Xa~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Ya#X$Ya!x$Ya!}$Ya~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Za#X$Za!x$Za!}$Za~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$[a#X$[a!x$[a!}$[a~P!'WOz8tO$z#dOT$[a!S$[a!b$[a!q$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a#X$[a!x$[a!}$[a~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$_a#X$_a!x$_a!}$_a~P!'WO!q=dO#O7rO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$ka#X$ka!x$ka!}$ka~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$|a#X$|a!x$|a!}$|a~P!'WOT8vOz8tO!S8wO!b8xO!q7wO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#X#yi!x#yi!}#yi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi#X#yi!x#yi!}#yi~P!'WOT8vOz8tO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!S#yi!q#yi#X#yi!x#yi!}#yi~P!'WOT8vOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!S#yi!b#yi!q#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi#X#yi!x#yi!}#yi~P!'WOz8tO$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi#X#yi!x#yi!}#yi~P!'WOz8tO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi#X#yi!x#yi!}#yi~P!'WOz8tO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi#X#yi!x#yi!}#yi~P!'WOz8tO$T9RO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$S9QO$T9RO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi#X#yi!x#yi!}#yi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#Pi!S#Pi!b#Pi!q#Pi#X#Pi!x#Pi!}#Pi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#vi!S#vi!b#vi!q#vi#X#vi!x#vi!}#vi~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q#xi#X#xi!x#xi!}#xi~P!'WO!q=eO#O7|O~Oz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT!uq!S!uq!b!uq!q!uq!v!uq#X!uq!x!uq!}!uq~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#Pq!S#Pq!b#Pq!q#Pq#X#Pq!x#Pq!}#Pq~P!'WO!q=iO#O8TO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$jq#X$jq!x$jq!}$jq~P!'WO#O8TO#l'SO~Oz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT!uy!S!uy!b!uy!q!uy!v!uy#X!uy!x!uy!}!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$jy#X$jy!x$jy!}$jy~P!'WO#O8UO#l'SO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!R#X$j!R!x$j!R!}$j!R~P!'WO#O8XO#l'SO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!Z#X$j!Z!x$j!Z!}$j!Z~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!c#X$j!c!x$j!c!}$j!c~P!'WO#S:bO~P>UO#O:aO!q'PX!x'PX~PGSO$l$tO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$l$tO$z:nO${!OO~P$;lOo8_Os$lO~O#S<jO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#S<kO#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Xa!q$Xa!n$Xa!}$Xa~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Ya!q$Ya!n$Ya!}$Ya~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Za!q$Za!n$Za!}$Za~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$[a!q$[a!n$[a!}$[a~P!'WOz:pO$z#dOT$[a!S$[a!b$[a!m$[a!q$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a!n$[a!}$[a~P!'WOz:qO$z#dOT$[a!S$[a!b$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$_a!q$_a!n$_a!}$_a~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$ka!q$ka!n$ka!}$ka~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$|a!q$|a!n$|a!}$|a~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi!n#yi!}#yi~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!n#yi!}#yi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi~P!'WOT:tOz:pO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!S#yi!m#yi!q#yi!n#yi!}#yi~P!'WOT:uOz:qO!b:yO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO!S#yi~P!'WOT:tOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!S#yi!b#yi!m#yi!q#yi!n#yi!}#yi~P!'WOT:uOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO!S#yi!b#yi~P!'WOz:pO#S#QO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi!n#yi!}#yi~P!'WOz:qO#S#QO#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi~P!'WOz:pO#S#QO#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi!n#yi!}#yi~P!'WOz:qO#S#QO#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi~P!'WOz:pO#S#QO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi!n#yi!}#yi~P!'WOz:qO#S#QO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi#}#yi~P!'WOz:pO#S#QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi!n#yi!}#yi~P!'WOz:qO#S#QO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi~P!'WOz:pO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi!n#yi!}#yi~P!'WOz:qO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi~P!'WOz:pO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!n#yi!}#yi~P!'WOz:qO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi~P!'WOz:pO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!n#yi!}#yi~P!'WOz:qO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi~P!'WOz:pO$T;[O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!n#yi!}#yi~P!'WOz:qO$T;]O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi~P!'WOz:pO$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!n#yi!}#yi~P!'WOz:qO$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi~P!'WOz:pO$S;YO$T;[O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!n#yi!}#yi~P!'WOz:qO$S;ZO$T;]O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi~P!'WOz:pO$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!n#yi!}#yi~P!'WOz:qO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Ta!}#Ta!q#Ta#X#Ta~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'Pa!}'Pa!q'Pa#X'Pa~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#Pi!S#Pi!b#Pi!m#Pi!q#Pi!n#Pi!}#Pi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#Pi!S#Pi!b#Pi~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#vi!S#vi!b#vi!m#vi!q#vi!n#vi!}#vi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#vi!S#vi!b#vi~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m#xi!q#xi!n#xi!}#xi~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT!uq!S!uq!b!uq!m!uq!q!uq!v!uq!n!uq!}!uq~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT!uq!S!uq!b!uq!v!uq~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#Pq!S#Pq!b#Pq!m#Pq!q#Pq!n#Pq!}#Pq~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#Pq!S#Pq!b#Pq~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$jq!q$jq!n$jq!}$jq~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT!uy!S!uy!b!uy!m!uy!q!uy!v!uy!n!uy!}!uy~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT!uy!S!uy!b!uy!v!uy~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$jy!q$jy!n$jy!}$jy~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!R!q$j!R!n$j!R!}$j!R~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!Z!q$j!Z!n$j!Z!}$j!Z~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!c!q$j!c!n$j!c!}$j!c~P!'WO#S=TO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#S=UO#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOT6iOz6gO!S6jO!b6kO!v8sO#O=SO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#O=RO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'PX!q'PX!n'PX!}'PX~P!'WOT&zXz&zX!S&zX!b&zX!o&zX!q&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX!}&zX~O#u9ZO#w9[O#X&zX!x&zX~P.8oO!y$hO#S=^O~O!q9hO~P>UO!y$hO#S=cO~O!q>OO#O9}O~OT8vOz8tO!S8wO!b8xO!q:OO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m#Ta!q#Ta!n#Ta!}#Ta~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m'Pa!q'Pa!n'Pa!}'Pa~P!'WO!q>PO#O:RO~O!q>QO#O:YO~O#O:YO#l'SO~O#O:ZO#l'SO~O#O:_O#l'SO~O#u;eO#w;gO!m&zX!n&zX~P.8oO#u;fO#w;hOT&zXz&zX!S&zX!b&zX!o&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX~O!q;tO~P>UO!q;uO~P>UO!q>XO#O<oO~O!q>YO#O9WO~OT8vOz8tO!S8wO!b8xO!q<pO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT8vOz8tO!S8wO!b8xO!q<qO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q>ZO#O<vO~O!q>[O#O<{O~O#O<{O#l'SO~O#O9WO#l'SO~O#O<|O#l'SO~O#O=PO#l'SO~O!y$hO#S=|O~Oo=[Os$lO~O!y$hO#S=}O~O!y$hO#S>UO~O!y$hO#S>VO~O!y$hO#S>WO~Oo={Os$lO~Oo>TOs$lO~Oo>SOs$lO~O%O$U$}$d!d$V#b%V#e'g!s#d~",goto:"%&y'mPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP'nP'uPP'{(OPPP(hP(OP(O*ZP*ZPP2W:j:mPP*Z:sBpPBsPBsPP:sCSCVCZ:s:sPPPC^PP:sK^!$S!$S:s!$WP!$W!$W!%UP!.]!7pP!?oP*ZP*Z*ZPPPPP!?rPPPPPPP*Z*Z*Z*ZPP*Z*ZP!E]!GRP!GV!Gy!GR!GR!HP*Z*ZP!HY!Hl!Ib!J`!Jd!J`!Jo!J}!J}!KV!KY!KY*ZPP*ZPP!K^#%[#%[#%`P#%fP(O#%j(O#&S#&V#&V#&](O#&`(O(O#&f#&i(O#&r#&u(O(O(O(O(O#&x(O(O(O(O(O(O(O(O(O#&{!KR(O(O#'_#'o#'r(O(OP#'u#'|#(S#(o#(y#)P#)Z#)b#)h#*d#4X#5T#5Z#5a#5k#5q#5w#6]#6c#6i#6o#6u#6{#7R#7]#7g#7m#7s#7}PPPPPPPP#8T#8X#8}#NO#NR#N]$(f$(r$)X$)_$)b$)e$)k$,X$5v$>_$>b$>h$>k$>n$>w$>{$?X$?k$Bk$CO$C{$K{PP%%y%%}%&Z%&p%&vQ!nQT!qV!rQUOR%x!mRVO}!hPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1a|!hPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ%^!ZQ%g!aQ%l!eQ'd$dQ'q$iQ)[%kQ*y'tQ,](xU-n*v*x+OQ.W+cQ.{,[S/t-s-tQ0T.SS0}/s/wQ1V0RQ1o1OR2P1p0u!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nQ#j]Q$}!PQ%O!QQ%P!RQ,S(kQ.b+sR.f+vR&q#jQ)z&pR/a-R0uhPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR#l^k#p_j#k#s&s&w3x3y7l8f8g8h8iR#u`T&|#t'OR-Y*U0thPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR#va-r#OZ#f#m#w$V$W$X$Y$Z$[$u$v%W%Y%[%`%s%|&O&Q&U&^&_&`&a&b&c&d&e&f&g&h&i&j&k&l&m&u&v&{'X'Z'[(](p)q)s)u*O*[*^+S+V,`,c,y,{,}-V-W-X-i-x.k.w/`/h/n/y0r0u0x1Q1X1d1m1q2q2r2x2y2z2{2|2}3O3Q3R3S3T3U3V3W3X3Y3Z3[3]3^3_3`3a3b3c3e3f3i3j3l3m3n3q3r3t4Y4y4z4{4|4}5O5P5R5S5T5U5V5W5X5Y5Z5[5]5^5_5`5a5b5c5d5f5g5j5k5m5n5o5r5s5u6R6V6}7O7P7Q7R7S7U7V7W7Y7Z7[7]7^7_7`7a7b7c7d7e7f7g7h7j7k7n7p7q7x7y7{7}8O8P8Q8R8S8V8W8Y8]9U9^9_9`9a9b9c9f9g9i9j9k9l9m9n9o9p9q9r9s9t9u9v9w9x9z9{:P:Q:T:V:W:[:^:`:c;j;k;l;m;n;o;p;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<[<]<^<_<`<a<b<c<d<e<f<g<h<i<l<m<n<r<s<t<u<w<x<y<z<}=O=Q=V=W=_=`=a=q=rQ']$]Y(Q$s7T9e;q;rS(U2Z6QR(X$tT&X!})v!w$Qg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[3ZfPVX[_bgjklmnoprxyz!S!W!X!Y!]!e!f!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t#}$R$S$U$h$y$}%P%R%S%T%U%c%p%r%}&S&W&p&s&t&w'O'S'U'Y'^'i'm'r'z(O(P(R(S(T(`(l({)P)Z)_)c)i)p)t)v*P*T*U*f*o*s*z*}+P+Q+]+`+d+g+r+u+z,T,V,X,Z,u-Q-R-d-k-r-u-z-{-|.Q.b.d.l.t/[/c/i/m/u/x0V0`0a0d0e0i0v1P1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w5}6O6P6T6]6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8b8c8d8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=d=e=i=m=n>O>P>Q>X>Y>Z>[3scPVX[_bdegjklmnoprxyz!S!W!X!Y!]!e!f!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t#{#}$R$S$U$h$y$}%P%R%S%T%U%c%m%n%p%r%}&S&W&p&s&t&w'O'S'U'Y'^'i'm'r'z(O(P(R(S(T(`(l({)P)Z)^)_)c)g)h)i)p)t)v*P*T*U*f*o*s*z*}+P+Q+]+`+d+g+r+u+z,T,V,X,Z,u,x-Q-R-d-k-r-u-z-{-|.Q.b.d.l.t/[/c/i/m/u/x0V0`0a0d0e0i0v1P1R1]1a2W2X2Y2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w5}6O6P6T6]6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8b8c8d8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=d=e=i=m=n>O>P>Q>X>Y>Z>[0phPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0`0a0d0e0i0v1R1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT1Z0V1]R&]#P!n#[Z#f#w$V$W$X$Y$[$s$v%W%Y%[&Q&_&`&a&b&c&d&e&f'X'Z'[(])q)s*^+V,{-x/y1Q1d1q7j7k!Y2j2Z2x2y2z2{2}3O3Q3R3S3T3U3V3W3X3a3b3c3e3f3i3j3l3m3n3q3r3t!^4m2r4y4z4{4|5O5P5R5S5T5U5V5W5X5Y5b5c5d5f5g5j5k5m5n5o5r5s5u6Q6R#Q6p#m%`%s&u&v&{(p*O+S,`,c,y-V-X.w2q6}7O7P7Q7S7T7U7Y7Z7[7]7^7_7`7a7n7p7q7x7{7}8Q8S8V8W8Y8]9U:c=V=W#^8}%|&O&U)u,}-W-i/h/n0r0u0x1m4Y6V7V7W7y8O8P8R9^9_9`9a9c9e9f9g9i9j9k9l9m9n9o9p9x9z9{:P:Q:T:V:W:[:^:`<f<g=_=q=r!^;S.k/`;j;k;l;m;p;q;s;v;x;z;|<O<Q<S<U<h<l<n<r<t<w<x<z<}=O=Q=`=ao;T1X;r;w;y;{;}<P<R<T<V<i<m<s<u<yS$iu#hQ$qwU't$j$l&oQ'v$kS'x$m$rQ*|'uQ+O'wQ+R'yQ4X5xS4[5z5{Q4]5|Q6U8^S6W8_8`Q6X8aQ9d=YS9|=[=^Q:S=cQ=]=yS=b={=|Q=f=}Q=o>RS=p>S>VS=s>T>UR=t>WT'n$h*s!csPVXt!S!j!r!s!w$h$}%P%S%U'i(T(`)W*s+]+g+r+u,g,k.b.d.l0`0a0i1aQ$^rR*`'^Q*x'sQ-t*{R/w-wQ(W$tQ)U%hQ)n%vQ*i'fQ+k(XR-c*jQ(V$tQ)Y%jQ)m%vQ*e'eS*h'f)nS+j(W(XS-b*i*jQ.]+kQ/T,mQ/e-`R/g-cQ(U$tQ)T%hQ)V%iQ)l%vU*g'f)m)nU+i(V(W(XQ,f)UU-a*h*i*jS.[+j+kS/f-b-cQ0X.]R0t/gT+e(T+g[%e!_$b'c+a.R0QR,d)Qb$ov(T+[+]+`+g.P.Q0PR+T'{S+e(T+gT,j)W,kR0W.XT1[0V1]0w|PVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X,_-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT$x{${Q+p([R._+nT$z{${Q(b$}Q(j%PQ(o%SQ(r%UQ.j+yQ0].fQ0^.iR1g0iR(e%OX+|(c(d+},PR(f%OX(h%P%S%U0iR%S!T_%a!]%R(l,T,V.t0dR%U!UR.x,XR,[(wQ)X%jS*d'e)YS-_*e,mS/d-`/TR0s/eQ%q!fU)]%m%n%rU,o)^)g)hR/_,xR)d%pR/],uSSO!mR!oSQ!rVR%y!rQ!jPS!sV!rQ!wX[%u!j!s!w+r0a1aQ+r(`Q0a.lR1a0`Q)j%sS,z)j7vR7v7WQ-S)zR/b-SQ&x#qS*R&x7mR7m9YS*V&{&|R-Z*VQ)w&YR-P)w!l'T#|'h*n*q*v+W+[,m-`-s-v-y.P.z/s/v/z0P1O1p4^4_4`5y6Y6Z6[:U:X:]=g=h=j=u=v=w=xR*Z'T1^dPVX[_bjklmnoprxyz!S!W!X!Y!]!e!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%p%}&S&W&p&s&t&w'O'U'Y'^'z(O(R(S(`(l({)P)_)c)i)p)t)v*P*T*U*o+P+d+r+u+z,T,V,X,u-Q-R-d-k-z-|.b.d.l.t/[/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n`#zd#{%m)^)g,x2W2YQ#{eQ%m!fQ)^%nQ)g%rQ,x)h!v2Wg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[R2Y2X|tPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aW$`t'i+],gS'i$h*sS+](T+gT,g)W,kQ'_$^R*a'_Q*t'oR-m*tQ/p-oS0{/p0|R0|/qQ-}+XR/|-}Q+g(TR.Y+gS+`(T+gS,h)W,kQ.Q+]W.T+`,h.Q/OR/O,gQ)R%eR,e)RQ'|$oR+U'|Q1]0VR1w1]Q${{R(^${Q+t(aR.c+tQ+w(bR.g+wQ+}(cQ,P(dT.m+},PQ(|%`S,a(|7tR7t7VQ(y%^R,^(yQ,k)WR/R,kQ)`%oS,q)`/WR/W,rQ,v)dR/^,vT!uV!rj!iPVX!j!r!s!w(`+r.l0`0a1aQ%Q!SQ(a$}W(h%P%S%U0iQ.e+uQ0Z.bR0[.d|ZPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ#f[U#m_#s&wQ#wbQ$VkQ$WlQ$XmQ$YnQ$ZoQ$[pQ$sx^$uy2_4b6e8q:m:nQ$vzQ%W!WQ%Y!XQ%[!YW%`!]%R(l,VU%s!g&p-RQ%|!yQ&O!zQ&Q!{S&U!})v^&^#R2a4d6g8t:p:qQ&_#SQ&`#TQ&a#UQ&b#VQ&c#WQ&d#XQ&e#YQ&f#ZQ&g#[Q&h#]Q&i#^Q&j#_Q&k#`Q&l#aQ&m#bQ&u#nQ&v#oS&{#t'OQ'X$RQ'Z$SQ'[$UQ(]$yQ(p%TQ)q%}Q)s&SQ)u&WQ*O&tS*['U4ZQ*^'Y^*_2[3u5v8Z:a=R=SQ+S'zQ+V(OQ,`({Q,c)PQ,y)iQ,{)pQ,})tQ-V*PQ-W*TQ-X*U^-]2]3v5w8[:b=T=UQ-i*oQ-x+PQ.k+zQ.w,XQ/`-QQ/h-dQ/n-kQ/y-zQ0r/cQ0u/iQ0x/mQ1Q/xU1X0V1]9WQ1d0eQ1m0vQ1q1RQ2Z2^Q2qjQ2r3yQ2x3zQ2y3|Q2z4OQ2{4QQ2|4SQ2}4UQ3O2`Q3Q2bQ3R2cQ3S2dQ3T2eQ3U2fQ3V2gQ3W2hQ3X2iQ3Y2jQ3Z2kQ3[2lQ3]2mQ3^2nQ3_2oQ3`2pQ3a2sQ3b2tQ3c2uQ3e2vQ3f2wQ3i3PQ3j3dQ3l3gQ3m3hQ3n3kQ3q3oQ3r3pQ3t3sQ4Y4WQ4y3{Q4z3}Q4{4PQ4|4RQ4}4TQ5O4VQ5P4cQ5R4eQ5S4fQ5T4gQ5U4hQ5V4iQ5W4jQ5X4kQ5Y4lQ5Z4mQ5[4nQ5]4oQ5^4pQ5_4qQ5`4rQ5a4sQ5b4tQ5c4uQ5d4vQ5f4wQ5g4xQ5j5QQ5k5eQ5m5hQ5n5iQ5o5lQ5r5pQ5s5qQ5u5tQ6Q4aQ6R3xQ6V6TQ6}6^Q7O6_Q7P6`Q7Q6aQ7R6bQ7S6cQ7T6dQ7U6fU7V,T.t0dQ7W%cQ7Y6hQ7Z6iQ7[6jQ7]6kQ7^6lQ7_6mQ7`6nQ7a6oQ7b6pQ7c6qQ7d6rQ7e6sQ7f6tQ7g6uQ7h6vQ7j6xQ7k6yQ7n6zQ7p6{Q7q6|Q7x7XQ7y7iQ7{7oQ7}7rQ8O7sQ8P7uQ8Q7wQ8R7zQ8S7|Q8V8TQ8W8UQ8Y8XQ8]8fU9U#k&s7lQ9^8jQ9_8kQ9`8lQ9a8mQ9b8nQ9c8oQ9e8pQ9f8rQ9g8sQ9i8uQ9j8vQ9k8wQ9l8xQ9m8yQ9n8zQ9o8{Q9p8|Q9q8}Q9r9OQ9s9PQ9t9QQ9u9RQ9v9SQ9w9TQ9x9ZQ9z9[Q9{9]Q:P9hQ:Q9yQ:T9}Q:V:OQ:W:RQ:[:YQ:^:ZQ:`:_Q:c8iQ;j:dQ;k:eQ;l:fQ;m:gQ;n:hQ;o:iQ;p:jQ;q:kQ;r:lQ;s:oQ;v:rQ;w:sQ;x:tQ;y:uQ;z:vQ;{:wQ;|:xQ;}:yQ<O:zQ<P:{Q<Q:|Q<R:}Q<S;OQ<T;PQ<U;QQ<V;RQ<W;SQ<X;TQ<Y;UQ<Z;VQ<[;WQ<];XQ<^;YQ<_;ZQ<`;[Q<a;]Q<b;^Q<c;_Q<d;`Q<e;aQ<f;cQ<g;dQ<h;eQ<i;fQ<l;gQ<m;hQ<n;iQ<r;tQ<s;uQ<t<jQ<u<kQ<w<oQ<x<pQ<y<qQ<z<vQ<}<{Q=O<|Q=Q=PQ=V8hQ=W8gQ=_=ZQ=`9VQ=a9XQ=q=mR=r=nR){&pQ%t!gQ)O%cT)y&p-R$SiPVX[bklmnopxyz!S!W!X!Y!j!r!s!w!{#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b$R$S$U$y$}%P%S%U%}&S'Y(O(`)p+P+r+u-z.b.d.l/x0`0a0e0i1R1a2[2]6x6y!t3w'U2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3z3|4O4Q4S4U5v5w!x6S3u3v3x3y3{3}4P4R4T4V4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t$O8e_j!]!g#k#n#o#s#t%R%T&p&s&t&w'O'z(l({)P)i*P*U,V,X-R6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6z6{6|7X7l7o7r7w7|8T8U8X8Z8[8f8g8h8i#|=X!y!z!}%c&W)t)v*T*o,T-d-k.t/c/i/m0d0v4W6T7i7s7u7z8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9Z9[9]9h9y9}:O:R:Y:Z:_:a:b;c;d=Z=m=n!v=k+z-Q9V9X:d:e:f:g:h:j:k:m:o:p:r:t:v:x:z:|;O;Q;S;U;W;Y;[;^;`;e;g;i;t<j<o<p<v<{<|=P=R=T!]=l0V1]9W:i:l:n:q:s:u:w:y:{:};P;R;T;V;X;Z;];_;a;f;h;u<k<q=S=UQ#r_Q&r#kQ&z#sR)}&sS#q_#s^$Tj3x3y8f8g8h8iS*Q&w7lT9Y#k&sQ&}#tR*X'OR&T!|R&Z!}Q&Y!}R-O)vQ#|gQ'V#}S'h$h*sQ*Y'SQ*n'iQ*q'mQ*v'rQ+W(PS+[(T+gQ,m)ZQ-`*fQ-s*zQ-v*}Q-y+QS.P+]+`Q.z,ZQ/s-rQ/v-uQ/z-{Q0P.QQ1O/uQ1p1PQ4^5}Q4_6OQ4`6PQ5y6]Q6Y8bQ6Z8cQ6[8dQ:U=dQ:X=eQ:]=iQ=g>OQ=h>PQ=j>QQ=u>XQ=v>YQ=w>ZR=x>[0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n!v$Pg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[S$]r'^Q%k!eS%o!f%rQ)b%pU+X(R(S+dQ,p)_Q,t)cQ/Z,uQ/{-|R0p/[|vPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1a#U#i[bklmnopxyz!W!X!Y!{#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b$R$S$U$y%}&S'Y(O)p+P-z/x0e1R2[2]6x6yd+^(T)W+]+`+g,g,h,k.Q/O!t6w'U2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3z3|4O4Q4S4U5v5w!x;b3u3v3x3y3{3}4P4R4T4V4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t$O=z_j!]!g#k#n#o#s#t%R%T&p&s&t&w'O'z(l({)P)i*P*U,V,X-R6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6z6{6|7X7l7o7r7w7|8T8U8X8Z8[8f8g8h8i#|>]!y!z!}%c&W)t)v*T*o,T-d-k.t/c/i/m0d0v4W6T7i7s7u7z8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9Z9[9]9h9y9}:O:R:Y:Z:_:a:b;c;d=Z=m=n!v>^+z-Q9V9X:d:e:f:g:h:j:k:m:o:p:r:t:v:x:z:|;O;Q;S;U;W;Y;[;^;`;e;g;i;t<j<o<p<v<{<|=P=R=T!]>_0V1]9W:i:l:n:q:s:u:w:y:{:};P;R;T;V;X;Z;];_;a;f;h;u<k<q=S=UR'p$hQ'o$hR-l*sR$_rR-q*wQ+Y(RQ+Z(SR.X+dT+f(T+ge+_(T)W+]+`+g,g,h,k.Q/OQ%f!_Q'b$bQ*c'cQ.U+aQ0S.RR1U0QQ#eZQ%X!WQ%Z!XQ%]!YQ'}$pQ(s%VQ(t%WQ(u%YQ(v%[Q(}%bQ)S%fQ)[%kQ)f%qQ)k%tQ*b'bQ,n)]Q-^*cQ.V+bQ.W+cQ.e+xQ.o,QQ.p,RQ.q,SQ.v,WQ.y,YQ.},bQ/U,oQ/}.OQ0T.SQ0U.UQ0W.XQ0[.hQ0k/QQ0q/_Q1S0OQ1V0RQ1W0SQ1`0_Q1h0jQ1r1TQ1s1UQ1v1[Q1y1_Q1}1jQ2T1{R2U1|Q$pvS+b(T+gU.O+[+]+`S0O.P.QR1T0P|!aPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ$dtW+c(T)W+g,kW.S+]+`,g,hT0R.Q/O0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR.|,_0w}PVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X,_-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT$w{${Q(i%PQ(n%SQ(q%UR1f0iQ%b!]Q(m%RQ,U(lQ.s,TQ.u,VQ0c.tR1c0dQ%q!fR)]%rR)e%p",nodeNames:"⚠ ( HeredocString EscapeSequence abstract LogicOp array as Boolean break case catch clone const continue default declare do echo else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final finally fn for foreach from function global goto if implements include include_once LogicOp insteadof interface list match namespace new null LogicOp print require require_once return switch throw trait try unset use var Visibility while LogicOp yield LineComment BlockComment TextInterpolation PhpClose Text PhpOpen Template TextInterpolation EmptyStatement ; } { Block : LabelStatement Name ExpressionStatement ConditionalExpression LogicOp MatchExpression ) ( ParenthesizedExpression MatchBlock MatchArm , => AssignmentExpression ArrayExpression ValueList & VariadicUnpacking ... Pair [ ] ListExpression ValueList Pair Pair SubscriptExpression MemberExpression -> ?-> VariableName DynamicVariable $ ${ CallExpression ArgList NamedArgument SpreadArgument CastExpression UnionType LogicOp OptionalType NamedType QualifiedName \\ NamespaceName ScopedExpression :: ClassMemberName AssignOp UpdateExpression UpdateOp YieldExpression BinaryExpression LogicOp LogicOp LogicOp BitOp BitOp BitOp CompareOp CompareOp BitOp ArithOp ConcatOp ArithOp ArithOp IncludeExpression RequireExpression CloneExpression UnaryExpression ControlOp LogicOp PrintIntrinsic FunctionExpression static ParamList Parameter #[ Attributes Attribute VariadicParameter PropertyParameter UseList ArrowFunction NewExpression class BaseClause ClassInterfaceClause DeclarationList ConstDeclaration VariableDeclarator PropertyDeclaration VariableDeclarator MethodDeclaration UseDeclaration UseList UseInsteadOfClause UseAsClause UpdateExpression ArithOp ShellExpression ThrowExpression Integer Float String MemberExpression SubscriptExpression UnaryExpression ArithOp Interpolation String IfStatement ColonBlock SwitchStatement Block CaseStatement DefaultStatement ColonBlock WhileStatement EmptyStatement DoStatement ForStatement ForSpec SequenceExpression ForeachStatement ForSpec Pair GotoStatement ContinueStatement BreakStatement ReturnStatement TryStatement CatchDeclarator DeclareStatement EchoStatement UnsetStatement ConstDeclaration FunctionDefinition ClassDeclaration InterfaceDeclaration TraitDeclaration EnumDeclaration EnumBody EnumCase NamespaceDefinition NamespaceUseDeclaration UseGroup UseClause UseClause GlobalDeclaration FunctionStaticDeclaration Program",maxTerm:304,nodeProps:[["group",-36,2,8,49,81,83,85,88,93,94,102,106,107,110,111,114,118,123,126,130,132,133,147,148,149,150,153,154,164,165,179,181,182,183,184,185,191,"Expression",-28,74,78,80,82,192,194,199,201,202,205,208,209,210,211,212,214,215,216,217,218,219,220,221,222,225,226,230,231,"Statement",-3,119,121,122,"Type"],["isolate",-4,66,67,70,191,""],["openedBy",69,"phpOpen",76,"{",86,"(",101,"#["],["closedBy",71,"phpClose",77,"}",87,")",158,"]"]],propSources:[Ag],skippedNodes:[0],repeatNodeCount:29,tokenData:"!F|_R!]OX$zXY&^YZ'sZ]$z]^&^^p$zpq&^qr)Rrs+Pst+otu2buv5evw6rwx8Vxy>]yz>yz{?g{|@}|}Bb}!OCO!O!PDh!P!QKT!Q!R!!o!R![!$q![!]!,P!]!^!-a!^!_!-}!_!`!1S!`!a!2d!a!b!3t!b!c!7^!c!d!7z!d!e!9W!e!}!7z!}#O!;^#O#P!;z#P#Q!<h#Q#R!=U#R#S!7z#S#T!=u#T#U!7z#U#V!9W#V#o!7z#o#p!Co#p#q!D]#q#r!Er#r#s!F`#s$f$z$f$g&^$g&j!7z&j$I_$z$I_$I`&^$I`$KW$z$KW$KX&^$KX;'S$z;'S;=`&W<%l?HT$z?HT?HU&^?HUO$zP%PV&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zP%kO&wPP%nWOY$zYZ%fZ!a$z!b;'S$z;'S;=`&W<%l~$z~O$z~~%fP&ZP;=`<%l$zV&ed&wP&vUOX$zXY&^YZ'sZ]$z]^&^^p$zpq&^q!^$z!^!_%k!_$f$z$f$g&^$g$I_$z$I_$I`&^$I`$KW$z$KW$KX&^$KX;'S$z;'S;=`&W<%l?HT$z?HT?HU&^?HUO$zV'zW&wP&vUXY(dYZ(d]^(dpq(d$f$g(d$I_$I`(d$KW$KX(d?HT?HU(dU(iW&vUXY(dYZ(d]^(dpq(d$f$g(d$I_$I`(d$KW$KX(d?HT?HU(dR)YW$^Q&wPOY$zYZ%fZ!^$z!^!_%k!_!`)r!`;'S$z;'S;=`&W<%lO$zR)yW$QQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`*c!`;'S$z;'S;=`&W<%lO$zR*jV$QQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV+YV'fS&wP'gQOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV+v]&wP!dUOY,oYZ%fZ],o]^$z^!^,o!^!_-i!_!a,o!a!b/y!b!},o!}#O1f#O;'S,o;'S;=`/s<%lO,oV,vZ&wP!dUOY,oYZ%fZ],o]^$z^!^,o!^!_-i!_!a,o!a!b/y!b;'S,o;'S;=`/s<%lO,oV-nZ!dUOY,oYZ%fZ],o]^$z^!a,o!a!b.a!b;'S,o;'S;=`/s<%l~,o~O,o~~%fU.dWOY.|YZ/nZ].|]^/n^!`.|!a;'S.|;'S;=`/h<%lO.|U/RV!dUOY.|Z].|^!a.|!a!b.a!b;'S.|;'S;=`/h<%lO.|U/kP;=`<%l.|U/sO!dUV/vP;=`<%l,oV0OZ&wPOY,oYZ0qZ],o]^0x^!^,o!^!_-i!_!`,o!`!a$z!a;'S,o;'S;=`/s<%lO,oV0xO&wP!dUV1PV&wP!dUOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV1oZ&wP$dQ!dUOY,oYZ%fZ],o]^$z^!^,o!^!_-i!_!a,o!a!b/y!b;'S,o;'S;=`/s<%lO,o_2i`&wP#dQOY$zYZ%fZ!^$z!^!_%k!_!c$z!c!}3k!}#R$z#R#S3k#S#T$z#T#o3k#o#p4w#p$g$z$g&j3k&j;'S$z;'S;=`&W<%lO$z_3ra&wP#b^OY$zYZ%fZ!Q$z!Q![3k![!^$z!^!_%k!_!c$z!c!}3k!}#R$z#R#S3k#S#T$z#T#o3k#o$g$z$g&j3k&j;'S$z;'S;=`&W<%lO$zV5OV&wP#eUOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR5lW&wP$VQOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR6]V#wQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV6yY#SU&wPOY$zYZ%fZv$zvw7iw!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR7pV#|Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR8^Z&wP%VQOY8VYZ9PZw8Vwx;_x!^8V!^!_;{!_#O8V#O#P<y#P;'S8V;'S;=`>V<%lO8VR9WV&wP%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X<%lO9mQ9rV%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X<%lO9mQ:^O%VQQ:aRO;'S9m;'S;=`:j;=`O9mQ:oW%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X;=`<%l9m<%lO9mQ;[P;=`<%l9mR;fV&wP%VQOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR<Q]%VQOY8VYZ9PZw8Vwx;_x!a8V!a!b9m!b#O8V#O#P<y#P;'S8V;'S;=`>V<%l~8V~O8V~~%fR=OW&wPOY8VYZ9PZ!^8V!^!_;{!_;'S8V;'S;=`=h;=`<%l9m<%lO8VR=mW%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X;=`<%l8V<%lO9mR>YP;=`<%l8VR>dV!yQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV?QV!xU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR?nY&wP$VQOY$zYZ%fZz$zz{@^{!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR@eW$WQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zRAUY$TQ&wPOY$zYZ%fZ{$z{|At|!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zRA{V$zQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRBiV!}Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$z_CXZ$TQ%TW&wPOY$zYZ%fZ}$z}!OAt!O!^$z!^!_%k!_!`6U!`!aCz!a;'S$z;'S;=`&W<%lO$zVDRV#`U&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zVDo[&wP$UQOY$zYZ%fZ!O$z!O!PEe!P!Q$z!Q![Fs![!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zVEjX&wPOY$zYZ%fZ!O$z!O!PFV!P!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zVF^V#UU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRFz_&wP%OQOY$zYZ%fZ!Q$z!Q![Fs![!^$z!^!_%k!_!g$z!g!hGy!h#R$z#R#SJc#S#X$z#X#YGy#Y;'S$z;'S;=`&W<%lO$zRHO]&wPOY$zYZ%fZ{$z{|Hw|}$z}!OHw!O!Q$z!Q![Ii![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRH|X&wPOY$zYZ%fZ!Q$z!Q![Ii![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRIpZ&wP%OQOY$zYZ%fZ!Q$z!Q![Ii![!^$z!^!_%k!_#R$z#R#SHw#S;'S$z;'S;=`&W<%lO$zRJhX&wPOY$zYZ%fZ!Q$z!Q![Fs![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zVK[[&wP$VQOY$zYZ%fZz$zz{LQ{!P$z!P!Q,o!Q!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zVLVX&wPOYLQYZLrZzLQz{N_{!^LQ!^!_! s!_;'SLQ;'S;=`!!i<%lOLQVLwT&wPOzMWz{Mj{;'SMW;'S;=`NX<%lOMWUMZTOzMWz{Mj{;'SMW;'S;=`NX<%lOMWUMmVOzMWz{Mj{!PMW!P!QNS!Q;'SMW;'S;=`NX<%lOMWUNXO!eUUN[P;=`<%lMWVNdZ&wPOYLQYZLrZzLQz{N_{!PLQ!P!Q! V!Q!^LQ!^!_! s!_;'SLQ;'S;=`!!i<%lOLQV! ^V!eU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV! vZOYLQYZLrZzLQz{N_{!aLQ!a!bMW!b;'SLQ;'S;=`!!i<%l~LQ~OLQ~~%fV!!lP;=`<%lLQZ!!vm&wP$}YOY$zYZ%fZ!O$z!O!PFs!P!Q$z!Q![!$q![!^$z!^!_%k!_!d$z!d!e!&o!e!g$z!g!hGy!h!q$z!q!r!(a!r!z$z!z!{!){!{#R$z#R#S!%}#S#U$z#U#V!&o#V#X$z#X#YGy#Y#c$z#c#d!(a#d#l$z#l#m!){#m;'S$z;'S;=`&W<%lO$zZ!$xa&wP$}YOY$zYZ%fZ!O$z!O!PFs!P!Q$z!Q![!$q![!^$z!^!_%k!_!g$z!g!hGy!h#R$z#R#S!%}#S#X$z#X#YGy#Y;'S$z;'S;=`&W<%lO$zZ!&SX&wPOY$zYZ%fZ!Q$z!Q![!$q![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zZ!&tY&wPOY$zYZ%fZ!Q$z!Q!R!'d!R!S!'d!S!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zZ!'k[&wP$}YOY$zYZ%fZ!Q$z!Q!R!'d!R!S!'d!S!^$z!^!_%k!_#R$z#R#S!&o#S;'S$z;'S;=`&W<%lO$zZ!(fX&wPOY$zYZ%fZ!Q$z!Q!Y!)R!Y!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zZ!)YZ&wP$}YOY$zYZ%fZ!Q$z!Q!Y!)R!Y!^$z!^!_%k!_#R$z#R#S!(a#S;'S$z;'S;=`&W<%lO$zZ!*Q]&wPOY$zYZ%fZ!Q$z!Q![!*y![!^$z!^!_%k!_!c$z!c!i!*y!i#T$z#T#Z!*y#Z;'S$z;'S;=`&W<%lO$zZ!+Q_&wP$}YOY$zYZ%fZ!Q$z!Q![!*y![!^$z!^!_%k!_!c$z!c!i!*y!i#R$z#R#S!){#S#T$z#T#Z!*y#Z;'S$z;'S;=`&W<%lO$zR!,WX!qQ&wPOY$zYZ%fZ![$z![!]!,s!]!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!,zV#sQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!-hV!mU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!.S[$RQOY$zYZ%fZ!^$z!^!_!.x!_!`!/i!`!a*c!a!b!0]!b;'S$z;'S;=`&W<%l~$z~O$z~~%fR!/PW$SQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR!/pX$RQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`$z!`!a*c!a;'S$z;'S;=`&W<%lO$zP!0bR!iP!_!`!0k!r!s!0p#d#e!0pP!0pO!iPP!0sQ!j!k!0y#[#]!0yP!0|Q!r!s!0k#d#e!0kV!1ZX#uQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`)r!`!a!1v!a;'S$z;'S;=`&W<%lO$zV!1}V#OU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!2kX$RQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`!3W!`!a!.x!a;'S$z;'S;=`&W<%lO$zR!3_V$RQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!3{[!vQ&wPOY$zYZ%fZ}$z}!O!4q!O!^$z!^!_%k!_!`$z!`!a!6P!a!b!6m!b;'S$z;'S;=`&W<%lO$zV!4vX&wPOY$zYZ%fZ!^$z!^!_%k!_!`$z!`!a!5c!a;'S$z;'S;=`&W<%lO$zV!5jV#aU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!6WV!gU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!6tW#zQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR!7eV$]Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$z_!8Ra&wP!s^OY$zYZ%fZ!Q$z!Q![!7z![!^$z!^!_%k!_!c$z!c!}!7z!}#R$z#R#S!7z#S#T$z#T#o!7z#o$g$z$g&j!7z&j;'S$z;'S;=`&W<%lO$z_!9_e&wP!s^OY$zYZ%fZr$zrs!:psw$zwx8Vx!Q$z!Q![!7z![!^$z!^!_%k!_!c$z!c!}!7z!}#R$z#R#S!7z#S#T$z#T#o!7z#o$g$z$g&j!7z&j;'S$z;'S;=`&W<%lO$zR!:wV&wP'gQOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!;eV#WU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!<RV#pU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!<oV#XQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!=]W$OQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR!=zZ&wPOY!=uYZ!>mZ!^!=u!^!_!@u!_#O!=u#O#P!Aq#P#S!=u#S#T!B{#T;'S!=u;'S;=`!Ci<%lO!=uR!>rV&wPO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o<%lO!?XQ!?[VO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o<%lO!?XQ!?tRO;'S!?X;'S;=`!?};=`O!?XQ!@QWO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o;=`<%l!?X<%lO!?XQ!@oO${QQ!@rP;=`<%l!?XR!@x]OY!=uYZ!>mZ!a!=u!a!b!?X!b#O!=u#O#P!Aq#P#S!=u#S#T!B{#T;'S!=u;'S;=`!Ci<%l~!=u~O!=u~~%fR!AvW&wPOY!=uYZ!>mZ!^!=u!^!_!@u!_;'S!=u;'S;=`!B`;=`<%l!?X<%lO!=uR!BcWO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o;=`<%l!=u<%lO!?XR!CSV${Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!ClP;=`<%l!=uV!CvV!oU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!DfY#}Q#lS&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`#p$z#p#q!EU#q;'S$z;'S;=`&W<%lO$zR!E]V#{Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!EyV!nQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!FgV$^Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$z",tokenizers:[kg,Pg,Tg,0,1,2,3,Cg],topRules:{Template:[0,72],Program:[1,232]},dynamicPrecedences:{284:1},specialized:[{term:81,get:(e,t)=>bg(e)<<1,external:bg},{term:81,get:e=>Qg[e]||-1}],tokenPrec:29354}),Mg={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Dg={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Ig={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Rg(e){return 9==e||10==e||13==e||32==e}let zg=null,Ng=null,Lg=0;function jg(e,t){let n=e.pos+t;if(Lg==n&&Ng==e)return zg;let o=e.peek(t);for(;Rg(o);)o=e.peek(++t);let i="";for(;45==(r=o)||46==r||58==r||r>=65&&r<=90||95==r||r>=97&&r<=122||r>=161;)i+=String.fromCharCode(o),o=e.peek(++t);var r;return Ng=e,Lg=n,zg=i?i.toLowerCase():o==Vg||o==Bg?void 0:null}const Vg=63,Bg=33;function Zg(e,t){this.name=e,this.parent=t}const Xg=[6,10,7,8,9],Wg=new tm({start:null,shift:(e,t,n,o)=>Xg.indexOf(t)>-1?new Zg(jg(o,1)||"",e):e,reduce:(e,t)=>20==t&&e?e.parent:e,reuse(e,t,n,o){let i=t.type.id;return 6==i||36==i?new Zg(jg(o,1)||"",e):e},strict:!1}),Ug=new Bp(((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(57));e.advance();let n=47==e.next;n&&e.advance();let o=jg(e,0);if(void 0===o)return;if(!o)return e.acceptToken(n?14:6);let i=t.context?t.context.name:null;if(n){if(o==i)return e.acceptToken(11);if(i&&Dg[i])return e.acceptToken(57,-2);if(t.dialectEnabled(0))return e.acceptToken(12);for(let e=t.context;e;e=e.parent)if(e.name==o)return;e.acceptToken(13)}else{if("script"==o)return e.acceptToken(7);if("style"==o)return e.acceptToken(8);if("textarea"==o)return e.acceptToken(9);if(Mg.hasOwnProperty(o))return e.acceptToken(10);i&&Ig[i]&&Ig[i][o]?e.acceptToken(57,-1):e.acceptToken(6)}}),{contextual:!0}),Yg=new Bp((e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(58);break}if(45==e.next)t++;else{if(62==e.next&&t>=2){n>=3&&e.acceptToken(58,-2);break}t=0}e.advance()}}));const Fg=new Bp(((e,t)=>{if(47==e.next&&62==e.peek(1)){let n=t.dialectEnabled(1)||function(e){for(;e;e=e.parent)if("svg"==e.name||"math"==e.name)return!0;return!1}(t.context);e.acceptToken(n?5:4,2)}else 62==e.next&&e.acceptToken(4,1)}));function qg(e,t,n){let o=2+e.length;return new Bp((i=>{for(let r=0,s=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(t);break}if(0==r&&60==i.next||1==r&&47==i.next||r>=2&&r<o&&i.next==e.charCodeAt(r-2))r++,s++;else if(2!=r&&r!=o||!Rg(i.next)){if(r==o&&62==i.next){a>s?i.acceptToken(t,-s):i.acceptToken(n,-(s-2));break}if((10==i.next||13==i.next)&&a){i.acceptToken(t,1);break}r=s=0}else s++;i.advance()}}))}const Hg=qg("script",54,1),Gg=qg("style",55,2),Kg=qg("textarea",56,3),Jg=Ga({"Text RawText":vl.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":vl.angleBracket,TagName:vl.tagName,"MismatchedCloseTag/TagName":[vl.tagName,vl.invalid],AttributeName:vl.attributeName,"AttributeValue UnquotedAttributeValue":vl.attributeValue,Is:vl.definitionOperator,"EntityReference CharacterReference":vl.character,Comment:vl.blockComment,ProcessingInst:vl.processingInstruction,DoctypeDecl:vl.documentMeta}),eO=nm.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Wg,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[Jg],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Hg,Gg,Kg,Fg,Ug,Yg,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function tO(e,t){let n=Object.create(null);for(let o of e.getChildren(23)){let e=o.getChild(24),i=o.getChild(26)||o.getChild(27);e&&(n[t.read(e.from,e.to)]=i?26==i.type.id?t.read(i.from+1,i.to-1):t.read(i.from,i.to):"")}return n}function nO(e,t){let n=e.getChild(22);return n?t.read(n.from,n.to):" "}function oO(e,t,n){let o;for(let i of n)if(!i.attrs||i.attrs(o||(o=tO(e.node.parent.firstChild,t))))return{parser:i.parser};return null}function iO(e=[],t=[]){let n=[],o=[],i=[],r=[];for(let t of e){("script"==t.tag?n:"style"==t.tag?o:"textarea"==t.tag?i:r).push(t)}let s=t.length?Object.create(null):null;for(let e of t)(s[e.name]||(s[e.name]=[])).push(e);return Ma(((e,t)=>{let a=e.type.id;if(28==a)return oO(e,t,n);if(31==a)return oO(e,t,o);if(34==a)return oO(e,t,i);if(20==a&&r.length){let n,o=e.node,i=o.firstChild,s=i&&nO(i,t);if(s)for(let e of r)if(e.tag==s&&(!e.attrs||e.attrs(n||(n=tO(i,t))))){let t=o.lastChild,n=37==t.type.id?t.from:o.to;if(n>i.to)return{parser:e.parser,overlay:[{from:i.to,to:n}]}}}if(s&&23==a){let n,o=e.node;if(n=o.firstChild){let e=s[t.read(n.from,n.to)];if(e)for(let n of e){if(n.tagName&&n.tagName!=nO(o.parent,t))continue;let e=o.lastChild;if(26==e.type.id){let t=e.from+1,o=e.lastChild,i=e.to-(o&&o.isError?0:1);if(i>t)return{parser:n.parser,overlay:[{from:t,to:i}]}}else if(27==e.type.id)return{parser:n.parser,overlay:[{from:e.from,to:e.to}]}}}}return null}))}const rO=["_blank","_self","_top","_parent"],sO=["ascii","utf-8","utf-16","latin1","latin1"],aO=["get","post","put","delete"],lO=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],cO=["true","false"],uO={},dO={a:{attrs:{href:null,ping:null,type:null,media:null,target:rO,hreflang:null}},abbr:uO,address:uO,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:uO,aside:uO,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:uO,base:{attrs:{href:null,target:rO}},bdi:uO,bdo:uO,blockquote:{attrs:{cite:null}},body:uO,br:uO,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:lO,formmethod:aO,formnovalidate:["novalidate"],formtarget:rO,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:uO,center:uO,cite:uO,code:uO,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:uO,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:uO,div:uO,dl:uO,dt:uO,em:uO,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:uO,figure:uO,footer:uO,form:{attrs:{action:null,name:null,"accept-charset":sO,autocomplete:["on","off"],enctype:lO,method:aO,novalidate:["novalidate"],target:rO}},h1:uO,h2:uO,h3:uO,h4:uO,h5:uO,h6:uO,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:uO,hgroup:uO,hr:uO,html:{attrs:{manifest:null}},i:uO,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:lO,formmethod:aO,formnovalidate:["novalidate"],formtarget:rO,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:uO,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:uO,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:uO,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:sO,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:uO,noscript:uO,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:uO,param:{attrs:{name:null,value:null}},pre:uO,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:uO,rt:uO,ruby:uO,samp:uO,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:sO}},section:uO,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:uO,source:{attrs:{src:null,type:null,media:null}},span:uO,strong:uO,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:uO,summary:uO,sup:uO,table:uO,tbody:uO,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:uO,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:uO,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:uO,time:{attrs:{datetime:null}},title:uO,tr:uO,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:uO,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:uO},hO={accesskey:null,class:null,contenteditable:cO,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:cO,autocorrect:cO,autocapitalize:cO,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":cO,"aria-autocomplete":["inline","list","both","none"],"aria-busy":cO,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":cO,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":cO,"aria-hidden":cO,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":cO,"aria-multiselectable":cO,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":cO,"aria-relevant":null,"aria-required":cO,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},fO="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map((e=>"on"+e));for(let e of fO)hO[e]=null;class pO{constructor(e,t){this.tags=Object.assign(Object.assign({},dO),e),this.globalAttrs=Object.assign(Object.assign({},hO),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}function mO(e,t,n=e.length){if(!t)return"";let o=t.firstChild,i=o&&o.getChild("TagName");return i?e.sliceString(i.from,Math.min(i.to,n)):""}function gO(e,t=!1){for(;e;e=e.parent)if("Element"==e.name){if(!t)return e;t=!1}return null}function OO(e,t,n){let o=n.tags[mO(e,gO(t))];return(null==o?void 0:o.children)||n.allTags}function vO(e,t){let n=[];for(let o=gO(t);o&&!o.type.isTop;o=gO(o.parent)){let i=mO(e,o);if(i&&"CloseTag"==o.lastChild.name)break;i&&n.indexOf(i)<0&&("EndTag"==t.name||t.from>=o.firstChild.to)&&n.push(i)}return n}pO.default=new pO;const bO=/^[:\-\.\w\u00b7-\uffff]*$/;function yO(e,t,n,o,i){let r=/\s*>/.test(e.sliceDoc(i,i+5))?"":">",s=gO(n,!0);return{from:o,to:i,options:OO(e.doc,s,t).map((e=>({label:e,type:"type"}))).concat(vO(e.doc,n).map(((e,t)=>({label:"/"+e,apply:"/"+e+r,type:"type",boost:99-t})))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function xO(e,t,n,o){let i=/\s*>/.test(e.sliceDoc(o,o+5))?"":">";return{from:n,to:o,options:vO(e.doc,t).map(((e,t)=>({label:e,apply:e+i,type:"type",boost:99-t}))),validFor:bO}}function wO(e,t){let{state:n,pos:o}=t,i=Cl(n).resolveInner(o,-1),r=i.resolve(o);for(let e,t=o;r==i&&(e=i.childBefore(t));){let n=e.lastChild;if(!n||!n.type.isError||n.from<n.to)break;r=i=e,t=n.from}return"TagName"==i.name?i.parent&&/CloseTag$/.test(i.parent.name)?xO(n,i,i.from,o):yO(n,e,i,i.from,o):"StartTag"==i.name?yO(n,e,i,o,o):"StartCloseTag"==i.name||"IncompleteCloseTag"==i.name?xO(n,i,o,o):"OpenTag"==i.name||"SelfClosingTag"==i.name||"AttributeName"==i.name?function(e,t,n,o,i){let r=gO(n),s=r?t.tags[mO(e.doc,r)]:null,a=s&&s.attrs?Object.keys(s.attrs):[];return{from:o,to:i,options:(s&&!1===s.globalAttrs?a:a.length?a.concat(t.globalAttrNames):t.globalAttrNames).map((e=>({label:e,type:"property"}))),validFor:bO}}(n,e,i,"AttributeName"==i.name?i.from:o,o):"Is"==i.name||"AttributeValue"==i.name||"UnquotedAttributeValue"==i.name?function(e,t,n,o,i){var r;let s,a=null===(r=n.parent)||void 0===r?void 0:r.getChild("AttributeName"),l=[];if(a){let r=e.sliceDoc(a.from,a.to),c=t.globalAttrs[r];if(!c){let o=gO(n),i=o?t.tags[mO(e.doc,o)]:null;c=(null==i?void 0:i.attrs)&&i.attrs[r]}if(c){let t=e.sliceDoc(o,i).toLowerCase(),n='"',r='"';/^['"]/.test(t)?(s='"'==t[0]?/^[^"]*$/:/^[^']*$/,n="",r=e.sliceDoc(i,i+1)==t[0]?"":t[0],t=t.slice(1),o++):s=/^[^\s<>='"]*$/;for(let e of c)l.push({label:e,apply:n+e+r,type:"constant"})}}return{from:o,to:i,options:l,validFor:s}}(n,e,i,"Is"==i.name?o:i.from,o):!t.explicit||"Element"!=r.name&&"Text"!=r.name&&"Document"!=r.name?null:function(e,t,n,o){let i=[],r=0;for(let o of OO(e.doc,n,t))i.push({label:"<"+o,type:"type"});for(let t of vO(e.doc,n))i.push({label:"</"+t+">",type:"type",boost:99-r++});return{from:o,to:o,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(n,e,i,o)}function SO(e){let{extraTags:t,extraGlobalAttributes:n}=e,o=n||t?new pO(t,n):pO.default;return e=>wO(o,e)}const _O=Pm.parser.configure({top:"SingleExpression"}),kO=[{tag:"script",attrs:e=>"text/typescript"==e.type||"ts"==e.lang,parser:Qm.parser},{tag:"script",attrs:e=>"text/babel"==e.type||"text/jsx"==e.type,parser:Em.parser},{tag:"script",attrs:e=>"text/typescript-jsx"==e.type,parser:Mm.parser},{tag:"script",attrs:e=>/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(e.type),parser:_O},{tag:"script",attrs:e=>!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type),parser:Pm.parser},{tag:"style",attrs:e=>(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type)),parser:hg.parser}],CO=[{name:"style",parser:hg.parser.configure({top:"Styles"})}].concat(fO.map((e=>({name:e,parser:Pm.parser})))),TO=kl.define({name:"html",parser:eO.configure({props:[Zl.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit,Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t,n=null;for(let t=e.node;;){let e=t.lastChild;if(!e||"Element"!=e.name||e.to!=t.to)break;n=t=e}return n&&(!(t=n.lastChild)||"CloseTag"!=t.name&&"SelfClosingTag"!=t.name)?e.lineIndent(n.from)+e.unit:null}}),ec.add({Element(e){let t=e.firstChild,n=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==n.name?n.from:e.to}:null}}),Vc.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),$O=TO.configure({wrap:iO(kO,CO)});const PO=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),AO=lr.inputHandler.of(((e,t,n,o,i)=>{if(e.composing||e.state.readOnly||t!=n||">"!=o&&"/"!=o||!$O.isActiveAt(e.state,t,-1))return!1;let r=i(),{state:s}=r,a=s.changeByRange((e=>{var t,n,i;let r,a=s.doc.sliceString(e.from-1,e.to)==o,{head:l}=e,c=Cl(s).resolveInner(l,-1);if(a&&">"==o&&"EndTag"==c.name){let o=c.parent;if("CloseTag"!=(null===(n=null===(t=o.parent)||void 0===t?void 0:t.lastChild)||void 0===n?void 0:n.name)&&(r=mO(s.doc,o.parent,l))&&!PO.has(r)){return{range:e,changes:{from:l,to:l+(">"===s.doc.sliceString(l,l+1)?1:0),insert:`</${r}>`}}}}else if(a&&"/"==o&&"IncompleteCloseTag"==c.name){let e=c.parent;if(c.from==l-2&&"CloseTag"!=(null===(i=e.lastChild)||void 0===i?void 0:i.name)&&(r=mO(s.doc,e,l))&&!PO.has(r)){let e=l+(">"===s.doc.sliceString(l,l+1)?1:0),t=`${r}>`;return{range:L.cursor(l+t.length,-1),changes:{from:l,to:e,insert:t}}}}return{range:e}}));return!a.changes.empty&&(e.dispatch([r,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)})),QO=kl.define({name:"php",parser:Eg.configure({props:[Zl.add({IfStatement:Kl({except:/^\s*({|else\b|elseif\b|endif\b)/}),TryStatement:Kl({except:/^\s*({|catch\b|finally\b)/}),SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),o=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:o?1:2)*e.unit},ColonBlock:e=>e.baseIndent+e.unit,"Block EnumBody DeclarationList":ql({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"String BlockComment":()=>null,Statement:Kl({except:/^({|end(for|foreach|switch|while)\b)/})}),ec.add({"Block EnumBody DeclarationList SwitchBody ArrayExpression ValueList":tc,ColonBlock:e=>({from:e.from+1,to:e.to}),BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"},line:"//"},indentOnInput:/^\s*(?:case |default:|end(?:if|for(?:each)?|switch|while)|else(?:if)?|\{|\})$/,wordChars:"$",closeBrackets:{stringPrefixes:["b","B"]}}});var EO=n(9726),MO=n(5199),DO=n.n(MO),IO=(n(7741),n(6075),n(7726),n(5983),n(1627),n(3847),n(378),n(5775),n(1694),n(7426),n(2205),n(9638),n(4228),n(7461),n(4665),n(9289),n(128),n(8760),{"3:2":"3:2","4:3":"4:3","5:4":"5:4","7:5":"7:5","16:9":"16:9",Apply:"適用",Arrow:"矢印","Arrow-2":"矢印2","Arrow-3":"矢印3",Blend:"ブレンド",Blur:"ぼかし",Bold:"太字",Brightness:"明るさ",Bubble:"吹き出し",Cancel:"キャンセル",Center:"中央",Circle:"円",Color:"色","Color Filter":"カラーフィルター",Crop:"切り抜き",Custom:"カスタム","Custom icon":"カスタムアイコン",Delete:"削除",DeleteAll:"すべて削除",Distance:"距離",Download:"ダウンロード",Draw:"描画",Emboss:"エンボス",Fill:"塗りつぶし",Filter:"フィルター",Flip:"反転","Flip X":"左右反転","Flip Y":"上下反転",Free:"自由",Grayscale:"グレースケール",Hand:"手のひらツール",Heart:"ハート",History:"履歴",Icon:"アイコン",Invert:"階調の反転",Italic:"斜体",Left:"左",Load:"読み込み","Load Mask Image":"マスク画像を読み込む",Location:"位置",Mask:"マスク",Multiply:"乗算",Noise:"ノイズ",Pixelate:"モザイク",Polygon:"多角形",Range:"範囲",Rectangle:"長方形",Redo:"やり直し","Remove White":"白背景を削除",Reset:"リセット",Resize:"リサイズ",Right:"右",Rotate:"回転",Sepia:"セピア",Sepia2:"セピア2",Shape:"図形",Sharpen:"シャープ",Square:"正方形","Star-1":"星1","Star-2":"星2",Straight:"直線",Stroke:"線",Text:"テキスト","Text size":"文字サイズ",Threshold:"しきい値",Tint:"色合い",Triangle:"三角形",Underline:"下線",Undo:"元に戻す",Value:"値",ZoomIn:"拡大",ZoomOut:"縮小"});function RO(e){return RO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RO(e)}function zO(){zO=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n,o){return Object.defineProperty(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,o,i){var r=n&&n.prototype instanceof h?n:h,s=Object.create(r.prototype);return l(s,"_invoke",function(t,n,o){var i=1;return function(r,s){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===r)throw s;return{value:e,done:!0}}for(o.method=r,o.arg=s;;){var a=o.delegate;if(a){var l=x(a,o);if(l){if(l===d)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(1===i)throw i=4,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=3;var c=u(t,n,o);if("normal"===c.type){if(i=o.done?4:2,c.arg===d)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=4,o.method="throw",o.arg=c.arg)}}}(t,o,new _(i||[])),!0),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,r,(function(){return this}));var g=Object.getPrototypeOf,O=g&&g(g(k([])));O&&O!==n&&o.call(O,r)&&(m=O);var v=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function n(i,r,s,a){var l=u(e[i],e,r);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==RO(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var i;l(this,"_invoke",(function(e,o){function r(){return new t((function(t,i){n(e,o,t,i)}))}return i=i?i.then(r,r):r()}),!0)}function x(t,n){var o=n.method,i=t.i[o];if(i===e)return n.delegate=null,"throw"===o&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),d;var r=u(i,t.i,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;var s=r.arg;return s?s.done?(n[t.r]=s.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function w(e){this.tryEntries.push(e)}function S(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function k(t){if(null!=t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(RO(t)+" is not iterable")}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var s=new y(c(e,n,o,i),r);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),l(v,a,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.unshift(o);return function e(){for(;n.length;)if((o=n.pop())in t)return e.value=o,e.done=!1,e;return e.done=!0,e}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(e){s.type="throw",s.arg=t,n.next=e}for(var i=n.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],s=r[4],a=this.prev,l=r[1],c=r[2];if(-1===r[0])return o("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=r[0]&&r[0]<=a){if(a<l)return this.method="next",this.arg=e,o(l),!0;if(a<c)return o(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o[0]>-1&&o[0]<=this.prev&&this.prev<o[2]){var i=o;break}}i&&("break"===e||"continue"===e)&&i[0]<=t&&t<=i[2]&&(i=null);var r=i?i[4]:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i[2],d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var o=n[4];if("throw"===o.type){var i=o.arg;S(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={i:k(t),r:n,n:o},"next"===this.method&&(this.arg=e),d}},t}function NO(e,t,n,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,i)}function LO(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function s(e){NO(r,o,i,s,a,"next",e)}function a(e){NO(r,o,i,s,a,"throw",e)}s(void 0)}))}}tinymce.PluginManager.add("cc_image_editor",(function(e,t){var n=null,o=null,i=function(e){return new Promise((function(t,n){if(e){var o=new Image;o.onload=function(){return t()},o.onerror=function(){return n(new Error("Failed to load image at: ".concat(e)))},o.src=e}else n(new Error("Image URL is empty."))}))},r=function(){var t=LO(zO().mark((function t(){var r,a,l,c,u,d,h,f;return zO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.selection.getNode())&&"IMG"===r.nodeName){t.next=4;break}return console.error("No image selected or selected node is not an image."),t.abrupt("return");case 4:return a=r.getAttribute("src"),t.prev=5,t.next=8,i(a);case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(5),console.error(t.t0.message),e.notificationManager.open({text:"画像が見つからないか、アクセスできません。",type:"error",timeout:5e3}),t.abrupt("return");case 15:if(l=r.getAttribute("alt")||"edited_image.png",o?(o.innerHTML="",o.style.display="flex"):((o=document.createElement("div")).id="tui-image-editor-container-modal",Object.assign(o.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.85)",zIndex:"20000",display:"flex",alignItems:"center",justifyContent:"center"}),document.body.appendChild(o)),(c=document.createElement("div")).id="tui-image-editor-instance-div",Object.assign(c.style,{width:"90vw",maxWidth:"1200px",height:"85vh",maxHeight:"800px",backgroundColor:"#1e1e1e",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column"}),o.appendChild(c),(u=document.createElement("div")).id="cc-tui-actual-editor",u.style.width="100%",u.style.height="calc(100% - 50px)",c.appendChild(u),n){try{n.destroy()}catch(e){console.warn("Error destroying previous TUI editor instance:",e)}n=null}n=new ImageEditor("#".concat(u.id),{includeUI:{loadImage:{path:a,name:l},uiSize:{width:"100%",height:"100%"},locale:IO},usageStatistics:!1}),(d=document.createElement("div")).id="tui-editor-controls",Object.assign(d.style,{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px",backgroundColor:"#151515",height:"50px",boxSizing:"border-box"}),(h=document.createElement("button")).innerText="適用",h.classList.add("btn","btn-primary","mr-2"),h.onclick=LO(zO().mark((function t(){var o,i,a,l,c,u,d,h,f,p,m,g,O,v,b,y,x;return zO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return a=n.toDataURL(),t.prev=3,t.next=6,fetch(a);case 6:return c=t.sent,t.next=9,c.blob();case 9:l=t.sent,t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(3),console.error("Error converting Base64 to Blob:",t.t0),alert("画像の処理に失敗しました。"),t.abrupt("return");case 17:return u=new FormData,d=null===(o=document.querySelector('meta[name="csrf-token"]'))||void 0===o?void 0:o.getAttribute("content"),h=null===(i=document.querySelector('meta[name="_page_id"]'))||void 0===i?void 0:i.getAttribute("content"),f=l.type||"image/png",p=f.split("/")[1]||"png",m=(m=r.getAttribute("alt")||"edited-image").replace(/\.[^/.]+$/,""),g="".concat(m,".").concat(p),u.append("image",l,g),u.append("_token",d),u.append("page_id",h),u.append("plugin_name",e.options.get("cc_config").plugin_name),t.prev=29,t.next=32,fetch(e.getParam("document_base_url")+"/upload",{method:"POST",headers:{"X-CSRF-TOKEN":d},body:u});case 32:if((O=t.sent).ok){t.next=46;break}return v="画像のアップロードに失敗しました: ".concat(O.statusText),t.prev=35,t.next=38,O.json();case 38:b=t.sent,v=b.message||b.error||v,t.next=45;break;case 42:t.prev=42,t.t1=t.catch(35),console.warn("Could not parse error response as JSON.");case 45:throw new Error(v);case 46:return t.next=48,O.json();case 48:if(y=t.sent,x=y.location){t.next=52;break}throw new Error("サーバーからのレスポンスに画像URLが含まれていません。");case 52:r&&e.undoManager.transact((function(){e.dom.setAttrib(r,"src",x),e.dispatch("Change")})),s(),t.next=60;break;case 56:t.prev=56,t.t2=t.catch(29),console.error("Upload failed:",t.t2),alert(t.t2.message||"画像のアップロード中にエラーが発生しました。");case 60:case"end":return t.stop()}}),t,null,[[3,12],[29,56],[35,42]])}))),(f=document.createElement("button")).innerText="キャンセル",f.classList.add("btn","btn-secondary","mr-2"),f.onclick=function(){s()},d.appendChild(f),d.appendChild(h),c.appendChild(d);case 44:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}(),s=function(){if(n){try{n.destroy()}catch(e){console.warn("Error destroying TUI editor instance on close:",e)}n=null}o&&(o.style.display="none",o.innerHTML="")};return e.ui.registry.addContextToolbar("customImageEditToolbar",{predicate:function(e){return"IMG"===e.nodeName},items:"customEditImageButton",position:"node",scope:"node"}),e.ui.registry.addButton("customEditImageButton",{icon:"edit-image",tooltip:"画像を編集",onAction:r}),e.on("remove",(function(){s(),o&&o.parentNode&&(o.parentNode.removeChild(o),o=null)})),{getMetadata:function(){return{name:"Custom Image Edit (Context Toolbar & Undo)",url:"https://connect-cms.jp"}}}}));n(7549),n(8407);var jO=n(5456),VO=n.n(jO),BO=n(5072),ZO=n.n(BO),XO=n(1093),WO={insert:"head",singleton:!1};ZO()(XO.A,WO);XO.A.locals;var UO=n(1145),YO={insert:"head",singleton:!1};ZO()(UO.A,YO);UO.A.locals;window._=n(2543);try{window.$=window.jQuery=n(4692),n(2754)}catch(e){}window.axios=n(6425),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var FO=document.head.querySelector('meta[name="csrf-token"]');FO?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=FO.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token"),window.tempusDominus=n(2969),window.Sortable=n(246).Ay,window.EditorView=lr,window.placeholder=function(e){let t=lo.fromClass(class{constructor(t){this.view=t,this.placeholder=e?dn.set([dn.widget({widget:new Kr(e),side:1}).range(0)]):dn.none}get decorations(){return this.view.state.doc.length?dn.none:this.placeholder}},{decorations:e=>e.decorations});return"string"==typeof e?[t,lr.contentAttributes.of({"aria-placeholder":e})]:t},window.basicSetup=Ap,window.javascript=zm,window.css=fg,window.java=function(){return new Rl(Og)},window.php=function(e={}){let t,n=[];if(null===e.baseLanguage);else if(e.baseLanguage)t=e.baseLanguage;else{let e=function(e={}){let t,n="";!1===e.matchClosingTags&&(n="noMatch"),!0===e.selfClosingTags&&(n=(n?n+" ":"")+"selfClosing"),(e.nestedLanguages&&e.nestedLanguages.length||e.nestedAttributes&&e.nestedAttributes.length)&&(t=iO((e.nestedLanguages||[]).concat(kO),(e.nestedAttributes||[]).concat(CO)));let o=t?TO.configure({wrap:t,dialect:n}):n?$O.configure({dialect:n}):$O;return new Rl(o,[$O.data.of({autocomplete:SO(e)}),!1!==e.autoCloseTags?AO:[],zm().support,fg().support])}({matchClosingTags:!1});n.push(e.support),t=e.language}return new Rl(QO.configure({wrap:t&&Ma((e=>e.type.isTop?{parser:t.parser,overlay:e=>"Text"==e.name}:null)),top:e.plain?"Program":"Template"}),n)},window.createApp=EO.Ef;var qO=n(4353),HO=n(3826),GO=n(8569);qO.extend(HO),qO.extend(GO),window.dayjs=qO,window.tinymce=DO(),window.ImageEditor=VO()},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);o&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},6425:(e,t,n)=>{"use strict";var o=n(5606),i=n(8287).hp;function r(e,t){return function(){return e.apply(t,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:a}=Object,{iterator:l,toStringTag:c}=Symbol,u=(d=Object.create(null),e=>{const t=s.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const h=e=>(e=e.toLowerCase(),t=>u(t)===e),f=e=>t=>typeof t===e,{isArray:p}=Array,m=f("undefined");const g=h("ArrayBuffer");const O=f("string"),v=f("function"),b=f("number"),y=e=>null!==e&&"object"==typeof e,x=e=>{if("object"!==u(e))return!1;const t=a(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||c in e||l in e)},w=h("Date"),S=h("File"),_=h("Blob"),k=h("FileList"),C=h("URLSearchParams"),[T,$,P,A]=["ReadableStream","Request","Response","Headers"].map(h);function Q(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let o,i;if("object"!=typeof e&&(e=[e]),p(e))for(o=0,i=e.length;o<i;o++)t.call(null,e[o],o,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let s;for(o=0;o<r;o++)s=i[o],t.call(null,e[s],s,e)}}function E(e,t){t=t.toLowerCase();const n=Object.keys(e);let o,i=n.length;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,D=e=>!m(e)&&e!==M;const I=(R="undefined"!=typeof Uint8Array&&a(Uint8Array),e=>R&&e instanceof R);var R;const z=h("HTMLFormElement"),N=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),L=h("RegExp"),j=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};Q(n,((n,i)=>{let r;!1!==(r=t(n,i,e))&&(o[i]=r||n)})),Object.defineProperties(e,o)};const V=h("AsyncFunction"),B=(Z="function"==typeof setImmediate,X=v(M.postMessage),Z?setImmediate:X?(W=`axios@${Math.random()}`,U=[],M.addEventListener("message",(({source:e,data:t})=>{e===M&&t===W&&U.length&&U.shift()()}),!1),e=>{U.push(e),M.postMessage(W,"*")}):e=>setTimeout(e));var Z,X,W,U;const Y="undefined"!=typeof queueMicrotask?queueMicrotask.bind(M):void 0!==o&&o.nextTick||B;var F={isArray:p,isArrayBuffer:g,isBuffer:function(e){return null!==e&&!m(e)&&null!==e.constructor&&!m(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=u(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:O,isNumber:b,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:x,isReadableStream:T,isRequest:$,isResponse:P,isHeaders:A,isUndefined:m,isDate:w,isFile:S,isBlob:_,isRegExp:L,isFunction:v,isStream:e=>y(e)&&v(e.pipe),isURLSearchParams:C,isTypedArray:I,isFileList:k,forEach:Q,merge:function e(){const{caseless:t}=D(this)&&this||{},n={},o=(o,i)=>{const r=t&&E(n,i)||i;x(n[r])&&x(o)?n[r]=e(n[r],o):x(o)?n[r]=e({},o):p(o)?n[r]=o.slice():n[r]=o};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Q(arguments[e],o);return n},extend:(e,t,n,{allOwnKeys:o}={})=>(Q(t,((t,o)=>{n&&v(t)?e[o]=r(t,n):e[o]=t}),{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,o)=>{let i,r,s;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),r=i.length;r-- >0;)s=i[r],o&&!o(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:u,kindOfTest:h,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return-1!==o&&o===n},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!b(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[l]).call(e);let o;for(;(o=n.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const o=[];for(;null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:z,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:j,freezeMethods:e=>{j(e,((t,n)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=e[n];v(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},o=e=>{e.forEach((e=>{n[e]=!0}))};return p(e)?o(e):o(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:E,global:M,isContextDefined:D,isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[c]&&e[l])},toJSONObject:e=>{const t=new Array(10),n=(e,o)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[o]=e;const i=p(e)?[]:{};return Q(e,((e,t)=>{const r=n(e,o+1);!m(r)&&(i[t]=r)})),t[o]=void 0,i}}return e};return n(e,0)},isAsyncFn:V,isThenable:e=>e&&(y(e)||v(e))&&v(e.then)&&v(e.catch),setImmediate:B,asap:Y,isIterable:e=>null!=e&&v(e[l])};function q(e,t,n,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const H=q.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(q,G),Object.defineProperty(H,"isAxiosError",{value:!0}),q.from=(e,t,n,o,i,r)=>{const s=Object.create(H);return F.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),q.call(s,e.message,t,n,o,i),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};function K(e){return F.isPlainObject(e)||F.isArray(e)}function J(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function ee(e,t,n){return e?e.concat(t).map((function(e,t){return e=J(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const te=F.toFlatObject(F,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ne(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const o=(n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!F.isUndefined(t[e])}))).metaTokens,r=n.visitor||u,s=n.dots,a=n.indexes,l=(n.Blob||"undefined"!=typeof Blob&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(r))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(F.isDate(e))return e.toISOString();if(!l&&F.isBlob(e))throw new q("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(e)||F.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):i.from(e):e}function u(e,n,i){let r=e;if(e&&!i&&"object"==typeof e)if(F.endsWith(n,"{}"))n=o?n:n.slice(0,-2),e=JSON.stringify(e);else if(F.isArray(e)&&function(e){return F.isArray(e)&&!e.some(K)}(e)||(F.isFileList(e)||F.endsWith(n,"[]"))&&(r=F.toArray(e)))return n=J(n),r.forEach((function(e,o){!F.isUndefined(e)&&null!==e&&t.append(!0===a?ee([n],o,s):null===a?n:n+"[]",c(e))})),!1;return!!K(e)||(t.append(ee(i,n,s),c(e)),!1)}const d=[],h=Object.assign(te,{defaultVisitor:u,convertValue:c,isVisitable:K});if(!F.isObject(e))throw new TypeError("data must be an object");return function e(n,o){if(!F.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+o.join("."));d.push(n),F.forEach(n,(function(n,i){!0===(!(F.isUndefined(n)||null===n)&&r.call(t,n,F.isString(i)?i.trim():i,o,h))&&e(n,o?o.concat(i):[i])})),d.pop()}}(e),t}function oe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ie(e,t){this._pairs=[],e&&ne(e,this,t)}const re=ie.prototype;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ae(e,t,n){if(!t)return e;const o=n&&n.encode||se;F.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(r=i?i(t,n):F.isURLSearchParams(t)?t.toString():new ie(t,n).toString(o),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}re.append=function(e,t){this._pairs.push([e,t])},re.toString=function(e){const t=e?function(t){return e.call(this,t,oe)}:oe;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var le=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ce={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ue={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const de="undefined"!=typeof window&&"undefined"!=typeof document,he="object"==typeof navigator&&navigator||void 0,fe=de&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),pe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,me=de&&window.location.href||"http://localhost";var ge={...Object.freeze({__proto__:null,hasBrowserEnv:de,hasStandardBrowserWebWorkerEnv:pe,hasStandardBrowserEnv:fe,navigator:he,origin:me}),...ue};function Oe(e){function t(e,n,o,i){let r=e[i++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=i>=e.length;if(r=!r&&F.isArray(o)?o.length:r,a)return F.hasOwnProp(o,r)?o[r]=[o[r],n]:o[r]=n,!s;o[r]&&F.isObject(o[r])||(o[r]=[]);return t(e,n,o[r],i)&&F.isArray(o[r])&&(o[r]=function(e){const t={},n=Object.keys(e);let o;const i=n.length;let r;for(o=0;o<i;o++)r=n[o],t[r]=e[r];return t}(o[r])),!s}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,((e,o)=>{t(function(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),o,n,0)})),n}return null}const ve={transitional:ce,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",o=n.indexOf("application/json")>-1,i=F.isObject(e);i&&F.isHTMLForm(e)&&(e=new FormData(e));if(F.isFormData(e))return o?JSON.stringify(Oe(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ne(e,new ge.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,o){return ge.isNode&&F.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=F.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ne(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),function(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,n=t&&t.forcedJSONParsing,o="json"===this.responseType;if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(n&&!this.responseType||o)){const n=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw q.from(e,q.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ge.classes.FormData,Blob:ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],(e=>{ve.headers[e]={}}));var be=ve;const ye=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const xe=Symbol("internals");function we(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:F.isArray(e)?e.map(Se):String(e)}function _e(e,t,n,o,i){return F.isFunction(o)?o.call(this,t,n):(i&&(t=n),F.isString(t)?F.isString(o)?-1!==t.indexOf(o):F.isRegExp(o)?o.test(t):void 0:void 0)}class ke{constructor(e){e&&this.set(e)}set(e,t,n){const o=this;function i(e,t,n){const i=we(t);if(!i)throw new Error("header name must be a non-empty string");const r=F.findKey(o,i);(!r||void 0===o[r]||!0===n||void 0===n&&!1!==o[r])&&(o[r||t]=Se(e))}const r=(e,t)=>F.forEach(e,((e,n)=>i(e,n,t)));if(F.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(F.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,o,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),o=e.substring(i+1).trim(),!n||t[n]&&ye[n]||("set-cookie"===n?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)})),t})(e),t);else if(F.isObject(e)&&F.isIterable(e)){let n,o,i={};for(const t of e){if(!F.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[o=t[0]]=(n=i[o])?F.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}r(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=we(e)){const n=F.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}(e);if(F.isFunction(t))return t.call(this,e,n);if(F.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=we(e)){const n=F.findKey(this,e);return!(!n||void 0===this[n]||t&&!_e(0,this[n],n,t))}return!1}delete(e,t){const n=this;let o=!1;function i(e){if(e=we(e)){const i=F.findKey(n,e);!i||t&&!_e(0,n[i],i,t)||(delete n[i],o=!0)}}return F.isArray(e)?e.forEach(i):i(e),o}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const i=t[n];e&&!_e(0,this[i],i,e,!0)||(delete this[i],o=!0)}return o}normalize(e){const t=this,n={};return F.forEach(this,((o,i)=>{const r=F.findKey(n,i);if(r)return t[r]=Se(o),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=Se(o),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return F.forEach(this,((n,o)=>{null!=n&&!1!==n&&(t[o]=e&&F.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[xe]=this[xe]={accessors:{}}).accessors,n=this.prototype;function o(e){const o=we(e);t[o]||(!function(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach((o=>{Object.defineProperty(e,o+n,{value:function(e,n,i){return this[o].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[o]=!0)}return F.isArray(e)?e.forEach(o):o(e),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(ke.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),F.freezeMethods(ke);var Ce=ke;function Te(e,t){const n=this||be,o=t||n,i=Ce.from(o.headers);let r=o.data;return F.forEach(e,(function(e){r=e.call(n,r,i.normalize(),t?t.status:void 0)})),i.normalize(),r}function $e(e){return!(!e||!e.__CANCEL__)}function Pe(e,t,n){q.call(this,null==e?"canceled":e,q.ERR_CANCELED,t,n),this.name="CanceledError"}function Ae(e,t,n){const o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}F.inherits(Pe,q,{__CANCEL__:!0});const Qe=(e,t,n=3)=>{let o=0;const i=function(e,t){e=e||10;const n=new Array(e),o=new Array(e);let i,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=o[s];i||(i=l),n[r]=a,o[r]=l;let u=s,d=0;for(;u!==r;)d+=n[u++],u%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,o,i=0,r=1e3/t;const s=(t,r=Date.now())=>{i=r,n=null,o&&(clearTimeout(o),o=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=r?s(e,t):(n=e,o||(o=setTimeout((()=>{o=null,s(n)}),r-a)))},()=>n&&s(n)]}((n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,a=r-o,l=i(a);o=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},Ee=(e,t)=>{const n=null!=e;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},Me=e=>(...t)=>F.asap((()=>e(...t)));var De=ge.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ge.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ge.origin),ge.navigator&&/(msie|trident)/i.test(ge.navigator.userAgent)):()=>!0,Ie=ge.hasStandardBrowserEnv?{write(e,t,n,o,i,r){const s=[e+"="+encodeURIComponent(t)];F.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),F.isString(o)&&s.push("path="+o),F.isString(i)&&s.push("domain="+i),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Re(e,t,n){let o=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(o||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ze=e=>e instanceof Ce?{...e}:e;function Ne(e,t){t=t||{};const n={};function o(e,t,n,o){return F.isPlainObject(e)&&F.isPlainObject(t)?F.merge.call({caseless:o},e,t):F.isPlainObject(t)?F.merge({},t):F.isArray(t)?t.slice():t}function i(e,t,n,i){return F.isUndefined(t)?F.isUndefined(e)?void 0:o(void 0,e,0,i):o(e,t,0,i)}function r(e,t){if(!F.isUndefined(t))return o(void 0,t)}function s(e,t){return F.isUndefined(t)?F.isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function a(n,i,r){return r in t?o(n,i):r in e?o(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(ze(e),ze(t),0,!0)};return F.forEach(Object.keys(Object.assign({},e,t)),(function(o){const r=l[o]||i,s=r(e[o],t[o],o);F.isUndefined(s)&&r!==a||(n[o]=s)})),n}var Le=e=>{const t=Ne({},e);let n,{data:o,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Ce.from(a),t.url=ae(Re(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),F.isFormData(o))if(ge.hasStandardBrowserEnv||ge.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(ge.hasStandardBrowserEnv&&(i&&F.isFunction(i)&&(i=i(t)),i||!1!==i&&De(t.url))){const e=r&&s&&Ie.read(s);e&&a.set(r,e)}return t};var je="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const o=Le(e);let i=o.data;const r=Ce.from(o.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=o;function p(){c&&c(),u&&u(),o.cancelToken&&o.cancelToken.unsubscribe(s),o.signal&&o.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const o=Ce.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ae((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:o,config:e,request:m}),m=null}m.open(o.method.toUpperCase(),o.url,!0),m.timeout=o.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new q("Request aborted",q.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new q("Network Error",q.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const i=o.transitional||ce;o.timeoutErrorMessage&&(t=o.timeoutErrorMessage),n(new q(t,i.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,m)),m=null},void 0===i&&r.setContentType(null),"setRequestHeader"in m&&F.forEach(r.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),F.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),d&&"json"!==d&&(m.responseType=o.responseType),f&&([l,u]=Qe(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=Qe(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(o.cancelToken||o.signal)&&(s=t=>{m&&(n(!t||t.type?new Pe(null,e,m):t),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(s),o.signal&&(o.signal.aborted?s():o.signal.addEventListener("abort",s)));const O=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(o.url);O&&-1===ge.protocols.indexOf(O)?n(new q("Unsupported protocol "+O+":",q.ERR_BAD_REQUEST,e)):m.send(i||null)}))};var Ve=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,o=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;o.abort(t instanceof q?t:new Pe(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,i(new q(`timeout ${t} of ms exceeded`,q.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=o;return a.unsubscribe=()=>F.asap(s),a}};const Be=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let o,i=0;for(;i<n;)o=i+t,yield e.slice(i,o),i=o},Ze=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Xe=(e,t,n,o)=>{const i=async function*(e,t){for await(const n of Ze(e))yield*Be(n,t)}(e,t);let r,s=0,a=e=>{r||(r=!0,o&&o(e))};return new ReadableStream({async pull(e){try{const{done:t,value:o}=await i.next();if(t)return a(),void e.close();let r=o.byteLength;if(n){let e=s+=r;n(e)}e.enqueue(new Uint8Array(o))}catch(e){throw a(e),e}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},We="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ue=We&&"function"==typeof ReadableStream,Ye=We&&("function"==typeof TextEncoder?(Fe=new TextEncoder,e=>Fe.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Fe;const qe=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},He=Ue&&qe((()=>{let e=!1;const t=new Request(ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ge=Ue&&qe((()=>F.isReadableStream(new Response("").body))),Ke={stream:Ge&&(e=>e.body)};var Je;We&&(Je=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ke[e]&&(Ke[e]=F.isFunction(Je[e])?t=>t[e]():(t,n)=>{throw new q(`Response type '${e}' is not supported`,q.ERR_NOT_SUPPORT,n)})})));const et=async(e,t)=>{const n=F.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(F.isBlob(e))return e.size;if(F.isSpecCompliantForm(e)){const t=new Request(ge.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return F.isArrayBufferView(e)||F.isArrayBuffer(e)?e.byteLength:(F.isURLSearchParams(e)&&(e+=""),F.isString(e)?(await Ye(e)).byteLength:void 0)})(t):n};const tt={http:null,xhr:je,fetch:We&&(async e=>{let{url:t,method:n,data:o,signal:i,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Le(e);c=c?(c+"").toLowerCase():"text";let f,p=Ve([i,r&&r.toAbortSignal()],s);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&He&&"get"!==n&&"head"!==n&&0!==(g=await et(u,o))){let e,n=new Request(t,{method:"POST",body:o,duplex:"half"});if(F.isFormData(o)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Ee(g,Qe(Me(l)));o=Xe(n.body,65536,e,t)}}F.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:o,duplex:"half",credentials:i?d:void 0});let r=await fetch(f);const s=Ge&&("stream"===c||"response"===c);if(Ge&&(a||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=F.toFiniteNumber(r.headers.get("content-length")),[n,o]=a&&Ee(t,Qe(Me(a),!0))||[];r=new Response(Xe(r.body,65536,n,(()=>{o&&o(),m&&m()})),e)}c=c||"text";let O=await Ke[F.findKey(Ke,c)||"text"](r,e);return!s&&m&&m(),await new Promise(((t,n)=>{Ae(t,n,{data:O,headers:Ce.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:f})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new q("Network Error",q.ERR_NETWORK,e,f),{cause:t.cause||t});throw q.from(t,t&&t.code,e,f)}})};F.forEach(tt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const nt=e=>`- ${e}`,ot=e=>F.isFunction(e)||null===e||!1===e;var it=e=>{e=F.isArray(e)?e:[e];const{length:t}=e;let n,o;const i={};for(let r=0;r<t;r++){let t;if(n=e[r],o=n,!ot(n)&&(o=tt[(t=String(n)).toLowerCase()],void 0===o))throw new q(`Unknown adapter '${t}'`);if(o)break;i[t||"#"+r]=o}if(!o){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new q("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(nt).join("\n"):" "+nt(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return o};function rt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function st(e){rt(e),e.headers=Ce.from(e.headers),e.data=Te.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return it(e.adapter||be.adapter)(e).then((function(t){return rt(e),t.data=Te.call(e,e.transformResponse,t),t.headers=Ce.from(t.headers),t}),(function(t){return $e(t)||(rt(e),t&&t.response&&(t.response.data=Te.call(e,e.transformResponse,t.response),t.response.headers=Ce.from(t.response.headers))),Promise.reject(t)}))}const at="1.9.0",lt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{lt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ct={};lt.transitional=function(e,t,n){function o(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,r)=>{if(!1===e)throw new q(o(i," has been removed"+(t?" in "+t:"")),q.ERR_DEPRECATED);return t&&!ct[i]&&(ct[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,r)}},lt.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};var ut={assertOptions:function(e,t,n){if("object"!=typeof e)throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let i=o.length;for(;i-- >0;){const r=o[i],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new q("option "+r+" must be "+n,q.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new q("Unknown option "+r,q.ERR_BAD_OPTION)}},validators:lt};const dt=ut.validators;class ht{constructor(e){this.defaults=e||{},this.interceptors={request:new le,response:new le}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ne(this.defaults,t);const{transitional:n,paramsSerializer:o,headers:i}=t;void 0!==n&&ut.assertOptions(n,{silentJSONParsing:dt.transitional(dt.boolean),forcedJSONParsing:dt.transitional(dt.boolean),clarifyTimeoutError:dt.transitional(dt.boolean)},!1),null!=o&&(F.isFunction(o)?t.paramsSerializer={serialize:o}:ut.assertOptions(o,{encode:dt.function,serialize:dt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ut.assertOptions(t,{baseUrl:dt.spelling("baseURL"),withXsrfToken:dt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=i&&F.merge(i.common,i[t.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Ce.concat(r,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[st.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{c=st.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return ae(Re((e=Ne(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(e){ht.prototype[e]=function(t,n){return this.request(Ne(n||{},{method:e,url:t,data:(n||{}).data}))}})),F.forEach(["post","put","patch"],(function(e){function t(t){return function(n,o,i){return this.request(Ne(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}ht.prototype[e]=t(),ht.prototype[e+"Form"]=t(!0)}));var ft=ht;class pt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const o=new Promise((e=>{n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e,o,i){n.reason||(n.reason=new Pe(e,o,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pt((function(t){e=t})),cancel:e}}}var mt=pt;const gt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gt).forEach((([e,t])=>{gt[t]=e}));var Ot=gt;const vt=function e(t){const n=new ft(t),o=r(ft.prototype.request,n);return F.extend(o,ft.prototype,n,{allOwnKeys:!0}),F.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return e(Ne(t,n))},o}(be);vt.Axios=ft,vt.CanceledError=Pe,vt.CancelToken=mt,vt.isCancel=$e,vt.VERSION=at,vt.toFormData=ne,vt.AxiosError=q,vt.Cancel=vt.CanceledError,vt.all=function(e){return Promise.all(e)},vt.spread=function(e){return function(t){return e.apply(null,t)}},vt.isAxiosError=function(e){return F.isObject(e)&&!0===e.isAxiosError},vt.mergeConfig=Ne,vt.AxiosHeaders=Ce,vt.formToJSON=e=>Oe(F.isHTMLForm(e)?new FormData(e):e),vt.getAdapter=it,vt.HttpStatusCode=Ot,vt.default=vt,e.exports=vt},7235:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=i=e,o=(r=String).prototype,o.isPrototypeOf(n)||(null===(s=i.constructor)||void 0===s?void 0:s.name)===r.name)?"string":t;var n,o;var i,r,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),i=t("array"),r=n("boolean"),s=(a=void 0,e=>a===e);var a;const l=e=>!(e=>null==e)(e),c=n("function"),u=n("number"),d=()=>{},h=e=>()=>e,f=e=>e,p=(e,t)=>e===t;function m(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const g=e=>{e()},O=h(!1),v=h(!0);class b{constructor(e,t){this.tag=e,this.value=t}static some(e){return new b(!0,e)}static none(){return b.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?b.some(e(this.value)):b.none()}bind(e){return this.tag?e(this.value):b.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:b.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(!1);const y=Object.keys,x=Object.hasOwnProperty,w=(e,t)=>{const n=y(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}},S=(e,t)=>{const n={};var o;return((e,t,n,o)=>{w(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),d),n},_=e=>((e,t)=>{const n=[];return w(e,((e,o)=>{n.push(t(e,o))})),n})(e,f),k=e=>y(e).length,C=(e,t)=>T(e,t)?b.from(e[t]):b.none(),T=(e,t)=>x.call(e,t),$=(e,t)=>T(e,t)&&void 0!==e[t]&&null!==e[t],P=Array.prototype.indexOf,A=Array.prototype.push,Q=(e,t)=>((e,t)=>P.call(e,t))(e,t)>-1,E=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},M=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},D=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},I=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},R=(e,t)=>{const n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];t(i,o)&&n.push(i)}return n},z=(e,t,n)=>(I(e,((e,o)=>{n=t(n,e,o)})),n),N=(e,t)=>((e,t,n)=>{for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t(i,o))return b.some(i);if(n(i,o))break}return b.none()})(e,t,O),L=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);A.apply(t,e[n])}return t})(D(e,t)),j=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},V=(e,t)=>t>=0&&t<e.length?b.some(e[t]):b.none(),B=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return b.none()},Z=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},X={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Z(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return Z(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return Z(n)},fromDom:Z,fromPoint:(e,t,n)=>b.from(e.dom.elementFromPoint(t,n)).map(Z)},W=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},U=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Y=(e,t)=>e.dom===t.dom,F=W;"undefined"!=typeof window?window:Function("return this;")();const q=e=>e.dom.nodeName.toLowerCase(),H=e=>e.dom.nodeType,G=e=>t=>H(t)===e,K=e=>8===H(e)||"#comment"===q(e),J=G(1),ee=G(3),te=G(9),ne=G(11),oe=e=>t=>J(t)&&q(t)===e,ie=e=>{return te(e)?e:(t=e,X.fromDom(t.dom.ownerDocument));var t},re=e=>b.from(e.dom.parentNode).map(X.fromDom),se=(e,t)=>{const n=c(t)?t:O;let o=e.dom;const i=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=X.fromDom(e);if(i.push(t),!0===n(t))break;o=e}return i},ae=e=>b.from(e.dom.previousSibling).map(X.fromDom),le=e=>b.from(e.dom.nextSibling).map(X.fromDom),ce=e=>D(e.dom.childNodes,X.fromDom),ue=e=>((e,t)=>{const n=e.dom.childNodes;return b.from(n[t]).map(X.fromDom)})(e,0),de=e=>{const t=(e=>X.fromDom(e.dom.getRootNode()))(e);return ne(n=t)&&l(n.dom.host)?b.some(t):b.none();var n},he=e=>X.fromDom(e.dom.host),fe=e=>{const t=ee(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return de(X.fromDom(t)).fold((()=>n.body.contains(t)),(o=fe,i=he,e=>o(i(e))));var o,i};var pe=(e,t,n,o,i)=>e(n,o)?b.some(n):c(i)&&i(n)?b.none():t(n,o,i);const me=(e,t,n)=>{let o=e.dom;const i=c(n)?n:O;for(;o.parentNode;){o=o.parentNode;const e=X.fromDom(o);if(t(e))return b.some(e);if(i(e))break}return b.none()},ge=(e,t,n)=>me(e,(e=>W(e,t)),n),Oe=(e,t)=>((e,t)=>N(e.dom.childNodes,(e=>t(X.fromDom(e)))).map(X.fromDom))(e,(e=>W(e,t))),ve=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return U(n)?b.none():b.from(n.querySelector(e)).map(X.fromDom)})(t,e),be=(e,t,n)=>pe(((e,t)=>W(e,t)),ge,e,t,n),ye=(e,t=!1)=>{return fe(e)?e.dom.isContentEditable:(n=e,be(n,"[contenteditable]")).fold(h(t),(e=>"true"===xe(e)));var n},xe=e=>e.dom.contentEditable,we=e=>t=>Y(t,(e=>X.fromDom(e.getBody()))(e)),Se=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,_e=e=>X.fromDom(e.selection.getStart()),ke=e=>{return(t=e,n=oe("table"),pe(((e,t)=>t(e)),me,t,n,o)).forall(ye);var t,n,o},Ce=(e,t)=>{let n=[];return I(ce(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Ce(e,t))})),n},Te=(e,t)=>((e,t)=>R(ce(e),t))(e,(e=>W(e,t))),$e=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return U(n)?[]:D(n.querySelectorAll(e),X.fromDom)})(t,e),Pe=(e,t,n)=>{if(!(o(n)||r(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ae=(e,t,n)=>{Pe(e.dom,t,n)},Qe=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Ee=(e,t)=>b.from(Qe(e,t)),Me=(e,t)=>{e.dom.removeAttribute(t)},De=(e,t,n=p)=>e.exists((e=>n(e,t))),Ie=(e,t,n)=>e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none(),Re=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),ze=(Ne=/^\s+|\s+$/g,e=>e.replace(Ne,""));var Ne;const Le=e=>e.length>0,je=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?b.none():b.some(n)},Ve=e=>void 0!==e.style&&c(e.style.getPropertyValue),Be=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ve(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},Ze=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||fe(e)?o:Xe(n,t)},Xe=(e,t)=>Ve(e)?e.style.getPropertyValue(t):"",We=(e,t)=>{const n=e.dom,o=Xe(n,t);return b.from(o).filter((e=>e.length>0))},Ue=(e,t)=>{((e,t)=>{Ve(e)&&e.style.removeProperty(t)})(e.dom,t),De(Ee(e,"style").map(ze),"")&&Me(e,"style")},Ye=(e,t,n=0)=>Ee(e,t).map((e=>parseInt(e,10))).getOr(n),Fe=(e,t)=>qe(e,t,v),qe=(e,t,n)=>L(ce(e),(e=>W(e,t)?n(e)?[e]:[]:qe(e,t,n))),He=["tfoot","thead","tbody","colgroup"],Ge=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Ke=(e,t,n)=>({element:e,cells:t,section:n}),Je=(e,t)=>((e,t,n=O)=>n(t)?b.none():Q(e,q(t))?b.some(t):ge(t,e.join(","),(e=>W(e,"table")||n(e))))(["td","th"],e,t),et=(e,t)=>be(e,"table",t),tt=e=>Fe(e,"tr"),nt=e=>et(e).fold(h([]),(e=>Te(e,"colgroup"))),ot=(e,t)=>D(e,(e=>{if("colgroup"===q(e)){const t=D((e=>W(e,"colgroup")?Te(e,"col"):L(nt(e),(e=>Te(e,"col"))))(e),(e=>{const t=Ye(e,"span",1);return Ge(e,1,t)}));return Ke(e,t,"colgroup")}{const n=D((e=>Fe(e,"th,td"))(e),(e=>{const t=Ye(e,"rowspan",1),n=Ye(e,"colspan",1);return Ge(e,t,n)}));return Ke(e,n,t(e))}})),it=e=>re(e).map((e=>{const t=q(e);return(e=>Q(He,e))(t)?t:"tbody"})).getOr("tbody"),rt=e=>Ee(e,"data-snooker-locked-cols").bind((e=>b.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let o=0,i=e.length;o<i;o++){const i=e[o];n[String(i)]=t(i,o)}return n})(e,v))),st=(e,t)=>e+","+t,at=(e,t)=>{const n=L(e.all,(e=>e.cells));return R(n,t)},lt=e=>{const t={},n=[];var o;const i=(o=e,V(o,0)).map((e=>e.element)).bind(et).bind(rt).getOr({});let r=0,s=0,a=0;const{pass:l,fail:c}=((e,t)=>{const n=[],o=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];(t(r,i)?n:o).push(r)}return{pass:n,fail:o}})(e,(e=>"colgroup"===e.section));I(c,(e=>{const o=[];I(e.cells,(e=>{let n=0;for(;void 0!==t[st(a,n)];)n++;const r=$(i,n.toString()),l=((e,t,n,o,i,r)=>({element:e,rowspan:t,colspan:n,row:o,column:i,isLocked:r}))(e.element,e.rowspan,e.colspan,a,n,r);for(let o=0;o<e.colspan;o++)for(let i=0;i<e.rowspan;i++){const e=n+o,r=st(a+i,e);t[r]=l,s=Math.max(s,e+1)}o.push(l)})),r++,n.push(Ke(e.element,o,e.section)),a++}));const{columns:u,colgroups:d}=(e=>V(e,e.length-1))(l).map((e=>{const t=(e=>{const t={};let n=0;return I(e.cells,(e=>{const o=e.colspan;M(o,(i=>{const r=n+i;t[r]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,r)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,_(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),h=((e,t)=>({rows:e,columns:t}))(r,s);return{grid:h,access:t,all:n,columns:u,colgroups:d}},ct=e=>{const t=(e=>{const t=tt(e),n=[...nt(e),...t];return ot(n,it)})(e);return lt(t)},ut=(e,t,n)=>b.from(e.access[st(t,n)]),dt=(e,t,n)=>{const o=at(e,(e=>n(t,e.element)));return o.length>0?b.some(o[0]):b.none()},ht=e=>L(e.all,(e=>e.cells)),ft=(e,t)=>b.from(e.columns[t]);var pt=tinymce.util.Tools.resolve("tinymce.util.Tools");const mt=(e,t,n)=>{const o=e.select("td,th",t);let i;for(let t=0;t<o.length;t++){const r=e.getStyle(o[t],n);if(s(i)&&(i=r),i!==r)return""}return i},gt=(e,t,n)=>{pt.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},Ot=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},vt=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?b.none():b.some(t)})(e).getOr(t),bt=(e,t,n)=>vt(Ze(e,t),n),yt=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:((e,t,n,o)=>t-bt(e,`padding-${n}`,0)-bt(e,`padding-${o}`,0)-bt(e,`border-${n}-width`,0)-bt(e,`border-${o}-width`,0))(e,o,"left","right")},xt=e=>yt(e,"content-box");var wt=tinymce.util.Tools.resolve("tinymce.Env");const St=M(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),_t=D(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),kt="100%",Ct=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return xt(X.fromDom(o))+"px"},Tt=e=>t=>t.options.get(e),$t=Tt("table_sizing_mode"),Pt=Tt("table_border_widths"),At=Tt("table_border_styles"),Qt=Tt("table_cell_advtab"),Et=Tt("table_row_advtab"),Mt=Tt("table_advtab"),Dt=Tt("table_appearance_options"),It=Tt("table_grid"),Rt=Tt("table_style_by_css"),zt=Tt("table_cell_class_list"),Nt=Tt("table_row_class_list"),Lt=Tt("table_class_list"),jt=Tt("table_toolbar"),Vt=Tt("table_background_color_map"),Bt=Tt("table_border_color_map"),Zt=e=>"fixed"===$t(e),Xt=e=>"responsive"===$t(e),Wt=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Xt(e)||!Rt(e)?t:Zt(e)?{...t,width:Ct(e)}:{...t,width:kt})(e,n)},Ut=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Xt(e)||Rt(e)?t:Zt(e)?{...t,width:Ct(e)}:{...t,width:kt})(e,n)},Yt=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Ft=(e,t,n)=>{const o=dt(e,t,Y),i=dt(e,n,Y);return o.bind((e=>i.map((t=>{return n=e,o=t,i=Math.min(n.row,o.row),r=Math.min(n.column,o.column),s=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),a=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:i,startCol:r,finishRow:s,finishCol:a};var n,o,i,r,s,a}))))},qt=(e,t,n)=>Ft(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=m(Yt,t);for(let i=t.startRow;i<=t.finishRow;i++)for(let r=t.startCol;r<=t.finishCol;r++)n=n&&ut(e,i,r).exists(o);return n?b.some(t):b.none()})(e,t))),Ht=ct,Gt=(e,t)=>{re(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Kt=(e,t)=>{le(e).fold((()=>{re(e).each((e=>{en(e,t)}))}),(e=>{Gt(e,t)}))},Jt=(e,t)=>{ue(e).fold((()=>{en(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},en=(e,t)=>{e.dom.appendChild(t.dom)},tn=(e,t)=>{Gt(e,t),en(t,e)},nn=(e,t)=>{I(t,((n,o)=>{const i=0===o?e:t[o-1];Kt(i,n)}))},on=(e,t)=>{I(t,(t=>{en(e,t)}))},rn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},sn=e=>{const t=ce(e);t.length>0&&nn(e,t),rn(e)},an=((e,t)=>{const n=t=>e(t)?b.from(t.dom.nodeValue):b.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(ee,"text"),ln=e=>an.get(e),cn=(e,t)=>an.set(e,t);var un=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const dn=(e,t,n,o)=>{const i=t(e,n);return r=(n,o)=>{const i=t(e,o);return hn(e,n,i)},s=i,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,((e,t)=>{s=r(s,e,t)})),s;var r,s},hn=(e,t,n)=>t.bind((t=>n.filter(m(e.eq,t)))),fn=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,dn):b.none(),pn={up:h({selector:ge,closest:be,predicate:me,all:se}),down:h({selector:$e,predicate:Ce}),styles:h({get:Ze,getRaw:We,set:Be,remove:Ue}),attrs:h({get:Qe,set:Ae,remove:Me,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;w(t,((e,t)=>{Pe(n,t,e)}))})(t,z(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:h({before:Gt,after:Kt,afterAll:nn,append:en,appendAll:on,prepend:Jt,wrap:tn}),remove:h({unwrap:sn,remove:rn}),create:h({nu:X.fromTag,clone:e=>X.fromDom(e.dom.cloneNode(!1)),text:X.fromText}),query:h({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:ae,nextSibling:le}),property:h({children:ce,name:q,parent:re,document:e=>ie(e).dom,isText:ee,isComment:K,isElement:J,isSpecial:e=>{const t=q(e);return Q(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>J(e)?Ee(e,"lang"):b.none(),getText:ln,setText:cn,isBoundary:e=>!!J(e)&&("body"===q(e)||Q(un,q(e))),isEmptyTag:e=>!!J(e)&&Q(["br","img","hr","input"],q(e)),isNonEditable:e=>J(e)&&"false"===Qe(e,"contenteditable")}),eq:Y,is:F},mn=e=>ge(e,"table"),gn=(e,t,n)=>ve(e,t).bind((t=>ve(e,n).bind((e=>{return(n=mn,o=[t,e],fn(pn,((e,t)=>n(t)),o)).map((n=>({first:t,last:e,table:n})));var n,o})))),On=(e,t)=>((e,t)=>{const n=$e(e,t);return n.length>0?b.some(n):b.none()})(e,t),vn=(e,t,n)=>gn(e,t,n).bind((t=>{const n=t=>Y(e,t),o="thead,tfoot,tbody,table",i=ge(t.first,o,n),r=ge(t.last,o,n);return i.bind((e=>r.bind((n=>Y(e,n)?((e,t,n)=>{const o=Ht(e);return qt(o,t,n)})(t.table,t.first,t.last):b.none()))))})),bn=e=>D(e,X.fromDom),yn="data-mce-selected",xn="data-mce-first-selected",wn="data-mce-last-selected",Sn={selected:yn,selectedSelector:"td["+yn+"],th["+yn+"]",firstSelected:xn,firstSelectedSelector:"td["+xn+"],th["+xn+"]",lastSelected:wn,lastSelectedSelector:"td["+wn+"],th["+wn+"]"},_n=e=>(t,n)=>{const o=q(t),i="col"===o||"colgroup"===o?et(r=t).bind((e=>On(e,Sn.firstSelectedSelector))).fold(h(r),(e=>e[0])):t;var r;return be(i,e,n)},kn=_n("th,td,caption"),Cn=_n("th,td"),Tn=e=>bn(e.model.table.getSelectedCells()),$n=(e,t)=>{const n=Cn(e),o=n.bind((e=>et(e))).map((e=>tt(e)));return Ie(n,o,((e,n)=>R(n,(n=>E(bn(n.dom.cells),(n=>"1"===Qe(n,t)||Y(n,e))))))).getOr([])},Pn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],An=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Qn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,En=e=>{return(t=e,n="#",Re(t,n)?((e,t)=>e.substring(t))(t,n.length):t).toUpperCase();var t,n},Mn=e=>(e=>An.test(e)||Qn.test(e))(e)?b.some({value:En(e)}):b.none(),Dn=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},In=e=>(e=>({value:En(e)}))(Dn(e.red)+Dn(e.green)+Dn(e.blue)),Rn=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,zn=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Nn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Ln=(e,t,n,o)=>{const i=parseInt(e,10),r=parseInt(t,10),s=parseInt(n,10),a=parseFloat(o);return Nn(i,r,s,a)},jn=e=>{const t=Rn.exec(e);if(null!==t)return b.some(Ln(t[1],t[2],t[3],"1"));const n=zn.exec(e);return null!==n?b.some(Ln(n[1],n[2],n[3],n[4])):b.none()},Vn=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Bn=()=>(e=>{const t=Vn(b.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(b.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(b.some(e))}}})((e=>e.unbind())),Zn=(e,t,n)=>o=>{const i=Bn(),r=!Le(n);const s=()=>{const s=Tn(e),a=o=>e.formatter.match(t,{value:n},o.dom,r);r?(o.setActive(!E(s,a)),i.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(j(s,a)),i.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),i.clear},Xn=e=>$(e,"menu"),Wn=e=>D(e,(e=>{const t=e.text||e.title||"";return Xn(e)?{text:t,items:Wn(e.menu)}:{text:t,value:e.value}})),Un=e=>e.length?b.some(Wn([{text:"Select...",value:"mce-no-match"},...e])):b.none(),Yn=(e,t,n,o)=>D(t,(t=>{const i=t.text||t.title;return Xn(t)?{type:"nestedmenuitem",text:i,getSubmenuItems:()=>Yn(e,t.menu,n,o)}:{text:i,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:Zn(e,n,t.value)}})),Fn=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},qn=e=>L(e,(e=>Xn(e)?[{...e,menu:qn(e.menu)}]:Le(e.value)?[e]:[])),Hn=(e,t,n,o)=>i=>i(Yn(e,t,n,o)),Gn=(e,t,n)=>{const o=D(t,(e=>{return{text:e.title,value:"#"+(t=e.value,Mn(t).orThunk((()=>jn(t).map(In))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,i=o[0],r=o[1],s=o[2],a=o[3];return In(Nn(i,r,s,a))}))).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},Kn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},Jn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},eo=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Pn}],to=e=>eo.concat((e=>Un(zt(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),no=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Wn(At(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},oo=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},io=oe("th"),ro=(e,t)=>e&&t?"sectionCells":e?"section":"cells",so=e=>{const t=R(e,(e=>io(e.element)));return 0===t.length?b.some("td"):t.length===e.length?b.some("th"):b.none()},ao=e=>{const t=D(e,(e=>(e=>{const t="thead"===e.section,n=De(so(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:ro(t,n)}:{type:"body"}})(e).type)),n=Q(t,"header"),o=Q(t,"footer");if(n||o){const e=Q(t,"body");return!n||e||o?n||e||!o?b.none():b.some("footer"):b.some("header")}return b.some("body")},lo=(e,t)=>B(e.all,(e=>N(e.cells,(e=>Y(t,e.element))))),co=(e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(D(t.selection,(t=>Je(t).bind((t=>lo(e,t))).filter(n))));return i=o.length>0,r=o,i?b.some(r):b.none();var i,r},uo=(e,t)=>co(e,t,v),ho=(e,t)=>j(t,(t=>((e,t)=>lo(e,t).exists((e=>!e.isLocked)))(e,t))),fo=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>ho(e,t.cells))),po=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>ho(e,t))),mo=e=>{if(!i(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return I(e,((o,r)=>{const s=y(o);if(1!==s.length)throw new Error("one and only one name per case");const a=s[0],l=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!i(l))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=y(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!j(t,(e=>Q(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},go=(mo([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=ct(e);return uo(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,i=t.row+t.rowspan,r=n.all.slice(o,i);return ao(r)})).getOr("")}),Oo=e=>{return Re(e,"rgb")?jn(t=e).map(In).map((e=>"#"+e.value)).getOr(t):e;var t},vo=e=>{const t=X.fromDom(e);return{borderwidth:We(t,"border-width").getOr(""),borderstyle:We(t,"border-style").getOr(""),bordercolor:We(t,"border-color").map(Oo).getOr(""),backgroundcolor:We(t,"background-color").map(Oo).getOr("")}},bo=e=>{const t=e[0],n=e.slice(1);return I(n,(e=>{I(y(t),(n=>{w(e,((e,o)=>{const i=t[n];""!==i&&n===o&&i!==e&&(t[n]="class"===n?"mce-no-match":"")}))}))})),t},yo=(e,t,n,o)=>N(e,(e=>!s(n.formatter.matchNode(o,t+e)))).getOr(""),xo=m(yo,["left","center","right"],"align"),wo=m(yo,["top","middle","bottom"],"valign"),So=e=>et(X.fromDom(e)).map((t=>{const n={selection:bn(e.cells)};return go(t,n)})).getOr(""),_o=(e,t)=>{const n=ct(e),o=ht(n),i=R(o,(e=>E(t,(t=>Y(e.element,t)))));return D(i,(e=>({element:e.element.dom,column:ft(n,e.column).map((e=>e.element.dom))})))},ko=(e,t,n,o)=>{const i=1===t.length;I(t,(t=>{const r=t.element,s=i?v:o,a=oo(e,r);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",Se(n.width))})(a,t.column.map((t=>oo(e,t))).getOr(a),n,s),Qt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",Se(t.borderwidth))})(a,n,s),o("halign")&&gt(e,r,n.halign),o("valign")&&((e,t,n)=>{pt.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,r,n.valign)}))},Co=(e,t,n,o)=>{const i=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const i=S(o,((e,t)=>n[t]!==e));k(i)>0&&t.length>=1&&et(t[0]).each((n=>{const r=_o(n,t),s=k(S(i,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,a=T(i,"celltype");(s||T(i,"scope"))&&ko(e,r,o,m(T,i)),a&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),Ot(e,n.dom,{structure:a,style:s})}))})(e,t,n,i),e.focus()}))},To=(e,t)=>{const n=et(t[0]).map((n=>D(_o(n,t),(t=>((e,t,n,o)=>{const i=e.dom,r=o.getOr(t);return{width:(a=r,l="width",i.getStyle(a,l)||i.getAttrib(a,l)),scope:i.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:i.getAttrib(t,"class",""),halign:xo(e,t),valign:wo(e,t),...n?vo(t):{}};var s,a,l})(e,t.element,Qt(e),t.column)))));return bo(n.getOrDie())},$o=e=>{const t=Tn(e);if(0===t.length)return;const n=To(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:to(e)},no(e,"cell")]},i={type:"panel",items:[{type:"grid",columns:2,items:to(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Qt(e)?o:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:m(Co,e,t,n)})},Po=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Ao=e=>Po.concat((e=>Un(Nt(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),Qo=(e,t,n,o)=>{const i=1===t.length?v:o;I(t,(t=>{const r=Te(X.fromDom(t),"td,th"),s=oo(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",Se(t.height))})(s,n,i),Et(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,i),o("height")&&I(r,(t=>{e.dom.setStyle(t.dom,"height",null)})),o("align")&&gt(e,t,n.align)}))},Eo=(e,t,n,o)=>{const i=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const i=S(o,((e,t)=>n[t]!==e));if(k(i)>0){const n=T(i,"type"),r=!n||k(i)>1;r&&Qo(e,t,o,m(T,i)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),et(X.fromDom(t[0])).each((t=>Ot(e,t.dom,{structure:n,style:r})))}})(e,t,n,i),e.focus()}))},Mo=e=>{const t=$n(_e(e),Sn.selected);if(0===t.length)return;const n=D(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:So(t),align:xo(e,t),...n?vo(t):{}}})(e,t.dom,Et(e)))),o=bo(n),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ao(e)},no(e,"row")]},r={type:"panel",items:[{type:"grid",columns:2,items:Ao(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Et(e)?i:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:m(Eo,e,D(t,(e=>e.dom)),o)})},Do=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],i=Dt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],r=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(i).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(r)},Io=(e,t,n,i)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&l(i)?e.setStyle(t,n,i):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Io(e,t.children[o],n,i)},Ro=(e,t,n,o)=>{const i=e.dom,r={},a={},l=Rt(e),c=Mt(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(r.class=n.class),a.height=Se(n.height),l?a.width=Se(n.width):i.getAttrib(t,"width")&&(r.width=(e=>e?e.replace(/px$/,""):"")(n.width)),l?(u?(r.border=0,a["border-width"]=""):(a["border-width"]=Se(n.border),r.border=1),a["border-spacing"]=Se(n.cellspacing)):(r.border=u?0:n.border,r.cellpadding=n.cellpadding,r.cellspacing=n.cellspacing),l&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=Se(n.border)),o.cellpadding&&(e.padding=Se(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(x.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Io(i,t.children[n],e)}if(c){const e=n;a["background-color"]=e.backgroundcolor,a["border-color"]=e.bordercolor,a["border-style"]=e.borderstyle}i.setStyles(t,{...Wt(e),...a}),i.setAttribs(t,{...Ut(e),...r})},zo=(e,t,n,o)=>{const i=e.dom,r=o.getData(),s=S(r,((e,t)=>n[t]!==e));o.close(),e.undoManager.transact((()=>{if(!t){const n=je(r.cols).getOr(1),o=je(r.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=Cn(_e(e),we(e)).bind((t=>et(t,we(e)))).map((e=>e.dom)).getOrDie()}if(k(s)>0){const n={border:T(s,"border"),bordercolor:T(s,"bordercolor"),cellpadding:T(s,"cellpadding")};Ro(e,t,r,n);const o=i.select("caption",t)[0];(o&&!r.caption||!o&&r.caption)&&e.execCommand("mceTableToggleCaption"),gt(e,t,r.align)}if(e.focus(),e.addVisual(),k(s)>0){const n=T(s,"caption"),o=!n||k(s)>1;Ot(e,t,{structure:n,style:o})}}))},No=(e,t)=>{const n=e.dom;let o,i=((e,t)=>{const n=Wt(e),o=Ut(e),i=t?{borderstyle:C(n,"border-style").getOr(""),bordercolor:Oo(C(n,"border-color").getOr("")),backgroundcolor:Oo(C(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...i,...(()=>{const t=n["border-width"];return Rt(e)&&t?{border:t}:C(o,"border").fold((()=>({})),(e=>({border:e})))})(),...{...C(n,"border-spacing").or(C(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),...C(n,"border-padding").or(C(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,Mt(e));t?(i.cols="1",i.rows="1",Mt(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?i=((e,t,n)=>{const o=e.dom,i=Rt(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),r=Rt(e)?mt(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||mt(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=i?i:"",cellpadding:null!=r?r:"",border:((t,n)=>{const o=We(X.fromDom(n),"border-width");return Rt(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||mt(e.dom,n,"border-width")||mt(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:xo(e,t),...n?vo(t):{}}})(e,o,Mt(e)):Mt(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));const r=Un(Lt(e));r.isSome()&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Do(e,r.getOr([]),t)},a=Mt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},no(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:a,onSubmit:m(zo,e,o,i),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},Lo=e=>{w({mceTableProps:m(No,e,!1),mceTableRowProps:m(Mo,e),mceTableCellProps:m($o,e),mceInsertTableDialog:m(No,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void(ke(_e(e))&&n());var n}))))},jo=f,Vo=e=>{const t=(e,t)=>Ee(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&j(e,(e=>t(e,"rowspan")||t(e,"colspan")))?b.some(e):b.none()},Bo=(e,t,n)=>t.length<=1?b.none():vn(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Zo=e=>{const t=Vn(b.none()),n=Vn([]);let o=b.none();const i=oe("caption"),r=e=>o.forall((t=>!t[e])),s=()=>kn((e=>X.fromDom(e.selection.getEnd()))(e),we(e)),a=()=>kn(_e(e),we(e)).bind((t=>{return n=Ie(et(t),s().bind(et),((n,o)=>Y(n,o)?i(t)?b.some((e=>({element:e,mergable:b.none(),unmergable:b.none(),selection:[e]}))(t)):b.some(((e,t,n)=>({element:n,mergable:Bo(t,e,Sn),unmergable:Vo(e),selection:jo(e)}))(Tn(e),n,t)):b.none())),n.bind(f);var n})),l=e=>et(e.element).map((t=>{const n=ct(t),o=uo(n,e).getOr([]),i=z(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:fo(n,e).isSome(),unmergeable:po(n,e).isSome(),locked:i}})),c=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(a)()),o=t.get().bind(l),I(n.get(),g)},u=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(R(n.get(),(t=>t!==e)))}),d=(n,o)=>u((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),h=(n,o,i)=>u((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(i(t))})))),p=e=>o.exists((t=>t.locked[e])),m=(t,n)=>o=>h(o,(e=>i(e.element)),(()=>e.queryCommandValue(t)===n)),v=m("mceTableRowType","header"),y=m("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:e=>d(e,(e=>!1)),onSetupCellOrRow:e=>d(e,(e=>i(e.element))),onSetupColumn:e=>t=>d(t,(t=>i(t.element)||p(e))),onSetupPasteable:e=>t=>d(t,(t=>i(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>d(n,(n=>i(n.element)||e().isNone()||p(t))),onSetupMergeable:e=>d(e,(e=>r("mergeable"))),onSetupUnmergeable:e=>d(e,(e=>r("unmergeable"))),resetTargets:c,onSetupTableWithCaption:t=>h(t,O,(t=>et(t.element,we(e)).exists((e=>Oe(e,"caption").isSome())))),onSetupTableRowHeaders:v,onSetupTableColumnHeaders:y,targets:t.get}};var Xo=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Wo="x-tinymce/dom-table-",Uo=Wo+"rows",Yo=Wo+"columns",Fo=e=>{var t;const n=null!==(t=Xo.read())&&void 0!==t?t:[];return B(n,(t=>b.from(t.getType(e))))},qo=()=>Fo(Uo),Ho=()=>Fo(Yo),Go=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Ko=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Jo=e=>{const t=Zo(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:St}),t("table_border_styles",{processor:"object[]",default:_t}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!wt.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Lo(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)}),!0),i=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},r=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(qo)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(qo)})],a=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(Ho,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(Ho,"onLast")})],l=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];It(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}],onSetup:Ko(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Ko(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Ko(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),Q(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:h("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Q(a,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:h("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Q(l,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:h("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(h(""),(e=>"caption"===q(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const u=qn(Lt(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Yn(e,u,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const d=qn(zt(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Yn(e,d,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Yn(e,Pn,"tablecellverticalalign",Fn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Yn(e,Pt(e),"tablecellborderwidth",Fn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Yn(e,At(e),"tablecellborderstyle",Fn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Gn(e,Vt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Gn(e,Bt(e),"border-color"),onSetup:t.onSetupCellOrRow})),i("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),i("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Kn(e),onSetup:t.onSetupTableRowHeaders}),i("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Jn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Go(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},i=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(qo)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(qo)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(Ho,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(Ho,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Go(e)});const r=qn(Lt(e));0!==r.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Hn(e,r,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=qn(zt(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Hn(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Hn(e,Pn,"tablecellverticalalign",Fn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Hn(e,Pt(e),"tablecellborderwidth",Fn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Hn(e,At(e),"tablecellborderstyle",Fn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Gn(e,Vt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Gn(e,Bt(e),"border-color")),onSetup:t.onSetupCellOrRow})),i("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),i("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Kn(e),onSetup:t.onSetupTableRowHeaders}),i("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Jn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=jt(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})})(e)};e.add("table",Jo)}()},7426:(e,t,n)=>{n(4855)},7461:()=>{tinymce.PluginManager.add("file",(function(e,t){function n(t){if(String(t).match(/^(&|#)/))void 0!==(n=t.match(/^(&|#)(\w+)\((.*)\)([\s\S]*)?/))[4]&&n[4].match(/;$/)&&(n[4]=n[4].replace(/;$/g,""));else var n=new Array("","","","","");tinymce.activeEditor.windowManager.open({title:"ファイルアップロード",width:600,height:250,body:{type:"panel",items:[{type:"urlinput",name:"file1",filetype:"file",label:"ファイル1"},{type:"urlinput",name:"file2",filetype:"file",label:"ファイル2"},{type:"urlinput",name:"file3",filetype:"file",label:"ファイル3"},{type:"urlinput",name:"file4",filetype:"file",label:"ファイル4"},{type:"urlinput",name:"file5",filetype:"file",label:"ファイル5"},{type:"collection",name:"upload_max_filesize_caption",label:e.options.get("cc_config").upload_max_filesize_caption}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",primary:!0}],onSubmit:function(t){xhr=new XMLHttpRequest,xhr.withCredentials=!1,xhr.open("POST",tinymce.activeEditor.getParam("document_base_url")+"/upload"),xhr.onload=function(){var n;if(xhr.status<200||xhr.status>=300)console.error("HTTP Error: "+xhr.status);else{for(var o in(n=JSON.parse(xhr.responseText)).link_texts)e.insertContent(n.link_texts[o]);document.getElementById("cc-file-upload-file1-"+i).value="",document.getElementById("cc-file-upload-file2-"+i).value="",document.getElementById("cc-file-upload-file3-"+i).value="",document.getElementById("cc-file-upload-file4-"+i).value="",document.getElementById("cc-file-upload-file5-"+i).value="",t.close()}};var n=document.getElementsByName("csrf-token"),o=document.getElementsByName("_page_id");formData=new FormData,formData.append("_token",n[0].content),formData.append("page_id",o[0].content),formData.append("plugin_name",e.options.get("cc_config").plugin_name);var i=e.options.get("cc_config").frame_id;formData.append("file1",document.getElementById("cc-file-upload-file1-"+i).files[0]),formData.append("file2",document.getElementById("cc-file-upload-file2-"+i).files[0]),formData.append("file3",document.getElementById("cc-file-upload-file3-"+i).files[0]),formData.append("file4",document.getElementById("cc-file-upload-file4-"+i).files[0]),formData.append("file5",document.getElementById("cc-file-upload-file5-"+i).files[0]),xhr.send(formData)}})}e.ui.registry.addIcon("file",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="24" height="24">\x3c!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z"/></svg>'),e.ui.registry.addButton("file",{icon:"file",tooltip:"ファイルアップロード",onAction:n,onPostRender:function(){var t=this;e.on("NodeChange",(function(n){var o=jQuery(e.selection.getNode()).hasClass("plugin");t.active(o)})),e.on("DblClick",(function(e){"plugin"==e.target.className&&n(e.toElement.innerText)}))}})}))},7524:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=i=e,o=(r=String).prototype,o.isPrototypeOf(n)||(null===(s=i.constructor)||void 0===s?void 0:s.name)===r.name)?"string":t;var n,o;var i,r,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),i=t("object"),r=t("array"),s=n("boolean"),a=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,h=(e,t)=>e===t;const f=e=>t=>!e(t),p=d(!1);class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const g=Array.prototype.slice,O=Array.prototype.indexOf,v=Array.prototype.push,b=(e,t)=>{return n=e,o=t,O.call(n,o)>-1;var n,o},y=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},S=(e,t)=>{const n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];t(i,o)&&n.push(i)}return n},_=(e,t,n)=>(w(e,((e,o)=>{n=t(n,e,o)})),n),k=(e,t,n)=>{for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t(i,o))return m.some(i);if(n(i,o))break}return m.none()},C=(e,t)=>k(e,t,p),T=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);v.apply(t,e[n])}return t})(x(e,t)),$=e=>{const t=g.call(e,0);return t.reverse(),t},P=(e,t)=>t>=0&&t<e.length?m.some(e[t]):m.none(),A=e=>P(e,0),Q=e=>P(e,e.length-1),E=(e,t)=>{const n=[],o=l(t)?e=>y(n,(n=>t(n,e))):e=>b(n,e);for(let t=0,i=e.length;t<i;t++){const i=e[t];o(i)||n.push(i)}return n},M=(e,t,n=h)=>e.exists((e=>n(e,t))),D=(e,t,n)=>e.isSome()&&t.isSome()?m.some(n(e.getOrDie(),t.getOrDie())):m.none(),I=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},R={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return I(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return I(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return I(n)},fromDom:I,fromPoint:(e,t,n)=>m.from(e.dom.elementFromPoint(t,n)).map(I)},z=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},N=(e,t)=>e.dom===t.dom,L=z,j="undefined"!=typeof window?window:Function("return this;")(),V=(e,t)=>((e,t)=>{let n=null!=t?t:j;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),B=(e,t)=>{const n=((e,t)=>V(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},Z=Object.getPrototypeOf,X=e=>{const t=V("ownerDocument.defaultView",e);return i(e)&&((e=>B("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Z(e).constructor.name))},W=e=>e.dom.nodeName.toLowerCase(),U=e=>e.dom.nodeType,Y=e=>t=>U(t)===e,F=e=>q(e)&&X(e.dom),q=Y(1),H=Y(3),G=Y(11),K=e=>t=>q(t)&&W(t)===e,J=e=>m.from(e.dom.parentNode).map(R.fromDom),ee=e=>x(e.dom.childNodes,R.fromDom),te=(e,t)=>{const n=e.dom.childNodes;return m.from(n[t]).map(R.fromDom)},ne=e=>te(e,0),oe=e=>te(e,e.dom.childNodes.length-1),ie=e=>{const t=(e=>R.fromDom(e.dom.getRootNode()))(e);return G(n=t)&&a(n.dom.host)?m.some(t):m.none();var n},re=e=>R.fromDom(e.dom.host),se=e=>{const t=H(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return ie(R.fromDom(t)).fold((()=>n.body.contains(t)),(o=se,i=re,e=>o(i(e))));var o,i};var ae=(e,t,n,o,i)=>e(n,o)?m.some(n):l(i)&&i(n)?m.none():t(n,o,i);const le=(e,t,n)=>{let o=e.dom;const i=l(n)?n:p;for(;o.parentNode;){o=o.parentNode;const e=R.fromDom(o);if(t(e))return m.some(e);if(i(e))break}return m.none()},ce=(e,t,n)=>ae(((e,t)=>t(e)),le,e,t,n),ue=(e,t,n)=>le(e,(e=>z(e,t)),n),de=e=>{return ae(((e,t)=>z(e,t)),ue,e,"[contenteditable]",t);var t},he=e=>e.dom.contentEditable,fe=(e,t)=>{J(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},pe=(e,t)=>{const n=(e=>m.from(e.dom.nextSibling).map(R.fromDom))(e);n.fold((()=>{J(e).each((e=>{me(e,t)}))}),(e=>{fe(e,t)}))},me=(e,t)=>{e.dom.appendChild(t.dom)},ge=(e,t)=>{w(t,(t=>{me(e,t)}))},Oe=e=>{e.dom.textContent="",w(ee(e),(e=>{ve(e)}))},ve=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var be=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ye=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xe=tinymce.util.Tools.resolve("tinymce.util.VK");const we=e=>x(e,R.fromDom),Se=Object.keys,_e=(e,t)=>{const n=Se(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}},ke=(e,t)=>{const n={};var o;return((e,t,n,o)=>{_e(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},Ce=(e,t)=>{const n=e.dom;_e(t,((e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)}))},Te=e=>_(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),$e=e=>((e,t)=>R.fromDom(e.dom.cloneNode(t)))(e,!0),Pe=(e,t)=>{const n=((e,t)=>{const n=R.fromTag(t),o=Te(e);return Ce(n,o),n})(e,t);pe(e,n);const o=ee(e);return ge(n,o),ve(e),n};var Ae=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Qe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ee=e=>t=>a(t)&&t.nodeName.toLowerCase()===e,Me=e=>t=>a(t)&&e.test(t.nodeName),De=e=>a(e)&&3===e.nodeType,Ie=e=>a(e)&&1===e.nodeType,Re=Me(/^(OL|UL|DL)$/),ze=Me(/^(OL|UL)$/),Ne=Ee("ol"),Le=Me(/^(LI|DT|DD)$/),je=Me(/^(DT|DD)$/),Ve=Me(/^(TH|TD)$/),Be=Ee("br"),Ze=(e,t)=>a(t)&&t.nodeName in e.schema.getTextBlockElements(),Xe=(e,t)=>a(e)&&e.nodeName in t,We=(e,t)=>a(t)&&t.nodeName in e.schema.getVoidElements(),Ue=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Ye=(e,t)=>e.isChildOf(t,e.getRoot()),Fe=e=>t=>t.options.get(e),qe=Fe("lists_indent_on_tab"),He=Fe("forced_root_block"),Ge=Fe("forced_root_block_attrs"),Ke=(e,t,n={})=>{const o=e.dom,i=e.schema.getBlockElements(),r=o.createFragment(),s=He(e),a=Ge(e);let l,c,u=!1;for(c=o.create(s,{...a,...n.style?{style:n.style}:{}}),Xe(t.firstChild,i)||r.appendChild(c);l=t.firstChild;){const e=l.nodeName;u||"SPAN"===e&&"bookmark"===l.getAttribute("data-mce-type")||(u=!0),Xe(l,i)?(r.appendChild(l),c=null):(c||(c=o.create(s,a),r.appendChild(c)),c.appendChild(l))}return!u&&c&&c.appendChild(o.create("br",{"data-mce-bogus":"1"})),r},Je=Ae.DOM,et=(e,t,n)=>{const o=Je.select('span[data-mce-type="bookmark"]',t),i=Ke(e,n),r=Je.createRng();r.setStartAfter(n),r.setEndAfter(t);const s=r.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Je.remove(t);break}e.dom.isEmpty(s)||Je.insertAfter(s,t),Je.insertAfter(i,t);const a=n.parentElement;a&&Ue(e.dom,a)&&(e=>{const t=e.parentNode;t&&Qe.each(o,(e=>{t.insertBefore(e,n.parentNode)})),Je.remove(e)})(a),Je.remove(n),Ue(e.dom,t)&&Je.remove(t)},tt=K("dd"),nt=K("dt"),ot=(e,t)=>{var n;tt(t)?Pe(t,"dt"):nt(t)&&(n=t,m.from(n.dom.parentElement).map(R.fromDom)).each((n=>et(e,n.dom,t.dom)))},it=e=>{nt(e)&&Pe(e,"dd")},rt=(e,t)=>{if(De(e))return{container:e,offset:t};const n=be.getNode(e,t);return De(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&De(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&De(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},st=e=>{const t=e.cloneRange(),n=rt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=rt(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},at=["OL","UL","DL"],lt=at.join(","),ct=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,lt,ft(e,n))},ut=e=>{const t=ct(e),n=e.selection.getSelectedBlocks();return((e,t)=>a(e)&&1===t.length&&t[0]===e)(t,n)?(e=>S(e.querySelectorAll(lt),Re))(t):S(n,(e=>Re(e)&&t!==e))},dt=e=>{const t=e.selection.getSelectedBlocks();return S(((e,t)=>{const n=Qe.map(t,(t=>e.dom.getParent(t,"li,dd,dt",ft(e,t))||t));return E(n)})(e,t),Le)},ht=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},ft=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=C(n,(t=>{return(t=>t.nodeName.toLowerCase()!==He(e))(t)&&(n=e.schema,!Re(o=t)&&!Le(o)&&y(at,(e=>n.isValidChild(o.nodeName,e))));var n,o}));return o.getOr(e.getBody())},pt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",ft(e,t));return Q(n)},mt=e=>{const t=(e=>{const t=pt(e,e.selection.getStart()),n=S(e.selection.getSelectedBlocks(),ze);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",ft(e,t))})(e);return C(n,(e=>{return t=R.fromDom(e),J(t).exists((e=>Le(e.dom)&&ne(e).exists((e=>!Re(e.dom)))&&oe(e).exists((e=>!Re(e.dom)))));var t})).fold((()=>gt(e,t)),(e=>[e]))},gt=(e,t)=>{const n=x(t,(t=>pt(e,t).getOr(t)));return E(n)},Ot=e=>/\btox\-/.test(e.className),vt=(e,t)=>k(e,Re,Ve).exists((e=>e.nodeName===t&&!Ot(e))),bt=(e,t)=>null!==t&&!e.dom.isEditable(t),yt=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return bt(e,n)||!e.selection.isEditable()},xt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},wt=(e,t)=>{const n=(t||document).createDocumentFragment();return w(e,(e=>{n.appendChild(e.dom)})),R.fromDom(n)},St=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),_t=(kt=/^\s+|\s+$/g,e=>e.replace(kt,""));var kt;const Ct=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&l(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)},Tt=(e,t,n)=>{const o=e.dom;Ct(o,t,n)},$t=e=>L(e,"OL,UL"),Pt=e=>ne(e).exists($t),At=e=>"listAttributes"in e,Qt=e=>"isComment"in e,Et=e=>e.depth>0,Mt=e=>e.isSelected,Dt=e=>{const t=ee(e),n=oe(e).exists($t)?t.slice(0,-1):t;return x(n,$e)},It=(e,t)=>{me(e.item,t.list)},Rt=(e,t)=>{const n={list:R.fromTag(t,e),item:R.fromTag("li",e)};return me(n.list,n.item),n},zt=(e,t,n)=>{const o=t.slice(0,n.depth);return Q(o).each((t=>{if(At(n)){const o=((e,t,n)=>{const o=R.fromTag("li",e);return Ce(o,t),ge(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{me(e.list,t),e.item=t})(t,o),((e,t)=>{W(e.list)!==t.listType&&(e.list=Pe(e.list,t.listType)),Ce(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))ge(t.item,n.content);else{const e=R.fromHtml(`\x3c!--${n.content}--\x3e`);me(t.list,e)}})),o},Nt=(e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let i=0;i<n;i++)o.push(Rt(e,At(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var i;return(e=>{for(let t=1;t<e.length;t++)It(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)Tt(e[t].item,"list-style-type","none");Q(e).each((e=>{At(t)&&(Ce(e.list,t.listAttributes),Ce(e.item,t.itemAttributes)),ge(e.item,t.content)}))})(o,n),i=o,D(Q(t),A(i),It),t.concat(o)},Lt=(e,t)=>{let n=m.none();const o=_(t,((t,o,i)=>Qt(o)?0===i?(n=m.some(o),t):zt(e,t,o):o.depth>t.length?Nt(e,t,o):zt(e,t,o)),[]);return n.each((e=>{const t=R.fromHtml(`\x3c!--${e.content}--\x3e`);A(o).each((e=>{((e,t)=>{ne(e).fold((()=>{me(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))})(e.list,t)}))})),A(o).map((e=>e.list))},jt=e=>(w(e,((t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,i=e=>e.depth<n;return k($(e.slice(0,t)),o,i).orThunk((()=>k(e.slice(t+1),o,i)))})(e,n).fold((()=>{t.dirty&&At(t)&&(e=>{e.listAttributes=ke(e.listAttributes,((e,t)=>"start"!==t))})(t)}),(e=>{return o=e,void(At(n=t)&&At(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o}))})),e),Vt=(e,t,n,o)=>{var i,r;if(8===U(r=o)||"#comment"===W(r))return[{depth:e+1,content:null!==(i=o.dom.nodeValue)&&void 0!==i?i:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{N(e.start,o)&&n.set(!0)}));const s=((e,t,n)=>J(e).filter(q).map((o=>({depth:t,dirty:!1,isSelected:n,content:Dt(e),itemAttributes:Te(e),listAttributes:Te(o),listType:W(o),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{N(e.end,o)&&n.set(!1)}));const a=oe(o).filter($t).map((o=>Zt(e,t,n,o))).getOr([]);return s.toArray().concat(a)},Bt=(e,t,n,o)=>ne(o).filter($t).fold((()=>Vt(e,t,n,o)),(i=>{const r=_(ee(o),((o,r,s)=>{if(0===s)return o;if(L(r,"LI"))return o.concat(Vt(e,t,n,r));{const t={isFragment:!0,depth:e,content:[r],isSelected:!1,dirty:!1,parentListType:W(i)};return o.concat(t)}}),[]);return Zt(e,t,n,i).concat(r)})),Zt=(e,t,n,o)=>T(ee(o),(o=>($t(o)?Zt:Bt)(e+1,t,n,o))),Xt=(e,t)=>T(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let i=[];for(let r=0,s=e.length;r<s;r++){const s=e[r],a=t(s);a!==n&&(o.push(i),i=[]),n=a,i.push(s)}return 0!==i.length&&o.push(i),o}})(t,Et),(t=>A(t).exists(Et)?((e,t)=>{const n=jt(t);return Lt(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=jt(t);return x(n,(t=>{const n=Qt(t)?wt([R.fromHtml(`\x3c!--${t.content}--\x3e`)]):wt(t.content),o=At(t)?t.itemAttributes:{};return R.fromDom(Ke(e,n.dom,o))}))})(e,t))),Wt=(e,t,n)=>{const o=((e,t)=>{const n=(()=>{let e=!1;return{get:()=>e,set:t=>{e=t}}})();return x(e,(e=>({sourceList:e,entries:Zt(0,t,n,e)})))})(t,(e=>{const t=x(dt(e),R.fromDom);return D(C(t,f(Pt)),C($(t),f(Pt)),((e,t)=>({start:e,end:t})))})(e));w(o,(t=>{((e,t)=>{w(S(e,Mt),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=Xt(e,t.entries);var i;w(o,(t=>{St(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),i=t.sourceList,w(o,(e=>{fe(i,e)})),ve(t.sourceList)}))},Ut=(e,t)=>{const n=we(mt(e)),o=we((e=>S(dt(e),je))(e));let i=!1;if(n.length||o.length){const r=e.selection.getBookmark();Wt(e,n,t),((e,t,n)=>{w(n,"Indent"===t?it:t=>ot(e,t))})(e,t,o),e.selection.moveToBookmark(r),e.selection.setRng(st(e.selection.getRng())),e.nodeChanged(),i=!0}return i},Yt=(e,t)=>!(e=>{const t=ct(e);return bt(e,t)||!e.selection.isEditable()})(e)&&Ut(e,t),Ft=e=>Yt(e,"Indent"),qt=e=>Yt(e,"Outdent"),Ht=e=>Yt(e,"Flatten"),Gt=e=>"\ufeff"===e,Kt=(e,t)=>{return n=e,o=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(N,t),le(n,o,i).isSome();var n,o,i};var Jt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const en=Ae.DOM,tn=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"];if(Ie(o)){const e=en.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[i]):en.insertAfter(e,o.childNodes[i])):o.appendChild(e),o=e,i=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},nn=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(Ie(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;Ie(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,en.remove(e),!n.hasChildNodes()&&en.isBlock(n)&&n.appendChild(en.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=en.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),st(n)},on=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},rn=(e,t)=>{Qe.each(t,((t,n)=>{e.setAttribute(n,t)}))},sn=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{rn(t,n["list-attributes"]),Qe.each(e.select("li",t),(e=>{rn(e,n["list-item-attributes"])}))})(e,t,n)},an=(e,t)=>a(t)&&!Xe(t,e.schema.getBlockElements()),ln=(e,t,n,o)=>{let i=t[n?"startContainer":"endContainer"];const r=t[n?"startOffset":"endOffset"];Ie(i)&&(i=i.childNodes[Math.min(r,i.childNodes.length-1)]||i),!n&&Be(i.nextSibling)&&(i=i.nextSibling);const s=(t,n)=>{var i;const r=new ye(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let a;for(;a=r[s]();)if(!We(e,a)&&!Gt(a.textContent)&&0!==(null===(i=a.textContent)||void 0===i?void 0:i.length))return m.some(a);return m.none()};if(n&&De(i))if(Gt(i.textContent))i=s(i,!1).getOr(i);else for(null!==i.parentNode&&an(e,i.parentNode)&&(i=i.parentNode);null!==i.previousSibling&&(an(e,i.previousSibling)||De(i.previousSibling));)i=i.previousSibling;if(!n&&De(i))if(Gt(i.textContent))i=s(i,!0).getOr(i);else for(null!==i.parentNode&&an(e,i.parentNode)&&(i=i.parentNode);null!==i.nextSibling&&(an(e,i.nextSibling)||De(i.nextSibling));)i=i.nextSibling;for(;i.parentNode!==o;){const t=i.parentNode;if(Ze(e,i))return i;if(/^(TD|TH)$/.test(t.nodeName))return i;i=t}return i},cn=(e,t,n)=>{const o=e.selection.getRng();let i="LI";const r=ft(e,((e,t)=>{const n=e.selection.getStart(!0),o=ln(e,t,!0,e.getBody());return Kt(R.fromDom(o),R.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(i="DT");const a=tn(o),l=S(((e,t,n)=>{const o=[],i=e.dom,r=ln(e,t,!0,n),s=ln(e,t,!1,n);let a;const l=[];for(let e=r;e&&(l.push(e),e!==s);e=e.nextSibling);return Qe.each(l,(t=>{var r;if(Ze(e,t))return o.push(t),void(a=null);if(i.isBlock(t)||Be(t))return Be(t)&&i.remove(t),void(a=null);const s=t.nextSibling;Jt.isBookmarkNode(t)&&(Re(s)||Ze(e,s)||!s&&t.parentNode===n)?a=null:(a||(a=i.create("p"),null===(r=t.parentNode)||void 0===r||r.insertBefore(a,t),o.push(a)),a.appendChild(t))})),o})(e,o,r),e.dom.isEditable);Qe.each(l,(o=>{let r;const a=o.previousSibling,l=o.parentNode;Le(l)||(a&&Re(a)&&a.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let i=n?n["list-style-type"]:"";return i=null===i?"":i,o===i})(s,a,n)?(r=a,o=s.rename(o,i),a.appendChild(o)):(r=s.create(t),l.insertBefore(r,o),r.appendChild(o),o=s.rename(o,i)),((e,t,n)=>{Qe.each(n,(n=>e.setStyle(t,n,"")))})(s,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),sn(s,r,n),dn(e.dom,r))})),e.selection.setRng(nn(a))},un=(e,t,n)=>{return((e,t)=>Re(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},dn=(e,t)=>{let n,o=t.nextSibling;if(un(e,t,o)){const i=o;for(;n=i.firstChild;)t.appendChild(n);e.remove(i)}if(o=t.previousSibling,un(e,t,o)){const i=o;for(;n=i.lastChild;)t.insertBefore(n,t.firstChild);e.remove(i)}},hn=(e,t,n,o)=>{if(t.nodeName!==n){const i=e.dom.rename(t,n);sn(e.dom,i,o),St(e,on(n),i)}else sn(e.dom,t,o),St(e,on(n),t)},fn=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const i=e.dom.rename(t,n);sn(e.dom,i,o),St(e,on(n),i)}else sn(e.dom,t,o),St(e,on(n),t)},pn=e=>"list-style-type"in e,mn=(e,t,n)=>{const o=ct(e);if(yt(e,o))return;const r=ut(e),s=i(n)?n:{};r.length>0?((e,t,n,o,i)=>{const r=Re(t);if(!r||t.nodeName!==o||pn(i)||Ot(t)){cn(e,o,i);const s=tn(e.selection.getRng()),a=r?[t,...n]:n,l=r&&Ot(t)?fn:hn;Qe.each(a,(t=>{l(e,t,o,i)})),e.selection.setRng(nn(s))}else Ht(e)})(e,o,r,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||pn(o)||Ot(t)){const i=tn(e.selection.getRng());Ot(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),sn(e.dom,t,o);const r=e.dom.rename(t,n);dn(e.dom,r),e.selection.setRng(nn(i)),cn(e,n,o),St(e,on(n),r)}else Ht(e);else cn(e,n,o),St(e,on(n),t)})(e,o,t,s)},gn=Ae.DOM,On=(e,t)=>{const n=Qe.grep(e.select("ol,ul",t));Qe.each(n,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Ue(e,n)&&gn.remove(n)):gn.setStyle(n,"listStyleType","none")}if(Re(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},vn=(e,t,n,o)=>{let i=t.startContainer;const r=t.startOffset;if(De(i)&&(n?r<i.data.length:r>0))return i;const s=e.schema.getNonEmptyElements();Ie(i)&&(i=be.getNode(i,r));const a=new ye(i,o);n&&((e,t)=>!!Be(t)&&e.isBlock(t.nextSibling)&&!Be(t.previousSibling))(e.dom,i)&&a.next();const l=n?a.next.bind(a):a.prev2.bind(a);for(;i=l();){if("LI"===i.nodeName&&!i.hasChildNodes())return i;if(s[i.nodeName])return i;if(De(i)&&i.data.length>0)return i}return null},bn=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Re(n[0])&&e.isBlock(n[0])},yn=e=>m.from(e).map(R.fromDom).filter(F).exists((e=>((e,t=!1)=>se(e)?e.dom.isContentEditable:de(e).fold(d(t),(e=>"true"===he(e))))(e)&&!b(["details"],W(e)))),xn=(e,t,n)=>{let o;const i=bn(e,n)?n.firstChild:n;if(((e,t)=>{bn(e,t)&&yn(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!Ue(e,t,!0))for(;o=t.firstChild;)i.appendChild(o)},wn=(e,t,n)=>{let o;const i=t.parentNode;if(!Ye(e,t)||!Ye(e,n))return;Re(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&Be(i.previousSibling)&&e.remove(i.previousSibling);const r=n.lastChild;r&&Be(r)&&t.hasChildNodes()&&e.remove(r),Ue(e,n,!0)&&Oe(R.fromDom(n)),xn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(R.fromDom(n),R.fromDom(t))?e.getParents(t,Re,n):[];e.remove(t),w(s,(t=>{Ue(e,t)&&t!==e.getRoot()&&e.remove(t)}))},Sn=(e,t,n,o)=>{const i=e.dom;if(i.isEmpty(o))((e,t,n)=>{Oe(R.fromDom(n)),wn(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const r=tn(t);wn(i,n,o),e.selection.setRng(nn(r))}},_n=(e,t)=>{const n=e.dom,o=e.selection,i=o.getStart(),r=ht(e,i),s=n.getParent(o.getStart(),"LI",r);if(s){const i=s.parentElement;if(i===e.getBody()&&Ue(n,i))return!0;const a=st(o.getRng()),l=n.getParent(vn(e,a,t,r),"LI",r),c=l&&(t?n.isChildOf(s,l):n.isChildOf(l,s));if(l&&l!==s&&!c)return e.undoManager.transact((()=>{var n,o;t?Sn(e,a,l,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?qt(e):((e,t,n,o)=>{const i=tn(t);wn(e.dom,n,o);const r=nn(i);e.selection.setRng(r)})(e,a,s,l)})),!0;if(c&&!t&&l!==s){const t=a.commonAncestorContainer.parentElement;return!(!t||n.isChildOf(l,t))&&(e.undoManager.transact((()=>{const o=tn(a);xn(n,t,l),t.remove();const i=nn(o);e.selection.setRng(i)})),!0)}if(!l&&!t&&0===a.startOffset&&0===a.endOffset)return e.undoManager.transact((()=>{Ht(e)})),!0}return!1},kn=(e,t)=>{const n=e.dom,o=e.selection.getStart(),i=ht(e,o),r=n.getParent(o,n.isBlock,i);if(r&&n.isEmpty(r,void 0,{checkRootAsContent:!0})){const o=st(e.selection.getRng()),s=vn(e,o,t,i),a=n.getParent(s,"LI",i);if(s&&a){const l=e=>b(["td","th","caption"],W(e)),c=e=>e.dom===i;return!!((e,t,n=h)=>D(e,t,n).getOr(e.isNone()&&t.isNone()))(ce(R.fromDom(a),l,c),ce(R.fromDom(o.startContainer),l,c),N)&&(e.undoManager.transact((()=>{const o=a.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,r,i),dn(n,o),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1},Cn=e=>{const t=e.selection.getStart(),n=ht(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||dt(e).length>0},Tn=(e,t)=>{const n=e.selection;return!yt(e,n.getNode())&&(n.isCollapsed()?((e,t)=>_n(e,t)||kn(e,t))(e,t):(e=>!!Cn(e)&&(e.undoManager.transact((()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),On(e.dom,e.getBody())})),!0))(e))},$n=e=>{const t=$(_t(e).split("")),n=x(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return _(n,((e,t)=>e+t),0)},Pn=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return Pn(n)+String.fromCharCode("A".charCodeAt(0)+t)}},An=e=>{const t=parseInt(e.start,10);return M(e.listStyleType,"upper-alpha")?Pn(t):M(e.listStyleType,"lower-alpha")?Pn(t).toLowerCase():e.start},Qn=e=>{const t=ct(e);Ne(t)&&!yt(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:An({start:e.dom.getAttrib(t,"start","1"),listStyleType:m.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return m.some({listStyleType:m.none(),start:e});case 0:return m.some({listStyleType:m.some("upper-alpha"),start:$n(e).toString()});case 1:return m.some({listStyleType:m.some("lower-alpha"),start:$n(e).toString()});case 3:return m.some({listStyleType:m.none(),start:""});case 4:return m.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},En=(e,t)=>()=>{const n=ct(e);return a(n)&&n.nodeName===t},Mn=e=>{e.addCommand("mceListProps",(()=>{Qn(e)}))},Dn=e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Ft(e):"outdent"===n&&qt(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{mn(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{mn(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{mn(e,"DL",n)})),e.addCommand("RemoveList",(()=>{Ht(e)})),Mn(e),e.addCommand("mceListUpdate",((t,n)=>{i(n)&&((e,t)=>{const n=ct(e);null===n||yt(e,n)||e.undoManager.transact((()=>{i(t.styles)&&e.dom.setStyles(n,t.styles),i(t.attrs)&&_e(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",En(e,"UL")),e.addQueryStateHandler("InsertOrderedList",En(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",En(e,"DL"))};var In=tinymce.util.Tools.resolve("tinymce.html.Node");const Rn=e=>3===e.type,zn=e=>0===e.length,Nn=e=>{const t=(t,n)=>{const o=In.create("li");w(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=_(e.children(),((e,n)=>Rn(n)?[...e,n]:zn(e)||Rn(n)?e:(t(e,n),[])),[]);zn(n)||t(n)},Ln=e=>{qe(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==xe.TAB||xe.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?qt(e):Ft(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!Cn(e)||On(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===xe.BACKSPACE?Tn(e,!1)&&t.preventDefault():t.keyCode===xe.DELETE&&Tn(e,!0)&&t.preventDefault()}))})(e)},jn=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),xt(e,(o=>{n.setActive(vt(o.parents,t)),n.setEnabled(!yt(e,o.element)&&e.selection.isEditable())}))),Vn=(e,t)=>n=>xt(e,(o=>n.setEnabled(vt(o.parents,t)&&!yt(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>w(e,Nn)))}))})(e),e.hasPlugin("rtc",!0)?Mn(e):(Ln(e),Dn(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:jn(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:jn(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:Vn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=ct(e,t);return Ne(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{Tn(e,t)}}))(e))))}()},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],o=t[1];return 3*(n+o)/4-o},t.toByteArray=function(e){var t,n,r=a(e),s=r[0],l=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,l)),u=0,d=l>0?s-4:s;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,o=e.length,i=o%3,r=[],s=16383,a=0,c=o-i;a<c;a+=s)r.push(l(e,a,a+s>c?c:a+s));1===i?(t=e[o-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[o-2]<<8)+e[o-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return r.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=r[s],o[r.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,o){for(var i,r,s=[],a=t;a<o;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(r=i)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},7549:()=>{tinymce.Resource.add("ui/oxide/content.css","@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A\") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\"2\"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\"2\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border=\"0\"],.mce-item-table[border=\"0\"] caption,.mce-item-table[border=\"0\"] td,.mce-item-table[border=\"0\"] th,table[style*=\"border-width: 0px\"],table[style*=\"border-width: 0px\"] caption,table[style*=\"border-width: 0px\"] td,table[style*=\"border-width: 0px\"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}")},7726:(e,t,n)=>{n(9595)},7741:(e,t,n)=>{n(2983)},8287:(e,t,n)=>{"use strict";var o=n(7526),i=n(251),r=n(4634);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,o):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|p(t,n);e=a(e,o);var i=e.write(t,n);i!==o&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?a(e,0):h(e,t);if("Buffer"===t.type&&r(t.data))return h(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=a(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(o)return V(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return $(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function g(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function O(e,t,n,o,i){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,o)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,o,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,o,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,o,i){var r,s=1,a=e.length,l=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(r=n;r<a;r++)if(c(e,r)===c(t,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(n+l>a&&(n=a-l),r=n;r>=0;r--){for(var d=!0,h=0;h<l;h++)if(c(e,r+h)!==c(t,h)){d=!1;break}if(d)return r}return-1}function b(e,t,n,o){n=Number(n)||0;var i=e.length-n;o?(o=Number(o))>i&&(o=i):o=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");o>r/2&&(o=r/2);for(var s=0;s<o;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function y(e,t,n,o){return Z(V(t,e.length-n),e,n,o)}function x(e,t,n,o){return Z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,o)}function w(e,t,n,o){return x(e,t,n,o)}function S(e,t,n,o){return Z(B(t),e,n,o)}function _(e,t,n,o){return Z(function(e,t){for(var n,o,i,r=[],s=0;s<e.length&&!((t-=2)<0);++s)o=(n=e.charCodeAt(s))>>8,i=n%256,r.push(i),r.push(o);return r}(t,e.length-n),e,n,o)}function k(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var o=[],i=t;i<n;){var r,s,a,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(r=e[i+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=e[i+1],s=e[i+2],128==(192&r)&&128==(192&s)&&(l=(15&c)<<12|(63&r)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=e[i+1],s=e[i+2],a=e[i+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",o=0;for(;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=T));return n}(o)}t.hp=l,t.IS=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,o){return u(t),t<=0?a(e,t):void 0!==n?"string"==typeof o?a(e,t).fill(n,o):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,i=0,r=Math.min(n,o);i<r;++i)if(e[i]!==t[i]){n=e[i],o=t[i];break}return n<o?-1:o<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,i),i+=s.length}return o},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,o,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),t<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=n)return 0;if(o>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var r=(i>>>=0)-(o>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(r,s),c=this.slice(o,i),u=e.slice(t,n),d=0;d<a;++d)if(c[d]!==u[d]){r=c[d],s=u[d];break}return r<s?-1:s<r?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},l.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function $(e,t,n){var o="";n=Math.min(e.length,n);for(var i=t;i<n;++i)o+=String.fromCharCode(127&e[i]);return o}function P(e,t,n){var o="";n=Math.min(e.length,n);for(var i=t;i<n;++i)o+=String.fromCharCode(e[i]);return o}function A(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",r=t;r<n;++r)i+=j(e[r]);return i}function Q(e,t,n){for(var o=e.slice(t,n),i="",r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function E(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,o,i,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function D(e,t,n,o){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-n,2);i<r;++i)e[n+i]=(t&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function I(e,t,n,o){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-n,4);i<r;++i)e[n+i]=t>>>8*(o?i:3-i)&255}function R(e,t,n,o,i,r){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,o,r){return r||R(e,0,n,4),i.write(e,t,n,o,23,4),n+4}function N(e,t,n,o,r){return r||R(e,0,n,8),i.write(e,t,n,o,52,8),n+8}l.prototype.slice=function(e,t){var n,o=this.length;if((e=~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),(t=void 0===t?o:~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=this[e],i=1,r=0;++r<t&&(i*=256);)o+=this[e+r]*i;return o},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=this[e+--t],i=1;t>0&&(i*=256);)o+=this[e+--t]*i;return o},l.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=this[e],i=1,r=0;++r<t&&(i*=256);)o+=this[e+r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var o=t,i=1,r=this[e+--o];o>0&&(i*=256);)r+=this[e+--o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,r=0;for(this[t]=255&e;++r<n&&(i*=256);)this[t+r]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var r=0,s=1,a=0;for(this[t]=255&e;++r<n&&(s*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/s|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var r=n-1,s=1,a=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/s|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var i,r=o-n;if(this===e&&n<t&&t<o)for(i=r-1;i>=0;--i)e[i+t]=this[i+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},l.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!l.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var s=l.isBuffer(e)?e:V(new l(e,o).toString()),a=s.length;for(r=0;r<n-t;++r)this[r+t]=s[r%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var o=e.length,i=null,r=[],s=0;s<o;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===o){(t-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function B(e){return o.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,n,o){for(var i=0;i<o&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},8407:()=>{tinymce.addI18n("ja",{"#":"#",Accessibility:"アクセシビリティ",Accordion:"アコーディオン","Accordion body...":"アコーディオンの本文...","Accordion summary...":"アコーディオンの概要...",Action:"アクション",Activity:"行動",Address:"アドレス",Advanced:"詳細",Align:"配置","Align center":"中央揃え","Align left":"左揃え","Align right":"右揃え",Alignment:"配置","Alignment {0}":"整列 {0}",All:"すべて","Alternative description":"代替の説明文","Alternative source":"代替ソース","Alternative source URL":"代替ソースURL",Anchor:"アンカー","Anchor...":"アンカー...",Anchors:"アンカー","Animals and Nature":"動物と自然",Arrows:"矢印",B:"青","Background color":"背景色","Background color {0}":"背景色 {0}",Black:"ブラック",Block:"ブロック","Block {0}":"ブロック {0}",Blockquote:"引用",Blocks:"ブロック",Blue:"ブルー","Blue component":"青色コンポーネント",Body:"本文",Bold:"太字",Border:"ボーダー","Border color":"ボーダーの色","Border style":"枠線スタイル","Border width":"枠線幅",Bottom:"下揃え","Browse files":"ファイルをブラウズ","Browse for an image":"画像を参照","Browse links":"リンクをブラウズ","Bullet list":"箇条書き",Cancel:"取消",Caption:"キャプション",Cell:"セル","Cell padding":"セル内のスペース","Cell properties":"セルのプロパティ","Cell spacing":"セルの間隔","Cell styles":"セルの種類","Cell type":"セルの種類",Center:"中央揃え",Characters:"文字数","Characters (no spaces)":"文字数 (スペースなし)",Circle:"丸",Class:"クラス","Clear formatting":"書式をクリア",Close:"閉じる",Code:"コード","Code sample...":"コードのサンプル...","Code view":"コード表示","Color Picker":"カラーピッカー","Color swatch":"色の見本",Cols:"列数",Column:"列","Column clipboard actions":"列のクリップボードアクション","Column group":"列グループ","Column header":"列のヘッダー","Constrain proportions":"縦横比を固定",Copy:"コピー","Copy column":"列をコピー","Copy row":"行のコピー","Could not find the specified string.":"お探しの文字列が見つかりませんでした。","Could not load emojis":"絵文字が読み込めませんでした",Count:"カウント",Currency:"通貨","Current window":"同じウィンドウ","Custom color":"ユーザー設定の色","Custom...":"ユーザー設定...",Cut:"切り取り","Cut column":"列をカット","Cut row":"行の切り取り","Dark Blue":"ダークブルー","Dark Gray":"ダークグレー","Dark Green":"ダークグリーン","Dark Orange":"ダークオレンジ","Dark Purple":"ダークパープル","Dark Red":"ダークレッド","Dark Turquoise":"ダークターコイズ","Dark Yellow":"ダークイエロー",Dashed:"破線","Date/time":"日付/時刻","Decrease indent":"インデントを減らす",Default:"既定","Delete accordion":"アコーディオンの削除","Delete column":"列の削除","Delete row":"行の削除","Delete table":"テーブルの削除",Dimensions:"サイズ",Disc:"黒丸",Div:"分割",Document:"ドキュメント",Dotted:"点線",Double:"二重線","Drop an image here":"ここに画像をドロップ","Dropped file type is not supported":"ドロップされたファイルタイプはサポートされていません",Edit:"編集",Embed:"埋め込み",Emojis:"絵文字","Emojis...":"絵文字...",Error:"エラー","Error: Form submit field collision.":"エラー：フォーム送信フィールドが競合しています。","Error: No form element found.":"エラー：フォーム要素が見つかりませんでした。","Extended Latin":"ラテン文字拡張","Failed to initialize plugin: {0}":"プラグイン{0}の初期化に失敗しました","Failed to load plugin url: {0}":"プラグインのURL{0}を読み込めませんでした","Failed to load plugin: {0} from url {1}":"URL{1}からのプラグイン{0}の読み込みに失敗しました","Failed to upload image: {0}":"画像{0}をアップロードできませんでした",File:"ファイル",Find:"検索...","Find (if searchreplace plugin activated)":"検索 (置換プラグイン有効時)","Find and Replace":"検索と置換","Find and replace...":"置換...","Find in selection":"選択部分で検索","Find whole words only":"語全体を含むもののみ検索",Flags:"旗","Focus to contextual toolbar":"コンテキストツールバーにフォーカス","Focus to element path":"要素パスにフォーカス","Focus to menubar":"メニューバーにフォーカス","Focus to toolbar":"ツールバーにフォーカス",Font:"フォント","Font size {0}":"フォントサイズ {0}","Font sizes":"フォントのサイズ","Font {0}":"フォント {0}",Fonts:"フォント","Food and Drink":"食べ物と飲み物",Footer:"フッター",Format:"書式設定","Format {0}":"フォーマット {0}",Formats:"書式",Fullscreen:"フルスクリーン",G:"緑",General:"一般",Gray:"グレー",Green:"グリーン","Green component":"緑色コンポーネント",Groove:"谷線","Handy Shortcuts":"便利なショートカット",Header:"ヘッダー","Header cell":"ヘッダーセル","Heading 1":"見出し1","Heading 2":"見出し2","Heading 3":"見出し3","Heading 4":"見出し4","Heading 5":"見出し5","Heading 6":"見出し6",Headings:"見出し",Height:"高さ",Help:"ヘルプ","Hex color code":"16進カラーコード",Hidden:"非表示","Horizontal align":"水平に整列","Horizontal line":"水平罫線","Horizontal space":"左右余白",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"IDは文字で始まり、その後に文字、数字、ダッシュ、ピリオド、コロン、またはアンダースコアが続く必要があります。","Image is decorative":"画像は装飾画像","Image list":"画像リスト","Image title":"画像タイトル","Image...":"画像..","ImageProxy HTTP error: Could not find Image Proxy":"画像プロキシ HTTPエラー：画像プロキシが見つかりませんでした","ImageProxy HTTP error: Incorrect Image Proxy URL":"画像プロキシ HTTPエラー：不正な画像プロキシURL","ImageProxy HTTP error: Rejected request":"画像プロキシ HTTPエラー：拒否されたリクエスト","ImageProxy HTTP error: Unknown ImageProxy error":"画像プロキシ HTTPエラー：不明な画像プロキシエラー","Increase indent":"インデントを増やす",Inline:"インライン",Insert:"挿入","Insert Template":"テンプレートの挿入..","Insert accordion":"アコーディオンの挿入","Insert column after":"後に列を挿入","Insert column before":"前に列を挿入","Insert date/time":"日付/時刻の挿入","Insert image":"画像の挿入","Insert link (if link plugin activated)":"リンクを挿入 (リンクプラグイン有効時)","Insert row after":"後に行を挿入","Insert row before":"前に行を挿入","Insert table":"表の挿入","Insert template...":"テンプレートの挿入..","Insert video":"動画の挿入","Insert/Edit code sample":"コードサンプルの挿入/編集","Insert/edit image":"画像の挿入/編集","Insert/edit link":"リンクの挿入/編集","Insert/edit media":"メディアの挿入/編集","Insert/edit video":"動画の挿入/編集",Inset:"内線","Invalid hex color code: {0}":"無効な16進カラーコード: {0}","Invalid input":"無効な入力",Italic:"斜体",Justify:"両端揃え","Keyboard Navigation":"キーボードナビゲーション",Language:"言語","Learn more...":"詳細...",Left:"左揃え","Left to right":"左から右","Light Blue":"ライトブルー","Light Gray":"ライトグレー","Light Green":"ライトグリーン","Light Purple":"ライトパープル","Light Red":"ライトレッド","Light Yellow":"ライトイエロー","Line height":"行の高さ","Link list":"リンクの一覧","Link...":"リンク...","List Properties":"箇条書きのプロパティ","List properties...":"箇条書きのプロパティ...","Loading emojis...":"絵文字を読み込んでいます…","Loading...":"読み込んでいます...","Lower Alpha":"小文字アルファベット","Lower Greek":"小文字ギリシャ文字","Lower Roman":"小文字ローマ字","Match case":"大文字と小文字を区別",Mathematical:"数学記号","Media poster (Image URL)":"メディアポスター (画像URL)","Media...":"メディア…","Medium Blue":"メディアムブルー","Medium Gray":"ミディアムグレー","Medium Purple":"ミディアムパープル","Merge cells":"セルの結合",Middle:"中央揃え","Midnight Blue":"ミッドナイトブルー","More...":"詳細...",Name:"名前","Navy Blue":"ネイビー","New document":"新規ドキュメント","New window":"新規ウィンドウ",Next:"次へ",No:"いいえ","No alignment":"配置なし","No color":"色なし","Nonbreaking space":"固定スペース",None:"なし","Numbered list":"番号付き箇条書き",OR:"または",Objects:"物",Ok:"OK","Open help dialog":"ヘルプダイアログを開く","Open link":"リンクを開く","Open link in...":"リンクの開き方...","Open popup menu for split buttons":"分割ボタンのポップアップメニューを開く",Orange:"オレンジ",Outset:"外線","Page break":"ページ区切り",Paragraph:"段落",Paste:"貼り付け","Paste as text":"テキストとして貼り付け","Paste column after":"後に列を貼り付け","Paste column before":"前に列を貼り付け","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"貼り付けは現在プレーンテキストモードです。このオプションをオフにしない限り内容はプレーンテキストとして貼り付けられます。","Paste or type a link":"リンクをペーストまたは入力","Paste row after":"下側に行を貼り付け","Paste row before":"上側に行を貼り付け","Paste your embed code below:":"埋め込み用コードを以下に貼り付けてください。",People:"人",Plugins:"プラグイン","Plugins installed ({0}):":"インストール済プラグイン ({0})：","Powered by {0}":"{0} によって搭載された",Pre:"整形済みテキスト",Preferences:"プリファレンス",Preformatted:"書式設定済み","Premium plugins:":"プレミアムプラグイン：","Press the Up and Down arrow keys to resize the editor.":"上矢印と下矢印のキーを押してエディターのサイズを変更します。","Press the arrow keys to resize the editor.":"矢印キーを押してエディターのサイズを変更します。","Press {0} for help":"ヘルプを見るには {0} を押します",Preview:"プレビュー",Previous:"前へ",Print:"印刷","Print...":"印刷...",Purple:"パープル",Quotations:"引用",R:"赤","Range 0 to 255":"範囲0〜255",Red:"レッド","Red component":"赤色コンポーネント",Redo:"やり直し",Remove:"削除","Remove color":"色設定を解除","Remove link":"リンクの削除",Replace:"置換","Replace all":"すべて置換","Replace with":"置換後の文字列",Resize:"サイズ変更","Restore last draft":"前回の下書きを回復","Reveal or hide additional toolbar items":"追加のツール バー アイテムの表示または非表示","Rich Text Area":"リッチテキストエリア","Rich Text Area. Press ALT-0 for help.":"リッチテキストエリア。Alt-0でヘルプが表示されます。","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"リッチテキストエリア。ALT-F9でメニュー、ALT-F10でツールバー、ALT-0でヘルプが表示されます。",Ridge:"山線",Right:"右揃え","Right to left":"右から左",Row:"行","Row clipboard actions":"行のクリップボードアクション","Row group":"行グループ","Row header":"行のヘッダー","Row properties":"行のプロパティ","Row type":"行タイプ",Rows:"行数",Save:"保存","Save (if save plugin activated)":"保存 (保存プラグイン有効時)",Scope:"スコープ",Search:"検索","Select all":"すべて選択","Select...":"選択...",Selection:"選択",Shortcut:"ショートカット","Show blocks":"文章の区切りを点線で表示","Show caption":"キャプションの表示","Show invisible characters":"非表示文字を表示",Size:"サイズ",Solid:"実線",Source:"ソース","Source code":"ソースコード","Special Character":"特殊文字","Special character...":"特殊文字...","Split cell":"セルの分割",Square:"四角","Start list at number":"番号リストの開始",Strikethrough:"取消線",Style:"スタイル",Subscript:"下付き",Superscript:"上付き","Switch to or from fullscreen mode":"フルスクリーンモード切替",Symbols:"記号","System Font":"システムフォント",Table:"表","Table caption":"テーブルの見出し","Table properties":"テーブルのプロパティ","Table styles":"テーブルの種類",Template:"テンプレート",Templates:"テンプレート",Text:"テキスト","Text color":"テキスト色","Text color {0}":"テキスト色 {0}","Text to display":"表示するテキスト","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"入力されたURLはメールアドレスのようです。「mailto:」プレフィックスを追加しますか？","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"入力されたURLは外部リンクのようです。「http://」プレフィックスを追加しますか？","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"入力されたURLは外部リンクのようです。必要な「https://」プレフィックスを追加しますか？",Title:"タイトル","To open the popup, press Shift+Enter":"ポップアップを開くには、Shift+Enterを押してください","Toggle accordion":"アコーディオンの切り替え",Tools:"ツール",Top:"上揃え","Travel and Places":"旅行と場所",Turquoise:"ターコイズ",Underline:"下線",Undo:"元に戻す",Upload:"アップロード","Uploading image":"画像アップロード中","Upper Alpha":"大文字アルファベット","Upper Roman":"大文字ローマ字",Url:"URL","User Defined":"ユーザー定義",Valid:"有効",Version:"バージョン","Vertical align":"垂直に整列","Vertical space":"上下余白",View:"表示","Visual aids":"表の枠線を点線で表示",Warn:"警告",White:"ホワイト",Width:"幅","Word count":"文字数カウント",Words:"単語数","Words: {0}":"単語数：{0}",Yellow:"イエロー",Yes:"はい","You are using {0}":"{0}を使用中","You have unsaved changes are you sure you want to navigate away?":"まだ保存していない変更があります。このページを離れますか？","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"お使いのブラウザではクリップボード機能を利用することができません。キーボードのショートカット（Ctrl+X, Ctrl+C, Ctrl+V）を使用してください。",alignment:"配置","austral sign":"アウストラル記号","cedi sign":"セディ記号","colon sign":"コロン記号","cruzeiro sign":"クルゼイロ記号","currency sign":"通貨記号","dollar sign":"ドル記号","dong sign":"ドン記号","drachma sign":"ドラクマ記号","euro-currency sign":"ユーロ記号",example:"例",formatting:"書式","french franc sign":"フランスフラン記号","german penny symbol":"ドイツペニー記号","guarani sign":"ガラニ記号",history:"履歴","hryvnia sign":"フリヴニャ記号",indentation:"インデント","indian rupee sign":"インドルピー記号","kip sign":"キープ記号","lira sign":"リラ記号","livre tournois sign":"トゥールポンド記号","manat sign":"マナト記号","mill sign":"ミル記号","naira sign":"ナイラ記号","new sheqel sign":"新シェケル記号","nordic mark sign":"北欧マルク記号","peseta sign":"ペセタ記号","peso sign":"ペソ記号","ruble sign":"ルーブル記号","rupee sign":"ルピー記号","spesmilo sign":"スペスミーロ記号",styles:"スタイル","tenge sign":"テンゲ記号","tugrik sign":"トゥグルグ記号","turkish lira sign":"トルコリラ記号","won sign":"ウォン記号","yen character":"円記号","yen/yuan character variant one":"円/元記号のバリエーション","yuan character":"人民元記号","yuan character, in hong kong and taiwan":"香港および台湾における元記号","{0} characters":"{0}文字","{0} columns, {1} rows":"{0} 列、{1} 行","{0} words":"{0}語"})},8569:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,o,i){var r,s=function(e,n,o){void 0===o&&(o={});var i=new Date(e),r=function(e,n){void 0===n&&(n={});var o=n.timeZoneName||"short",i=e+"|"+o,r=t[i];return r||(r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:o}),t[i]=r),r}(n,o);return r.formatToParts(i)},a=function(t,n){for(var o=s(t,n),r=[],a=0;a<o.length;a+=1){var l=o[a],c=l.type,u=l.value,d=e[c];d>=0&&(r[d]=parseInt(u,10))}var h=r[3],f=24===h?0:h,p=r[0]+"-"+r[1]+"-"+r[2]+" "+f+":"+r[4]+":"+r[5]+":000",m=+t;return(i.utc(p).valueOf()-(m-=m%1e3))/6e4},l=o.prototype;l.tz=function(e,t){void 0===e&&(e=r);var n,o=this.utcOffset(),s=this.toDate(),a=s.toLocaleString("en-US",{timeZone:e}),l=Math.round((s-new Date(a))/1e3/60),c=15*-Math.round(s.getTimezoneOffset()/15)-l;if(Number(c)){if(n=i(a,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(c,!0),t){var u=n.utcOffset();n=n.add(o-u,"minute")}}else n=this.utcOffset(0,t);return n.$x.$timezone=e,n},l.offsetName=function(e){var t=this.$x.$timezone||i.tz.guess(),n=s(this.valueOf(),t,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return n&&n.value};var c=l.startOf;l.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(n,e,t).tz(this.$x.$timezone,!0)},i.tz=function(e,t,n){var o=n&&t,s=n||t||r,l=a(+i(),s);if("string"!=typeof e)return i(e).tz(s);var c=function(e,t,n){var o=e-60*t*1e3,i=a(o,n);if(t===i)return[o,t];var r=a(o-=60*(i-t)*1e3,n);return i===r?[o,i]:[e-60*Math.min(i,r)*1e3,Math.max(i,r)]}(i.utc(e,o).valueOf(),l,s),u=c[0],d=c[1],h=i(u).utcOffset(d);return h.$x.$timezone=s,h},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(e){r=e}}}()},8620:e=>{var t;window,t=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=33)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,o,i,r,s=Object.prototype.hasOwnProperty;for(i=1,r=arguments.length;i<r;i+=1)for(o in n=arguments[i])s.call(n,o)&&(e[o]=n[o]);return e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";var o=n(1),i=n(6),r=n(7);e.exports=function(e,t,n){o(e)?i(e,t,n):r(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var o=n(22),i=n(2),r=n(6),s=n(7),a=n(37),l=0,c={getLength:function(e){var t=0;return s(e,(function(){t+=1})),t},map:function(e,t,n){var o=[];return i(e,(function(){o.push(t.apply(n||null,arguments))})),o},filter:function(e,t,n){var o=[];return r(e,(function(e){t.apply(n||null,arguments)&&o.push(e)})),o},generateId:function(){return l+=1},isOldBrowser:o.msie&&o.version<9,sendHostName:function(){a("color-picker","UA-129987462-1")}};e.exports=c},function(e,t,n){"use strict";var o=n(1);e.exports=function(e,t,n){var i,r;if(n=n||0,!o(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(r=t.length,i=n;n>=0&&i<r;i+=1)if(t[i]===e)return i;return-1}},function(e,t,n){"use strict";e.exports=function(e,t,n){var o=0,i=e.length;for(n=n||null;o<i&&!1!==t.call(n,e[o],o,e);o+=1);}},function(e,t,n){"use strict";e.exports=function(e,t,n){var o;for(o in n=n||null,e)if(e.hasOwnProperty(o)&&!1===t.call(n,e[o],o,e))break}},function(e,t,n){"use strict";var o=n(39),i=n(13),r=n(41),s=n(3),a=n(9),l=n(19),c=n(4);function u(e,t){var n=c.generateId();e=e||{},s(t)&&(t=a.appendHTMLElement("div")),o(t,"tui-view-"+n),this.id=n,this.container=t,this.childs=new l((function(e){return e.id})),this.parent=null}u.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.childs.add(e)},u.prototype.removeChild=function(e,t){var n=r(e)?this.childs.items[e]:e;t&&t.call(n,this),this.childs.remove(n.id)},u.prototype.render=function(){this.childs.each((function(e){e.render()}))},u.prototype.recursive=function(e,t){i(e)&&(t||e(this),this.childs.each((function(t){t.recursive(e)})))},u.prototype.resize=function(){for(var e=Array.prototype.slice.call(arguments),t=this.parent;t;)i(t._onResize)&&t._onResize.apply(t,e),t=t.parent},u.prototype._beforeDestroy=function(){},u.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},u.prototype.destroy=function(e){this.childs&&(this.childs.each((function(e){e.destroy(!0),e._destroy()})),this.childs.clear()),e||this._destroy()},u.prototype.getViewBound=function(){var e=this.container.getBoundingClientRect();return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.exports=u},function(e,t,n){"use strict";var o={appendHTMLElement:function(e,t,n){var o=document.createElement(e);return o.className=n||"",t?t.appendChild(o):document.body.appendChild(o),o}};e.exports=o},function(e,t,n){"use strict";var o=n(0),i=n(20),r=n(11),s=n(21),a=n(1),l=n(13),c=n(2),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){o(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var o=this._safeEvent(e);this._memorizeContext(n),o.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var o=this;r(e)?(e=e.split(u),c(e,(function(e){o._bindEvent(e,t,n)}))):s(e)&&(n=t,c(e,(function(e,t){o.on(t,e,n)})))},d.prototype.once=function(e,t,n){var o=this;if(s(e))return n=t,void c(e,(function(e,t){o.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),o.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,o=0;if(a(e))for(n=e.length;o<n;o+=1)!0===t(e[o])&&(e.splice(o,1),n-=1,o-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var o=e===n.handler;return o&&t._forgetContext(n.context),o}},d.prototype._matchContext=function(e){var t=this;return function(n){var o=e===n.context;return o&&t._forgetContext(n.context),o}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(o){var i=e===o.handler,r=t===o.context,s=i&&r;return s&&n._forgetContext(o.context),s}},d.prototype._offByEventName=function(e,t){var n=this,o=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);o?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,o=this;this._indexOfContext(e)<0?c(e,(function(e,t){o.off(t,e)})):r(t)?(n=this._matchContext(e),o._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){o._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){o._spliceMatches(e,n)})))},d.prototype.off=function(e,t){r(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):s(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,o,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),o=0;t[o];){if(!1===(i=t[o]).handler.apply(i.context,n))return!1;o+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){"use strict";var o=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,i={leadingZero:function(e,t){var n="",o=0;if((e+"").length>t)return e+"";for(;o<t-1;o+=1)n+="0";return(n+e).slice(-1*t)},isValidRGB:function(e){return o.test(e)},hexToRGB:function(e){return!!i.isValidRGB(e)&&(e=e.substring(1),[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)])},rgbToHEX:function(e,t,n){var o="#"+i.leadingZero(e.toString(16),2)+i.leadingZero(t.toString(16),2)+i.leadingZero(n.toString(16),2);return!!i.isValidRGB(o)&&o},rgbToHSV:function(e,t,n){var o,i,r,s,a,l;if(e/=255,t/=255,n/=255,a=o=Math.max(e,t,n),l=o-(i=Math.min(e,t,n)),s=0===o?0:l/o,o===i)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return[Math.round(360*r),Math.round(100*s),Math.round(100*a)]},hsvToRGB:function(e,t,n){var o,i,r,s,a,l,c,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),n/=100,0==(t/=100))return o=i=r=n,[Math.round(255*o),Math.round(255*i),Math.round(255*r)];switch(l=n*(1-t),c=n*(1-t*(a=(e/=60)-(s=Math.floor(e)))),u=n*(1-t*(1-a)),s){case 0:o=n,i=u,r=l;break;case 1:o=c,i=n,r=l;break;case 2:o=l,i=n,r=u;break;case 3:o=l,i=c,r=n;break;case 4:o=u,i=l,r=n;break;default:o=n,i=l,r=c}return[Math.round(255*o),Math.round(255*i),Math.round(255*r)]}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var o=n(11),i=n(2),r=n(26);function s(e,t,n,o){function s(t){n.call(o||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,s):"attachEvent"in e&&e.attachEvent("on"+t,s),function(e,t,n,o){var s=r(e,t),a=!1;i(s,(function(e){return e.handler!==n||(a=!0,!1)})),a||s.push({handler:n,wrappedHandler:o})}(e,t,n,s)}e.exports=function(e,t,n,r){o(t)?i(t.split(/\s+/g),(function(t){s(e,t,n,r)})):i(t,(function(t,o){s(e,o,t,n)}))}},function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(e,t,n){"use strict";var o=n(11),i=n(2),r=n(26);function s(e,t,n){var o,s=r(e,t);n?(i(s,(function(i,r){return n!==i.handler||(a(e,t,i.wrappedHandler),o=r,!1)})),s.splice(o,1)):(i(s,(function(n){a(e,t,n.wrappedHandler)})),s.splice(0,s.length))}function a(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){o(t)?i(t.split(/\s+/g),(function(t){s(e,t,n)})):i(t,(function(t,n){s(e,n,t)}))}},function(e,t,n){"use strict";var o=n(50);e.exports=function(e,t){var n=o(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";var o=n(6),i=n(7),r=n(0),s=n(1),a=n(20),l=n(13),c=n(21),u=n(4),d=Array.prototype.slice;function h(e){this.items={},this.length=0,l(e)&&(this.getItemID=e)}h.and=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var o=0;o<t;o+=1)if(!e[o].call(null,n))return!1;return!0}},h.or=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var o=1,i=e[0].call(null,n);o<t;o+=1)i=i||e[o].call(null,n);return i}},h.merge=function(e){var t={},n=new h(e.getItemID);return o(arguments,(function(e){r(t,e.items)})),n.items=t,n.length=u.getLength(n.items),n},h.prototype.getItemID=function(e){return e._id+""},h.prototype.add=function(e){var t,n;arguments.length>1?o(d.call(arguments),(function(e){this.add(e)}),this):(t=this.getItemID(e),(n=this.items)[t]||(this.length+=1),n[t]=e)},h.prototype.remove=function(e){var t,n,o=[];return this.length?arguments.length>1?(o=u.map(d.call(arguments),(function(e){return this.remove(e)}),this),o):(t=this.items,c(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):o):o},h.prototype.clear=function(){this.items={},this.length=0},h.prototype.has=function(e){var t,n;return!!this.length&&(t=l(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=c(e)?this.getItemID(e):e,n=a(this.items[e])),n)},h.prototype.doWhenHas=function(e,t,n){var o=this.items[e];a(o)&&t.call(n||this,o)},h.prototype.find=function(e){var t=new h;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},h.prototype.groupBy=function(e,t){var n,i,r={},a=l(e),c=this.getItemID;if(s(e)){if(o(e,(function(e){r[e+""]=new h(c)})),!t)return r;e=t,a=!0}return this.each((function(t){a?i=e(t):(i=t[e],l(i)&&(i=i.apply(t))),(n=r[i])||(n=r[i]=new h(c)),n.add(t)})),r},h.prototype.single=function(){var e;return this.each((function(t){return e=t,!1}),this),e},h.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),l(e)&&(t=t.sort(e)),t},h.prototype.each=function(e,t){i(this.items,e,t||this)},h.prototype.toArray=function(){return this.length?u.map(this.items,(function(e){return e})):[]},e.exports=h},function(e,t,n){"use strict";var o=n(3),i=n(36);e.exports=function(e){return!o(e)&&!i(e)}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";var o,i,r,s,a,l,c,u,d,h,f={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!=typeof window&&window.navigator&&(r=window.navigator,s=r.appName.replace(/\s/g,"_"),a=r.userAgent,l=/MSIE\s([0-9]+[.0-9]*)/,c=/Trident.*rv:11\./,u=/Edge\/(\d+)\./,d={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},(h={Microsoft_Internet_Explorer:function(){var e=a.match(l);e?(f.msie=!0,f.version=parseFloat(e[1])):f.others=!0},Netscape:function(){var e=!1;if(c.exec(a))f.msie=!0,f.version=11,e=!0;else if(u.exec(a))f.edge=!0,f.version=a.match(u)[1],e=!0;else for(o in d)if(d.hasOwnProperty(o)&&(i=a.match(d[o]))&&i.length>1){f[o]=e=!0,f.version=parseFloat(i[1]||0);break}e||(f.others=!0)}})[s]&&h[s]()),e.exports=f},function(e,t,n){"use strict";var o=n(3);e.exports=function(e){return e&&e.className?o(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";(function(t){var o=n(10),i=n(42),r=n(44),s=n(47),a=n(28),l=n(17),c=n(14),u=n(15),d=n(0);function h(e,t){c(t,"mousedown",this._onMouseDown,this),this.options=d({distance:10},e),this.container=t,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}h.prototype.destroy=function(){l(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},h.prototype._toggleDragEvent=function(e){var n=this.container;e?(i(n),c(window,"dragstart",u),c(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(r(n),l(window,"dragstart",u),l(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},h.prototype._getEventData=function(e){return{target:a(e),originEvent:e}},h.prototype._onMouseDown=function(e){0===s(e)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0))},h.prototype._onMouseMove=function(e){var t=this.options.distance;u(e),this._isMoved=!0,this._distance<t?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(e)):this._toggleDragEvent(!1)},h.prototype._onMouseUp=function(e){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(e));this.fire("click",this._getEventData(e))},o.mixin(h),e.exports=h}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o="_feEventKey";e.exports=function(e,t){var n,i=e[o];return i||(i=e[o]={}),(n=i[t])||(n=i[t]=[]),n}},function(e,t,n){"use strict";e.exports=function(e){var t,n,o=document.documentElement.style;for(t=0,n=e.length;t<n;t+=1)if(e[t]in o)return e[t];return!1}},function(e,t,n){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,n){"use strict";var o=n(10),i=n(28),r=n(17),s=n(14),a=n(30),l=n(0),c=n(18),u=n(9),d=n(12),h=n(8),f=n(51);function p(e,t){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},e),t=u.appendHTMLElement("div",t,this.options.cssPrefix+"palette-container"),h.call(this,e,t)}c(p,h),p.prototype._onClick=function(e){var t=this.options,n=i(e),o={};if(a(n,t.cssPrefix+"palette-button"))return o.color=n.value,void this.fire("_selectColor",o);a(n,t.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(e){var t=this.options,n=i(e),o={};a(n,t.cssPrefix+"palette-hex")&&(o.color=n.value,this.fire("_selectColor",o))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(e){var t,n=this.options,o=this.container,i=e?s:r;i(o,"click",this._onClick,this),(t=o.querySelector("."+n.cssPrefix+"palette-hex",o))&&i(t,"change",this._onChange,this)},p.prototype.render=function(e){var t,n=this.options;this._toggleEvent(!1),t=f({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:e,isValidRGB:d.isValidRGB,getItemClass:function(e){return e?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(t){return t===e?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=t,this._toggleEvent(!0)},o.mixin(p),e.exports=p},function(e,t,n){"use strict";var o=n(5),i=n(23);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),o(t,n)>-1)}},function(e,t,n){"use strict";var o=n(10),i=n(53),r=n(54),s=n(30),a=n(0),l=n(18),c=n(9),u=n(32),d=n(12),h=n(8),f=n(24),p=n(57),m=359.99;function g(e,t){(t=c.appendHTMLElement("div",t,e.cssPrefix+"slider-container")).style.display="none",h.call(this,e,t),this.options=a({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},e),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new f({distance:0},t),this.colorSliderPosLimitRange=[-7,112],this.huebarPosLimitRange=[-3,115],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(g,h),g.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},g.prototype.toggle=function(e){this.container.style.display=e?"block":"none"},g.prototype.isVisible=function(){return"block"===this.container.style.display},g.prototype.render=function(e){var t,n,o=this.container,i=this.options,r=p.layout;d.isValidRGB(e)&&(r=(r=(r=(r=r.replace(/{{slider}}/,p.slider)).replace(/{{huebar}}/,p.huebar)).replace(/{{cssPrefix}}/g,i.cssPrefix)).replace(/{{id}}/g,i.id),this.container.innerHTML=r,this.sliderSvgElement=o.querySelector("."+i.cssPrefix+"svg-slider"),this.huebarSvgElement=o.querySelector("."+i.cssPrefix+"svg-huebar"),this.sliderHandleElement=o.querySelector("."+i.cssPrefix+"slider-handle"),this.huebarHandleElement=o.querySelector("."+i.cssPrefix+"huebar-handle"),this.baseColorElement=o.querySelector("."+i.cssPrefix+"slider-basecolor"),t=d.hexToRGB(e),n=d.rgbToHSV.apply(null,t),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},g.prototype._setColorSliderPosMax=function(){var e=this.sliderSvgElement.getClientRects()[0];e&&(this.colorSliderPosLimitRange[1]=e.height-10)},g.prototype._moveColorSliderHandle=function(e,t,n){var o,i=this.sliderHandleElement;t=Math.max(this.colorSliderPosLimitRange[0],t),t=Math.min(this.colorSliderPosLimitRange[1],t),e=Math.max(this.colorSliderPosLimitRange[0],e),e=Math.min(this.colorSliderPosLimitRange[1],e),u.setTranslateXY(i,e,t),o=t>50?"white":"black",u.setStrokeColor(i,o),n||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveSaturationAndValue=function(e,t,n){var o,i,r,s;e=e||0,t=t||0,o=Math.abs(this.colorSliderPosLimitRange[0]),r=e*(i=this.colorSliderPosLimitRange[1])/100-o,s=i-t*i/100-o,this._moveColorSliderHandle(r,s,n)},g.prototype._moveColorSliderByPosition=function(e,t){var n=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(e+n,t+n)},g.prototype.getSaturationAndValue=function(){var e=Math.abs(this.colorSliderPosLimitRange[0]),t=e+this.colorSliderPosLimitRange[1],n=u.getTranslateXY(this.sliderHandleElement);return[(n[1]+e)/t*100,100-(n[0]+e)/t*100]},g.prototype._setHueBarPosMax=function(){var e=this.huebarSvgElement.getClientRects()[0];e&&(this.huebarPosLimitRange[1]=e.height-7)},g.prototype._moveHueHandle=function(e,t){var n,o,i=this.huebarHandleElement,r=this.baseColorElement;e=Math.max(this.huebarPosLimitRange[0],e),e=Math.min(this.huebarPosLimitRange[1],e),u.setTranslateY(i,e),n=d.hsvToRGB(this.getHue(),100,100),o=d.rgbToHEX.apply(null,n),u.setGradientColorStop(r,o),t||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveHue=function(e,t){var n,o;n=((o=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1])*(e=e||0)/m-o,this._moveHueHandle(n,t)},g.prototype._moveHueByPosition=function(e){var t=this.huebarPosLimitRange[0];this._moveHueHandle(e+t)},g.prototype.getHue=function(){var e,t,n=this.huebarHandleElement,o=u.getTranslateXY(n);return t=(e=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1],(o[0]+e)*m/t},g.prototype.getHSV=function(){var e=this.getSaturationAndValue();return[this.getHue()].concat(e)},g.prototype.getRGB=function(){return d.hsvToRGB.apply(null,this.getHSV())},g.prototype._prepareColorSliderForMouseEvent=function(e){var t=this.options,n=r(e.target,"."+t.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:s(n,t.cssPrefix+"slider-left"),parentElement:n}},g.prototype._onClick=function(e){var t=this._prepareColorSliderForMouseEvent(e),n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},g.prototype._onDragStart=function(e){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(e)},g.prototype._onDrag=function(e){var t=this._dragDataCache,n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},g.prototype._onDragEnd=function(){this._dragDataCache=null},o.mixin(g),e.exports=g},function(e,t,n){"use strict";var o=n(4).isOldBrowser,i=/[\.\-0-9]+/g,r={getTranslateXY:function(e){var t;return o?(t=e.style,[parseFloat(t.top),parseFloat(t.left)]):(t=e.getAttribute("transform"))?(t=t.match(i),[parseFloat(t[1]),parseFloat(t[0])]):[0,0]},setTranslateXY:function(e,t,n){o?(e.style.left=t+"px",e.style.top=n+"px"):e.setAttribute("transform","translate("+t+","+n+")")},setTranslateY:function(e,t){o?e.style.top=t+"px":e.setAttribute("transform","translate(-6,"+t+")")},setStrokeColor:function(e,t){o?e.strokecolor=t:e.setAttribute("stroke",t)},setGradientColorStop:function(e,t){o?e.color=t:e.setAttribute("stop-color",t)}};e.exports=r},function(e,t,n){n(34),e.exports=n(35)},function(e,t,n){},function(e,t,n){"use strict";var o={Collection:n(19),View:n(8),Drag:n(24),create:n(48),Palette:n(29),Slider:n(31),colorutil:n(12),svgvml:n(32)};e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var o=n(3),i=n(38);e.exports=function(e,t){var n=location.hostname,r="TOAST UI "+e+" for "+n+": Statistics",s=window.localStorage.getItem(r);(o(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!function(e){return(new Date).getTime()-e>6048e5}(s)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var o=n(7);e.exports=function(e,t){var n=document.createElement("img"),i="";return o(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var o=n(2),i=n(5),r=n(23),s=n(40);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),a=e.classList,l=[];a?o(n,(function(t){e.classList.add(t)})):((t=r(e))&&(n=[].concat(t.split(/\s+/),n)),o(n,(function(e){i(e,l)<0&&l.push(e)})),s(e,l))}},function(e,t,n){"use strict";var o=n(1),i=n(3);e.exports=function(e,t){t=(t=o(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},function(e,t,n){"use strict";var o=n(14),i=n(15),r=n(43),s=n(27),a="onselectstart"in document,l=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),a?o(e,"selectstart",i):(e=e===document?document.documentElement:e,r(e,"prevUserSelect",e.style[l]),e.style[l]="none")}},function(e,t,n){"use strict";var o=n(16);e.exports=function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+o(t),n)}},function(e,t,n){"use strict";var o=n(17),i=n(15),r=n(45),s=n(46),a=n(27),l="onselectstart"in document,c="prevUserSelect",u=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),l?o(e,"selectstart",i):((e=e===document?document.documentElement:e).style[u]=r(e,c)||"auto",s(e,c))}},function(e,t,n){"use strict";var o=n(16);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+o(t))}},function(e,t,n){"use strict";var o=n(16);e.exports=function(e,t){e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+o(t))}},function(e,t,n){"use strict";var o=n(22),i=n(5),r=["0","1","3","5","7"],s=["2","6"],a=["4"];e.exports=function(e){return o.msie&&o.version<=8?function(e){var t=String(e.button);return i(t,r)>-1?0:i(t,s)>-1?2:i(t,a)>-1?1:null}(e):e.button}},function(e,t,n){"use strict";var o=n(10),i=n(0),r=n(4),s=n(12),a=n(49),l=n(29),c=n(31),u=0;function d(e){var t;if(!(this instanceof d))return new d(e);if(!(e=this.options=i({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:u+=1,usageStatistics:!0},e)).container)throw new Error("ColorPicker(): need container option.");t=this.layout=new a(e,e.container),this.palette=new l(e,t.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(e,t.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),t.addChild(this.palette),t.addChild(this.slider),this.render(e.color),e.usageStatistics&&r.sendHostName()}d.prototype._onSelectColorInPalette=function(e){var t=e.color,n=this.options;s.isValidRGB(t)||""===t?(this.fire("selectColor",{color:t,origin:"palette"}),n.color!==t&&(n.color=t,this.render(t))):this.render()},d.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},d.prototype._onSelectColorInSlider=function(e){var t=e.color,n=this.options;this.fire("selectColor",{color:t,origin:"slider"}),n.color!==t&&(n.color=t,this.palette.render(t))},d.prototype.setColor=function(e){if(!s.isValidRGB(e))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=e,this.render(e)},d.prototype.getColor=function(){return this.options.color},d.prototype.toggle=function(e){this.layout.container.style.display=e?"block":"none"},d.prototype.render=function(e){this.layout.render(e||this.options.color)},d.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},o.mixin(d),e.exports=d},function(e,t,n){"use strict";var o=n(0),i=n(18),r=n(9),s=n(8);function a(e,t){this.options=o({cssPrefix:"tui-colorpicker-"},e),t=r.appendHTMLElement("div",t,this.options.cssPrefix+"container"),s.call(this,e,t),this.render()}i(a,s),a.prototype.render=function(e){this.recursive((function(t){t.render(e)}),!0)},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var o=n(52);e.exports=function(e){var t=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return o(t,e)}},function(e,t,n){"use strict";var o=n(5),i=n(2),r=n(1),s=n(11),a=n(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,f=/^["']\w+["']$/,p=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var o=function(e,t){var n=[e],o=[],r=0,s=0;return i(t,(function(e,i){0===e.indexOf("if")?r+=1:"/if"===e?r-=1:r||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),o.push(t.slice(s,i)),s=i+1)})),o.push(t.slice(s)),{exps:n,sourcesInsideIf:o}}(e,t),r=!1,s="";return i(o.exps,(function(e,t){return(r=y(e,n))&&(s=x(o.sourcesInsideIf[t],n)),!r})),s},each:function(e,t,n){var o=y(e,n),s=r(o)?"@index":"@key",l={},c="";return i(o,(function(e,o){l[s]=o,l["@this"]=e,a(n,l),c+=x(t.slice(),n)})),c},with:function(e,t,n){var i=o("as",e),r=e[i+1],s=y(e.slice(0,i),n),l={};return l[r]=s,x(t,a(n,l))||""}},O=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,o,i=[],r=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)o=n.index,i.push(e.slice(r,o)),r=o+n[0].length,n=t.exec(e);return i.push(e.slice(r)),i};function v(e,t){var n,o=t[e];return"true"===e?o=!0:"false"===e?o=!1:f.test(e)?o=e.replace(p,""):c.test(e)?o=v((n=e.split(u))[0],t)[v(n[1],t)]:d.test(e)?o=v((n=e.split(h))[0],t)[n[1]]:m.test(e)&&(o=parseFloat(e)),o}function b(e,t,n){for(var o,i,r,a,l=g[e],c=1,u=2,d=t[u];c&&s(d);)0===d.indexOf(e)?c+=1:0===d.indexOf("/"+e)&&(c-=1,o=u),d=t[u+=2];if(c)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=l(t[0].split(" ").slice(1),(i=0,r=o,(a=t.splice(i+1,r-i)).pop(),a),n),t}function y(e,t){var n=v(e[0],t);return n instanceof Function?function(e,t,n){var o=[];return i(t,(function(e){o.push(v(e,n))})),e.apply(null,o)}(n,e.slice(1),t):n}function x(e,t){for(var n,o,i,r=1,a=e[r];s(a);)o=(n=a.split(" "))[0],g[o]?(i=b(o,e.splice(r,e.length-r),t),e=e.concat(i)):e[r]=y(n,t),a=e[r+=2];return e.join("")}e.exports=function(e,t){return x(O(e,l),t)}},function(e,t,n){"use strict";var o=n(1);e.exports=function(e,t){var n,i=o(e),r=i?e[0]:e.clientX,s=i?e[1]:e.clientY;return t?[r-(n=t.getBoundingClientRect()).left-t.clientLeft,s-n.top-t.clientTop]:[r,s]}},function(e,t,n){"use strict";var o=n(55);e.exports=function(e,t){var n=e.parentNode;if(o(e,t))return e;for(;n&&n!==document;){if(o(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";var o=n(5),i=n(56),r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return o(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return s.call(e,t)}},function(e,t,n){"use strict";var o=n(6);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],o(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";(function(t){var o=n(4).isOldBrowser,i=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),r=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),s=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),a=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");o&&t.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e.exports={layout:i,slider:o?s:r,huebar:o?l:a}}).call(this,n(25))}])},e.exports=t()},8760:()=>{tinymce.PluginManager.add("cc_template",(function(e,t){e.ui.registry.addButton("cc_template",{icon:"template",tooltip:"テンプレートの挿入",onAction:function(){var t=window.cc_templates&&window.cc_templates.templates||[];Array.isArray(t)&&0!==t.length?e.windowManager.open({title:"テンプレートの挿入",body:{type:"panel",items:[{type:"selectbox",name:"template_select",label:"テンプレート",items:[{text:"選択してください。",value:""}].concat(t.map((function(e,t){return{text:e.title,value:String(t)}})))},{type:"htmlpanel",name:"preview",html:'<div id="template-preview"></div>'}]},buttons:[{type:"cancel",text:"キャンセル"},{type:"submit",text:"挿入",primary:!0}],initialData:{template_select:""},onChange:function(e){!function(e,t){var n=e.getData().template_select,o=parseInt(n,10);if(""===n||isNaN(o))document.getElementById("template-preview").innerHTML="";else{var i=document.getElementById("template-preview");if(i){var r=t[n]||{};i.innerHTML="\n          <div>\n            <div>".concat(r.description||"",'</div>\n            <div style="border: 1px solid; padding: 8px; margin-top: 4px; background-color: #f9f9f9;">').concat(r.content||"","</div>\n          </div>\n        ")}}}(e,t)},onSubmit:function(n){var o,i=parseInt(n.getData().template_select);e.insertContent((null===(o=t[i])||void 0===o?void 0:o.content)||""),n.close()}}):e.windowManager.alert("テンプレートが見つかりません。")}})}))},8851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>se});var o="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(o&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var r=o&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),i))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,o=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+o)?e:c(l(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var d=o&&!(!window.MSInputMethodContext||!document.documentMode),h=o&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?h:d||h}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,i=n?t:e,r=document.createRange();r.setStart(o,0),r.setEnd(i,0);var s,a,l=r.commonAncestorContainer;if(e!==l&&t!==l||o.contains(i))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(l):l;var c=m(e);return c.host?g(c.host,t):g(e,m(t).host)}function O(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var o=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||o)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+o+"Width"])}function b(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function y(e){var t=e.body,n=e.documentElement,o=f(10)&&getComputedStyle(n);return{height:b("Height",t,n,o),width:b("Width",t,n,o)}}var x=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function _(e){return S({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=O(e,"top"),o=O(e,"left");t.top+=n,t.left+=o,t.bottom+=n,t.right+=o}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?y(e.ownerDocument):{},s=r.width||e.clientWidth||i.width,l=r.height||e.clientHeight||i.height,c=e.offsetWidth-s,u=e.offsetHeight-l;if(c||u){var d=a(e);c-=v(d,"x"),u-=v(d,"y"),i.width-=c,i.height-=u}return _(i)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=f(10),i="HTML"===t.nodeName,r=k(e),s=k(t),l=c(e),u=a(t),d=parseFloat(u.borderTopWidth),h=parseFloat(u.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=_({top:r.top-s.top-d,left:r.left-s.left-h,width:r.width,height:r.height});if(p.marginTop=0,p.marginLeft=0,!o&&i){var m=parseFloat(u.marginTop),g=parseFloat(u.marginLeft);p.top-=d-m,p.bottom-=d-m,p.left-=h-g,p.right-=h-g,p.marginTop=m,p.marginLeft=g}return(o&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=O(t,"top"),i=O(t,"left"),r=n?-1:1;return e.top+=o*r,e.bottom+=o*r,e.left+=i*r,e.right+=i*r,e}(p,t)),p}function T(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=l(e);return!!n&&T(n)}function $(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function P(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=i?$(e):g(e,u(t));if("viewport"===o)r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=C(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:O(n),a=t?0:O(n,"left");return _({top:s-o.top+o.marginTop,left:a-o.left+o.marginLeft,width:i,height:r})}(s,i);else{var a=void 0;"scrollParent"===o?"BODY"===(a=c(l(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===o?e.ownerDocument.documentElement:o;var d=C(a,s,i);if("HTML"!==a.nodeName||T(s))r=d;else{var h=y(e.ownerDocument),f=h.height,p=h.width;r.top+=d.top-d.marginTop,r.bottom=f+d.top,r.left+=d.left-d.marginLeft,r.right=p+d.left}}var m="number"==typeof(n=n||0);return r.left+=m?n:n.left||0,r.top+=m?n:n.top||0,r.right-=m?n:n.right||0,r.bottom-=m?n:n.bottom||0,r}function A(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=P(n,o,r,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return S({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Q(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,o?$(t):g(t,u(n)),o)}function E(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),o=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+n}}function M(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function D(e,t,n){n=n.split("-")[0];var o=E(e),i={width:o.width,height:o.height},r=-1!==["right","left"].indexOf(n),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return i[s]=t[s]+t[l]/2-o[l]/2,i[a]=n===a?t[a]-o[c]:t[M(a)],i}function I(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function R(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var o=I(e,(function(e){return e[t]===n}));return e.indexOf(o)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=n(t,e))})),t}function z(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Q(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=A(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=R(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function N(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function L(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var i=t[o],r=i?""+i+n:e;if(void 0!==document.body.style[r])return r}return null}function j(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,o){var i="BODY"===e.nodeName,r=i?e.ownerDocument.defaultView:e;r.addEventListener(t,n,{passive:!0}),i||B(c(r.parentNode),t,n,o),o.push(r)}function Z(e,t,n,o){n.updateBound=o,V(e).addEventListener("resize",n.updateBound,{passive:!0});var i=c(e);return B(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function X(){this.state.eventsEnabled||(this.state=Z(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,V(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function U(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach((function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U(t[n])&&(o="px"),e.style[n]=t[n]+o}))}var F=o&&/Firefox/i.test(navigator.userAgent);function q(e,t,n){var o=I(e,(function(e){return e.name===t})),i=!!o&&e.some((function(e){return e.name===n&&e.enabled&&e.order<o.order}));if(!i){var r="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}var H=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=H.slice(3);function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(e),o=G.slice(n+1).concat(G.slice(0,n));return t?o.reverse():o}var J="flip",ee="clockwise",te="counterclockwise";function ne(e,t,n,o){var i=[0,0],r=-1!==["right","left"].indexOf(o),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(I(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map((function(e,o){var i=(1===o?!r:r)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,o){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],s=i[2];if(!r)return e;if(0===s.indexOf("%")){return _("%p"===s?n:o)[t]/100*r}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,o){U(n)&&(i[t]+=n*("-"===e[o-1]?-1:1))}))})),i}var oe={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){var i=e.offsets,r=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:w({},l,r[l]),end:w({},l,r[l]+r[c]-s[c])};e.offsets.popper=S({},s,u[o])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,o=e.placement,i=e.offsets,r=i.popper,s=i.reference,a=o.split("-")[0],l=void 0;return l=U(+n)?[+n,0]:ne(n,r,s,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),e.popper=r,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var o=L("transform"),i=e.instance.popper.style,r=i.top,s=i.left,a=i[o];i.top="",i.left="",i[o]="";var l=P(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=r,i.left=s,i[o]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),w({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(o=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),w({},n,o)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=S({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,o=t.reference,i=e.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<r(o[l])&&(e.offsets.popper[l]=r(o[l])-n[c]),n[l]>r(o[a])&&(e.offsets.popper[l]=r(o[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],r=e.offsets,s=r.popper,l=r.reference,c=-1!==["left","right"].indexOf(i),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",m=E(o)[u];l[p]-m<s[h]&&(e.offsets.popper[h]-=s[h]-(l[p]-m)),l[h]+m>s[p]&&(e.offsets.popper[h]+=l[h]+m-s[p]),e.offsets.popper=_(e.offsets.popper);var g=l[h]+l[u]/2-m/2,O=a(e.instance.popper),v=parseFloat(O["margin"+d]),b=parseFloat(O["border"+d+"Width"]),y=g-e.offsets.popper[h]-v-b;return y=Math.max(Math.min(s[u]-m,y),0),e.arrowElement=o,e.offsets.arrow=(w(n={},h,Math.round(y)),w(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=P(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],i=M(o),r=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case J:s=[o,i];break;case ee:s=K(o);break;case te:s=K(o,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(o!==a||s.length===l+1)return e;o=e.placement.split("-")[0],i=M(o);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===o&&d(c.right)>d(u.left)||"right"===o&&d(c.left)<d(u.right)||"top"===o&&d(c.bottom)>d(u.top)||"bottom"===o&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),p=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),O="left"===o&&f||"right"===o&&p||"top"===o&&m||"bottom"===o&&g,v=-1!==["top","bottom"].indexOf(o),b=!!t.flipVariations&&(v&&"start"===r&&f||v&&"end"===r&&p||!v&&"start"===r&&m||!v&&"end"===r&&g),y=!!t.flipVariationsByContent&&(v&&"start"===r&&p||v&&"end"===r&&f||!v&&"start"===r&&g||!v&&"end"===r&&m),x=b||y;(h||O||x)&&(e.flipped=!0,(h||O)&&(o=s[l+1]),x&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=o+(r?"-"+r:""),e.offsets.popper=S({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=R(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,i=o.popper,r=o.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=r[n]-(a?i[s?"width":"height"]:0),e.placement=M(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=I(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,o=t.y,i=e.offsets.popper,r=I(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:t.gpuAcceleration,a=p(e.instance.popper),l=k(a),c={position:i.position},u=function(e,t){var n=e.offsets,o=n.popper,i=n.reference,r=Math.round,s=Math.floor,a=function(e){return e},l=r(i.width),c=r(o.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||l%2==c%2?r:s:a,f=t?r:a;return{left:h(l%2==1&&c%2==1&&!d&&t?o.left-1:o.left),top:f(o.top),bottom:f(o.bottom),right:h(o.right)}}(e,window.devicePixelRatio<2||!F),d="bottom"===n?"top":"bottom",h="right"===o?"left":"right",f=L("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===h?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[d]=0,c[h]=0,c.willChange="transform";else{var O="bottom"===d?-1:1,v="right"===h?-1:1;c[d]=g*O,c[h]=m*v,c.willChange=d+", "+h}var b={"x-placement":e.placement};return e.attributes=S({},b,e.attributes),e.styles=S({},c,e.styles),e.arrowStyles=S({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Y(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,o,i){var r=Q(i,t,e,n.positionFixed),s=A(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Y(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},ie={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:oe},re=function(){function e(t,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=r(this.update.bind(this)),this.options=S({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){o.options.modifiers[t]=S({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return S({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return x(e,[{key:"update",value:function(){return z.call(this)}},{key:"destroy",value:function(){return j.call(this)}},{key:"enableEventListeners",value:function(){return X.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();re.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,re.placements=H,re.Defaults=ie;const se=re},9289:()=>{tinymce.PluginManager.add("pdf",(function(e,t){function n(t){tinymce.activeEditor.windowManager.open({title:"PDFアップロード",body:{type:"panel",items:[{type:"alertbanner",level:"info",text:"PDFからサムネイル画像を自動作成します。",icon:"info"},{type:"urlinput",name:"pdf",filetype:"file",label:"PDF"},{type:"collection",name:"upload_max_filesize_caption",label:e.options.get("cc_config").upload_max_filesize_caption},{type:"listbox",name:"width_of_pdf_thumbnails",label:"サムネイルの大きさ",disabled:!1,items:e.options.get("cc_config").width_of_pdf_thumbnails_items},{type:"listbox",name:"number_of_pdf_thumbnails",label:"サムネイルの数",disabled:!1,items:e.options.get("cc_config").number_of_pdf_thumbnails_items},{type:"input",name:"pdf_password",inputMode:"text",label:"PDFパスワード",placeholder:"",disabled:!1,maximized:!1},{type:"collection",name:"pdf_password_caption",label:"※ パスワード付PDFの場合、入力してください。"}]},initialData:{width_of_pdf_thumbnails:e.options.get("cc_config").width_of_pdf_thumbnails_initial,number_of_pdf_thumbnails:e.options.get("cc_config").number_of_pdf_thumbnails_initial},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",primary:!0}],onSubmit:function(t){xhr=new XMLHttpRequest,xhr.withCredentials=!1,xhr.open("POST",tinymce.activeEditor.getParam("document_base_url")+"/upload"),xhr.onload=function(){var n;xhr.status<200||xhr.status>=300?console.error("HTTP Error: "+xhr.status):(void 0!==(n=JSON.parse(xhr.responseText)).link_text&&e.insertContent(n.link_text),document.getElementById("cc-pdf-upload-"+r).value="",t.close())};var n=document.getElementsByName("csrf-token"),o=document.getElementsByName("_page_id"),i=t.getData(),r=e.options.get("cc_config").frame_id;formData=new FormData,formData.append("_token",n[0].content),formData.append("page_id",o[0].content),formData.append("plugin_name",e.options.get("cc_config").plugin_name),formData.append("pdf",document.getElementById("cc-pdf-upload-"+r).files[0]),formData.append("pdf_password",i.pdf_password),formData.append("width_of_pdf_thumbnails",i.width_of_pdf_thumbnails),formData.append("number_of_pdf_thumbnails",i.number_of_pdf_thumbnails),xhr.send(formData)}})}e.ui.registry.addIcon("pdf",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24">\x3c!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M64 464l48 0 0 48-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 304l-48 0 0-144-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"/></svg>'),e.ui.registry.addButton("pdf",{icon:"pdf",tooltip:"PDFアップロード",onAction:n,onPostRender:function(){var t=this;e.on("NodeChange",(function(n){var o=jQuery(e.selection.getNode()).hasClass("plugin");t.active(o)})),e.on("DblClick",(function(e){"plugin"==e.target.className&&n(e.toElement.innerText)}))}})}))},9504:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{const o="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(o,!1,!1===n?null:{"list-style-type":n})},n=e=>t=>t.options.get(e),o=n("advlist_number_styles"),i=n("advlist_bullet_styles"),r=e=>null==e,s=e=>!r(e);class a{constructor(e,t){this.tag=e,this.value=t}static some(e){return new a(!0,e)}static none(){return a.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?a.some(e(this.value)):a.none()}bind(e){return this.tag?e(this.value):a.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:a.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return s(e)?a.some(e):a.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}a.singletonNone=new a(!1);const l=Array.prototype.indexOf,c=(e,t)=>{return n=e,o=t,l.call(n,o)>-1;var n,o},u=Object.keys,d=(e,t)=>{const n={};return((e,t)=>{const n=u(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}})(e,((e,o)=>{const i=t(e,o);n[i.k]=i.v})),n};var h=tinymce.util.Tools.resolve("tinymce.util.Tools");const f=e=>t=>s(t)&&e.test(t.nodeName),p=f(/^(OL|UL|DL)$/),m=f(/^(TH|TD)$/),g=(e,t,n)=>((e,t,n)=>{for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t(i,o))return a.some(i);if(n(i,o))break}return a.none()})(t,(e=>p(e)&&!/\btox\-/.test(e.className)),m).exists((t=>t.nodeName===n&&((e,t)=>e.dom.isChildOf(t,e.getBody()))(e,t))),O=e=>r(e)||"default"===e?"":e,v=(e,t)=>n=>((e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)})(e,(o=>((e,o)=>{const i=e.selection.getStart(!0);n.setActive(g(e,o,t)),n.setEnabled(!((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return((e,t)=>null!==t&&!e.dom.isEditable(t))(e,n)||!e.selection.isEditable()})(e,i))})(e,o.parents))),b=(e,n,o,i,r,s)=>{const l={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},u=(f=e=>c(s,e),d(l,((e,t)=>({k:t,v:f(e,t)}))));var f;e.ui.registry.addSplitButton(n,{tooltip:o,icon:"OL"===r?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(h.map(s,(e=>{const t="OL"===r?"num":"bull",n="disc"===e||"decimal"===e?"default":e,o=O(e),i=(e=>e.replace(/\-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))(e);return{type:"choiceitem",value:o,icon:"list-"+t+"-"+n,text:i}})))},onAction:()=>e.execCommand(i),onItemAction:(n,o)=>{t(e,r,o)},select:t=>{const n=(e=>{const t=e.dom.getParent(e.selection.getNode(),"ol,ul"),n=e.dom.getStyle(t,"listStyleType");return a.from(n)})(e);return n.exists((e=>t===e||l[e]===t&&!u[t]))},onSetup:v(e,r)})},y=(e,n,o,i,r,s)=>{s.length>1?b(e,n,o,i,r,s):((e,n,o,i,r,s)=>{e.ui.registry.addToggleButton(n,{active:!1,tooltip:o,icon:"OL"===r?"ordered-list":"unordered-list",onSetup:v(e,r),onAction:()=>e.queryCommandState(i)||""===s?e.execCommand(i):t(e,r,s)})})(e,n,o,i,r,O(s[0]))};e.add("advlist",(e=>{e.hasPlugin("lists")?((e=>{const t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})})(e),(e=>{y(e,"numlist","Numbered list","InsertOrderedList","OL",o(e)),y(e,"bullist","Bullet list","InsertUnorderedList","UL",i(e))})(e),(e=>{e.addCommand("ApplyUnorderedListStyle",((n,o)=>{t(e,"UL",o["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",((n,o)=>{t(e,"OL",o["list-style-type"])}))})(e)):console.error("Please use the Lists plugin together with the List Styles plugin.")}))}()},9595:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=i=e,o=(r=String).prototype,o.isPrototypeOf(n)||(null===(s=i.constructor)||void 0===s?void 0:s.name)===r.name)?"string":t;var n,o;var i,r,s})(t)===e,n=e=>t=>typeof t===e,o=e=>t=>e===t,i=t("string"),r=t("object"),s=t("array"),a=o(null),l=n("boolean"),c=o(void 0),u=e=>!(e=>null==e)(e),d=n("function"),h=n("number"),f=()=>{},p=e=>()=>e,m=e=>e,g=(e,t)=>e===t;function O(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const v=e=>t=>!e(t),b=e=>e(),y=p(!1),x=p(!0);class w{constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return u(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const S=Array.prototype.slice,_=Array.prototype.indexOf,k=Array.prototype.push,C=(e,t)=>{return n=e,o=t,_.call(n,o)>-1;var n,o},T=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},$=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},P=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},A=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},Q=(e,t)=>{const n=[],o=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];(t(r,i)?n:o).push(r)}return{pass:n,fail:o}},E=(e,t)=>{const n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];t(i,o)&&n.push(i)}return n},M=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,o)=>{n=t(n,e,o)})),n),D=(e,t,n)=>(A(e,((e,o)=>{n=t(n,e,o)})),n),I=(e,t)=>((e,t,n)=>{for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t(i,o))return w.some(i);if(n(i,o))break}return w.none()})(e,t,y),R=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return w.some(n)}return w.none()},z=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},N=(e,t)=>z(P(e,t)),L=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},j=(e,t)=>{const n={};for(let o=0,i=e.length;o<i;o++){const i=e[o];n[String(i)]=t(i,o)}return n},V=(e,t)=>t>=0&&t<e.length?w.some(e[t]):w.none(),B=e=>V(e,0),Z=e=>V(e,e.length-1),X=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return w.none()},W=Object.keys,U=Object.hasOwnProperty,Y=(e,t)=>{const n=W(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}},F=(e,t)=>q(e,((e,n)=>({k:n,v:t(e,n)}))),q=(e,t)=>{const n={};return Y(e,((e,o)=>{const i=t(e,o);n[i.k]=i.v})),n},H=(e,t)=>{const n={};return((e,t,n,o)=>{Y(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))})(e,t,(e=>(t,n)=>{e[n]=t})(n),f),n},G=(e,t)=>{const n=[];return Y(e,((e,o)=>{n.push(t(e,o))})),n},K=e=>G(e,m),J=(e,t)=>U.call(e,t),ee="undefined"!=typeof window?window:Function("return this;")(),te=(e,t)=>((e,t)=>{let n=null!=t?t:ee;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),ne=(e,t)=>{const n=((e,t)=>te(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},oe=Object.getPrototypeOf,ie=e=>{const t=te("ownerDocument.defaultView",e);return r(e)&&((e=>ne("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(oe(e).constructor.name))},re=e=>e.dom.nodeName.toLowerCase(),se=e=>e.dom.nodeType,ae=e=>t=>se(t)===e,le=e=>8===se(e)||"#comment"===re(e),ce=e=>ue(e)&&ie(e.dom),ue=ae(1),de=ae(3),he=ae(9),fe=ae(11),pe=e=>t=>ue(t)&&re(t)===e,me=(e,t,n)=>{if(!(i(n)||l(n)||h(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ge=(e,t,n)=>{me(e.dom,t,n)},Oe=(e,t)=>{const n=e.dom;Y(t,((e,t)=>{me(n,t,e)}))},ve=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},be=(e,t)=>w.from(ve(e,t)),ye=(e,t)=>{e.dom.removeAttribute(t)},xe=e=>D(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),we=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Se={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return we(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return we(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return we(n)},fromDom:we,fromPoint:(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(we)},_e=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ke=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ce=(e,t)=>{const n=void 0===t?document:t.dom;return ke(n)?w.none():w.from(n.querySelector(e)).map(Se.fromDom)},Te=(e,t)=>e.dom===t.dom,$e=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Pe=_e,Ae=e=>Se.fromDom(e.dom.ownerDocument),Qe=e=>he(e)?e:Ae(e),Ee=e=>w.from(e.dom.parentNode).map(Se.fromDom),Me=e=>w.from(e.dom.parentElement).map(Se.fromDom),De=(e,t)=>{const n=d(t)?t:y;let o=e.dom;const i=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=Se.fromDom(e);if(i.push(t),!0===n(t))break;o=e}return i},Ie=e=>w.from(e.dom.previousSibling).map(Se.fromDom),Re=e=>w.from(e.dom.nextSibling).map(Se.fromDom),ze=e=>P(e.dom.childNodes,Se.fromDom),Ne=(e,t)=>{const n=e.dom.childNodes;return w.from(n[t]).map(Se.fromDom)},Le=(e,t)=>{Ee(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},je=(e,t)=>{Re(e).fold((()=>{Ee(e).each((e=>{Be(e,t)}))}),(e=>{Le(e,t)}))},Ve=(e,t)=>{const n=(e=>Ne(e,0))(e);n.fold((()=>{Be(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Be=(e,t)=>{e.dom.appendChild(t.dom)},Ze=(e,t)=>{Le(e,t),Be(t,e)},Xe=(e,t)=>{A(t,((n,o)=>{const i=0===o?e:t[o-1];je(i,n)}))},We=(e,t)=>{A(t,(t=>{Be(e,t)}))},Ue=e=>{e.dom.textContent="",A(ze(e),(e=>{Ye(e)}))},Ye=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Fe=e=>{const t=ze(e);t.length>0&&Xe(e,t),Ye(e)},qe=(e,t)=>Se.fromDom(e.dom.cloneNode(t)),He=e=>qe(e,!1),Ge=e=>qe(e,!0),Ke=(e,t)=>{const n=Se.fromTag(t),o=xe(e);return Oe(n,o),n},Je=["tfoot","thead","tbody","colgroup"],et=(e,t,n)=>({element:e,rowspan:t,colspan:n}),tt=(e,t,n)=>({element:e,cells:t,section:n}),nt=(e,t,n)=>({element:e,isNew:t,isLocked:n}),ot=(e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}),it=e=>fe(e)&&u(e.dom.host),rt=e=>Se.fromDom(e.dom.getRootNode()),st=e=>Se.fromDom(e.dom.host),at=e=>u(e.dom.shadowRoot),lt=e=>{const t=de(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=rt(e);return it(t)?w.some(t):w.none()})(Se.fromDom(t)).fold((()=>n.body.contains(t)),(o=lt,i=st,e=>o(i(e))));var o,i},ct=()=>ut(Se.fromDom(document)),ut=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Se.fromDom(t)},dt=(e,t)=>{let n=[];return A(ze(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(dt(e,t))})),n},ht=(e,t,n)=>((e,t,n)=>E(De(e,n),t))(e,(e=>_e(e,t)),n),ft=(e,t)=>((e,t)=>E(ze(e),t))(e,(e=>_e(e,t))),pt=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return ke(n)?[]:P(n.querySelectorAll(e),Se.fromDom)})(t,e);var mt=(e,t,n,o,i)=>e(n,o)?w.some(n):d(i)&&i(n)?w.none():t(n,o,i);const gt=(e,t,n)=>{let o=e.dom;const i=d(n)?n:y;for(;o.parentNode;){o=o.parentNode;const e=Se.fromDom(o);if(t(e))return w.some(e);if(i(e))break}return w.none()},Ot=(e,t,n)=>mt(((e,t)=>t(e)),gt,e,t,n),vt=(e,t,n)=>gt(e,(e=>_e(e,t)),n),bt=(e,t)=>((e,t)=>I(e.dom.childNodes,(e=>t(Se.fromDom(e)))).map(Se.fromDom))(e,(e=>_e(e,t))),yt=(e,t)=>Ce(t,e),xt=(e,t,n)=>mt(((e,t)=>_e(e,t)),vt,e,t,n),wt=(e,t,n=g)=>e.exists((e=>n(e,t))),St=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},_t=(e,t)=>e?w.some(t):w.none(),kt=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Ct=(e,t,n=0,o)=>{const i=e.indexOf(t,n);return-1!==i&&(!!c(o)||i+t.length<=o)},Tt=(e,t)=>kt(e,t,0),$t=(e,t)=>kt(e,t,e.length-t.length),Pt=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),At=e=>e.length>0,Qt=e=>void 0!==e.style&&d(e.style.getPropertyValue),Et=(e,t,n)=>{if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Qt(e)&&e.style.setProperty(t,n)},Mt=(e,t,n)=>{const o=e.dom;Et(o,t,n)},Dt=(e,t)=>{const n=e.dom;Y(t,((e,t)=>{Et(n,t,e)}))},It=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||lt(e)?o:Rt(n,t)},Rt=(e,t)=>Qt(e)?e.style.getPropertyValue(t):"",zt=(e,t)=>{const n=e.dom,o=Rt(n,t);return w.from(o).filter((e=>e.length>0))},Nt=(e,t)=>{((e,t)=>{Qt(e)&&e.style.removeProperty(t)})(e.dom,t),wt(be(e,"style").map(Pt),"")&&ye(e,"style")},Lt=(e,t,n=0)=>be(e,t).map((e=>parseInt(e,10))).getOr(n),jt=(e,t)=>Lt(e,t,1),Vt=e=>pe("col")(e)?Lt(e,"span",1)>1:jt(e,"colspan")>1,Bt=(e,t)=>parseInt(It(e,t),10),Zt=p(10),Xt=p(10),Wt=(e,t)=>Ut(e,t,x),Ut=(e,t,n)=>N(ze(e),(e=>_e(e,t)?n(e)?[e]:[]:Ut(e,t,n))),Yt=(e,t)=>((e,t,n=y)=>n(t)?w.none():C(e,re(t))?w.some(t):vt(t,e.join(","),(e=>_e(e,"table")||n(e))))(["td","th"],e,t),Ft=e=>Wt(e,"th,td"),qt=e=>_e(e,"colgroup")?ft(e,"col"):N(Kt(e),(e=>ft(e,"col"))),Ht=(e,t)=>xt(e,"table",t),Gt=e=>Wt(e,"tr"),Kt=e=>Ht(e).fold(p([]),(e=>ft(e,"colgroup"))),Jt=(e,t)=>P(e,(e=>{if("colgroup"===re(e)){const t=P(qt(e),(e=>{const t=Lt(e,"span",1);return et(e,1,t)}));return tt(e,t,"colgroup")}{const n=P(Ft(e),(e=>{const t=Lt(e,"rowspan",1),n=Lt(e,"colspan",1);return et(e,t,n)}));return tt(e,n,t(e))}})),en=e=>Ee(e).map((e=>{const t=re(e);return(e=>C(Je,e))(t)?t:"tbody"})).getOr("tbody"),tn=e=>{const t=Gt(e),n=[...Kt(e),...t];return Jt(n,en)},nn=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},on=()=>rn(0,0),rn=(e,t)=>({major:e,minor:t}),sn={nu:rn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?on():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return rn(o(1),o(2))})(e,n)},unknown:on},an=(e,t)=>{const n=String(t).toLowerCase();return I(e,(e=>e.search(n)))},ln=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,cn=e=>t=>Ct(t,e),un=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ct(e,"edge/")&&Ct(e,"chrome")&&Ct(e,"safari")&&Ct(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ln],search:e=>Ct(e,"chrome")&&!Ct(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ct(e,"msie")||Ct(e,"trident")},{name:"Opera",versionRegexes:[ln,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:cn("firefox")},{name:"Safari",versionRegexes:[ln,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ct(e,"safari")||Ct(e,"mobile/"))&&Ct(e,"applewebkit")}],dn=[{name:"Windows",search:cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ct(e,"iphone")||Ct(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:cn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:cn("linux"),versionRegexes:[]},{name:"Solaris",search:cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:cn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:cn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hn={browsers:p(un),oses:p(dn)},fn="Edge",pn="Chromium",mn="Opera",gn="Firefox",On="Safari",vn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(fn),isChromium:o(pn),isIE:o("IE"),isOpera:o(mn),isFirefox:o(gn),isSafari:o(On)}},bn={unknown:()=>vn({current:void 0,version:sn.unknown()}),nu:vn,edge:p(fn),chromium:p(pn),ie:p("IE"),opera:p(mn),firefox:p(gn),safari:p(On)},yn="Windows",xn="Android",wn="Linux",Sn="macOS",_n="Solaris",kn="FreeBSD",Cn="ChromeOS",Tn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(yn),isiOS:o("iOS"),isAndroid:o(xn),isMacOS:o(Sn),isLinux:o(wn),isSolaris:o(_n),isFreeBSD:o(kn),isChromeOS:o(Cn)}},$n={unknown:()=>Tn({current:void 0,version:sn.unknown()}),nu:Tn,windows:p(yn),ios:p("iOS"),android:p(xn),linux:p(wn),macos:p(Sn),solaris:p(_n),freebsd:p(kn),chromeos:p(Cn)},Pn=(e,t,n)=>{const o=hn.browsers(),i=hn.oses(),r=t.bind((e=>((e,t)=>X(t.brands,(t=>{const n=t.brand.toLowerCase();return I(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:sn.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>an(e,t).map((e=>{const n=sn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(bn.unknown,bn.nu),s=((e,t)=>an(e,t).map((e=>{const n=sn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(i,e).fold($n.unknown,$n.nu),a=((e,t,n,o)=>{const i=e.isiOS()&&!0===/ipad/i.test(n),r=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=i||!r&&s&&o("(min-device-width:768px)"),c=r||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:p(i),isiPhone:p(r),isTablet:p(l),isPhone:p(c),isTouch:p(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(u),isDesktop:p(d)}})(s,r,e,n);return{browser:r,os:s,deviceType:a}},An=e=>window.matchMedia(e).matches;let Qn=nn((()=>Pn(window.navigator.userAgent,w.from(window.navigator.userAgentData),An)));const En=()=>Qn(),Mn=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=It(n,e);return parseFloat(t)||0}return o},o=(e,t)=>D(t,((t,n)=>{const o=It(e,n),i=void 0===o?0:parseInt(o,10);return isNaN(i)?t:t+i}),0);return{set:(t,n)=>{if(!h(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;Qt(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const i=o(e,n);return t>i?t-i:0}}},Dn=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?w.none():w.some(t)})(e).getOr(t),In=(e,t,n)=>Dn(It(e,t),n),Rn=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:((e,t,n,o)=>t-In(e,`padding-${n}`,0)-In(e,`padding-${o}`,0)-In(e,`border-${n}-width`,0)-In(e,`border-${o}-width`,0))(e,o,"left","right")},zn=Mn("width",(e=>e.dom.offsetWidth)),Nn=e=>zn.get(e),Ln=e=>zn.getOuter(e),jn=e=>Rn(e,"content-box"),Vn=e=>In(e,"width",e.dom.offsetWidth),Bn=(e,t,n)=>{const o=e.cells,i=o.slice(0,t),r=o.slice(t),s=i.concat(n).concat(r);return Wn(e,s)},Zn=(e,t,n)=>Bn(e,t,[n]),Xn=(e,t,n)=>{e.cells[t]=n},Wn=(e,t)=>ot(e.element,t,e.section,e.isNew),Un=(e,t)=>e.cells[t],Yn=(e,t)=>Un(e,t).element,Fn=e=>e.cells.length,qn=e=>{const t=Q(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},Hn=(e,t,n)=>{const o=P(e.cells,n);return ot(t(e.element),o,e.section,!0)},Gn="data-snooker-locked-cols",Kn=e=>be(e,Gn).bind((e=>w.from(e.match(/\d+/g)))).map((e=>j(e,x))),Jn=e=>{const t=D(qn(e).rows,((e,t)=>(A(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),n=G(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const n=S.call(e,0);return n.sort(t),n})(n)},eo=(e,t)=>e+","+t,to=(e,t)=>{const n=N(e.all,(e=>e.cells));return E(n,t)},no=e=>{const t={},n=[],o=B(e).map((e=>e.element)).bind(Ht).bind(Kn).getOr({});let i=0,r=0,s=0;const{pass:a,fail:l}=Q(e,(e=>"colgroup"===e.section));A(l,(e=>{const a=[];A(e.cells,(e=>{let n=0;for(;void 0!==t[eo(s,n)];)n++;const i=((e,t)=>J(e,t)&&void 0!==e[t]&&null!==e[t])(o,n.toString()),l=((e,t,n,o,i,r)=>({element:e,rowspan:t,colspan:n,row:o,column:i,isLocked:r}))(e.element,e.rowspan,e.colspan,s,n,i);for(let o=0;o<e.colspan;o++)for(let i=0;i<e.rowspan;i++){const e=n+o,a=eo(s+i,e);t[a]=l,r=Math.max(r,e+1)}a.push(l)})),i++,n.push(tt(e.element,a,e.section)),s++}));const{columns:c,colgroups:u}=Z(a).map((e=>{const t=(e=>{const t={};let n=0;return A(e.cells,(e=>{const o=e.colspan;$(o,(i=>{const r=n+i;t[r]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,r)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,K(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),d=((e,t)=>({rows:e,columns:t}))(i,r);return{grid:d,access:t,all:n,columns:c,colgroups:u}},oo={fromTable:e=>{const t=tn(e);return no(t)},generate:no,getAt:(e,t,n)=>w.from(e.access[eo(t,n)]),findItem:(e,t,n)=>{const o=to(e,(e=>n(t,e.element)));return o.length>0?w.some(o[0]):w.none()},filterItems:to,justCells:e=>N(e.all,(e=>e.cells)),justColumns:e=>K(e.columns),hasColumns:e=>W(e.columns).length>0,getColumnAt:(e,t)=>w.from(e.columns[t])},io=(e,t=x)=>{const n=e.grid,o=$(n.columns,m),i=$(n.rows,m);return P(o,(n=>ro((()=>N(i,(t=>oo.getAt(e,t,n).filter((e=>e.column===n)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>oo.getAt(e,0,n)))))},ro=(e,t,n)=>{const o=e();return I(o,t).orThunk((()=>w.from(o[0]).orThunk(n))).map((e=>e.element))},so=e=>{const t=e.grid,n=$(t.rows,m),o=$(t.columns,m);return P(n,(t=>ro((()=>N(o,(n=>oo.getAt(e,t,n).filter((e=>e.row===t)).fold(p([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>oo.getAt(e,t,0)))))},ao=(e,t)=>{if(t<0||t>=e.length-1)return w.none();const n=e[t].fold((()=>{const n=(e=>{const t=S.call(e,0);return t.reverse(),t})(e.slice(0,t));return X(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>w.some({value:e,delta:0}))),o=e[t+1].fold((()=>{const n=e.slice(t+1);return X(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>w.some({value:e,delta:1})));return n.bind((e=>o.map((t=>{const n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))},lo=(e,t)=>n=>"rtl"===co(n)?t:e,co=e=>"rtl"===It(e,"direction")?"rtl":"ltr",uo=Mn("height",(e=>{const t=e.dom;return lt(e)?t.getBoundingClientRect().height:t.offsetHeight})),ho=e=>uo.get(e),fo=e=>uo.getOuter(e),po=e=>In(e,"height",e.dom.offsetHeight),mo=(e,t)=>({left:e,top:t,translate:(n,o)=>mo(e+n,t+o)}),go=mo,Oo=(e,t)=>void 0!==e?e:void 0!==t?t:0,vo=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,i=t.documentElement;if(n===e.dom)return go(n.offsetLeft,n.offsetTop);const r=Oo(null==o?void 0:o.pageYOffset,i.scrollTop),s=Oo(null==o?void 0:o.pageXOffset,i.scrollLeft),a=Oo(i.clientTop,n.clientTop),l=Oo(i.clientLeft,n.clientLeft);return bo(e).translate(s-l,r-a)},bo=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?go(n.offsetLeft,n.offsetTop):lt(e)?(e=>{const t=e.getBoundingClientRect();return go(t.left,t.top)})(t):go(0,0)},yo=(e,t)=>({row:e,y:t}),xo=(e,t)=>({col:e,x:t}),wo=e=>vo(e).left+Ln(e),So=e=>vo(e).left,_o=(e,t)=>xo(e,So(t)),ko=(e,t)=>xo(e,wo(t)),Co=e=>vo(e).top,To=(e,t)=>yo(e,Co(t)),$o=(e,t)=>yo(e,Co(t)+fo(t)),Po=(e,t,n)=>{if(0===n.length)return[];const o=P(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),i=n[n.length-1].map((e=>t(n.length-1,e)));return o.concat([i])},Ao={delta:m,positions:e=>Po(To,$o,e),edge:Co},Qo=lo({delta:m,edge:So,positions:e=>Po(_o,ko,e)},{delta:e=>-e,edge:wo,positions:e=>Po(ko,_o,e)}),Eo={delta:(e,t)=>Qo(t).delta(e,t),positions:(e,t)=>Qo(t).positions(e,t),edge:e=>Qo(e).edge(e)},Mo={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Do=(()=>{const e="[0-9]+",t="[eE]"+("[+-]?"+e),n=e=>`(?:${e})?`,o=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^(${`[+-]?(?:${o})`})(.*)$`)})(),Io=(e,t)=>w.from(Do.exec(e)).bind((e=>{const n=Number(e[1]),o=e[2];return((e,t)=>T(t,(t=>T(Mo[t],(t=>e===t)))))(o,t)?w.some({value:n,unit:o}):w.none()})),Ro=/(\d+(\.\d+)?)%/,zo=/(\d+(\.\d+)?)px|em/,No=pe("col"),Lo=pe("tr"),jo=(e,t,n)=>{const o=Me(e).getOrThunk((()=>ut(Ae(e))));return t(e)/n(o)*100},Vo=(e,t)=>{Mt(e,"width",t+"px")},Bo=(e,t)=>{Mt(e,"width",t+"%")},Zo=(e,t)=>{Mt(e,"height",t+"px")},Xo=(e,t,n,o)=>{const i=parseFloat(e);return $t(e,"%")&&"table"!==re(t)?((e,t,n,o)=>{const i=Ht(e).map((e=>{const o=n(e);return Math.floor(t/100*o)})).getOr(t);return o(e,i),i})(t,i,n,o):i},Wo=e=>{const t=(e=>po(e)+"px")(e);return t?Xo(t,e,ho,Zo):ho(e)},Uo=(e,t)=>zt(e,t).orThunk((()=>be(e,t).map((e=>e+"px")))),Yo=e=>Uo(e,"width"),Fo=e=>jo(e,Nn,jn),qo=e=>No(e)?Nn(e):Vn(e),Ho=e=>Lo(e)?ho(e):((e,t,n)=>n(e)/jt(e,t))(e,"rowspan",Wo),Go=(e,t,n)=>{Mt(e,"width",t+n)},Ko=e=>jo(e,Nn,jn)+"%",Jo=p(Ro),ei=pe("col"),ti=e=>Yo(e).getOrThunk((()=>qo(e)+"px")),ni=e=>{return(t=e,Uo(t,"height")).getOrThunk((()=>Ho(e)+"px"));var t},oi=(e,t,n,o,i,r)=>e.filter(o).fold((()=>r(ao(n,t))),(e=>i(e))),ii=(e,t,n,o)=>{const i=io(e),r=oo.hasColumns(e)?(e=>P(oo.justColumns(e),(e=>w.from(e.element))))(e):i,s=[w.some(Eo.edge(t))].concat(P(Eo.positions(i,t),(e=>e.map((e=>e.x))))),a=v(Vt);return P(r,((e,t)=>oi(e,t,s,a,(e=>{if((e=>{const t=En().browser,n=t.isChromium()||t.isFirefox();return!ei(e)||n})(e))return n(e);{const e=(r=i[t],l=m,null!=r?l(r):w.none());return oi(e,t,s,a,(e=>o(w.some(Nn(e)))),o)}var r,l}),o)))},ri=e=>e.map((e=>e+"px")).getOr(""),si=(e,t,n)=>ii(e,t,qo,(e=>e.getOrThunk(n.minCellWidth))),ai=(e,t,n,o)=>{const i=so(e),r=P(e.all,(e=>w.some(e.element))),s=[w.some(Ao.edge(t))].concat(P(Ao.positions(i,t),(e=>e.map((e=>e.y)))));return P(r,((e,t)=>oi(e,t,s,x,n,o)))},li=(e,t)=>()=>lt(e)?t(e):parseFloat(zt(e,"width").getOr("0")),ci=e=>{const t=li(e,Nn),n=p(0);return{width:t,pixelWidth:t,getWidths:(t,n)=>si(t,e,n),getCellDelta:n,singleColumnWidth:p([0]),minCellWidth:n,setElementWidth:f,adjustTableWidth:f,isRelative:!0,label:"none"}},ui=e=>{const t=li(e,(e=>parseFloat(Ko(e)))),n=li(e,Nn);return{width:t,pixelWidth:n,getWidths:(t,n)=>((e,t,n)=>ii(e,t,Fo,(e=>e.fold((()=>n.minCellWidth()),(e=>e/n.pixelWidth()*100)))))(t,e,n),getCellDelta:e=>e/n()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Zt()/n()*100,setElementWidth:Bo,adjustTableWidth:n=>{const o=t();Bo(e,o+n/100*o)},isRelative:!0,label:"percent"}},di=e=>{const t=li(e,Nn);return{width:t,pixelWidth:t,getWidths:(t,n)=>si(t,e,n),getCellDelta:m,singleColumnWidth:(e,t)=>[Math.max(Zt(),e+t)-e],minCellWidth:Zt,setElementWidth:Vo,adjustTableWidth:n=>{const o=t()+n;Vo(e,o)},isRelative:!1,label:"pixel"}},hi=e=>Yo(e).fold((()=>ci(e)),(t=>((e,t)=>null!==Jo().exec(t)?ui(e):di(e))(e,t))),fi=di,pi=ui,mi=(e,t,n)=>{const o=e[n].element,i=Se.fromTag("td");Be(i,Se.fromTag("br"));(t?Be:Ve)(o,i)},gi=(e,t)=>{const n=e=>_e(e.element,t),o=Ge(e),i=tn(o),r=hi(e),s=oo.generate(i),a=((e,t)=>{const n=e.grid.columns;let o=e.grid.rows,i=n,r=0,s=0;const a=[],l=[];return Y(e.access,(e=>{if(a.push(e),t(e)){l.push(e);const t=e.row,n=t+e.rowspan-1,a=e.column,c=a+e.colspan-1;t<o?o=t:n>r&&(r=n),a<i?i=a:c>s&&(s=c)}})),((e,t,n,o,i,r)=>({minRow:e,minCol:t,maxRow:n,maxCol:o,allCells:i,selectedCells:r}))(o,i,r,s,a,l)})(s,n),l="th:not("+t+"),td:not("+t+")",c=Ut(o,"th,td",(e=>_e(e,l)));A(c,Ye),((e,t,n,o)=>{const i=E(e,(e=>"colgroup"!==e.section)),r=t.grid.columns,s=t.grid.rows;for(let e=0;e<s;e++){let s=!1;for(let a=0;a<r;a++)e<n.minRow||e>n.maxRow||a<n.minCol||a>n.maxCol||(oo.getAt(t,e,a).filter(o).isNone()?mi(i,s,e):s=!0)}})(i,s,a,n);const u=((e,t,n,o)=>{if(0===o.minCol&&t.grid.columns===o.maxCol+1)return 0;const i=si(t,e,n),r=D(i,((e,t)=>e+t),0),s=D(i.slice(o.minCol,o.maxCol+1),((e,t)=>e+t),0),a=s/r*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(a)})(e,oo.fromTable(e),r,a);return((e,t,n,o)=>{Y(n.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&Ye(e.element)}));const i=E(Wt(e,"tr"),(e=>0===e.dom.childElementCount));A(i,Ye),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||A(Wt(e,"th,td"),(e=>{ye(e,"rowspan"),ye(e,"colspan")})),ye(e,Gn),ye(e,"data-snooker-col-series"),hi(e).adjustTableWidth(o)})(o,a,s,u),o},Oi=((e,t)=>{const n=t=>e(t)?w.from(t.dom.nodeValue):w.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(de,"text"),vi=e=>Oi.get(e),bi=e=>Oi.getOption(e),yi=(e,t)=>Oi.set(e,t),xi=e=>"img"===re(e)?1:bi(e).fold((()=>ze(e).length),(e=>e.length)),wi=["img","br"],Si=e=>bi(e).filter((e=>0!==e.trim().length||e.indexOf(" ")>-1)).isSome()||C(wi,re(e))||(e=>ce(e)&&"false"===ve(e,"contenteditable"))(e),_i=e=>((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const i=Se.fromDom(e.childNodes[o]);if(t(i))return w.some(i);const r=n(e.childNodes[o]);if(r.isSome())return r}return w.none()};return n(e.dom)})(e,Si),ki=e=>Ci(e,Si),Ci=(e,t)=>{const n=e=>{const o=ze(e);for(let e=o.length-1;e>=0;e--){const i=o[e];if(t(i))return w.some(i);const r=n(i);if(r.isSome())return r}return w.none()};return n(e)},Ti={scope:["row","col"]},$i=e=>()=>{const t=Se.fromTag("td",e.dom);return Be(t,Se.fromTag("br",e.dom)),t},Pi=e=>()=>Se.fromTag("col",e.dom),Ai=e=>()=>Se.fromTag("colgroup",e.dom),Qi=e=>()=>Se.fromTag("tr",e.dom),Ei=(e,t,n)=>{const o=((e,t)=>{const n=Ke(e,t),o=ze(Ge(e));return We(n,o),n})(e,t);return Y(n,((e,t)=>{null===e?ye(o,t):ge(o,t,e)})),o},Mi=e=>e,Di=(e,t,n)=>{const o=(e,t)=>{((e,t)=>{const n=e.dom,o=t.dom;Qt(n)&&Qt(o)&&(o.style.cssText=n.style.cssText)})(e.element,t),Nt(t,"height"),1!==e.colspan&&Nt(t,"width")};return{col:n=>{const i=Se.fromTag(re(n.element),t.dom);return o(n,i),e(n.element,i),i},colgroup:Ai(t),row:Qi(t),cell:i=>{const r=Se.fromTag(re(i.element),t.dom),s=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=s.length>0?((e,t,n)=>_i(e).map((o=>{const i=n.join(","),r=ht(o,i,(t=>Te(t,e)));return M(r,((e,t)=>{const n=He(t);return Be(e,n),n}),t)})).getOr(t))(i.element,r,s):r;return Be(a,Se.fromTag("br")),o(i,r),((e,t)=>{Y(Ti,((n,o)=>be(e,o).filter((e=>C(n,e))).each((e=>ge(t,o,e)))))})(i.element,r),e(i.element,r),r},replace:Ei,colGap:Pi(t),gap:$i(t)}},Ii=e=>({col:Pi(e),colgroup:Ai(e),row:Qi(e),cell:$i(e),replace:Mi,colGap:Pi(e),gap:$i(e)}),Ri=e=>t=>t.options.get(e),zi="100%",Ni=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return jn(Se.fromDom(o))+"px"},Li=e=>w.from(e.options.get("table_clone_elements")),ji=Ri("table_header_type"),Vi=Ri("table_column_resizing"),Bi=e=>"preservetable"===Vi(e),Zi=e=>"resizetable"===Vi(e),Xi=Ri("table_sizing_mode"),Wi=e=>"relative"===Xi(e),Ui=e=>"fixed"===Xi(e),Yi=e=>"responsive"===Xi(e),Fi=Ri("table_resize_bars"),qi=Ri("table_style_by_css"),Hi=Ri("table_merge_content_on_paste"),Gi=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Yi(e)||qi(e)?t:Ui(e)?{...t,width:Ni(e)}:{...t,width:zi})(e,n)},Ki=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Yi(e)||!qi(e)?t:Ui(e)?{...t,width:Ni(e)}:{...t,width:zi})(e,n)},Ji=Ri("table_use_colgroups"),er=Ri("fixed_toolbar_container"),tr=Ri("fixed_toolbar_container_target"),nr=e=>e.inline&&(e=>{var t;if(!e.inline)return w.none();const n=null!==(t=er(e))&&void 0!==t?t:"";if(n.length>0)return yt(ct(),n);const o=tr(e);return u(o)?w.some(Se.fromDom(o)):w.none()})(e).isSome(),or=Ri("ui_mode"),ir=e=>xt(e,"[contenteditable]"),rr=(e,t=!1)=>lt(e)?e.dom.isContentEditable:ir(e).fold(p(t),(e=>"true"===sr(e))),sr=e=>e.dom.contentEditable,ar=e=>Se.fromDom(e.getBody()),lr=e=>t=>Te(t,ar(e)),cr=e=>{ye(e,"data-mce-style");const t=e=>ye(e,"data-mce-style");A(Ft(e),t),A(qt(e),t),A(Gt(e),t)},ur=e=>Se.fromDom(e.selection.getStart()),dr=e=>e.getBoundingClientRect().width,hr=e=>e.getBoundingClientRect().height,fr=e=>(t,n)=>{const o=t.dom.getStyle(n,e)||t.dom.getAttrib(n,e);return w.from(o).filter(At)},pr=fr("width"),mr=fr("height"),gr=e=>Ot(e,pe("table")).exists(rr),Or=(e,t)=>{const n=t.column,o=t.column+t.colspan-1,i=t.row,r=t.row+t.rowspan-1;return n<=e.finishCol&&o>=e.startCol&&i<=e.finishRow&&r>=e.startRow},vr=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,br=(e,t,n)=>{const o=oo.findItem(e,t,Te),i=oo.findItem(e,n,Te);return o.bind((e=>i.map((t=>{return n=e,o=t,i=Math.min(n.row,o.row),r=Math.min(n.column,o.column),s=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),a=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:i,startCol:r,finishRow:s,finishCol:a};var n,o,i,r,s,a}))))},yr=(e,t,n)=>br(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=O(vr,t);for(let i=t.startRow;i<=t.finishRow;i++)for(let r=t.startCol;r<=t.finishCol;r++)n=n&&oo.getAt(e,i,r).exists(o);return n?w.some(t):w.none()})(e,t))),xr=(e,t,n)=>br(e,t,n).map((t=>{const n=oo.filterItems(e,O(Or,t));return P(n,(e=>e.element))})),wr=(e,t)=>oo.findItem(e,t,((e,t)=>$e(t,e))).map((e=>e.element)),Sr=(e,t,n)=>Ht(e).bind((o=>((e,t,n,o)=>oo.findItem(e,t,Te).bind((t=>{const i=n>0?t.row+t.rowspan-1:t.row,r=o>0?t.column+t.colspan-1:t.column;return oo.getAt(e,i+n,r+o).map((e=>e.element))})))(Cr(o),e,t,n))),_r=(e,t,n)=>{const o=Cr(e);return xr(o,t,n)},kr=(e,t,n,o,i)=>{const r=Cr(e),s=Te(e,n)?w.some(t):wr(r,t),a=Te(e,i)?w.some(o):wr(r,o);return s.bind((e=>a.bind((t=>xr(r,e,t)))))},Cr=oo.fromTable;var Tr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],$r=()=>({up:p({selector:vt,closest:xt,predicate:gt,all:De}),down:p({selector:pt,predicate:dt}),styles:p({get:It,getRaw:zt,set:Mt,remove:Nt}),attrs:p({get:ve,set:ge,remove:ye,copyTo:(e,t)=>{const n=xe(e);Oe(t,n)}}),insert:p({before:Le,after:je,afterAll:Xe,append:Be,appendAll:We,prepend:Ve,wrap:Ze}),remove:p({unwrap:Fe,remove:Ye}),create:p({nu:Se.fromTag,clone:e=>Se.fromDom(e.dom.cloneNode(!1)),text:Se.fromText}),query:p({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Ie,nextSibling:Re}),property:p({children:ze,name:re,parent:Ee,document:e=>Qe(e).dom,isText:de,isComment:le,isElement:ue,isSpecial:e=>{const t=re(e);return C(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>ue(e)?be(e,"lang"):w.none(),getText:vi,setText:yi,isBoundary:e=>!!ue(e)&&("body"===re(e)||C(Tr,re(e))),isEmptyTag:e=>!!ue(e)&&C(["br","img","hr","input"],re(e)),isNonEditable:e=>ue(e)&&"false"===ve(e,"contenteditable")}),eq:Te,is:Pe});const Pr=(e,t,n,o)=>{const i=t(e,n);return M(o,((n,o)=>{const i=t(e,o);return Ar(e,n,i)}),i)},Ar=(e,t,n)=>t.bind((t=>n.filter(O(e.eq,t)))),Qr=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,Pr):w.none(),Er=(e,t,n,o=y)=>{const i=[t].concat(e.up().all(t)),r=[n].concat(e.up().all(n)),s=e=>R(e,o).fold((()=>e),(t=>e.slice(0,t+1))),a=s(i),l=s(r),c=I(a,(t=>T(l,((e,t)=>O(e.eq,t))(e,t))));return{firstpath:a,secondpath:l,shared:c}},Mr=$r(),Dr=(e,t)=>Qr(Mr,((t,n)=>e(n)),t),Ir=e=>vt(e,"table"),Rr=(e,t,n)=>{const o=e=>t=>void 0!==n&&n(t)||Te(t,e);return Te(e,t)?w.some({boxes:w.some([e]),start:e,finish:t}):Ir(e).bind((i=>Ir(t).bind((r=>{if(Te(i,r))return w.some({boxes:_r(i,e,t),start:e,finish:t});if($e(i,r)){const n=ht(t,"td,th",o(i)),s=n.length>0?n[n.length-1]:t;return w.some({boxes:kr(i,e,i,t,r),start:e,finish:s})}if($e(r,i)){const n=ht(e,"td,th",o(r)),s=n.length>0?n[n.length-1]:e;return w.some({boxes:kr(r,e,i,t,r),start:e,finish:s})}return((e,t,n)=>Er(Mr,e,t,n))(e,t).shared.bind((s=>xt(s,"table",n).bind((n=>{const s=ht(t,"td,th",o(n)),a=s.length>0?s[s.length-1]:t,l=ht(e,"td,th",o(n)),c=l.length>0?l[l.length-1]:e;return w.some({boxes:kr(n,e,i,t,r),start:c,finish:a})}))))}))))},zr=(e,t)=>{const n=pt(e,t);return n.length>0?w.some(n):w.none()},Nr=(e,t,n)=>yt(e,t).bind((t=>yt(e,n).bind((e=>Dr(Ir,[t,e]).map((n=>({first:t,last:e,table:n}))))))),Lr=(e,t,n,o,i)=>((e,t)=>I(e,(e=>_e(e,t))))(e,i).bind((e=>Sr(e,t,n).bind((e=>((e,t)=>vt(e,"table").bind((n=>yt(n,t).bind((t=>Rr(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,o))))),jr=(e,t)=>zr(e,t),Vr=(e,t,n)=>Nr(e,t,n).bind((t=>{const n=t=>Te(e,t),o="thead,tfoot,tbody,table",i=vt(t.first,o,n),r=vt(t.last,o,n);return i.bind((e=>r.bind((n=>Te(e,n)?((e,t,n)=>{const o=Cr(e);return yr(o,t,n)})(t.table,t.first,t.last):w.none()))))})),Br=m,Zr=e=>{const t=(e,t)=>be(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&L(e,(e=>t(e,"rowspan")||t(e,"colspan")))?w.some(e):w.none()},Xr=(e,t,n)=>t.length<=1?w.none():Vr(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Wr="data-mce-selected",Ur="td["+Wr+"],th["+Wr+"]",Yr="["+Wr+"]",Fr="data-mce-first-selected",qr="td["+Fr+"],th["+Fr+"]",Hr="data-mce-last-selected",Gr="td["+Hr+"],th["+Hr+"]",Kr=Yr,Jr={selected:Wr,selectedSelector:Ur,firstSelected:Fr,firstSelectedSelector:qr,lastSelected:Hr,lastSelectedSelector:Gr},es=(e,t,n)=>({element:n,mergable:Xr(t,e,Jr),unmergable:Zr(e),selection:Br(e)}),ts=e=>(t,n)=>{const o=re(t),i="col"===o||"colgroup"===o?Ht(r=t).bind((e=>jr(e,Jr.firstSelectedSelector))).fold(p(r),(e=>e[0])):t;var r;return xt(i,e,n)},ns=ts("th,td,caption"),os=ts("th,td"),is=e=>{return t=e.model.table.getSelectedCells(),P(t,Se.fromDom);var t},rs=(e,t)=>{const n=e.getDoc(),o=rt(Se.fromDom(e.getBody())),i=Se.fromTag("div",n);ge(i,"data-mce-bogus","all"),Dt(i,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const r=(e=>it(e)?e:Se.fromDom(Qe(e).dom.body))(o);We(i,t),Be(r,i);const s=i.dom.innerText;return Ye(i),s},ss=(e,t)=>{e.on("BeforeGetContent",(t=>{const n=n=>{t.preventDefault(),(e=>Ht(e[0]).map((e=>{const t=gi(e,Kr);return cr(t),[t]})))(n).each((n=>{const o="text"===t.format?rs(e,n):((e,t)=>P(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,n);t.content=o}))};if(!0===t.selection){const t=(e=>E(is(e),(e=>_e(e,Jr.selectedSelector))))(e);t.length>=1&&n(t)}})),e.on("BeforeSetContent",(n=>{if(!0===n.selection&&!0===n.paste){const o=is(e);B(o).each((o=>{Ht(o).each((i=>{const r=E(((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,ze(Se.fromDom(n))})(n.content),(e=>"meta"!==re(e))),s=pe("table");if(Hi(e)&&1===r.length&&s(r[0])){n.preventDefault();const s=Se.fromDom(e.getDoc()),a=Ii(s),l=((e,t,n)=>({element:e,clipboard:t,generators:n}))(o,r[0],a);t.pasteCells(i,l).each((()=>{e.focus()}))}}))}))}}))},as=(e,t)=>({element:e,offset:t}),ls=(e,t,n)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((t=>ls(e,t,n).orThunk((()=>w.some(t))))):w.none(),cs=(e,t)=>{if(e.property().isText(t))return e.property().getText(t).length;return e.property().children(t).length},us=(e,t)=>{const n=ls(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return as(n,cs(e,n));const o=e.property().children(n);return o.length>0?us(e,o[o.length-1]):as(n,cs(e,n))},ds=us,hs=$r(),fs=(e,t)=>{if(!Vt(e)){const n=(e=>Yo(e).bind((e=>Io(e,["fixed","relative","empty"]))))(e);n.each((n=>{const o=n.value/2;Go(e,o,n.unit),Go(t,o,n.unit)}))}},ps=e=>P(e,p(0)),ms=(e,t,n,o,i)=>i(e.slice(0,t)).concat(o).concat(i(e.slice(n))),gs=e=>(t,n,o,i)=>{if(e(o)){const e=Math.max(i,t[n]-Math.abs(o)),r=Math.abs(e-t[n]);return o>=0?r:-r}return o},Os=gs((e=>e<0)),vs=gs(x),bs=()=>{const e=(e,t,n,o)=>{const i=(100+n)/100,r=Math.max(o,(e[t]+n)/i);return P(e,((e,n)=>(n===t?r:e/i)-e))},t=(t,n,o,i,r,s)=>s?e(t,n,i,r):((e,t,n,o,i)=>{const r=Os(e,t,o,i);return ms(e,t,n+1,[r,0],ps)})(t,n,o,i,r);return{resizeTable:(e,t)=>e(t),clampTableDelta:Os,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,n,o,i,r,s,a)=>t(e,o,i,r,s,a),calcRightEdgeDeltas:(t,n,o,i,r,s)=>{if(s)return e(t,o,i,r);{const e=Os(t,o,i,r);return ps(t.slice(0,o)).concat([e])}},calcRedestributedWidths:(e,t,n,o)=>{if(o){const o=(t+n)/t,i=P(e,(e=>e/o));return{delta:100*o-100,newSizes:i}}return{delta:n,newSizes:e}}}},ys=()=>{const e=(e,t,n,o,i)=>{const r=vs(e,o>=0?n:t,o,i);return ms(e,t,n+1,[r,-r],ps)};return{resizeTable:(e,t,n)=>{n&&e(t)},clampTableDelta:(e,t,n,o,i)=>{if(i){if(n>=0)return n;{const t=D(e,((e,t)=>e+t-o),0);return Math.max(-t,n)}}return Os(e,t,n,o)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,n,o,i,r,s)=>e(t,o,i,r,s),calcRightEdgeDeltas:(e,t,n,o,i,r)=>{if(r)return ps(e);{const t=o/e.length;return P(e,p(t))}},calcRedestributedWidths:(e,t,n,o)=>({delta:0,newSizes:e})}},xs=e=>oo.fromTable(e).grid,ws=pe("th"),Ss=e=>L(e,(e=>ws(e.element))),_s=(e,t)=>e&&t?"sectionCells":e?"section":"cells",ks=e=>{const t="thead"===e.section,n=wt(Cs(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:_s(t,n)}:{type:"body"}},Cs=e=>{const t=E(e,(e=>ws(e.element)));return 0===t.length?w.some("td"):t.length===e.length?w.some("th"):w.none()},Ts=(e,t,n)=>nt(n(e.element,t),!0,e.isLocked),$s=(e,t)=>e.section!==t?ot(e.element,e.cells,t,e.isNew):e,Ps=()=>({transformRow:$s,transformCell:(e,t,n)=>{const o=n(e.element,t),i="td"!==re(o)?((e,t)=>{const n=Ke(e,t);je(e,n);const o=ze(e);return We(n,o),Ye(e),n})(o,"td"):o;return nt(i,e.isNew,e.isLocked)}}),As=()=>({transformRow:$s,transformCell:Ts}),Qs=()=>({transformRow:(e,t)=>$s(e,"thead"===t?"tbody":t),transformCell:Ts}),Es=(e,t)=>{const n=(e=>X(e.all,(e=>{const t=ks(e);return"header"===t.type?w.from(t.subType):w.none()})))(oo.fromTable(e)).getOr(t);switch(n){case"section":return Ps();case"sectionCells":return As();case"cells":return Qs()}},Ms=Ps,Ds=As,Is=Qs,Rs=()=>({transformRow:m,transformCell:Ts}),zs=(e,t,n,o)=>{n===o?ye(e,t):ge(e,t,n)},Ns=(e,t,n)=>{Z(ft(e,t)).fold((()=>Ve(e,n)),(e=>je(e,n)))},Ls=(e,t)=>{const n=[],o=[],i=e=>P(e,(e=>{e.isNew&&n.push(e.element);const t=e.element;return Ue(t),A(e.cells,(e=>{e.isNew&&o.push(e.element),zs(e.element,"colspan",e.colspan,1),zs(e.element,"rowspan",e.rowspan,1),Be(t,e.element)})),t})),r=e=>N(e,(e=>P(e.cells,(e=>(zs(e.element,"span",e.colspan,1),e.element))))),s=(t,n)=>{const o=((e,t)=>{const n=bt(e,t).getOrThunk((()=>{const n=Se.fromTag(t,Ae(e).dom);return"thead"===t?Ns(e,"caption,colgroup",n):"colgroup"===t?Ns(e,"caption",n):Be(e,n),n}));return Ue(n),n})(e,n),s=("colgroup"===n?r:i)(t);We(o,s)},a=(t,n)=>{t.length>0?s(t,n):(t=>{bt(e,t).each(Ye)})(n)},l=[],c=[],u=[],d=[];return A(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":c.push(e);break;case"tfoot":u.push(e);break;case"colgroup":d.push(e)}})),a(d,"colgroup"),a(l,"thead"),a(c,"tbody"),a(u,"tfoot"),{newRows:n,newCells:o}},js=(e,t)=>{if(0===e.length)return 0;const n=e[0];return R(e,(e=>!t(n.element,e.element))).getOr(e.length)},Vs=(e,t,n,o)=>{const i=((e,t)=>e[t])(e,t),r="colgroup"===i.section,s=js(i.cells.slice(n),o),a=r?1:js(((e,t)=>P(e,(e=>Un(e,t))))(e.slice(t),n),o);return{colspan:s,rowspan:a}},Bs=(e,t)=>{const n=P(e,(e=>P(e.cells,y)));return P(e,((o,i)=>{const r=N(o.cells,((o,r)=>{if(!1===n[i][r]){const u=Vs(e,i,r,t);return((e,t,o,i)=>{for(let r=e;r<e+o;r++)for(let e=t;e<t+i;e++)n[r][e]=!0})(i,r,u.rowspan,u.colspan),[(s=o.element,a=u.rowspan,l=u.colspan,c=o.isNew,{element:s,rowspan:a,colspan:l,isNew:c})]}return[];var s,a,l,c}));return((e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}))(o.element,r,o.section,o.isNew)}))},Zs=(e,t,n)=>{const o=[];A(e.colgroups,(i=>{const r=[];for(let o=0;o<e.grid.columns;o++){const i=oo.getColumnAt(e,o).map((e=>nt(e.element,n,!1))).getOrThunk((()=>nt(t.colGap(),!0,!1)));r.push(i)}o.push(ot(i.element,r,"colgroup",n))}));for(let i=0;i<e.grid.rows;i++){const r=[];for(let o=0;o<e.grid.columns;o++){const s=oo.getAt(e,i,o).map((e=>nt(e.element,n,e.isLocked))).getOrThunk((()=>nt(t.gap(),!0,!1)));r.push(s)}const s=e.all[i],a=ot(s.element,r,s.section,n);o.push(a)}return o},Xs=e=>Bs(e,Te),Ws=(e,t)=>X(e.all,(e=>I(e.cells,(e=>Te(t,e.element))))),Us=(e,t,n)=>{const o=P(t.selection,(t=>Yt(t).bind((t=>Ws(e,t))).filter(n))),i=St(o);return _t(i.length>0,i)},Ys=(e,t,n,o,i)=>(r,s,a,l)=>{const c=oo.fromTable(r),u=w.from(null==l?void 0:l.section).getOrThunk(Rs);return t(c,s).map((t=>{const n=((e,t)=>Zs(e,t,!1))(c,a),o=e(n,t,Te,i(a),u),r=Jn(o.grid);return{info:t,grid:Xs(o.grid),cursor:o.cursor,lockedColumns:r}})).bind((e=>{const t=Ls(r,e.grid),i=w.from(null==l?void 0:l.sizing).getOrThunk((()=>hi(r))),s=w.from(null==l?void 0:l.resize).getOrThunk(ys);return n(r,e.grid,e.info,{sizing:i,resize:s,section:u}),o(r),ye(r,Gn),e.lockedColumns.length>0&&ge(r,Gn,e.lockedColumns.join(",")),w.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},Fs=(e,t)=>Us(e,t,x).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),qs=(e,t)=>Us(e,t,x),Hs=(e,t)=>Us(e,t,(e=>!e.isLocked)),Gs=(e,t)=>L(t,(t=>((e,t)=>Ws(e,t).exists((e=>!e.isLocked)))(e,t))),Ks=(e,t,n,o)=>{const i=qn(e).rows;let r=!0;for(let e=0;e<i.length;e++)for(let s=0;s<Fn(i[0]);s++){const a=i[e],l=Un(a,s),c=n(l.element,t);c&&!r?Xn(a,s,nt(o(),!0,l.isLocked)):c&&(r=!1)}return e},Js=(e,t,n,o)=>{const i=qn(e).rows;if(t>0&&t<i.length){const e=((e,t)=>D(e,((e,n)=>T(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]))(i[t-1].cells,n);A(e,(e=>{let r=w.none();for(let s=t;s<i.length;s++)for(let t=0;t<Fn(i[0]);t++){const a=i[s],l=Un(a,t);n(l.element,e.element)&&(r.isNone()&&(r=w.some(o())),r.each((e=>{Xn(a,t,nt(e,!0,l.isLocked))})))}}))}return e},ea=e=>{const t=t=>t(e),n=p(e),o=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:x,isError:y,map:t=>na.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>w.some(e)};return i},ta=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:y,isError:x,map:t,mapError:t=>na.error(t(e)),bind:t,exists:y,forall:x,getOr:m,or:m,getOrThunk:b,orThunk:b,getOrDie:(o=String(e),()=>{throw new Error(o)}),each:f,toOptional:w.none};var o;return n},na={value:ea,error:ta,fromOption:(e,t)=>e.fold((()=>ta(t)),ea)},oa=(e,t)=>({rowDelta:0,colDelta:Fn(e[0])-Fn(t[0])}),ia=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),ra=(e,t,n,o)=>{const i="colgroup"===t.section?n.col:n.cell;return $(e,(e=>nt(i(),!0,o(e))))},sa=(e,t,n,o)=>{const i=e[e.length-1];return e.concat($(t,(()=>{const e="colgroup"===i.section?n.colgroup:n.row,t=Hn(i,e,m),r=ra(t.cells.length,t,n,(e=>J(o,e.toString())));return Wn(t,r)})))},aa=(e,t,n,o)=>P(e,(e=>{const i=ra(t,e,n,y);return Bn(e,o,i)})),la=(e,t,n)=>{const o=t.colDelta<0?aa:m,i=t.rowDelta<0?sa:m,r=Jn(e),s=Fn(e[0]),a=T(r,(e=>e===s-1)),l=o(e,Math.abs(t.colDelta),n,a?s-1:s),c=Jn(l);return i(l,Math.abs(t.rowDelta),n,j(c,x))},ca=(e,t,n,o)=>{const i=O(o,Un(e[t],n).element),r=e[t];return e.length>1&&Fn(r)>1&&(n>0&&i(Yn(r,n-1))||n<r.cells.length-1&&i(Yn(r,n+1))||t>0&&i(Yn(e[t-1],n))||t<e.length-1&&i(Yn(e[t+1],n)))},ua=(e,t,n)=>E(n,(n=>n>=e.column&&n<=Fn(t[0])+e.column)),da=(e,t,n,o,i)=>{const r=Jn(t),s=((e,t,n)=>{const o=Fn(t[0]),i=qn(t).cols.length+e.row,r=$(o-e.column,(t=>t+e.column)),s=I(r,(e=>L(n,(t=>t!==e)))).getOr(o-1);return{row:i,column:s}})(e,t,r),a=qn(n).rows,l=ua(s,a,r),c=((e,t,n)=>{if(e.row>=t.length||e.column>Fn(t[0]))return na.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const o=t.slice(e.row),i=o[0].cells.slice(e.column),r=Fn(n[0]),s=n.length;return na.value({rowDelta:o.length-s,colDelta:i.length-r})})(s,t,a);return c.map((e=>{const n={...e,colDelta:e.colDelta-l.length},r=la(t,n,o),c=Jn(r),u=ua(s,a,c);return((e,t,n,o,i,r)=>{const s=e.row,a=e.column,l=s+n.length,c=a+Fn(n[0])+r.length,u=j(r,x);for(let e=s;e<l;e++){let r=0;for(let l=a;l<c;l++){if(u[l]){r++;continue}ca(t,e,l,i)&&Ks(t,Yn(t[e],l),i,o.cell);const c=l-a-r,d=Un(n[e-s],c),h=d.element,f=o.replace(h);Xn(t[e],l,nt(f,!0,d.isLocked))}}return t})(s,r,a,o,i,u)}))},ha=(e,t,n,o,i)=>{((e,t,n,o)=>{t>0&&t<e[0].cells.length&&A(e,(e=>{const i=e.cells[t-1];let r=0;const s=o();for(;e.cells.length>t+r&&n(i.element,e.cells[t+r].element);)Xn(e,t+r,nt(s,!0,e.cells[t+r].isLocked)),r++}))})(t,e,i,o.cell);const r=ia(n,t),s=la(n,r,o),a=ia(t,s),l=la(t,a,o);return P(l,((t,n)=>Bn(t,e,s[n].cells)))},fa=(e,t,n,o,i)=>{Js(t,e,i,o.cell);const r=Jn(t),s=oa(t,n),a={...s,colDelta:s.colDelta-r.length},l=la(t,a,o),{cols:c,rows:u}=qn(l),d=Jn(l),h=oa(n,t),f={...h,colDelta:h.colDelta+d.length},p=((e,t,n)=>P(e,(e=>D(n,((n,o)=>{const i=ra(1,e,t,x)[0];return Zn(n,o,i)}),e))))(n,o,d),m=la(p,f,o);return[...c,...u.slice(0,e),...m,...u.slice(e,u.length)]},pa=(e,t,n,o,i)=>{const{rows:r,cols:s}=qn(e),a=r.slice(0,t),l=r.slice(t),c=((e,t,n,o)=>Hn(e,(e=>o(e,n)),t))(r[n],((e,n)=>t>0&&t<r.length&&o(Yn(r[t-1],n),Yn(r[t],n))?Un(r[t],n):nt(i(e.element,o),!0,e.isLocked)),o,i);return[...s,...a,c,...l]},ma=(e,t,n,o,i)=>P(e,(e=>{const r=t>0&&t<Fn(e)&&o(Yn(e,t-1),Yn(e,t)),s=((e,t,n,o,i,r,s)=>{if("colgroup"!==n&&o)return Un(e,t);{const t=Un(e,i);return nt(s(t.element,r),!0,!1)}})(e,t,e.section,r,n,o,i);return Zn(e,t,s)})),ga=(e,t,n,o)=>((e,t,n,o)=>void 0!==Yn(e[t],n)&&t>0&&o(Yn(e[t-1],n),Yn(e[t],n)))(e,t,n,o)||((e,t,n)=>t>0&&n(Yn(e,t-1),Yn(e,t)))(e[t],n,o),Oa=(e,t,n,o)=>{const i=e=>"row"===e?(e=>jt(e,"rowspan")>1)(t):Vt(t),r=e=>i(e)?`${e}group`:e;if(e)return ws(t)?r(n):null;if(o&&ws(t)){return r("row"===n?"col":"row")}return null},va=(e,t,n)=>nt(n(e.element,t),!0,e.isLocked),ba=(e,t,n,o,i,r,s)=>P(e,((e,a)=>((e,t)=>{const n=e.cells,o=P(n,t);return ot(e.element,o,e.section,e.isNew)})(e,((e,l)=>{if((e=>T(t,(t=>n(e.element,t.element))))(e)){const t=s(e,a,l)?i(e,n,o):e;return r(t,a,l).each((e=>{var n,o;n=t.element,o={scope:w.from(e)},Y(o,((e,t)=>{e.fold((()=>{ye(n,t)}),(e=>{me(n.dom,t,e)}))}))})),t}return e})))),ya=(e,t,n)=>N(e,((o,i)=>ga(e,i,t,n)?[]:[Un(o,t)])),xa=(e,t,n,o,i)=>{const r=qn(e).rows,s=N(t,(e=>ya(r,e,o))),a=P(r,(e=>Ss(e.cells))),l=((e,t)=>L(t,m)&&Ss(e)?x:(e,n,o)=>!("th"===re(e.element)&&t[n]))(s,a),c=((e,t)=>(n,o)=>w.some(Oa(e,n.element,"row",t[o])))(n,a);return ba(e,s,o,i,va,c,l)},wa=(e,t,n,o,i,r,s)=>{const{cols:a,rows:l}=qn(e),c=l[t[0]],u=N(t,(e=>((e,t,n)=>{const o=e[t];return N(o.cells,((o,i)=>ga(e,t,i,n)?[]:[o]))})(l,e,i))),d=P(c.cells,((e,t)=>Ss(ya(l,t,i)))),h=[...l];A(t,(e=>{h[e]=s.transformRow(l[e],n)}));const f=[...a,...h],p=((e,t)=>L(t,m)&&Ss(e.cells)?x:(e,n,o)=>!("th"===re(e.element)&&t[o]))(c,d),g=((e,t)=>(n,o,i)=>w.some(Oa(e,n.element,"col",t[i])))(o,d);return ba(f,u,i,r,s.transformCell,g,p)},Sa=(e,t,n,o)=>{const i=qn(e).rows,r=P(t,(e=>Un(i[e.row],e.column)));return ba(e,r,n,o,va,w.none,x)},_a=e=>{if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return A(e,((o,i)=>{const r=W(o);if(1!==r.length)throw new Error("one and only one name per case");const a=r[0],l=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!s(l))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[i].apply(null,n)},match:e=>{const o=W(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!L(t,(e=>C(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},ka={..._a([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Ca=(e,t,n,o,i)=>{const r=e.slice(0),s=((e,t)=>0===e.length?ka.none():1===e.length?ka.only(0):0===t?ka.left(0,1):t===e.length-1?ka.right(t-1,t):t>0&&t<e.length-1?ka.middle(t-1,t,t+1):ka.none())(e,t),a=p(P(r,p(0)));return s.fold(a,(e=>o.singleColumnWidth(r[e],n)),((e,t)=>i.calcLeftEdgeDeltas(r,e,t,n,o.minCellWidth(),o.isRelative)),((e,t,s)=>i.calcMiddleDeltas(r,e,t,s,n,o.minCellWidth(),o.isRelative)),((e,t)=>i.calcRightEdgeDeltas(r,e,t,n,o.minCellWidth(),o.isRelative)))},Ta=(e,t)=>oo.hasColumns(e)?((e,t)=>{const n=oo.justColumns(e);return P(n,((e,n)=>({element:e.element,width:t[n],colspan:e.colspan})))})(e,t):((e,t)=>{const n=oo.justCells(e);return P(n,(e=>{const n=((e,t,n)=>{let o=0;for(let i=e;i<t;i++)o+=void 0!==n[i]?n[i]:0;return o})(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))})(e,t),$a=(e,t,n)=>{const o=Ta(e,t);A(o,(e=>{n.setElementWidth(e.element,e.width)}))},Pa=(e,t,n,o,i)=>{const r=oo.fromTable(e),s=i.getCellDelta(t),a=i.getWidths(r,i),l=n===r.grid.columns-1,c=o.clampTableDelta(a,n,s,i.minCellWidth(),l),u=Ca(a,n,c,i,o),d=P(u,((e,t)=>e+a[t]));$a(r,d,i),o.resizeTable(i.adjustTableWidth,c,l)},Aa=(e,t,n)=>{const o=oo.fromTable(e),i=((e,t)=>ai(e,t,Ho,(e=>e.getOrThunk(Xt))))(o,e),r=P(i,((e,o)=>n===o?Math.max(t+e,Xt()):e)),s=((e,t)=>P(e.all,((e,n)=>({element:e.element,height:t[n]}))))(o,r);A(s,(e=>{Zo(e.element,e.height)})),A(oo.justCells(o),(e=>{(e=>{Nt(e,"height")})(e.element)}));const a=M(r,((e,t)=>e+t),0);Zo(e,a)},Qa=e=>D(e,((e,t)=>T(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),Ea=pe("col"),Ma=pe("colgroup"),Da=e=>"tr"===re(e)||Ma(e),Ia=e=>({element:e,colspan:Lt(e,"colspan",1),rowspan:Lt(e,"rowspan",1)}),Ra=e=>be(e,"scope").map((e=>e.substr(0,3))),za=(e,t=Ia)=>{const n=n=>{if(Da(n))return Ma((i={element:n}).element)?e.colgroup(i):e.row(i);{const i=n,r=(t=>Ea(t.element)?e.col(t):e.cell(t))(t(i));return o=w.some({item:i,replacement:r}),r}var i};let o=w.none();return{getOrInit:(e,t)=>o.fold((()=>n(e)),(o=>t(e,o.item)?o.replacement:n(e)))}},Na=e=>t=>{const n=[],o=o=>{const i="td"===e?{scope:null}:{},r=t.replace(o,e,i);return n.push({item:o,sub:r}),r};return{replaceOrInit:(e,t)=>{if(Da(e)||Ea(e))return e;{const i=e;return((e,t)=>I(n,(n=>t(n.item,e))))(i,t).fold((()=>o(i)),(n=>t(e,n.item)?n.sub:o(i)))}}}},La=e=>({unmerge:t=>{const n=Ra(t);return n.each((e=>ge(t,"scope",e))),()=>{const o=e.cell({element:t,colspan:1,rowspan:1});return Nt(o,"width"),Nt(t,"width"),n.each((e=>ge(o,"scope",e))),o}},merge:e=>(Nt(e[0],"width"),(()=>{const t=St(P(e,Ra));if(0===t.length)return w.none();{const e=t[0],n=["row","col"];return T(t,(t=>t!==e&&C(n,t)))?w.none():w.from(e)}})().fold((()=>ye(e[0],"scope")),(t=>ge(e[0],"scope",t+"group"))),p(e[0]))}),ja=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Va=$r(),Ba=e=>((e,t)=>{const n=e.property().name(t);return C(ja,n)})(Va,e),Za=e=>((e,t)=>{const n=e.property().name(t);return C(["ol","ul"],n)})(Va,e),Xa=e=>((e,t)=>C(["br","img","hr","input"],e.property().name(t)))(Va,e),Wa=e=>{const t=pe("br"),n=e=>ki(e).bind((n=>{const o=Re(n).map((e=>!!Ba(e)||!!Xa(e)&&"img"!==re(e))).getOr(!1);return Ee(n).map((i=>!0===o||(e=>"li"===re(e)||gt(e,Za).isSome())(i)||t(n)||Ba(i)&&!Te(e,i)?[]:[Se.fromTag("br")]))})).getOr([]),o=(()=>{const o=N(e,(e=>{const o=ze(e);return(e=>L(e,(e=>t(e)||de(e)&&0===vi(e).trim().length)))(o)?[]:o.concat(n(e))}));return 0===o.length?[Se.fromTag("br")]:o})();Ue(e[0]),We(e[0],o)},Ua=e=>rr(e,!0),Ya=e=>{0===Ft(e).length&&Ye(e)},Fa=(e,t)=>({grid:e,cursor:t}),qa=(e,t,n)=>{var o,i;const r=qn(e).rows;return w.from(null===(i=null===(o=r[t])||void 0===o?void 0:o.cells[n])||void 0===i?void 0:i.element).filter(Ua).orThunk((()=>(e=>X(e,(e=>X(e.cells,(e=>{const t=e.element;return _t(Ua(t),t)})))))(r)))},Ha=(e,t,n)=>{const o=qa(e,t,n);return Fa(e,o)},Ga=e=>D(e,((e,t)=>T(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),Ka=(e,t)=>(n,o,i,r,s)=>{const a=Ga(o),l=P(a,(e=>e.row)),c=wa(n,l,e,t,i,r.replaceOrInit,s);return Ha(c,o[0].row,o[0].column)},Ja=Ka("thead",!0),el=Ka("tbody",!1),tl=Ka("tfoot",!1),nl=(e,t,n)=>{const o=((e,t)=>Jt(e,(()=>t)))(e,n.section),i=oo.generate(o);return Zs(i,t,!0)},ol=(e,t,n,o)=>((e,t,n,o)=>{const i=oo.generate(t),r=o.getWidths(i,o);$a(i,r,o)})(0,t,0,o.sizing),il=(e,t,n,o)=>((e,t,n,o,i)=>{const r=oo.generate(t),s=o.getWidths(r,o),a=o.pixelWidth(),{newSizes:l,delta:c}=i.calcRedestributedWidths(s,a,n.pixelDelta,o.isRelative);$a(r,l,o),o.adjustTableWidth(c)})(0,t,n,o.sizing,o.resize),rl=(e,t)=>T(t,(e=>0===e.column&&e.isLocked)),sl=(e,t)=>T(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),al=(e,t)=>{const n=io(e),o=Qa(t);return D(o,((e,t)=>e+n[t.column].map(Ln).getOr(0)),0)},ll=e=>(t,n)=>qs(t,n).filter((n=>!(e?rl:sl)(t,n))).map((e=>({details:e,pixelDelta:al(t,e)}))),cl=e=>(t,n)=>Fs(t,n).filter((n=>!(e?rl:sl)(t,n.cells))),ul=Na("th"),dl=Na("td"),hl=Ys(((e,t,n,o)=>{const i=t[0].row,r=Ga(t),s=M(r,((e,t)=>({grid:pa(e.grid,i,t.row+e.delta,n,o.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Ha(s,i,t[0].column)}),qs,f,f,za),fl=Ys(((e,t,n,o)=>{const i=Ga(t),r=i[i.length-1],s=r.row+r.rowspan,a=M(i,((e,t)=>pa(e,s,t.row,n,o.getOrInit)),e);return Ha(a,s,t[0].column)}),qs,f,f,za),pl=Ys(((e,t,n,o)=>{const i=t.details,r=Qa(i),s=r[0].column,a=M(r,((e,t)=>({grid:ma(e.grid,s,t.column+e.delta,n,o.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Ha(a,i[0].row,s)}),ll(!0),il,f,za),ml=Ys(((e,t,n,o)=>{const i=t.details,r=i[i.length-1],s=r.column+r.colspan,a=Qa(i),l=M(a,((e,t)=>ma(e,s,t.column,n,o.getOrInit)),e);return Ha(l,i[0].row,s)}),ll(!1),il,f,za),gl=Ys(((e,t,n,o)=>{const i=Qa(t.details),r=((e,t)=>N(e,(e=>{const n=e.cells,o=M(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return o.length>0?[ot(e.element,o,e.section,e.isNew)]:[]})))(e,P(i,(e=>e.column))),s=r.length>0?r[0].cells.length-1:0;return Ha(r,i[0].row,Math.min(i[0].column,s))}),((e,t)=>Hs(e,t).map((t=>({details:t,pixelDelta:-al(e,t)})))),il,Ya,za),Ol=Ys(((e,t,n,o)=>{const i=Ga(t),r=((e,t,n)=>{const{rows:o,cols:i}=qn(e);return[...i,...o.slice(0,t),...o.slice(n+1)]})(e,i[0].row,i[i.length-1].row),s=Math.max(qn(r).rows.length-1,0);return Ha(r,Math.min(t[0].row,s),t[0].column)}),qs,f,Ya,za),vl=Ys(((e,t,n,o)=>{const i=Qa(t),r=P(i,(e=>e.column)),s=xa(e,r,!0,n,o.replaceOrInit);return Ha(s,t[0].row,t[0].column)}),Hs,f,f,ul),bl=Ys(((e,t,n,o)=>{const i=Qa(t),r=P(i,(e=>e.column)),s=xa(e,r,!1,n,o.replaceOrInit);return Ha(s,t[0].row,t[0].column)}),Hs,f,f,dl),yl=Ys(Ja,qs,f,f,ul),xl=Ys(el,qs,f,f,dl),wl=Ys(tl,qs,f,f,dl),Sl=Ys(((e,t,n,o)=>{const i=Sa(e,t,n,o.replaceOrInit);return Ha(i,t[0].row,t[0].column)}),Hs,f,f,ul),_l=Ys(((e,t,n,o)=>{const i=Sa(e,t,n,o.replaceOrInit);return Ha(i,t[0].row,t[0].column)}),Hs,f,f,dl),kl=Ys(((e,t,n,o)=>{const i=t.cells;Wa(i);const r=((e,t,n,o)=>{const i=qn(e).rows;if(0===i.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let n=t.startCol;n<=t.finishCol;n++){const t=i[e],r=Un(t,n).isLocked;Xn(t,n,nt(o(),!1,r))}return e})(e,t.bounds,0,o.merge(i));return Fa(r,w.from(i[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>Gs(e,t.cells)))),ol,f,La),Cl=Ys(((e,t,n,o)=>{const i=M(t,((e,t)=>Ks(e,t,n,o.unmerge(t))),e);return Fa(i,w.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>Gs(e,t)))),ol,f,La),Tl=Ys(((e,t,n,o)=>{const i=((e,t)=>{const n=oo.fromTable(e);return Zs(n,t,!0)})(t.clipboard,t.generators),r=((e,t)=>({row:e,column:t}))(t.row,t.column);return da(r,e,i,t.generators,n).fold((()=>Fa(e,w.some(t.element))),(e=>Ha(e,t.row,t.column)))}),((e,t)=>Yt(t.element).bind((n=>Ws(e,n).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),ol,f,za),$l=Ys(((e,t,n,o)=>{const i=qn(e).rows,r=t.cells[0].column,s=i[t.cells[0].row],a=nl(t.clipboard,t.generators,s),l=ha(r,e,a,t.generators,n);return Ha(l,t.cells[0].row,t.cells[0].column)}),cl(!0),f,f,za),Pl=Ys(((e,t,n,o)=>{const i=qn(e).rows,r=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,s=i[t.cells[0].row],a=nl(t.clipboard,t.generators,s),l=ha(r,e,a,t.generators,n);return Ha(l,t.cells[0].row,r)}),cl(!1),f,f,za),Al=Ys(((e,t,n,o)=>{const i=qn(e).rows,r=t.cells[0].row,s=i[r],a=nl(t.clipboard,t.generators,s),l=fa(r,e,a,t.generators,n);return Ha(l,t.cells[0].row,t.cells[0].column)}),Fs,f,f,za),Ql=Ys(((e,t,n,o)=>{const i=qn(e).rows,r=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,s=i[t.cells[0].row],a=nl(t.clipboard,t.generators,s),l=fa(r,e,a,t.generators,n);return Ha(l,r,t.cells[0].column)}),Fs,f,f,za),El=(e,t)=>{const n=oo.fromTable(e);return qs(n,t).bind((e=>{const t=e[e.length-1],o=e[0].column,i=t.column+t.colspan,r=z(P(n.all,(e=>E(e.cells,(e=>e.column>=o&&e.column<i)))));return Cs(r)})).getOr("")},Ml=(e,t)=>{const n=oo.fromTable(e);return qs(n,t).bind(Cs).getOr("")},Dl=(e,t)=>{const n=oo.fromTable(e);return qs(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,i=t.row+t.rowspan;return(e=>{const t=P(e,(e=>ks(e).type)),n=C(t,"header"),o=C(t,"footer");if(n||o){const e=C(t,"body");return!n||e||o?n||e||!o?w.none():w.some("footer"):w.some("header")}return w.some("body")})(n.all.slice(o,i))})).getOr("")},Il=(e,t)=>e.dispatch("NewRow",{node:t}),Rl=(e,t)=>e.dispatch("NewCell",{node:t}),zl=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},Nl={structure:!1,style:!0},Ll={structure:!0,style:!1},jl={structure:!0,style:!0},Vl=(e,t)=>Wi(e)?pi(t):Ui(e)?fi(t):hi(t),Bl=(e,t,n)=>{const o=e=>"table"===re(ar(e)),i=Li(e),r=Zi(e)?f:fs,s=t=>{switch(ji(e)){case"section":return Ms();case"sectionCells":return Ds();case"cells":return Is();default:return Es(t,"section")}},a=(t,o)=>o.cursor.fold((()=>{const o=Ft(t);return B(o).filter(lt).map((o=>{n.clearSelectedCells(t.dom);const i=e.dom.createRng();return i.selectNode(o.dom),e.selection.setRng(i),ge(o,"data-mce-selected","1"),i}))}),(o=>{const i=ds(hs,o);const r=e.dom.createRng();return r.setStart(i.element.dom,i.offset),r.setEnd(i.element.dom,i.offset),e.selection.setRng(r),n.clearSelectedCells(t.dom),w.some(r)})),l=(n,o,r,l)=>(c,u,d=!1)=>{cr(c);const h=Se.fromDom(e.getDoc()),f=Di(r,h,i),p={sizing:Vl(e,c),resize:Zi(e)?bs():ys(),section:s(c)};return o(c)?n(c,u,f,p).bind((n=>{t.refresh(c.dom),A(n.newRows,(t=>{Il(e,t.dom)})),A(n.newCells,(t=>{Rl(e,t.dom)}));const o=a(c,n);return lt(c)&&(cr(c),d||zl(e,c.dom,l)),o.map((e=>({rng:e,effect:l})))})):w.none()},c=l(Ol,(t=>!o(e)||xs(t).rows>1),f,Ll),u=l(gl,(t=>!o(e)||xs(t).columns>1),f,Ll);return{deleteRow:c,deleteColumn:u,insertRowsBefore:l(hl,x,f,Ll),insertRowsAfter:l(fl,x,f,Ll),insertColumnsBefore:l(pl,x,r,Ll),insertColumnsAfter:l(ml,x,r,Ll),mergeCells:l(kl,x,f,Ll),unmergeCells:l(Cl,x,f,Ll),pasteColsBefore:l($l,x,f,Ll),pasteColsAfter:l(Pl,x,f,Ll),pasteRowsBefore:l(Al,x,f,Ll),pasteRowsAfter:l(Ql,x,f,Ll),pasteCells:l(Tl,x,f,jl),makeCellsHeader:l(Sl,x,f,Ll),unmakeCellsHeader:l(_l,x,f,Ll),makeColumnsHeader:l(vl,x,f,Ll),unmakeColumnsHeader:l(bl,x,f,Ll),makeRowsHeader:l(yl,x,f,Ll),makeRowsBody:l(xl,x,f,Ll),makeRowsFooter:l(wl,x,f,Ll),getTableRowType:Dl,getTableCellType:Ml,getTableColType:El}},Zl=(e,t,n)=>{const o=Lt(e,t,1);1===n||o<=1?ye(e,t):ge(e,t,Math.min(n,o))},Xl=(e,t)=>n=>{const o=n.column+n.colspan-1,i=n.column;return o>=e&&i<t},Wl=(e,t)=>{const n=oo.fromTable(e);return Hs(n,t).map((e=>{const t=e[e.length-1],o=e[0].column,i=t.column+t.colspan,r=((e,t,n)=>{if(oo.hasColumns(e)){const o=E(oo.justColumns(e),Xl(t,n)),i=P(o,(e=>{const o=Ge(e.element);return Zl(o,"span",n-t),o})),r=Se.fromTag("colgroup");return We(r,i),[r]}return[]})(n,o,i),s=((e,t,n)=>P(e.all,(e=>{const o=E(e.cells,Xl(t,n)),i=P(o,(e=>{const o=Ge(e.element);return Zl(o,"colspan",n-t),o})),r=Se.fromTag("tr");return We(r,i),r})))(n,o,i);return[...r,...s]}))},Ul=(e,t,n)=>{const o=oo.fromTable(e);return qs(o,t).bind((e=>{const t=Zs(o,n,!1),i=qn(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),r=N(i,(e=>{const t=E(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),s=Xs(r);return _t(s.length>0,s)})).map((e=>(e=>P(e,(e=>{const t=He(e.element);return A(e.cells,(e=>{const n=Ge(e.element);zs(n,"colspan",e.colspan,1),zs(n,"rowspan",e.rowspan,1),Be(t,n)})),t})))(e)))},Yl=_a([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Fl=(e,t,n)=>{const o=n.substring(0,n.length-e.length),i=parseFloat(o);return o===i.toString()?t(i):Yl.invalid(n)},ql={...Yl,from:e=>$t(e,"%")?Fl("%",Yl.percent,e):$t(e,"px")?Fl("px",Yl.pixels,e):Yl.invalid(e)},Hl=(e,t,n)=>e.fold((()=>t),(e=>((e,t,n)=>{const o=n/t;return P(e,(e=>ql.from(e).fold((()=>e),(e=>e*o+"px"),(e=>e/100*n+"px"))))})(t,n,e)),(e=>((e,t)=>P(e,(e=>ql.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,n))),Gl=(e,t,n)=>{const o=ql.from(n),i=L(e,(e=>"0px"===e))?((e,t)=>{const n=e.fold((()=>p("")),(e=>p(e/t+"px")),(()=>p(100/t+"%")));return $(t,n)})(o,e.length):Hl(o,e,t);return ec(i)},Kl=(e,t)=>0===e.length?t:M(e,((e,t)=>ql.from(t).fold(p(0),m,m)+e),0),Jl=(e,t)=>ql.from(e).fold(p(e),(e=>e+t+"px"),(e=>e+t+"%")),ec=e=>{if(0===e.length)return e;const t=M(e,((e,t)=>{const n=ql.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const n=Math.floor(e);return{value:n+t,remainder:e-n}})(e,"px")),(e=>({value:e+"%",remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Jl(n[n.length-1],Math.round(t.remainder))])},tc=ql.from,nc=(e,t,n)=>{const o=oo.fromTable(e),i=o.all,r=oo.justCells(o),s=oo.justColumns(o);t.each((t=>{const n=tc(t).fold(p("px"),p("px"),p("%"));const i=Nn(e),a=((e,t)=>ii(e,t,ti,ri))(o,e),l=Gl(a,i,t);oo.hasColumns(o)?((e,t,n)=>{A(t,((t,o)=>{const i=Kl([e[o]],Zt());Mt(t.element,"width",i+n)}))})(l,s,n):((e,t,n)=>{A(t,(t=>{const o=e.slice(t.column,t.colspan+t.column),i=Kl(o,Zt());Mt(t.element,"width",i+n)}))})(l,r,n),Mt(e,"width",t)})),n.each((t=>{const n=ho(e),s=((e,t)=>ai(e,t,ni,ri))(o,e);((e,t,n)=>{A(n,(e=>{Nt(e.element,"height")})),A(t,((t,n)=>{Mt(t.element,"height",e[n])}))})(Gl(s,n,t),i,r),Mt(e,"height",t)}))},oc=e=>Yo(e).exists((e=>Ro.test(e))),ic=e=>Yo(e).exists((e=>zo.test(e))),rc=e=>Yo(e).isNone(),sc=e=>{ye(e,"width"),ye(e,"height")},ac=e=>{const t=Ko(e);nc(e,w.some(t),w.none()),sc(e)},lc=e=>{const t=(e=>Nn(e)+"px")(e);nc(e,w.some(t),w.none()),sc(e)},cc=e=>{const t=(e=>ho(e)+"px")(e);nc(e,w.none(),w.some(t)),sc(e)},uc=e=>{Nt(e,"width");const t=qt(e),n=t.length>0?t:Ft(e);A(n,(e=>{Nt(e,"width"),sc(e)})),sc(e)},dc={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},hc=e=>{const t=Se.fromTag("colgroup");return $(e,(()=>Be(t,Se.fromTag("col")))),t},fc=(e,t,n,o)=>$(e,(e=>((e,t,n,o)=>{const i=Se.fromTag("tr");for(let r=0;r<e;r++){const e=o<t||r<n?Se.fromTag("th"):Se.fromTag("td");r<n&&ge(e,"scope","row"),o<t&&ge(e,"scope","col"),Be(e,Se.fromTag("br")),Be(i,e)}return i})(t,n,o,e))),pc=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},mc=(e,t,n,o,r)=>{const s=Ki(e),a={styles:s,attributes:Gi(e),colGroups:Ji(e)};return e.undoManager.ignore((()=>{const i=((e,t,n,o,i,r=dc)=>{const s=Se.fromTag("table"),a="cells"!==i;Dt(s,r.styles),Oe(s,r.attributes),r.colGroups&&Be(s,hc(t));const l=Math.min(e,n);if(a&&n>0){const e=Se.fromTag("thead");Be(s,e);const r=fc(n,t,"sectionCells"===i?l:0,o);We(e,r)}const c=Se.fromTag("tbody");Be(s,c);const u=fc(a?e-l:e,t,a?0:n,o);return We(c,u),s})(n,t,r,o,ji(e),a);ge(i,"data-mce-id","__mce");const s=(e=>{const t=Se.fromTag("div"),n=Se.fromDom(e.dom.cloneNode(!0));return Be(t,n),(e=>e.dom.innerHTML)(t)})(i);e.insertContent(s),e.addVisual()})),yt(ar(e),'table[data-mce-id="__mce"]').map((t=>(Ui(e)?lc(t):Yi(e)?uc(t):(Wi(e)||(e=>i(e)&&-1!==e.indexOf("%"))(s.width))&&ac(t),cr(t),ye(t,"data-mce-id"),((e,t)=>{A(pt(t,"tr"),(t=>{Il(e,t.dom),A(pt(t,"th,td"),(t=>{Rl(e,t.dom)}))}))})(e,t),((e,t)=>{yt(t,"td,th").each(O(pc,e))})(e,t),t.dom))).getOrNull()};var gc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Oc="x-tinymce/dom-table-",vc=Oc+"rows",bc=Oc+"columns",yc=e=>{const t=gc.FakeClipboardItem(e);gc.write([t])},xc=e=>{var t;const n=null!==(t=gc.read())&&void 0!==t?t:[];return X(n,(t=>w.from(t.getType(e))))},wc=e=>{xc(e).isSome()&&gc.clear()},Sc=e=>{e.fold(kc,(e=>yc({[vc]:e})))},_c=()=>xc(vc),kc=()=>wc(vc),Cc=e=>{e.fold($c,(e=>yc({[bc]:e})))},Tc=()=>xc(bc),$c=()=>wc(bc),Pc=e=>ns(ur(e),lr(e)).filter(gr),Ac=(e,t)=>{const n=lr(e),o=e=>Ht(e,n),s=t=>(e=>os(ur(e),lr(e)).filter(gr))(e).bind((e=>o(e).map((n=>t(n,e))))),a=t=>{e.focus()},l=(t,n=!1)=>s(((o,i)=>{const r=es(is(e),o,i);t(o,r,n).each(a)})),c=()=>s(((t,n)=>{const o=es(is(e),t,n),i=Di(f,Se.fromDom(e.getDoc()),w.none());return Ul(t,o,i)})),u=()=>s(((t,n)=>{const o=es(is(e),t,n);return Wl(t,o)})),d=(t,n)=>n().each((n=>{const o=P(n,(e=>Ge(e)));s(((n,i)=>{const r=Ii(Se.fromDom(e.getDoc())),s=((e,t,n,o)=>({selection:Br(e),clipboard:n,generators:o}))(is(e),0,o,r);t(n,s).each(a)}))})),p=e=>(t,n)=>((e,t)=>J(e,t)?w.from(e[t]):w.none())(n,"type").each((t=>{l(e(t),n.no_events)}));Y({mceTableSplitCells:()=>l(t.unmergeCells),mceTableMergeCells:()=>l(t.mergeCells),mceTableInsertRowBefore:()=>l(t.insertRowsBefore),mceTableInsertRowAfter:()=>l(t.insertRowsAfter),mceTableInsertColBefore:()=>l(t.insertColumnsBefore),mceTableInsertColAfter:()=>l(t.insertColumnsAfter),mceTableDeleteCol:()=>l(t.deleteColumn),mceTableDeleteRow:()=>l(t.deleteRow),mceTableCutCol:()=>u().each((e=>{Cc(e),l(t.deleteColumn)})),mceTableCutRow:()=>c().each((e=>{Sc(e),l(t.deleteRow)})),mceTableCopyCol:()=>u().each((e=>Cc(e))),mceTableCopyRow:()=>c().each((e=>Sc(e))),mceTablePasteColBefore:()=>d(t.pasteColsBefore,Tc),mceTablePasteColAfter:()=>d(t.pasteColsAfter,Tc),mceTablePasteRowBefore:()=>d(t.pasteRowsBefore,_c),mceTablePasteRowAfter:()=>d(t.pasteRowsAfter,_c),mceTableDelete:()=>Pc(e).each((t=>{Ht(t,n).filter(v(n)).each((t=>{const n=Se.fromText("");if(je(t,n),Ye(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,n)=>{s((t=>{const o=is(e),i=L(o,(t=>e.formatter.match("tablecellclass",{value:n},t.dom))),r=i?e.formatter.remove:e.formatter.apply;A(o,(e=>r("tablecellclass",{value:n},e.dom))),zl(e,t.dom,Nl)}))},mceTableToggleClass:(t,n)=>{s((t=>{e.formatter.toggle("tableclass",{value:n},t.dom),zl(e,t.dom,Nl)}))},mceTableToggleCaption:()=>{Pc(e).each((t=>{Ht(t,n).each((n=>{bt(n,"caption").fold((()=>{const t=Se.fromTag("caption");Be(t,Se.fromText("Caption")),((e,t,n)=>{Ne(e,n).fold((()=>{Be(e,t)}),(e=>{Le(e,t)}))})(n,t,0),e.selection.setCursorLocation(t.dom,0)}),(o=>{pe("caption")(t)&&Ce("td",n).each((t=>e.selection.setCursorLocation(t.dom,0))),Ye(o)})),zl(e,n.dom,Ll)}))}))},mceTableSizingMode:(t,o)=>(t=>Pc(e).each((o=>{Yi(e)||Ui(e)||Wi(e)||Ht(o,n).each((n=>{"relative"!==t||oc(n)?"fixed"!==t||ic(n)?"responsive"!==t||rc(n)||uc(n):lc(n):ac(n),cr(n),zl(e,n.dom,Ll)}))})))(o),mceTableCellType:p((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:p((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:p((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand("mceInsertTable",((t,n)=>{((e,t,n,o={})=>{const i=e=>h(e)&&e>0;if(i(t)&&i(n)){const i=o.headerRows||0,r=o.headerColumns||0;return mc(e,n,t,r,i)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,n.rows,n.columns,n.options)})),e.addCommand("mceTableApplyCellStyle",((t,n)=>{const s=e=>"tablecell"+e.toLowerCase().replace("-","");if(!r(n))return;const a=E(is(e),gr);if(0===a.length)return;const l=H(n,((t,n)=>e.formatter.has(s(n))&&i(t)));(e=>{for(const t in e)if(U.call(e,t))return!1;return!0})(l)||(Y(l,((t,n)=>{const o=s(n);A(a,(n=>{""===t?e.formatter.remove(o,{value:null},n.dom,!0):e.formatter.apply(o,{value:t},n.dom)}))})),o(a[0]).each((t=>zl(e,t.dom,Nl))))}))},Qc=_a([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ec={before:Qc.before,on:Qc.on,after:Qc.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(m,m,m)},Mc=(e,t)=>({selection:e,kill:t}),Dc=(e,t)=>{const n=e.document.createRange();return n.selectNode(t.dom),n},Ic=(e,t)=>{const n=e.document.createRange();return Rc(n,t),n},Rc=(e,t)=>e.selectNodeContents(t.dom),zc=(e,t,n)=>{const o=e.document.createRange();var i;return i=o,t.fold((e=>{i.setStartBefore(e.dom)}),((e,t)=>{i.setStart(e.dom,t)}),(e=>{i.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},Nc=(e,t,n,o,i)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(o.dom,i),r},Lc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),jc=_a([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Vc=(e,t,n)=>t(Se.fromDom(n.startContainer),n.startOffset,Se.fromDom(n.endContainer),n.endOffset),Bc=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:p(e),rtl:w.none}),relative:(t,n)=>({ltr:nn((()=>zc(e,t,n))),rtl:nn((()=>w.some(zc(e,n,t))))}),exact:(t,n,o,i)=>({ltr:nn((()=>Nc(e,t,n,o,i))),rtl:nn((()=>w.some(Nc(e,o,i,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();if(n.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>jc.rtl(Se.fromDom(e.endContainer),e.endOffset,Se.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Vc(0,jc.ltr,n)));return Vc(0,jc.ltr,n)})(0,n)},Zc=(e,t)=>Bc(e,t).match({ltr:(t,n,o,i)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(o.dom,i),r},rtl:(t,n,o,i)=>{const r=e.document.createRange();return r.setStart(o.dom,i),r.setEnd(t.dom,n),r}});jc.ltr,jc.rtl;const Xc=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Wc=(e,t,n,o)=>({start:Ec.on(e,t),finish:Ec.on(n,o)}),Uc=(e,t)=>{const n=Zc(e,t);return Xc(Se.fromDom(n.startContainer),n.startOffset,Se.fromDom(n.endContainer),n.endOffset)},Yc=Wc,Fc=(e,t,n,o,i)=>Te(n,o)?w.none():Rr(n,o,t).bind((t=>{const o=t.boxes.getOr([]);return o.length>1?(i(e,o,t.start,t.finish),w.some(Mc(w.some(Yc(n,0,n,xi(n))),!0))):w.none()})),qc=(e,t)=>({item:e,mode:t}),Hc=(e,t,n,o=Gc)=>e.property().parent(t).map((e=>qc(e,o))),Gc=(e,t,n,o=Kc)=>n.sibling(e,t).map((e=>qc(e,o))),Kc=(e,t,n,o=Kc)=>{const i=e.property().children(t);return n.first(i).map((e=>qc(e,o)))},Jc=[{current:Hc,next:Gc,fallback:w.none()},{current:Gc,next:Kc,fallback:w.some(Hc)},{current:Kc,next:Kc,fallback:w.some(Gc)}],eu=(e,t,n,o,i=Jc)=>I(i,(e=>e.current===n)).bind((n=>n.current(e,t,o,n.next).orThunk((()=>n.fallback.bind((n=>eu(e,t,n,o))))))),tu=()=>({sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?w.some(e[e.length-1]):w.none()}),nu=()=>({sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?w.some(e[0]):w.none()}),ou=(e,t,n,o,i,r)=>eu(e,t,o,i).bind((t=>r(t.item)?w.none():n(t.item)?w.some(t.item):ou(e,t.item,n,t.mode,i,r))),iu=e=>t=>0===e.property().children(t).length,ru=(e,t,n,o)=>ou(e,t,n,Gc,tu(),o),su=(e,t,n,o)=>ou(e,t,n,Gc,nu(),o),au=$r(),lu=(e,t)=>((e,t,n)=>ru(e,t,iu(e),n))(au,e,t),cu=(e,t)=>((e,t,n)=>su(e,t,iu(e),n))(au,e,t),uu=_a([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),du=e=>xt(e,"tr"),hu={...uu,verify:(e,t,n,o,i,r,s)=>xt(o,"td,th",s).bind((n=>xt(t,"td,th",s).map((t=>Te(n,t)?Te(o,n)&&xi(n)===i?r(t):uu.none("in same cell"):Dr(du,[n,t]).fold((()=>((e,t,n)=>{const o=e.getRect(t),i=e.getRect(n);return i.right>o.left&&i.left<o.right})(e,t,n)?uu.success():r(t)),(e=>r(t))))))).getOr(uu.none("default")),cata:(e,t,n,o,i)=>e.fold(t,n,o,i)},fu=(e,t)=>R(e,O(Te,t)),pu=pe("br"),mu=(e,t,n)=>t(e,n).bind((e=>de(e)&&0===vi(e).trim().length?mu(e,t,n):w.some(e))),gu=(e,t,n,o)=>((e,t)=>Ne(e,t).filter(pu).orThunk((()=>Ne(e,t-1).filter(pu))))(t,n).bind((t=>o.traverse(t).fold((()=>mu(t,o.gather,e).map(o.relative)),(e=>(e=>Ee(e).bind((t=>{const n=ze(t);return fu(n,e).map((o=>((e,t,n,o)=>({parent:e,children:t,element:n,index:o}))(t,n,e,o)))})))(e).map((e=>Ec.on(e.parent,e.index))))))),Ou=(e,t,n,o)=>{const i=pu(t)?((e,t,n)=>n.traverse(t).orThunk((()=>mu(t,n.gather,e))).map(n.relative))(e,t,o):gu(e,t,n,o);return i.map((e=>({start:e,finish:e})))},vu=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),bu=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),yu=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),xu=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),wu=(e,t)=>w.some(e.getRect(t)),Su=(e,t,n)=>ue(t)?wu(e,t).map(xu):de(t)?((e,t,n)=>n>=0&&n<xi(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):w.none())(e,t,n).map(xu):w.none(),_u=(e,t)=>ue(t)?wu(e,t).map(xu):de(t)?e.getRangedRect(t,0,t,xi(t)).map(xu):w.none(),ku=_a([{none:[]},{retry:["caret"]}]),Cu=(e,t,n)=>Ot(t,Ba).fold(y,(t=>_u(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(n,e))))),Tu={point:e=>e.bottom,adjuster:(e,t,n,o,i)=>{const r=vu(i,5);return Math.abs(n.bottom-o.bottom)<1||n.top>i.bottom?ku.retry(r):n.top===i.bottom?ku.retry(vu(i,1)):Cu(e,t,i)?ku.retry(yu(r,5,0)):ku.none()},move:vu,gather:cu},$u=(e,t,n,o,i)=>0===i?w.some(o):((e,t,n)=>e.elementFromPoint(t,n).filter((e=>"table"===re(e))).isSome())(e,o.left,t.point(o))?((e,t,n,o,i)=>$u(e,t,n,t.move(o,5),i))(e,t,n,o,i-1):e.situsFromPoint(o.left,t.point(o)).bind((r=>r.start.fold(w.none,(r=>_u(e,r).bind((s=>t.adjuster(e,r,s,n,o).fold(w.none,(o=>$u(e,t,n,o,i-1))))).orThunk((()=>w.some(o)))),w.none))),Pu=(e,t,n)=>{const o=e.move(n,5),i=$u(t,e,n,o,100).getOr(o);return((e,t,n)=>e.point(t)>n.getInnerHeight()?w.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?w.some(-e.point(t)):w.none())(e,i,t).fold((()=>t.situsFromPoint(i.left,e.point(i))),(n=>(t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n))))},Au={tryUp:O(Pu,{point:e=>e.top,adjuster:(e,t,n,o,i)=>{const r=bu(i,5);return Math.abs(n.top-o.top)<1||n.bottom<i.top?ku.retry(r):n.bottom===i.top?ku.retry(bu(i,1)):Cu(e,t,i)?ku.retry(yu(r,5,0)):ku.none()},move:bu,gather:lu}),tryDown:O(Pu,Tu),getJumpSize:p(5)},Qu=(e,t,n)=>e.getSelection().bind((o=>Ou(t,o.finish,o.foffset,n).fold((()=>w.some(as(o.finish,o.foffset))),(i=>{const r=e.fromSitus(i);return(e=>hu.cata(e,(e=>w.none()),(()=>w.none()),(e=>w.some(as(e,0))),(e=>w.some(as(e,xi(e))))))(hu.verify(e,o.finish,o.foffset,r.finish,r.foffset,n.failure,t))})))),Eu=(e,t,n,o,i,r)=>0===r?w.none():Iu(e,t,n,o,i).bind((s=>{const a=e.fromSitus(s),l=hu.verify(e,n,o,a.finish,a.foffset,i.failure,t);return hu.cata(l,(()=>w.none()),(()=>w.some(s)),(s=>Te(n,s)&&0===o?Mu(e,n,o,bu,i):Eu(e,t,s,0,i,r-1)),(s=>Te(n,s)&&o===xi(s)?Mu(e,n,o,vu,i):Eu(e,t,s,xi(s),i,r-1)))})),Mu=(e,t,n,o,i)=>Su(e,t,n).bind((t=>Du(e,i,o(t,Au.getJumpSize())))),Du=(e,t,n)=>{const o=En().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,n):w.none()},Iu=(e,t,n,o,i)=>Su(e,n,o).bind((t=>Du(e,i,t))),Ru=(e,t)=>{return gt(e,(e=>Ee(e).exists((e=>Te(e,t)))),n).isSome();var n},zu=(e,t,n,o,i)=>xt(o,"td,th",t).bind((o=>xt(o,"table",t).bind((r=>Ru(i,r)?((e,t,n)=>Qu(e,t,n).bind((o=>Eu(e,t,o.element,o.offset,n,20).map(e.fromSitus))))(e,t,n).bind((e=>xt(e.finish,"td,th",t).map((t=>({start:o,finish:t,range:e}))))):w.none())))),Nu=(e,t,n,o,i,r)=>r(o,t).orThunk((()=>zu(e,t,n,o,i).map((e=>{const t=e.range;return Mc(w.some(Yc(t.start,t.soffset,t.finish,t.foffset)),!0)})))),Lu=(e,t)=>xt(e,"tr",t).bind((e=>xt(e,"table",t).bind((n=>{const o=pt(n,"tr");return Te(e,o[0])?((e,t,n)=>ru(au,e,t,n))(n,(e=>ki(e).isSome()),t).map((e=>{const t=xi(e);return Mc(w.some(Yc(e,t,e,t)),!0)})):w.none()})))),ju=(e,t)=>xt(e,"tr",t).bind((e=>xt(e,"table",t).bind((n=>{const o=pt(n,"tr");return Te(e,o[o.length-1])?((e,t,n)=>su(au,e,t,n))(n,(e=>_i(e).isSome()),t).map((e=>Mc(w.some(Yc(e,0,e,0)),!0))):w.none()})))),Vu=(e,t,n,o,i,r,s)=>zu(e,n,o,i,r).bind((e=>Fc(t,n,e.start,e.finish,s))),Bu=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Zu=()=>{const e=(e=>{const t=Bu(w.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(w.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(w.some(e))}}})(f);return{...e,on:t=>e.get().each(t)}},Xu=(e,t)=>xt(e,"td,th",t),Wu=e=>Me(e).exists(rr),Uu={traverse:Re,gather:cu,relative:Ec.before,retry:Au.tryDown,failure:hu.failedDown},Yu={traverse:Ie,gather:lu,relative:Ec.before,retry:Au.tryUp,failure:hu.failedUp},Fu=e=>t=>t===e,qu=Fu(38),Hu=Fu(40),Gu=e=>e>=37&&e<=40,Ku={isBackward:Fu(37),isForward:Fu(39)},Ju={isBackward:Fu(39),isForward:Fu(37)},ed=_a([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),td={domRange:ed.domRange,relative:ed.relative,exact:ed.exact,exactFromRange:e=>ed.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Se.fromDom(e.startContainer),relative:(e,t)=>Ec.getStart(e),exact:(e,t,n,o)=>e}))(e);return n=t,Se.fromDom(Qe(n).dom.defaultView);var n},range:Xc},nd=(e,t,n)=>e.caretPositionFromPoint?((e,t,n)=>{var o;return w.from(null===(o=e.caretPositionFromPoint)||void 0===o?void 0:o.call(e,t,n)).bind((t=>{if(null===t.offsetNode)return w.none();const n=e.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),w.some(n)}))})(e,t,n):e.caretRangeFromPoint?((e,t,n)=>{var o;return w.from(null===(o=e.caretRangeFromPoint)||void 0===o?void 0:o.call(e,t,n))})(e,t,n):w.none(),od=(e,t)=>{const n=re(e);return"input"===n?Ec.after(e):C(["br","img"],n)?0===t?Ec.before(e):Ec.after(e):Ec.on(e,t)},id=(e,t,n,o)=>{const i=((e,t,n,o)=>{const i=Ae(e).dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,o),i})(e,t,n,o),r=Te(e,n)&&t===o;return i.collapsed&&!r},rd=e=>w.from(e.getSelection()),sd=(e,t)=>{rd(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},ad=(e,t,n,o,i)=>{const r=Nc(e,t,n,o,i);sd(e,r)},ld=(e,t)=>Bc(e,t).match({ltr:(t,n,o,i)=>{ad(e,t,n,o,i)},rtl:(t,n,o,i)=>{rd(e).each((r=>{if(r.setBaseAndExtent)r.setBaseAndExtent(t.dom,n,o.dom,i);else if(r.extend)try{((e,t,n,o,i,r)=>{t.collapse(n.dom,o),t.extend(i.dom,r)})(0,r,t,n,o,i)}catch(r){ad(e,o,i,t,n)}else ad(e,o,i,t,n)}))}}),cd=(e,t,n,o,i)=>{const r=((e,t,n,o)=>{const i=od(e,t),r=od(n,o);return td.relative(i,r)})(t,n,o,i);ld(e,r)},ud=(e,t,n)=>{const o=((e,t)=>{const n=e.fold(Ec.before,od,Ec.after),o=t.fold(Ec.before,od,Ec.after);return td.relative(n,o)})(t,n);ld(e,o)},dd=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return w.some(Xc(Se.fromDom(t.startContainer),t.startOffset,Se.fromDom(n.endContainer),n.endOffset))}return w.none()},hd=e=>{if(null===e.anchorNode||null===e.focusNode)return dd(e);{const t=Se.fromDom(e.anchorNode),n=Se.fromDom(e.focusNode);return id(t,e.anchorOffset,n,e.focusOffset)?w.some(Xc(t,e.anchorOffset,n,e.focusOffset)):dd(e)}},fd=(e,t,n=!0)=>{const o=(n?Ic:Dc)(e,t);sd(e,o)},pd=e=>(e=>rd(e).filter((e=>e.rangeCount>0)).bind(hd))(e).map((e=>td.exact(e.start,e.soffset,e.finish,e.foffset))),md=(e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?w.some(n).map(Lc):w.none()})(Zc(e,t)),gd=(e,t,n)=>((e,t,n)=>{const o=e.document;return nd(o,t,n).map((e=>Xc(Se.fromDom(e.startContainer),e.startOffset,Se.fromDom(e.endContainer),e.endOffset)))})(e,t,n),Od=e=>({elementFromPoint:(t,n)=>Se.fromPoint(Se.fromDom(e.document),t,n),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,n,o,i)=>{const r=td.exact(t,n,o,i);return md(e,r)},getSelection:()=>pd(e).map((t=>Uc(e,t))),fromSitus:t=>{const n=td.relative(t.start,t.finish);return Uc(e,n)},situsFromPoint:(t,n)=>gd(e,t,n).map((e=>Wc(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{rd(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{pd(e).each((n=>n.fold((e=>e.collapse(t)),((n,o)=>{const i=t?n:o;ud(e,i,i)}),((n,o,i,r)=>{const s=t?n:i,a=t?o:r;cd(e,s,a,s,a)}))))},setSelection:t=>{cd(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,n)=>{ud(e,t,n)},selectNode:t=>{fd(e,t,!1)},selectContents:t=>{fd(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return go(n,o)})(Se.fromDom(e.document)).top,scrollBy:(t,n)=>{((e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollBy(e,t)})(t,n,Se.fromDom(e.document))}}),vd=(e,t)=>({rows:e,cols:t}),bd=(e,t,n,o)=>{const i=((e,t,n,o)=>{const i=Zu(),r=i.clear,s=r=>{i.on((i=>{o.clearBeforeUpdate(t),Xu(r.target,n).each((s=>{Rr(i,s,n).each((n=>{const i=n.boxes.getOr([]);if(1===i.length){const e=i[0],n="false"===sr(e),s=wt(ir(r.target),e,Te);n&&s&&o.selectRange(t,i,e,e)}else i.length>1&&(o.selectRange(t,i,n.start,n.finish),e.selectContents(s))}))}))}))};return{clearstate:r,mousedown:e=>{o.clear(t),Xu(e.target,n).filter(Wu).each(i.set)},mouseover:e=>{s(e)},mouseup:e=>{s(e),r()}}})(Od(e),t,n,o);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},yd=e=>Ot(e,ce).exists(rr),xd=(e,t)=>yd(e)||yd(t),wd=(e,t,n,o)=>{const i=Od(e),r=()=>(o.clear(t),w.none());return{keydown:(e,s,a,l,c,u)=>{const d=e.raw,h=d.which,f=!0===d.shiftKey,p=zr(t,o.selectedSelector).fold((()=>(Gu(h)&&!f&&o.clearBeforeUpdate(t),Gu(h)&&f&&!xd(s,l)?w.none:Hu(h)&&f?O(Vu,i,t,n,Uu,l,s,o.selectRange):qu(h)&&f?O(Vu,i,t,n,Yu,l,s,o.selectRange):Hu(h)?O(Nu,i,n,Uu,l,s,ju):qu(h)?O(Nu,i,n,Yu,l,s,Lu):w.none)),(e=>{const n=n=>()=>{const r=X(n,(n=>((e,t,n,o,i)=>Lr(o,e,t,i.firstSelectedSelector,i.lastSelectedSelector).map((e=>(i.clearBeforeUpdate(n),i.selectRange(n,e.boxes,e.start,e.finish),e.boxes))))(n.rows,n.cols,t,e,o)));return r.fold((()=>Nr(t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>{const n=Hu(h)||u.isForward(h)?Ec.after:Ec.before;return i.setRelativeSelection(Ec.on(e.first,0),n(e.table)),o.clear(t),Mc(w.none(),!0)}))),(e=>w.some(Mc(w.none(),!0))))};return Gu(h)&&f&&!xd(s,l)?w.none:Hu(h)&&f?n([vd(1,0)]):qu(h)&&f?n([vd(-1,0)]):u.isBackward(h)&&f?n([vd(0,-1),vd(-1,0)]):u.isForward(h)&&f?n([vd(0,1),vd(1,0)]):Gu(h)&&!f?r:w.none}));return p()},keyup:(e,i,r,s,a)=>zr(t,o.selectedSelector).fold((()=>{const l=e.raw,c=l.which;return!0===l.shiftKey&&Gu(c)&&xd(i,s)?((e,t,n,o,i,r,s)=>Te(n,i)&&o===r?w.none():xt(n,"td,th",t).bind((n=>xt(i,"td,th",t).bind((o=>Fc(e,t,n,o,s))))))(t,n,i,r,s,a,o.selectRange):w.none()}),w.none)}},Sd=(e,t)=>{const n=ve(e,t);return void 0===n||""===n?[]:n.split(" ")},_d=e=>void 0!==e.dom.classList,kd=(e,t)=>((e,t,n)=>{const o=Sd(e,t).concat([n]);return ge(e,t,o.join(" ")),!0})(e,"class",t),Cd=(e,t)=>{_d(e)?e.dom.classList.add(t):kd(e,t)},Td=(e,t)=>_d(e)&&e.dom.classList.contains(t),$d=(e,t,n)=>{const o=t=>{ye(t,e.selected),ye(t,e.firstSelected),ye(t,e.lastSelected)},i=t=>{ge(t,e.selected,"1")},r=e=>{s(e),n()},s=t=>{const n=pt(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);A(n,o)};return{clearBeforeUpdate:s,clear:r,selectRange:(n,o,s,a)=>{r(n),A(o,i),ge(s,e.firstSelected,"1"),ge(a,e.lastSelected,"1"),t(o,s,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Pd=()=>({tag:"none"}),Ad=e=>({tag:"multiple",elements:e}),Qd=e=>({tag:"single",element:e}),Ed=(e,t,n)=>{const o=oo.fromTable(e);return qs(o,t).map((e=>{const t=Zs(o,n,!1),{rows:i}=qn(t),r=((e,t)=>{const n=e.slice(0,t[t.length-1].row+1),o=Xs(n);return N(o,(e=>{const n=e.cells.slice(0,t[t.length-1].column+1);return P(n,(e=>e.element))}))})(i,e),s=((e,t)=>{const n=e.slice(t[0].row+t[0].rowspan-1,e.length),o=Xs(n);return N(o,(e=>{const n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return P(n,(e=>e.element))}))})(i,e);return{upOrLeftCells:r,downOrRightCells:s}}))},Md=e=>{const t=Se.fromDom((e=>{if(u(e.target)){const t=Se.fromDom(e.target);if(ue(t)&&at(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return B(t)}}return w.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),i=(r=o,s=n,(...e)=>r(s.apply(null,e)));var r,s;return((e,t,n,o,i,r,s)=>({target:e,x:t,y:n,stop:o,prevent:i,kill:r,raw:s}))(t,e.clientX,e.clientY,n,o,i,e)},Dd=(e,t,n,o,i)=>{const r=((e,t)=>n=>{e(n)&&t(Md(n))})(n,o);return e.dom.addEventListener(t,r,i),{unbind:O(Id,e,t,r,i)}},Id=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Rd=x,zd=(e,t,n)=>((e,t,n,o)=>Dd(e,t,n,o,!1))(e,t,Rd,n),Nd=Md,Ld=e=>!Td(Se.fromDom(e.target),"ephox-snooker-resizer-bar"),jd=(e,t)=>{const n=((e,t,n)=>({get:()=>jr(e(),n).fold((()=>t().fold(Pd,Qd)),Ad)}))((()=>Se.fromDom(e.getBody())),(()=>os(ur(e),lr(e))),Jr.selectedSelector),o=$d(Jr,((t,n,o)=>{Ht(n).each((i=>{const r=P(t,(e=>e.dom)),s=Li(e),a=Di(f,Se.fromDom(e.getDoc()),s),l=is(e),c=Ed(i,{selection:l},a).map((e=>F(e,(e=>P(e,(e=>e.dom)))))).getOrUndefined();((e,t,n,o,i)=>{e.dispatch("TableSelectionChange",{cells:t,start:n,finish:o,otherCells:i})})(e,r,n.dom,o.dom,c)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));e.on("init",(n=>{const i=e.getWin(),r=ar(e),s=lr(e),a=bd(i,r,s,o),l=wd(i,r,s,o),c=((e,t,n,o)=>{const i=Od(e);return(e,r)=>{o.clearBeforeUpdate(t),Rr(e,r,n).each((e=>{const n=e.boxes.getOr([]);o.selectRange(t,n,e.start,e.finish),i.selectContents(r),i.collapseSelection()}))}})(i,r,s,o);e.on("TableSelectorChange",(e=>c(e.start,e.finish)));const u=(t,n)=>{(e=>!0===e.raw.shiftKey)(t)&&(n.kill&&t.kill(),n.selection.each((t=>{const n=td.relative(t.start,t.finish),o=Zc(i,n);e.selection.setRng(o)})))},d=e=>0===e.button,h=(()=>{const e=Bu(Se.fromDom(r)),t=Bu(0);return{touchEnd:n=>{const o=Se.fromDom(n.target);if(pe("td")(o)||pe("th")(o)){const i=e.get(),r=t.get();Te(i,o)&&n.timeStamp-r<300&&(n.preventDefault(),c(o,o))}e.set(o),t.set(n.timeStamp)}}})();e.on("dragstart",(e=>{a.clearstate()})),e.on("mousedown",(e=>{d(e)&&Ld(e)&&a.mousedown(Nd(e))})),e.on("mouseover",(e=>{var t;(void 0===(t=e).buttons||1&t.buttons)&&Ld(e)&&a.mouseover(Nd(e))})),e.on("mouseup",(e=>{d(e)&&Ld(e)&&a.mouseup(Nd(e))})),e.on("touchend",h.touchEnd),e.on("keyup",(t=>{const n=Nd(t);if(n.raw.shiftKey&&Gu(n.raw.which)){const t=e.selection.getRng(),o=Se.fromDom(t.startContainer),i=Se.fromDom(t.endContainer);l.keyup(n,o,t.startOffset,i,t.endOffset).each((e=>{u(n,e)}))}})),e.on("keydown",(n=>{const o=Nd(n);t.hide();const i=e.selection.getRng(),r=Se.fromDom(i.startContainer),s=Se.fromDom(i.endContainer),a=lo(Ku,Ju)(Se.fromDom(e.selection.getStart()));l.keydown(o,r,i.startOffset,s,i.endOffset,a).each((e=>{u(o,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,n=Se.fromDom(t.getStart()),i=Se.fromDom(t.getEnd());Dr(Ht,[n,i]).fold((()=>o.clear(r)),f)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(Jr.firstSelected),e.serializer.addTempAttr(Jr.lastSelected)}));return{getSelectedCells:()=>((e,t,n,o)=>{switch(e.tag){case"none":return t();case"single":return o(e.element);case"multiple":return n(e.elements)}})(n.get(),p([]),(e=>P(e,(e=>e.dom))),(e=>[e.dom])),clearSelectedCells:e=>o.clear(Se.fromDom(e))}},Vd=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=E(t,(t=>t!==e))},trigger:(...n)=>{const o={};A(e,((e,t)=>{o[e]=n[t]})),A(t,(e=>{e(o)}))}}},Bd=e=>({registry:F(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:F(e,(e=>e.trigger))}),Zd=e=>e.slice(0).sort(),Xd=(e,t,n)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((e,t)=>{if(!s(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");A(t,(t=>{if(!i(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))})("required",t),(e=>{const t=Zd(e);I(t,((e,n)=>n<t.length-1&&e===t[n+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),o=>{const i=W(o);L(t,(e=>C(i,e)))||((e,t)=>{throw new Error("All required keys ("+Zd(e).join(", ")+") were not specified. Specified keys were: "+Zd(t).join(", ")+".")})(t,i),e(t,i);const r=E(t,(e=>!n.validate(o[e],e)));return r.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Zd(e).join(", ")+") were not.")})(r,n.label),o}},Wd=(e,t)=>{const n=E(t,(t=>!C(e,t)));n.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Zd(e).join(", "))})(n)},Ud=e=>((e,t)=>Xd(e,t,{validate:d,label:"function"}))(Wd,e),Yd=Ud(["compare","extract","mutate","sink"]),Fd=Ud(["element","start","stop","destroy"]),qd=Ud(["forceDrop","drop","move","delayDrop"]),Hd=()=>{let e=w.none();const t=Bd({move:Vd(["info"])});return{onEvent:(n,o)=>{o.extract(n).each((n=>{const i=((t,n)=>{const o=e.map((e=>t.compare(e,n)));return e=w.some(n),o})(o,n);i.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=w.none()},events:t.registry}},Gd=()=>{const e=(()=>{const e=Bd({move:Vd(["info"])});return{onEvent:f,reset:f,events:e.registry}})(),t=Hd();let n=e;return{on:()=>{n.reset(),n=t},off:()=>{n.reset(),n=e},isOn:()=>n===t,onEvent:(e,t)=>{n.onEvent(e,t)},events:t.events}},Kd=(e,t,n)=>{let o=!1;const i=Bd({start:Vd([]),stop:Vd([])}),r=Gd(),s=()=>{u.stop(),r.isOn()&&(r.off(),i.trigger.stop())},l=((e,t)=>{let n=null;const o=()=>{a(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...i)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,i)}),t)}}})(s,200);r.events.move.bind((n=>{t.mutate(e,n.info)}));const c=e=>(...t)=>{o&&e.apply(null,t)},u=t.sink(qd({forceDrop:s,drop:c(s),move:c((e=>{l.cancel(),r.onEvent(e,t)})),delayDrop:c(l.throttle)}),n);return{element:u.element,go:e=>{u.start(e),r.on(),i.trigger.start()},on:()=>{o=!0},off:()=>{o=!1},isActive:()=>o,destroy:()=>{u.destroy()},events:i.registry}},Jd=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},eh=Jd("ephox-dragster").resolve;var th=Yd({compare:(e,t)=>go(t.left-e.left,t.top-e.top),extract:e=>w.some(go(e.x,e.y)),sink:(e,t)=>{const n=(e=>{const t={layerClass:eh("blocker"),...e},n=Se.fromTag("div");return ge(n,"role","presentation"),Dt(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Cd(n,eh("blocker")),Cd(n,t.layerClass),{element:p(n),destroy:()=>{Ye(n)}}})(t),o=zd(n.element(),"mousedown",e.forceDrop),i=zd(n.element(),"mouseup",e.drop),r=zd(n.element(),"mousemove",e.move),s=zd(n.element(),"mouseout",e.delayDrop);return Fd({element:n.element,start:e=>{Be(e,n.element())},stop:()=>{Ye(n.element())},destroy:()=>{n.destroy(),i.unbind(),r.unbind(),s.unbind(),o.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const nh=Jd("ephox-snooker").resolve,oh=()=>{const e=Bd({drag:Vd(["xDelta","yDelta","target"])});let t=w.none();const n=(()=>{const e=Bd({drag:Vd(["xDelta","yDelta"])});return{mutate:(t,n)=>{e.trigger.drag(t,n)},events:e.registry}})();n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))}));return{assign:e=>{t=w.some(e)},get:()=>t,mutate:n.mutate,events:e.registry}},ih=nh("resizer-bar"),rh=nh("resizer-rows"),sh=nh("resizer-cols"),ah=e=>{const t=pt(e.parent(),"."+ih);A(t,Ye)},lh=(e,t,n)=>{const o=e.origin();A(t,(t=>{t.each((t=>{const i=n(o,t);Cd(i,ih),Be(e.parent(),i)}))}))},ch=(e,t,n,o)=>{lh(e,t,((e,t)=>{const i=((e,t,n,o,i)=>{const r=Se.fromTag("div");return Dt(r,{position:"absolute",left:t-o/2+"px",top:n+"px",height:i+"px",width:o+"px"}),Oe(r,{"data-column":e,role:"presentation"}),r})(t.col,t.x-e.left,n.top-e.top,7,o);return Cd(i,sh),i}))},uh=(e,t,n,o)=>{lh(e,t,((e,t)=>{const i=((e,t,n,o,i)=>{const r=Se.fromTag("div");return Dt(r,{position:"absolute",left:t+"px",top:n-i/2+"px",height:i+"px",width:o+"px"}),Oe(r,{"data-row":e,role:"presentation"}),r})(t.row,n.left-e.left,t.y-e.top,o,7);return Cd(i,rh),i}))},dh=(e,t,n,o,i)=>{const r=vo(n),s=t.isResizable,a=o.length>0?Ao.positions(o,n):[],l=a.length>0?((e,t)=>N(e.all,((e,n)=>t(e.element)?[n]:[])))(e,s):[],c=E(a,((e,t)=>T(l,(e=>t===e))));uh(t,c,r,Ln(n));const u=i.length>0?Eo.positions(i,n):[],d=u.length>0?((e,t)=>{const n=[];return $(e.grid.columns,(o=>{const i=oo.getColumnAt(e,o).map((e=>e.element));i.forall(t)&&n.push(o)})),E(n,(n=>{const o=oo.filterItems(e,(e=>e.column===n));return L(o,(e=>t(e.element)))}))})(e,s):[],h=E(u,((e,t)=>T(d,(e=>t===e))));ch(t,h,r,fo(n))},hh=(e,t)=>{if(ah(e),e.isResizable(t)){const n=oo.fromTable(t),o=so(n),i=io(n);dh(n,e,t,o,i)}},fh=(e,t)=>{const n=pt(e.parent(),"."+ih);A(n,t)},ph=e=>{fh(e,(e=>{Mt(e,"display","none")}))},mh=e=>{fh(e,(e=>{Mt(e,"display","block")}))},gh=nh("resizer-bar-dragging"),Oh=e=>{const t=oh(),n=((e,t={})=>{var n;const o=null!==(n=t.mode)&&void 0!==n?n:th;return Kd(e,o,t)})(t,{});let o=w.none();const i=(e,t)=>w.from(ve(e,t));t.events.drag.bind((e=>{i(e.target,"data-row").each((t=>{const n=Bt(e.target,"top");Mt(e.target,"top",n+e.yDelta+"px")})),i(e.target,"data-column").each((t=>{const n=Bt(e.target,"left");Mt(e.target,"left",n+e.xDelta+"px")}))}));const r=(e,t)=>Bt(e,t)-Lt(e,"data-initial-"+t,0);n.events.stop.bind((()=>{t.get().each((t=>{o.each((n=>{i(t,"data-row").each((e=>{const o=r(t,"top");ye(t,"data-initial-top"),u.trigger.adjustHeight(n,o,parseInt(e,10))})),i(t,"data-column").each((e=>{const o=r(t,"left");ye(t,"data-initial-left"),u.trigger.adjustWidth(n,o,parseInt(e,10))})),hh(e,n)}))}))}));const s=(o,i)=>{u.trigger.startAdjust(),t.assign(o),ge(o,"data-initial-"+i,Bt(o,i)),Cd(o,gh),Mt(o,"opacity","0.2"),n.go(e.dragContainer())},a=zd(e.parent(),"mousedown",(e=>{var t;t=e.target,Td(t,rh)&&s(e.target,"top"),(e=>Td(e,sh))(e.target)&&s(e.target,"left")})),l=t=>Te(t,e.view()),c=zd(e.view(),"mouseover",(t=>{var i;(i=t.target,xt(i,"table",l).filter(rr)).fold((()=>{lt(t.target)&&ah(e)}),(t=>{n.isActive()&&(o=w.some(t),hh(e,t))}))})),u=Bd({adjustHeight:Vd(["table","delta","row"]),adjustWidth:Vd(["table","delta","column"]),startAdjust:Vd([])});return{destroy:()=>{a.unbind(),c.unbind(),n.destroy(),ah(e)},refresh:t=>{hh(e,t)},on:n.on,off:n.off,hideBars:O(ph,e),showBars:O(mh,e),events:u.registry}},vh=(e,t,n)=>{const o=Ao,i=Eo,r=Oh(e),s=Bd({beforeResize:Vd(["table","type"]),afterResize:Vd(["table","type"]),startDrag:Vd([])});return r.events.adjustHeight.bind((e=>{const t=e.table;s.trigger.beforeResize(t,"row");const n=o.delta(e.delta,t);Aa(t,n,e.row),s.trigger.afterResize(t,"row")})),r.events.startAdjust.bind((e=>{s.trigger.startDrag()})),r.events.adjustWidth.bind((e=>{const o=e.table;s.trigger.beforeResize(o,"col");const r=i.delta(e.delta,o),a=n(o);Pa(o,r,e.column,t,a),s.trigger.afterResize(o,"col")})),{on:r.on,off:r.off,refreshBars:r.refresh,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:s.registry}};let bh=0;const yh=e=>{const t=(new Date).getTime(),n=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return bh++,e+"_"+n+bh+String(t)},xh=(e,t)=>{const n=he(e)?(e=>Se.fromDom(Qe(e).dom.documentElement))(e):e;return{parent:p(n),view:p(e),dragContainer:p(n),origin:p(go(0,0)),isResizable:t}},wh=(e,t,n)=>({parent:p(t),view:p(e),dragContainer:p(t),origin:p(go(0,0)),isResizable:n}),Sh=(e,t,n,o)=>({parent:p(t),view:p(e),dragContainer:p(n),origin:()=>vo(t),isResizable:o}),_h=(e,t)=>{const n=(e=>!nr(e)&&"split"===or(e))(e),o=Se.fromDom(e.getBody()),i=(e=>{const t=yh("resizer-container"),n=Se.fromTag("div");return ge(n,"id",t),Dt(n,{position:e,height:"0",width:"0",padding:"0",margin:"0",border:"0"}),n})(n?"relative":"static"),r=ct();return n?(je(o,i),Sh(o,i,r,t)):(Be(r,i),wh(o,i,t))},kh=e=>u(e)&&"TABLE"===e.nodeName,Ch="bar-",Th=e=>"false"!==ve(e,"data-mce-resize"),$h=e=>{return Tt(t=e,n="corner-")?((e,t)=>e.substring(t))(t,n.length):t;var t,n},Ph=e=>{const t=Zu(),n=Zu(),o=Zu();let i,r,s,a;const l=t=>Vl(e,t),c=()=>Bi(e)?ys():bs(),u=(t,n,o,u)=>{const d=$h(n),h=$t(d,"e"),f=Tt(d,"n");if(""===r&&ac(t),""===a&&cc(t),o!==i&&""!==r){Mt(t,"width",r);const n=c(),s=l(t),a=Bi(e)||h?(e=>xs(e).columns)(t)-1:0;Pa(t,o-i,a,n,s)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(r)){const e=parseFloat(r.replace("%",""));Mt(t,"width",o*e/i+"%")}if((e=>/^(\d+(\.\d+)?)px$/.test(e))(r)&&(e=>{const t=oo.fromTable(e);oo.hasColumns(t)||A(Ft(e),(e=>{const t=It(e,"width");Mt(e,"width",t),ye(e,"width")}))})(t),u!==s&&""!==a){Mt(t,"height",a);const e=f?0:(e=>xs(e).rows)(t)-1;Aa(t,u-s,e)}},d=()=>{n.on((e=>{e.destroy()})),o.on((t=>{((e,t)=>{e.inline&&Ye(t.parent())})(e,t)}))};e.on("init",(()=>{const i=((e,t)=>e.inline?_h(e,t):xh(Se.fromDom(e.getDoc()),t))(e,Th);if(o.set(i),(e=>{const t=e.options.get("object_resizing");return C(t.split(","),"table")})(e)&&Fi(e)){const o=c(),r=vh(i,o,l);e.mode.isReadOnly()||r.on(),r.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),r.events.beforeResize.bind((t=>{const n=t.table.dom;((e,t,n,o,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:i})})(e,n,dr(n),hr(n),Ch+t.type)})),r.events.afterResize.bind((n=>{const o=n.table,i=o.dom;cr(o),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,n,o,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:i})})(e,i,dr(i),hr(i),Ch+n.type),e.undoManager.add()})),n.set(r)}})),e.on("ObjectResizeStart",(t=>{const n=t.target;if(kh(n)&&!e.mode.isReadOnly()){const o=Se.fromDom(n);A(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+Vi(e)+"-columns")})),!ic(o)&&Ui(e)?lc(o):!oc(o)&&Wi(e)&&ac(o),rc(o)&&Tt(t.origin,Ch)&&ac(o),i=t.width,r=Yi(e)?"":pr(e,n).getOr(""),s=t.height,a=mr(e,n).getOr("")}})),e.on("ObjectResized",(t=>{const n=t.target;if(kh(n)){const o=Se.fromDom(n),i=t.origin;(e=>Tt(e,"corner-"))(i)&&u(o,i,t.width,t.height),cr(o),zl(e,o.dom,Nl)}}));const h=()=>{n.on((e=>{e.on(),e.showBars()}))},f=()=>{n.on((e=>{e.off(),e.hideBars()}))};e.on("DisabledStateChange",(e=>{e.state?f():h()})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()?f():h()})),e.on("dragstart dragend",(e=>{"dragstart"===e.type?f():h()})),e.on("remove",(()=>{d()}));return{refresh:e=>{n.on((t=>t.refreshBars(Se.fromDom(e))))},hide:()=>{n.on((e=>e.hideBars()))},show:()=>{n.on((e=>e.showBars()))}}},Ah=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=C(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=C(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_merge_content_on_paste",{processor:"boolean",default:!0})})(e);const t=Ph(e),n=jd(e,t),o=Bl(e,t,n);return Ac(e,o),((e,t)=>{const n=lr(e),o=t=>os(ur(e)).bind((o=>Ht(o,n).map((n=>{const i=es(is(e),n,o);return t(n,i)})))).getOr("");Y({mceTableRowType:()=>o(t.getTableRowType),mceTableCellType:()=>o(t.getTableCellType),mceTableColType:()=>o(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))})(e,o),ss(e,o),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}},Qh=e=>({table:Ah(e)});e.add("dom",Qh)}()},9638:(e,t,n)=>{n(2171)},9726:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>wc});var o={};function i(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}n.r(o),n.d(o,{BaseTransition:()=>wo,BaseTransitionPropsValidators:()=>bo,Comment:()=>ws,DeprecationTypes:()=>za,EffectScope:()=>be,ErrorCodes:()=>_n,ErrorTypeStrings:()=>Qa,Fragment:()=>ys,KeepAlive:()=>ni,ReactiveEffect:()=>_e,Static:()=>Ss,Suspense:()=>ps,Teleport:()=>ho,Text:()=>xs,TrackOpTypes:()=>un,Transition:()=>qa,TransitionGroup:()=>Wl,TriggerOpTypes:()=>dn,VueElement:()=>zl,assertNumber:()=>Sn,callWithAsyncErrorHandling:()=>Tn,callWithErrorHandling:()=>Cn,camelize:()=>M,capitalize:()=>R,cloneVNode:()=>Zs,compatUtils:()=>Ra,computed:()=>_a,createApp:()=>wc,createBlock:()=>Ms,createCommentVNode:()=>Us,createElementBlock:()=>Es,createElementVNode:()=>Ls,createHydrationRenderer:()=>Nr,createPropsRestProxy:()=>Ji,createRenderer:()=>zr,createSSRApp:()=>Sc,createSlots:()=>Qi,createStaticVNode:()=>Ws,createTextVNode:()=>Xs,createVNode:()=>js,customRef:()=>nn,defineAsyncComponent:()=>Jo,defineComponent:()=>Po,defineCustomElement:()=>Dl,defineEmits:()=>Vi,defineExpose:()=>Bi,defineModel:()=>Wi,defineOptions:()=>Zi,defineProps:()=>ji,defineSSRCustomElement:()=>Il,defineSlots:()=>Xi,devtools:()=>Ea,effect:()=>ze,effectScope:()=>ye,getCurrentInstance:()=>na,getCurrentScope:()=>xe,getCurrentWatcher:()=>mn,getTransitionRawChildren:()=>$o,guardReactiveProps:()=>Bs,h:()=>ka,handleError:()=>$n,hasInjectionContext:()=>br,hydrate:()=>xc,hydrateOnIdle:()=>Fo,hydrateOnInteraction:()=>Go,hydrateOnMediaQuery:()=>Ho,hydrateOnVisible:()=>qo,initCustomFormatter:()=>Ca,initDirectivesForSSR:()=>Tc,inject:()=>vr,isMemoSame:()=>$a,isProxy:()=>jt,isReactive:()=>zt,isReadonly:()=>Nt,isRef:()=>Wt,isRuntimeOnly:()=>pa,isShallow:()=>Lt,isVNode:()=>Ds,markRaw:()=>Bt,mergeDefaults:()=>Gi,mergeModels:()=>Ki,mergeProps:()=>Hs,nextTick:()=>Rn,normalizeClass:()=>G,normalizeProps:()=>K,normalizeStyle:()=>U,onActivated:()=>ii,onBeforeMount:()=>hi,onBeforeUnmount:()=>gi,onBeforeUpdate:()=>pi,onDeactivated:()=>ri,onErrorCaptured:()=>xi,onMounted:()=>fi,onRenderTracked:()=>yi,onRenderTriggered:()=>bi,onScopeDispose:()=>we,onServerPrefetch:()=>vi,onUnmounted:()=>Oi,onUpdated:()=>mi,onWatcherCleanup:()=>gn,openBlock:()=>Cs,popScopeId:()=>Gn,provide:()=>Or,proxyRefs:()=>en,pushScopeId:()=>Hn,queuePostFlushCb:()=>Ln,reactive:()=>Et,readonly:()=>Dt,ref:()=>Ut,registerRuntimeCompiler:()=>fa,render:()=>yc,renderList:()=>Ai,renderSlot:()=>Ei,resolveComponent:()=>_i,resolveDirective:()=>Ti,resolveDynamicComponent:()=>Ci,resolveFilter:()=>Ia,resolveTransitionHooks:()=>_o,setBlockTracking:()=>As,setDevtoolsHook:()=>Ma,setTransitionHooks:()=>To,shallowReactive:()=>Mt,shallowReadonly:()=>It,shallowRef:()=>Yt,ssrContextKey:()=>Ur,ssrUtils:()=>Da,stop:()=>Ne,toDisplayString:()=>pe,toHandlerKey:()=>z,toHandlers:()=>Di,toRaw:()=>Vt,toRef:()=>an,toRefs:()=>on,toValue:()=>Kt,transformVNodeArgs:()=>Rs,triggerRef:()=>Ht,unref:()=>Gt,useAttrs:()=>Fi,useCssModule:()=>jl,useCssVars:()=>pl,useHost:()=>Nl,useId:()=>Ao,useModel:()=>ts,useSSRContext:()=>Yr,useShadowRoot:()=>Ll,useSlots:()=>Yi,useTemplateRef:()=>Eo,useTransitionState:()=>Oo,vModelCheckbox:()=>ec,vModelDynamic:()=>ac,vModelRadio:()=>nc,vModelSelect:()=>oc,vModelText:()=>Jl,vShow:()=>dl,version:()=>Pa,warn:()=>Aa,watch:()=>Gr,watchEffect:()=>Fr,watchPostEffect:()=>qr,watchSyncEffect:()=>Hr,withAsyncContext:()=>er,withCtx:()=>Jn,withDefaults:()=>Ui,withDirectives:()=>eo,withKeys:()=>pc,withMemo:()=>Ta,withModifiers:()=>hc,withScopeId:()=>Kn});const r={},s=[],a=()=>{},l=()=>!1,c=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),d=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},f=Object.prototype.hasOwnProperty,p=(e,t)=>f.call(e,t),m=Array.isArray,g=e=>"[object Map]"===k(e),O=e=>"[object Set]"===k(e),v=e=>"[object Date]"===k(e),b=e=>"function"==typeof e,y=e=>"string"==typeof e,x=e=>"symbol"==typeof e,w=e=>null!==e&&"object"==typeof e,S=e=>(w(e)||b(e))&&b(e.then)&&b(e.catch),_=Object.prototype.toString,k=e=>_.call(e),C=e=>k(e).slice(8,-1),T=e=>"[object Object]"===k(e),$=e=>y(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,P=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=i("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Q=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},E=/-(\w)/g,M=Q((e=>e.replace(E,((e,t)=>t?t.toUpperCase():"")))),D=/\B([A-Z])/g,I=Q((e=>e.replace(D,"-$1").toLowerCase())),R=Q((e=>e.charAt(0).toUpperCase()+e.slice(1))),z=Q((e=>e?`on${R(e)}`:"")),N=(e,t)=>!Object.is(e,t),L=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},j=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B=e=>{const t=y(e)?Number(e):NaN;return isNaN(t)?e:t};let Z;const X=()=>Z||(Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});const W=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol");function U(e){if(m(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=y(o)?H(o):U(o);if(i)for(const e in i)t[e]=i[e]}return t}if(y(e)||w(e))return e}const Y=/;(?![^(]*\))/g,F=/:([^]+)/,q=/\/\*[^]*?\*\//g;function H(e){const t={};return e.replace(q,"").split(Y).forEach((e=>{if(e){const n=e.split(F);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function G(e){let t="";if(y(e))t=e;else if(m(e))for(let n=0;n<e.length;n++){const o=G(e[n]);o&&(t+=o+" ")}else if(w(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function K(e){if(!e)return null;let{class:t,style:n}=e;return t&&!y(t)&&(e.class=G(t)),n&&(e.style=U(n)),e}const J=i("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),ee=i("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),te=i("annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics"),ne=i("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),oe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ie=i(oe),re=i(oe+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function se(e){return!!e||""===e}const ae=i("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),le=i("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");const ce=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function ue(e,t){return e.replace(ce,(e=>t?'"'===e?'\\\\\\"':`\\\\${e}`:`\\${e}`))}function de(e,t){if(e===t)return!0;let n=v(e),o=v(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=x(e),o=x(t),n||o)return e===t;if(n=m(e),o=m(t),n||o)return!(!n||!o)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=de(e[o],t[o]);return n}(e,t);if(n=w(e),o=w(t),n||o){if(!n||!o)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const o=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(o&&!i||!o&&i||!de(e[n],t[n]))return!1}}return String(e)===String(t)}function he(e,t){return e.findIndex((e=>de(e,t)))}const fe=e=>!(!e||!0!==e.__v_isRef),pe=e=>y(e)?e:null==e?"":m(e)||w(e)&&(e.toString===_||!b(e.toString))?fe(e)?pe(e.value):JSON.stringify(e,me,2):String(e),me=(e,t)=>fe(t)?me(e,t.value):g(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],o)=>(e[ge(t,o)+" =>"]=n,e)),{})}:O(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ge(e)))}:x(t)?ge(t):!w(t)||m(t)||T(t)?t:String(t),ge=(e,t="")=>{var n;return x(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};let Oe,ve;class be{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Oe,!e&&Oe&&(this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Oe;try{return Oe=this,e()}finally{Oe=t}}else 0}on(){Oe=this}off(){Oe=this.parent}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function ye(e){return new be(e)}function xe(){return Oe}function we(e,t=!1){Oe&&Oe.cleanups.push(e)}const Se=new WeakSet;class _e{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Oe&&Oe.active&&Oe.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,Se.has(this)&&(Se.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||$e(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Ze(this),Qe(this);const e=ve,t=Le;ve=this,Le=!0;try{return this.fn()}finally{0,Ee(this),ve=e,Le=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)Ie(e);this.deps=this.depsTail=void 0,Ze(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?Se.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Me(this)&&this.run()}get dirty(){return Me(this)}}let ke,Ce,Te=0;function $e(e,t=!1){if(e.flags|=8,t)return e.next=Ce,void(Ce=e);e.next=ke,ke=e}function Pe(){Te++}function Ae(){if(--Te>0)return;if(Ce){let e=Ce;for(Ce=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;ke;){let t=ke;for(ke=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(t){e||(e=t)}t=n}}if(e)throw e}function Qe(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ee(e){let t,n=e.depsTail,o=n;for(;o;){const e=o.prevDep;-1===o.version?(o===n&&(n=e),Ie(o),Re(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=e}e.deps=t,e.depsTail=n}function Me(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(De(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function De(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Xe)return;e.globalVersion=Xe;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Me(e))return void(e.flags&=-3);const n=ve,o=Le;ve=e,Le=!0;try{Qe(e);const n=e.fn(e._value);(0===t.version||N(n,e._value))&&(e._value=n,t.version++)}catch(e){throw t.version++,e}finally{ve=n,Le=o,Ee(e),e.flags&=-3}}function Ie(e,t=!1){const{dep:n,prevSub:o,nextSub:i}=e;if(o&&(o.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)Ie(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function Re(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function ze(e,t){e.effect instanceof _e&&(e=e.effect.fn);const n=new _e(e);t&&d(n,t);try{n.run()}catch(e){throw n.stop(),e}const o=n.run.bind(n);return o.effect=n,o}function Ne(e){e.effect.stop()}let Le=!0;const je=[];function Ve(){je.push(Le),Le=!1}function Be(){const e=je.pop();Le=void 0===e||e}function Ze(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=ve;ve=void 0;try{t()}finally{ve=e}}}let Xe=0;class We{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ue{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ve||!Le||ve===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==ve)t=this.activeLink=new We(ve,this),ve.deps?(t.prevDep=ve.depsTail,ve.depsTail.nextDep=t,ve.depsTail=t):ve.deps=ve.depsTail=t,Ye(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=ve.depsTail,t.nextDep=void 0,ve.depsTail.nextDep=t,ve.depsTail=t,ve.deps===t&&(ve.deps=e)}return t}trigger(e){this.version++,Xe++,this.notify(e)}notify(e){Pe();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Ae()}}}function Ye(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Ye(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Fe=new WeakMap,qe=Symbol(""),He=Symbol(""),Ge=Symbol("");function Ke(e,t,n){if(Le&&ve){let t=Fe.get(e);t||Fe.set(e,t=new Map);let o=t.get(n);o||(t.set(n,o=new Ue),o.map=t,o.key=n),o.track()}}function Je(e,t,n,o,i,r){const s=Fe.get(e);if(!s)return void Xe++;const a=e=>{e&&e.trigger()};if(Pe(),"clear"===t)s.forEach(a);else{const i=m(e),r=i&&$(n);if(i&&"length"===n){const e=Number(o);s.forEach(((t,n)=>{("length"===n||n===Ge||!x(n)&&n>=e)&&a(t)}))}else switch((void 0!==n||s.has(void 0))&&a(s.get(n)),r&&a(s.get(Ge)),t){case"add":i?r&&a(s.get("length")):(a(s.get(qe)),g(e)&&a(s.get(He)));break;case"delete":i||(a(s.get(qe)),g(e)&&a(s.get(He)));break;case"set":g(e)&&a(s.get(qe))}}Ae()}function et(e){const t=Vt(e);return t===e?t:(Ke(t,0,Ge),Lt(e)?t:t.map(Zt))}function tt(e){return Ke(e=Vt(e),0,Ge),e}const nt={__proto__:null,[Symbol.iterator](){return ot(this,Symbol.iterator,Zt)},concat(...e){return et(this).concat(...e.map((e=>m(e)?et(e):e)))},entries(){return ot(this,"entries",(e=>(e[1]=Zt(e[1]),e)))},every(e,t){return rt(this,"every",e,t,void 0,arguments)},filter(e,t){return rt(this,"filter",e,t,(e=>e.map(Zt)),arguments)},find(e,t){return rt(this,"find",e,t,Zt,arguments)},findIndex(e,t){return rt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return rt(this,"findLast",e,t,Zt,arguments)},findLastIndex(e,t){return rt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return rt(this,"forEach",e,t,void 0,arguments)},includes(...e){return at(this,"includes",e)},indexOf(...e){return at(this,"indexOf",e)},join(e){return et(this).join(e)},lastIndexOf(...e){return at(this,"lastIndexOf",e)},map(e,t){return rt(this,"map",e,t,void 0,arguments)},pop(){return lt(this,"pop")},push(...e){return lt(this,"push",e)},reduce(e,...t){return st(this,"reduce",e,t)},reduceRight(e,...t){return st(this,"reduceRight",e,t)},shift(){return lt(this,"shift")},some(e,t){return rt(this,"some",e,t,void 0,arguments)},splice(...e){return lt(this,"splice",e)},toReversed(){return et(this).toReversed()},toSorted(e){return et(this).toSorted(e)},toSpliced(...e){return et(this).toSpliced(...e)},unshift(...e){return lt(this,"unshift",e)},values(){return ot(this,"values",Zt)}};function ot(e,t,n){const o=tt(e),i=o[t]();return o===e||Lt(e)||(i._next=i.next,i.next=()=>{const e=i._next();return e.value&&(e.value=n(e.value)),e}),i}const it=Array.prototype;function rt(e,t,n,o,i,r){const s=tt(e),a=s!==e&&!Lt(e),l=s[t];if(l!==it[t]){const t=l.apply(e,r);return a?Zt(t):t}let c=n;s!==e&&(a?c=function(t,o){return n.call(this,Zt(t),o,e)}:n.length>2&&(c=function(t,o){return n.call(this,t,o,e)}));const u=l.call(s,c,o);return a&&i?i(u):u}function st(e,t,n,o){const i=tt(e);let r=n;return i!==e&&(Lt(e)?n.length>3&&(r=function(t,o,i){return n.call(this,t,o,i,e)}):r=function(t,o,i){return n.call(this,t,Zt(o),i,e)}),i[t](r,...o)}function at(e,t,n){const o=Vt(e);Ke(o,0,Ge);const i=o[t](...n);return-1!==i&&!1!==i||!jt(n[0])?i:(n[0]=Vt(n[0]),o[t](...n))}function lt(e,t,n=[]){Ve(),Pe();const o=Vt(e)[t].apply(e,n);return Ae(),Be(),o}const ct=i("__proto__,__v_isRef,__isVue"),ut=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(x));function dt(e){x(e)||(e=String(e));const t=Vt(this);return Ke(t,0,e),t.hasOwnProperty(e)}class ht{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!o;if("__v_isReadonly"===t)return o;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(o?i?Qt:At:i?Pt:$t).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=m(e);if(!o){let e;if(r&&(e=nt[t]))return e;if("hasOwnProperty"===t)return dt}const s=Reflect.get(e,t,Wt(e)?e:n);return(x(t)?ut.has(t):ct(t))?s:(o||Ke(e,0,t),i?s:Wt(s)?r&&$(t)?s:s.value:w(s)?o?Dt(s):Et(s):s)}}class ft extends ht{constructor(e=!1){super(!1,e)}set(e,t,n,o){let i=e[t];if(!this._isShallow){const t=Nt(i);if(Lt(n)||Nt(n)||(i=Vt(i),n=Vt(n)),!m(e)&&Wt(i)&&!Wt(n))return!t&&(i.value=n,!0)}const r=m(e)&&$(t)?Number(t)<e.length:p(e,t),s=Reflect.set(e,t,n,Wt(e)?e:o);return e===Vt(o)&&(r?N(n,i)&&Je(e,"set",t,n):Je(e,"add",t,n)),s}deleteProperty(e,t){const n=p(e,t),o=(e[t],Reflect.deleteProperty(e,t));return o&&n&&Je(e,"delete",t,void 0),o}has(e,t){const n=Reflect.has(e,t);return x(t)&&ut.has(t)||Ke(e,0,t),n}ownKeys(e){return Ke(e,0,m(e)?"length":qe),Reflect.ownKeys(e)}}class pt extends ht{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const mt=new ft,gt=new pt,Ot=new ft(!0),vt=new pt(!0),bt=e=>e,yt=e=>Reflect.getPrototypeOf(e);function xt(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function wt(e,t){const n={get(n){const o=this.__v_raw,i=Vt(o),r=Vt(n);e||(N(n,r)&&Ke(i,0,n),Ke(i,0,r));const{has:s}=yt(i),a=t?bt:e?Xt:Zt;return s.call(i,n)?a(o.get(n)):s.call(i,r)?a(o.get(r)):void(o!==i&&o.get(n))},get size(){const t=this.__v_raw;return!e&&Ke(Vt(t),0,qe),Reflect.get(t,"size",t)},has(t){const n=this.__v_raw,o=Vt(n),i=Vt(t);return e||(N(t,i)&&Ke(o,0,t),Ke(o,0,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,o){const i=this,r=i.__v_raw,s=Vt(r),a=t?bt:e?Xt:Zt;return!e&&Ke(s,0,qe),r.forEach(((e,t)=>n.call(o,a(e),a(t),i)))}};d(n,e?{add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear")}:{add(e){t||Lt(e)||Nt(e)||(e=Vt(e));const n=Vt(this);return yt(n).has.call(n,e)||(n.add(e),Je(n,"add",e,e)),this},set(e,n){t||Lt(n)||Nt(n)||(n=Vt(n));const o=Vt(this),{has:i,get:r}=yt(o);let s=i.call(o,e);s||(e=Vt(e),s=i.call(o,e));const a=r.call(o,e);return o.set(e,n),s?N(n,a)&&Je(o,"set",e,n):Je(o,"add",e,n),this},delete(e){const t=Vt(this),{has:n,get:o}=yt(t);let i=n.call(t,e);i||(e=Vt(e),i=n.call(t,e));o&&o.call(t,e);const r=t.delete(e);return i&&Je(t,"delete",e,void 0),r},clear(){const e=Vt(this),t=0!==e.size,n=e.clear();return t&&Je(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach((o=>{n[o]=function(e,t,n){return function(...o){const i=this.__v_raw,r=Vt(i),s=g(r),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=i[e](...o),u=n?bt:t?Xt:Zt;return!t&&Ke(r,0,l?He:qe),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(o,e,t)})),n}function St(e,t){const n=wt(e,t);return(t,o,i)=>"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?t:Reflect.get(p(n,o)&&o in t?n:t,o,i)}const _t={get:St(!1,!1)},kt={get:St(!1,!0)},Ct={get:St(!0,!1)},Tt={get:St(!0,!0)};const $t=new WeakMap,Pt=new WeakMap,At=new WeakMap,Qt=new WeakMap;function Et(e){return Nt(e)?e:Rt(e,!1,mt,_t,$t)}function Mt(e){return Rt(e,!1,Ot,kt,Pt)}function Dt(e){return Rt(e,!0,gt,Ct,At)}function It(e){return Rt(e,!0,vt,Tt,Qt)}function Rt(e,t,n,o,i){if(!w(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(C(a));var a;if(0===s)return e;const l=new Proxy(e,2===s?o:n);return i.set(e,l),l}function zt(e){return Nt(e)?zt(e.__v_raw):!(!e||!e.__v_isReactive)}function Nt(e){return!(!e||!e.__v_isReadonly)}function Lt(e){return!(!e||!e.__v_isShallow)}function jt(e){return!!e&&!!e.__v_raw}function Vt(e){const t=e&&e.__v_raw;return t?Vt(t):e}function Bt(e){return!p(e,"__v_skip")&&Object.isExtensible(e)&&j(e,"__v_skip",!0),e}const Zt=e=>w(e)?Et(e):e,Xt=e=>w(e)?Dt(e):e;function Wt(e){return!!e&&!0===e.__v_isRef}function Ut(e){return Ft(e,!1)}function Yt(e){return Ft(e,!0)}function Ft(e,t){return Wt(e)?e:new qt(e,t)}class qt{constructor(e,t){this.dep=new Ue,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Vt(e),this._value=t?e:Zt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||Lt(e)||Nt(e);e=n?e:Vt(e),N(e,t)&&(this._rawValue=e,this._value=n?e:Zt(e),this.dep.trigger())}}function Ht(e){e.dep&&e.dep.trigger()}function Gt(e){return Wt(e)?e.value:e}function Kt(e){return b(e)?e():Gt(e)}const Jt={get:(e,t,n)=>"__v_raw"===t?e:Gt(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const i=e[t];return Wt(i)&&!Wt(n)?(i.value=n,!0):Reflect.set(e,t,n,o)}};function en(e){return zt(e)?e:new Proxy(e,Jt)}class tn{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Ue,{get:n,set:o}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=o}get value(){return this._value=this._get()}set value(e){this._set(e)}}function nn(e){return new tn(e)}function on(e){const t=m(e)?new Array(e.length):{};for(const n in e)t[n]=ln(e,n);return t}class rn{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const n=Fe.get(e);return n&&n.get(t)}(Vt(this._object),this._key)}}class sn{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function an(e,t,n){return Wt(e)?e:b(e)?new sn(e):w(e)&&arguments.length>1?ln(e,t,n):Ut(e)}function ln(e,t,n){const o=e[t];return Wt(o)?o:new rn(e,t,n)}class cn{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ue(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xe-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||ve===this))return $e(this,!0),!0}get value(){const e=this.dep.track();return De(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const un={GET:"get",HAS:"has",ITERATE:"iterate"},dn={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},hn={},fn=new WeakMap;let pn;function mn(){return pn}function gn(e,t=!1,n=pn){if(n){let t=fn.get(n);t||fn.set(n,t=[]),t.push(e)}else 0}function On(e,t=1/0,n){if(t<=0||!w(e)||e.__v_skip)return e;if((n=n||new Set).has(e))return e;if(n.add(e),t--,Wt(e))On(e.value,t,n);else if(m(e))for(let o=0;o<e.length;o++)On(e[o],t,n);else if(O(e)||g(e))e.forEach((e=>{On(e,t,n)}));else if(T(e)){for(const o in e)On(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&On(e[o],t,n)}return e}const vn=[];let bn=!1;function yn(e,...t){if(bn)return;bn=!0,Ve();const n=vn.length?vn[vn.length-1].component:null,o=n&&n.appContext.config.warnHandler,i=function(){let e=vn[vn.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}();if(o)Cn(o,n,11,[e+t.map((e=>{var t,n;return null!=(n=null==(t=e.toString)?void 0:t.call(e))?n:JSON.stringify(e)})).join(""),n&&n.proxy,i.map((({vnode:e})=>`at <${wa(n,e.type)}>`)).join("\n"),i]);else{const n=[`[Vue warn]: ${e}`,...t];i.length&&n.push("\n",...function(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...function({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=!!e.component&&null==e.component.parent,i=` at <${wa(e.component,e.type,o)}`,r=">"+n;return e.props?[i,...xn(e.props),r]:[i+r]}(e))})),t}(i)),console.warn(...n)}Be(),bn=!1}function xn(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...wn(n,e[n]))})),n.length>3&&t.push(" ..."),t}function wn(e,t,n){return y(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:[`${e}=${t}`]:Wt(t)?(t=wn(e,Vt(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):b(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Vt(t),n?t:[`${e}=`,t])}function Sn(e,t){}const _n={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},kn={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Cn(e,t,n,o){try{return o?e(...o):e()}catch(e){$n(e,t,n)}}function Tn(e,t,n,o){if(b(e)){const i=Cn(e,t,n,o);return i&&S(i)&&i.catch((e=>{$n(e,t,n)})),i}if(m(e)){const i=[];for(let r=0;r<e.length;r++)i.push(Tn(e[r],t,n,o));return i}}function $n(e,t,n,o=!0){t&&t.vnode;const{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||r;if(t){let o=t.parent;const r=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,s))return;o=o.parent}if(i)return Ve(),Cn(i,null,10,[e,r,s]),void Be()}!function(e,t,n,o=!0,i=!1){if(i)throw e;console.error(e)}(e,0,0,o,s)}const Pn=[];let An=-1;const Qn=[];let En=null,Mn=0;const Dn=Promise.resolve();let In=null;function Rn(e){const t=In||Dn;return e?t.then(this?e.bind(this):e):t}function zn(e){if(!(1&e.flags)){const t=Bn(e),n=Pn[Pn.length-1];!n||!(2&e.flags)&&t>=Bn(n)?Pn.push(e):Pn.splice(function(e){let t=An+1,n=Pn.length;for(;t<n;){const o=t+n>>>1,i=Pn[o],r=Bn(i);r<e||r===e&&2&i.flags?t=o+1:n=o}return t}(t),0,e),e.flags|=1,Nn()}}function Nn(){In||(In=Dn.then(Zn))}function Ln(e){m(e)?Qn.push(...e):En&&-1===e.id?En.splice(Mn+1,0,e):1&e.flags||(Qn.push(e),e.flags|=1),Nn()}function jn(e,t,n=An+1){for(0;n<Pn.length;n++){const t=Pn[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;0,Pn.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Vn(e){if(Qn.length){const e=[...new Set(Qn)].sort(((e,t)=>Bn(e)-Bn(t)));if(Qn.length=0,En)return void En.push(...e);for(En=e,Mn=0;Mn<En.length;Mn++){const e=En[Mn];0,4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}En=null,Mn=0}}const Bn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Zn(e){try{for(An=0;An<Pn.length;An++){const e=Pn[An];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Cn(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;An<Pn.length;An++){const e=Pn[An];e&&(e.flags&=-2)}An=-1,Pn.length=0,Vn(),In=null,(Pn.length||Qn.length)&&Zn(e)}}let Xn,Wn=[],Un=!1;let Yn=null,Fn=null;function qn(e){const t=Yn;return Yn=e,Fn=e&&e.type.__scopeId||null,t}function Hn(e){Fn=e}function Gn(){Fn=null}const Kn=e=>Jn;function Jn(e,t=Yn,n){if(!t)return e;if(e._n)return e;const o=(...n)=>{o._d&&As(-1);const i=qn(t);let r;try{r=e(...n)}finally{qn(i),o._d&&As(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function eo(e,t){if(null===Yn)return e;const n=va(Yn),o=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[i,s,a,l=r]=t[e];i&&(b(i)&&(i={mounted:i,updated:i}),i.deep&&On(s),o.push({dir:i,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function to(e,t,n,o){const i=e.dirs,r=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];r&&(a.oldValue=r[s].value);let l=a.dir[o];l&&(Ve(),Tn(l,n,8,[e.el,a,e,t]),Be())}}const no=Symbol("_vte"),oo=e=>e.__isTeleport,io=e=>e&&(e.disabled||""===e.disabled),ro=e=>e&&(e.defer||""===e.defer),so=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,ao=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,lo=(e,t)=>{const n=e&&e.to;if(y(n)){if(t){return t(n)}return null}return n},co={name:"Teleport",__isTeleport:!0,process(e,t,n,o,i,r,s,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:g}}=c,O=io(t.props);let{shapeFlag:v,children:b,dynamicChildren:y}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");f(e,n,o),f(c,n,o);const d=(e,t)=>{16&v&&(i&&i.isCE&&(i.ce._teleportTarget=e),u(b,e,t,i,r,s,a,l))},h=()=>{const e=t.target=lo(t.props,p),n=po(e,t,m,f);e&&("svg"!==s&&so(e)?s="svg":"mathml"!==s&&ao(e)&&(s="mathml"),O||(d(e,n),fo(t,!1)))};O&&(d(n,c),fo(t,!0)),ro(t.props)?Rr((()=>{h(),t.el.__isMounted=!0}),r):h()}else{if(ro(t.props)&&!e.el.__isMounted)return void Rr((()=>{co.process(e,t,n,o,i,r,s,a,l,c),delete e.el.__isMounted}),r);t.el=e.el,t.targetStart=e.targetStart;const u=t.anchor=e.anchor,f=t.target=e.target,m=t.targetAnchor=e.targetAnchor,g=io(e.props),v=g?n:f,b=g?u:m;if("svg"===s||so(f)?s="svg":("mathml"===s||ao(f))&&(s="mathml"),y?(h(e.dynamicChildren,y,v,i,r,s,a),Zr(e,t,!0)):l||d(e,t,v,b,i,r,s,a,!1),O)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):uo(t,n,u,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=lo(t.props,p);e&&uo(t,e,null,c,0)}else g&&uo(t,f,m,c,1);fo(t,O)}},remove(e,t,n,{um:o,o:{remove:i}},r){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=e;if(d&&(i(c),i(u)),r&&i(l),16&s){const e=r||!io(h);for(let i=0;i<a.length;i++){const r=a[i];o(r,t,n,e,!!r.dynamicChildren)}}},move:uo,hydrate:function(e,t,n,o,i,r,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},d){const h=t.target=lo(t.props,l);if(h){const l=io(t.props),f=h._lpa||h.firstChild;if(16&t.shapeFlag)if(l)t.anchor=d(s(e),t,a(e),n,o,i,r),t.targetStart=f,t.targetAnchor=f&&s(f);else{t.anchor=s(e);let a=f;for(;a;){if(a&&8===a.nodeType)if("teleport start anchor"===a.data)t.targetStart=a;else if("teleport anchor"===a.data){t.targetAnchor=a,h._lpa=t.targetAnchor&&s(t.targetAnchor);break}a=s(a)}t.targetAnchor||po(h,t,u,c),d(f&&s(f),t,h,n,o,i,r)}fo(t,l)}return t.anchor&&s(t.anchor)}};function uo(e,t,n,{o:{insert:o},m:i},r=2){0===r&&o(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,d=2===r;if(d&&o(s,t,n),(!d||io(u))&&16&l)for(let e=0;e<c.length;e++)i(c[e],t,n,2);d&&o(a,t,n)}const ho=co;function fo(e,t){const n=e.ctx;if(n&&n.ut){let o,i;for(t?(o=e.el,i=e.anchor):(o=e.targetStart,i=e.targetAnchor);o&&o!==i;)1===o.nodeType&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function po(e,t,n,o){const i=t.targetStart=n(""),r=t.targetAnchor=n("");return i[no]=r,e&&(o(i,e),o(r,e)),r}const mo=Symbol("_leaveCb"),go=Symbol("_enterCb");function Oo(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fi((()=>{e.isMounted=!0})),gi((()=>{e.isUnmounting=!0})),e}const vo=[Function,Array],bo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vo,onEnter:vo,onAfterEnter:vo,onEnterCancelled:vo,onBeforeLeave:vo,onLeave:vo,onAfterLeave:vo,onLeaveCancelled:vo,onBeforeAppear:vo,onAppear:vo,onAfterAppear:vo,onAppearCancelled:vo},yo=e=>{const t=e.subTree;return t.component?yo(t.component):t};function xo(e){let t=e[0];if(e.length>1){let n=!1;for(const o of e)if(o.type!==ws){0,t=o,n=!0;break}}return t}const wo={name:"BaseTransition",props:bo,setup(e,{slots:t}){const n=na(),o=Oo();return()=>{const i=t.default&&$o(t.default(),!0);if(!i||!i.length)return;const r=xo(i),s=Vt(e),{mode:a}=s;if(o.isLeaving)return ko(r);const l=Co(r);if(!l)return ko(r);let c=_o(l,s,o,n,(e=>c=e));l.type!==ws&&To(l,c);let u=n.subTree&&Co(n.subTree);if(u&&u.type!==ws&&!Is(l,u)&&yo(n).type!==ws){let e=_o(u,s,o,n);if(To(u,e),"out-in"===a&&l.type!==ws)return o.isLeaving=!0,e.afterLeave=()=>{o.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},ko(r);"in-out"===a&&l.type!==ws?e.delayLeave=(e,t,n)=>{So(o,u)[String(u.key)]=u,e[mo]=()=>{t(),e[mo]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function So(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function _o(e,t,n,o,i){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:O,onAppear:v,onAfterAppear:b,onAppearCancelled:y}=t,x=String(e.key),w=So(n,e),S=(e,t)=>{e&&Tn(e,o,9,t)},_=(e,t)=>{const n=t[1];S(e,t),m(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},k={mode:s,persisted:a,beforeEnter(t){let o=l;if(!n.isMounted){if(!r)return;o=O||l}t[mo]&&t[mo](!0);const i=w[x];i&&Is(e,i)&&i.el[mo]&&i.el[mo](),S(o,[t])},enter(e){let t=c,o=u,i=d;if(!n.isMounted){if(!r)return;t=v||c,o=b||u,i=y||d}let s=!1;const a=e[go]=t=>{s||(s=!0,S(t?i:o,[e]),k.delayedLeave&&k.delayedLeave(),e[go]=void 0)};t?_(t,[e,a]):a()},leave(t,o){const i=String(e.key);if(t[go]&&t[go](!0),n.isUnmounting)return o();S(h,[t]);let r=!1;const s=t[mo]=n=>{r||(r=!0,o(),S(n?g:p,[t]),t[mo]=void 0,w[i]===e&&delete w[i])};w[i]=e,f?_(f,[t,s]):s()},clone(e){const r=_o(e,t,n,o,i);return i&&i(r),r}};return k}function ko(e){if(ti(e))return(e=Zs(e)).children=null,e}function Co(e){if(!ti(e))return oo(e.type)&&e.children?xo(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&b(n.default))return n.default()}}function To(e,t){6&e.shapeFlag&&e.component?(e.transition=t,To(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $o(e,t=!1,n){let o=[],i=0;for(let r=0;r<e.length;r++){let s=e[r];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:r);s.type===ys?(128&s.patchFlag&&i++,o=o.concat($o(s.children,t,a))):(t||s.type!==ws)&&o.push(null!=a?Zs(s,{key:a}):s)}if(i>1)for(let e=0;e<o.length;e++)o[e].patchFlag=-2;return o}function Po(e,t){return b(e)?(()=>d({name:e.name},t,{setup:e}))():e}function Ao(){const e=na();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function Qo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Eo(e){const t=na(),n=Yt(null);if(t){const o=t.refs===r?t.refs={}:t.refs;Object.defineProperty(o,e,{enumerable:!0,get:()=>n.value,set:e=>n.value=e})}else 0;return n}function Mo(e,t,n,o,i=!1){if(m(e))return void e.forEach(((e,r)=>Mo(e,t&&(m(t)?t[r]:t),n,o,i)));if(Ko(o)&&!i)return void(512&o.shapeFlag&&o.type.__asyncResolved&&o.component.subTree.component&&Mo(e,t,n,o.component.subTree));const s=4&o.shapeFlag?va(o.component):o.el,a=i?null:s,{i:l,r:c}=e;const u=t&&t.r,d=l.refs===r?l.refs={}:l.refs,f=l.setupState,g=Vt(f),O=f===r?()=>!1:e=>p(g,e);if(null!=u&&u!==c&&(y(u)?(d[u]=null,O(u)&&(f[u]=null)):Wt(u)&&(u.value=null)),b(c))Cn(c,l,12,[a,d]);else{const t=y(c),o=Wt(c);if(t||o){const r=()=>{if(e.f){const n=t?O(c)?f[c]:d[c]:c.value;i?m(n)&&h(n,s):m(n)?n.includes(s)||n.push(s):t?(d[c]=[s],O(c)&&(f[c]=d[c])):(c.value=[s],e.k&&(d[e.k]=c.value))}else t?(d[c]=a,O(c)&&(f[c]=a)):o&&(c.value=a,e.k&&(d[e.k]=a))};a?(r.id=-1,Rr(r,n)):r()}else 0}}let Do=!1;const Io=()=>{Do||(console.error("Hydration completed but contains mismatches."),Do=!0)},Ro=e=>{if(1===e.nodeType)return(e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName)(e)?"svg":(e=>e.namespaceURI.includes("MathML"))(e)?"mathml":void 0},zo=e=>8===e.nodeType;function No(e){const{mt:t,p:n,o:{patchProp:o,createText:i,nextSibling:r,parentNode:s,remove:a,insert:l,createComment:u}}=e,d=(n,o,a,c,u,b=!1)=>{b=b||!!o.dynamicChildren;const y=zo(n)&&"["===n.data,x=()=>m(n,o,a,c,u,y),{type:w,ref:S,shapeFlag:_,patchFlag:k}=o;let C=n.nodeType;o.el=n,-2===k&&(b=!1,o.dynamicChildren=null);let T=null;switch(w){case xs:3!==C?""===o.children?(l(o.el=i(""),s(n),n),T=n):T=x():(n.data!==o.children&&(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&yn("Hydration text mismatch in",n.parentNode,`\n  - rendered on server: ${JSON.stringify(n.data)}\n  - expected on client: ${JSON.stringify(o.children)}`),Io(),n.data=o.children),T=r(n));break;case ws:v(n)?(T=r(n),O(o.el=n.content.firstChild,n,a)):T=8!==C||y?x():r(n);break;case Ss:if(y&&(C=(n=r(n)).nodeType),1===C||3===C){T=n;const e=!o.children.length;for(let t=0;t<o.staticCount;t++)e&&(o.children+=1===T.nodeType?T.outerHTML:T.data),t===o.staticCount-1&&(o.anchor=T),T=r(T);return y?r(T):T}x();break;case ys:T=y?p(n,o,a,c,u,b):x();break;default:if(1&_)T=1===C&&o.type.toLowerCase()===n.tagName.toLowerCase()||v(n)?h(n,o,a,c,u,b):x();else if(6&_){o.slotScopeIds=u;const e=s(n);if(T=y?g(n):zo(n)&&"teleport start"===n.data?g(n,n.data,"teleport end"):r(n),t(o,e,null,a,c,Ro(e),b),Ko(o)&&!o.type.__asyncResolved){let t;y?(t=js(ys),t.anchor=T?T.previousSibling:e.lastChild):t=3===n.nodeType?Xs(""):js("div"),t.el=n,o.component.subTree=t}}else 64&_?T=8!==C?x():o.type.hydrate(n,o,a,c,u,b,e,f):128&_?T=o.type.hydrate(n,o,a,c,Ro(s(n)),u,b,e,d):__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&yn("Invalid HostVNode type:",w,`(${typeof w})`)}return null!=S&&Mo(S,null,c,o),T},h=(e,t,n,i,r,s)=>{s=s||!!t.dynamicChildren;const{type:l,props:u,patchFlag:d,shapeFlag:h,dirs:p,transition:m}=t,g="input"===l||"option"===l;if(g||-1!==d){p&&to(t,null,n,"created");let l,b=!1;if(v(e)){b=Br(null,m)&&n&&n.vnode.props&&n.vnode.props.appear;const o=e.content.firstChild;b&&m.beforeEnter(o),O(o,e,n),t.el=e=o}if(16&h&&(!u||!u.innerHTML&&!u.textContent)){let o=f(e.firstChild,t,e,n,i,r,s),l=!1;for(;o;){Wo(e,1)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!l&&(yn("Hydration children mismatch on",e,"\nServer rendered element contains more child nodes than client vdom."),l=!0),Io());const t=o;o=o.nextSibling,a(t)}}else if(8&h){let n=t.children;"\n"!==n[0]||"PRE"!==e.tagName&&"TEXTAREA"!==e.tagName||(n=n.slice(1)),e.textContent!==n&&(Wo(e,0)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&yn("Hydration text content mismatch on",e,`\n  - rendered on server: ${e.textContent}\n  - expected on client: ${t.children}`),Io()),e.textContent=t.children)}if(u)if(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__||g||!s||48&d){const i=e.tagName.includes("-");for(const r in u)!__VUE_PROD_HYDRATION_MISMATCH_DETAILS__||p&&p.some((e=>e.dir.created))||!Lo(e,r,u[r],t,n)||Io(),(g&&(r.endsWith("value")||"indeterminate"===r)||c(r)&&!P(r)||"."===r[0]||i)&&o(e,r,null,u[r],void 0,n)}else if(u.onClick)o(e,"onClick",null,u.onClick,void 0,n);else if(4&d&&zt(u.style))for(const e in u.style)u.style[e];(l=u&&u.onVnodeBeforeMount)&&Gs(l,n,t),p&&to(t,null,n,"beforeMount"),((l=u&&u.onVnodeMounted)||p||b)&&vs((()=>{l&&Gs(l,n,t),b&&m.enter(e),p&&to(t,null,n,"mounted")}),i)}return e.nextSibling},f=(e,t,o,s,a,c,u)=>{u=u||!!t.dynamicChildren;const h=t.children,f=h.length;let p=!1;for(let t=0;t<f;t++){const m=u?h[t]:h[t]=Ys(h[t]),g=m.type===xs;e?(g&&!u&&t+1<f&&Ys(h[t+1]).type===xs&&(l(i(e.data.slice(m.children.length)),o,r(e)),e.data=m.children),e=d(e,m,s,a,c,u)):g&&!m.children?l(m.el=i(""),o):(Wo(o,1)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!p&&(yn("Hydration children mismatch on",o,"\nServer rendered element contains fewer child nodes than client vdom."),p=!0),Io()),n(null,m,o,null,s,a,Ro(o),c))}return e},p=(e,t,n,o,i,a)=>{const{slotScopeIds:c}=t;c&&(i=i?i.concat(c):c);const d=s(e),h=f(r(e),t,d,n,o,i,a);return h&&zo(h)&&"]"===h.data?r(t.anchor=h):(Io(),l(t.anchor=u("]"),d,h),h)},m=(e,t,o,i,l,c)=>{if(Wo(e.parentElement,1)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&yn("Hydration node mismatch:\n- rendered on server:",e,3===e.nodeType?"(text)":zo(e)&&"["===e.data?"(start of fragment)":"","\n- expected on client:",t.type),Io()),t.el=null,c){const t=g(e);for(;;){const n=r(e);if(!n||n===t)break;a(n)}}const u=r(e),d=s(e);return a(e),n(null,t,d,u,o,i,Ro(d),l),o&&(o.vnode.el=t.el,ds(o,t.el)),u},g=(e,t="[",n="]")=>{let o=0;for(;e;)if((e=r(e))&&zo(e)&&(e.data===t&&o++,e.data===n)){if(0===o)return r(e);o--}return e},O=(e,t,n)=>{const o=t.parentNode;o&&o.replaceChild(e,t);let i=n;for(;i;)i.vnode.el===t&&(i.vnode.el=i.subTree.el=e),i=i.parent},v=e=>1===e.nodeType&&"TEMPLATE"===e.tagName;return[(e,t)=>{if(!t.hasChildNodes())return __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&yn("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,e,t),Vn(),void(t._vnode=e);d(t.firstChild,e,null,null,null),Vn(),t._vnode=e},d]}function Lo(e,t,n,o,i){let r,s,a,l;if("class"===t)a=e.getAttribute("class"),l=G(n),function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(jo(a||""),jo(l))||(r=2,s="class");else if("style"===t){a=e.getAttribute("style")||"",l=y(n)?n:function(e){if(!e)return"";if(y(e))return e;let t="";for(const n in e){const o=e[n];(y(o)||"number"==typeof o)&&(t+=`${n.startsWith("--")?n:I(n)}:${o};`)}return t}(U(n));const t=Vo(a),c=Vo(l);if(o.dirs)for(const{dir:e,value:t}of o.dirs)"show"!==e.name||t||c.set("display","none");i&&Bo(i,o,c),function(e,t){if(e.size!==t.size)return!1;for(const[n,o]of e)if(o!==t.get(n))return!1;return!0}(t,c)||(r=3,s="style")}else(e instanceof SVGElement&&le(t)||e instanceof HTMLElement&&(re(t)||ae(t)))&&(re(t)?(a=e.hasAttribute(t),l=se(n)):null==n?(a=e.hasAttribute(t),l=!1):(a=e.hasAttribute(t)?e.getAttribute(t):"value"===t&&"TEXTAREA"===e.tagName&&e.value,l=!!function(e){if(null==e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t}(n)&&String(n)),a!==l&&(r=4,s=t));if(null!=r&&!Wo(e,r)){const t=e=>!1===e?"(not rendered)":`${s}="${e}"`;return yn(`Hydration ${Xo[r]} mismatch on`,e,`\n  - rendered on server: ${t(a)}\n  - expected on client: ${t(l)}\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.`),!0}return!1}function jo(e){return new Set(e.trim().split(/\s+/))}function Vo(e){const t=new Map;for(const n of e.split(";")){let[e,o]=n.split(":");e=e.trim(),o=o&&o.trim(),e&&o&&t.set(e,o)}return t}function Bo(e,t,n){const o=e.subTree;if(e.getCssVars&&(t===o||o&&o.type===ys&&o.children.includes(t))){const t=e.getCssVars();for(const e in t)n.set(`--${ue(e,!1)}`,String(t[e]))}t===o&&e.parent&&Bo(e.parent,e.vnode,n)}const Zo="data-allow-mismatch",Xo={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Wo(e,t){if(0===t||1===t)for(;e&&!e.hasAttribute(Zo);)e=e.parentElement;const n=e&&e.getAttribute(Zo);if(null==n)return!1;if(""===n)return!0;{const e=n.split(",");return!(0!==t||!e.includes("children"))||n.split(",").includes(Xo[t])}}const Uo=X().requestIdleCallback||(e=>setTimeout(e,1)),Yo=X().cancelIdleCallback||(e=>clearTimeout(e)),Fo=(e=1e4)=>t=>{const n=Uo(t,{timeout:e});return()=>Yo(n)};const qo=e=>(t,n)=>{const o=new IntersectionObserver((e=>{for(const n of e)if(n.isIntersecting){o.disconnect(),t();break}}),e);return n((e=>{if(e instanceof Element)return function(e){const{top:t,left:n,bottom:o,right:i}=e.getBoundingClientRect(),{innerHeight:r,innerWidth:s}=window;return(t>0&&t<r||o>0&&o<r)&&(n>0&&n<s||i>0&&i<s)}(e)?(t(),o.disconnect(),!1):void o.observe(e)})),()=>o.disconnect()},Ho=e=>t=>{if(e){const n=matchMedia(e);if(!n.matches)return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t);t()}},Go=(e=[])=>(t,n)=>{y(e)&&(e=[e]);let o=!1;const i=e=>{o||(o=!0,r(),t(),e.target.dispatchEvent(new e.constructor(e.type,e)))},r=()=>{n((t=>{for(const n of e)t.removeEventListener(n,i)}))};return n((t=>{for(const n of e)t.addEventListener(n,i,{once:!0})})),r};const Ko=e=>!!e.type.__asyncLoader;function Jo(e){b(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:i=200,hydrate:r,timeout:s,suspensible:a=!0,onError:l}=e;let c,u=null,d=0;const h=()=>{let e;return u||(e=u=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise(((t,n)=>{l(e,(()=>t((d++,u=null,h()))),(()=>n(e)),d+1)}));throw e})).then((t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t))))};return Po({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(e,t,n){const o=r?()=>{const o=r(n,(t=>function(e,t){if(zo(e)&&"["===e.data){let n=1,o=e.nextSibling;for(;o;){if(1===o.nodeType){if(!1===t(o))break}else if(zo(o))if("]"===o.data){if(0==--n)break}else"["===o.data&&n++;o=o.nextSibling}}else t(e)}(e,t)));o&&(t.bum||(t.bum=[])).push(o)}:n;c?o():h().then((()=>!t.isUnmounted&&o()))},get __asyncResolved(){return c},setup(){const e=ta;if(Qo(e),c)return()=>ei(c,e);const t=t=>{u=null,$n(t,e,13,!o)};if(a&&e.suspense||ua)return h().then((t=>()=>ei(t,e))).catch((e=>(t(e),()=>o?js(o,{error:e}):null)));const r=Ut(!1),l=Ut(),d=Ut(!!i);return i&&setTimeout((()=>{d.value=!1}),i),null!=s&&setTimeout((()=>{if(!r.value&&!l.value){const e=new Error(`Async component timed out after ${s}ms.`);t(e),l.value=e}}),s),h().then((()=>{r.value=!0,e.parent&&ti(e.parent.vnode)&&e.parent.update()})).catch((e=>{t(e),l.value=e})),()=>r.value&&c?ei(c,e):l.value&&o?js(o,{error:l.value}):n&&!d.value?js(n):void 0}})}function ei(e,t){const{ref:n,props:o,children:i,ce:r}=t.vnode,s=js(e,o,i);return s.ref=n,s.ce=r,delete t.vnode.ce,s}const ti=e=>e.type.__isKeepAlive,ni={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=na(),o=n.ctx;if(!o.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,r=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=o,h=d("div");function f(e){li(e),u(e,n,a,!0)}function p(e){i.forEach(((t,n)=>{const o=xa(t.type);o&&!e(o)&&m(n)}))}function m(e){const t=i.get(e);!t||s&&Is(t,s)?s&&li(s):f(t),i.delete(e),r.delete(e)}o.activate=(e,t,n,o,i)=>{const r=e.component;c(e,t,n,0,a),l(r.vnode,e,t,n,r,a,o,e.slotScopeIds,i),Rr((()=>{r.isDeactivated=!1,r.a&&L(r.a);const t=e.props&&e.props.onVnodeMounted;t&&Gs(t,r.parent,e)}),a)},o.deactivate=e=>{const t=e.component;Wr(t.m),Wr(t.a),c(e,h,null,1,a),Rr((()=>{t.da&&L(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Gs(n,t.parent,e),t.isDeactivated=!0}),a)},Gr((()=>[e.include,e.exclude]),(([e,t])=>{e&&p((t=>oi(e,t))),t&&p((e=>!oi(t,e)))}),{flush:"post",deep:!0});let g=null;const O=()=>{null!=g&&(hs(n.subTree.type)?Rr((()=>{i.set(g,ci(n.subTree))}),n.subTree.suspense):i.set(g,ci(n.subTree)))};return fi(O),mi(O),gi((()=>{i.forEach((e=>{const{subTree:t,suspense:o}=n,i=ci(t);if(e.type!==i.type||e.key!==i.key)f(e);else{li(i);const e=i.component.da;e&&Rr(e,o)}}))})),()=>{if(g=null,!t.default)return s=null;const n=t.default(),o=n[0];if(n.length>1)return s=null,n;if(!(Ds(o)&&(4&o.shapeFlag||128&o.shapeFlag)))return s=null,o;let a=ci(o);if(a.type===ws)return s=null,a;const l=a.type,c=xa(Ko(a)?a.type.__asyncResolved||{}:l),{include:u,exclude:d,max:h}=e;if(u&&(!c||!oi(u,c))||d&&c&&oi(d,c))return a.shapeFlag&=-257,s=a,o;const f=null==a.key?l:a.key,p=i.get(f);return a.el&&(a=Zs(a),128&o.shapeFlag&&(o.ssContent=a)),g=f,p?(a.el=p.el,a.component=p.component,a.transition&&To(a,a.transition),a.shapeFlag|=512,r.delete(f),r.add(f)):(r.add(f),h&&r.size>parseInt(h,10)&&m(r.values().next().value)),a.shapeFlag|=256,s=a,hs(o.type)?o:a}}};function oi(e,t){return m(e)?e.some((e=>oi(e,t))):y(e)?e.split(",").includes(t):"[object RegExp]"===k(e)&&(e.lastIndex=0,e.test(t))}function ii(e,t){si(e,"a",t)}function ri(e,t){si(e,"da",t)}function si(e,t,n=ta){const o=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(ui(t,o,n),n){let e=n.parent;for(;e&&e.parent;)ti(e.parent.vnode)&&ai(o,t,n,e),e=e.parent}}function ai(e,t,n,o){const i=ui(t,e,o,!0);Oi((()=>{h(o[t],i)}),n)}function li(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ci(e){return 128&e.shapeFlag?e.ssContent:e}function ui(e,t,n=ta,o=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{Ve();const i=ra(n),r=Tn(t,n,e,o);return i(),Be(),r});return o?i.unshift(r):i.push(r),r}}const di=e=>(t,n=ta)=>{ua&&"sp"!==e||ui(e,((...e)=>t(...e)),n)},hi=di("bm"),fi=di("m"),pi=di("bu"),mi=di("u"),gi=di("bum"),Oi=di("um"),vi=di("sp"),bi=di("rtg"),yi=di("rtc");function xi(e,t=ta){ui("ec",e,t)}const wi="components",Si="directives";function _i(e,t){return $i(wi,e,!0,t)||e}const ki=Symbol.for("v-ndc");function Ci(e){return y(e)?$i(wi,e,!1)||e:e||ki}function Ti(e){return $i(Si,e)}function $i(e,t,n=!0,o=!1){const i=Yn||ta;if(i){const n=i.type;if(e===wi){const e=xa(n,!1);if(e&&(e===t||e===M(t)||e===R(M(t))))return n}const r=Pi(i[e]||n[e],t)||Pi(i.appContext[e],t);return!r&&o?n:r}}function Pi(e,t){return e&&(e[t]||e[M(t)]||e[R(M(t))])}function Ai(e,t,n,o){let i;const r=n&&n[o],s=m(e);if(s||y(e)){let n=!1;s&&zt(e)&&(n=!Lt(e),e=tt(e)),i=new Array(e.length);for(let o=0,s=e.length;o<s;o++)i[o]=t(n?Zt(e[o]):e[o],o,void 0,r&&r[o])}else if("number"==typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,r&&r[n])}else if(w(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,r&&r[n])));else{const n=Object.keys(e);i=new Array(n.length);for(let o=0,s=n.length;o<s;o++){const s=n[o];i[o]=t(e[s],s,o,r&&r[o])}}else i=[];return n&&(n[o]=i),i}function Qi(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(m(o))for(let t=0;t<o.length;t++)e[o[t].name]=o[t].fn;else o&&(e[o.name]=o.key?(...e)=>{const t=o.fn(...e);return t&&(t.key=o.key),t}:o.fn)}return e}function Ei(e,t,n={},o,i){if(Yn.ce||Yn.parent&&Ko(Yn.parent)&&Yn.parent.ce)return"default"!==t&&(n.name=t),Cs(),Ms(ys,null,[js("slot",n,o&&o())],64);let r=e[t];r&&r._c&&(r._d=!1),Cs();const s=r&&Mi(r(n)),a=n.key||s&&s.key,l=Ms(ys,{key:(a&&!x(a)?a:`_${t}`)+(!s&&o?"_fb":"")},s||(o?o():[]),s&&1===e._?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Mi(e){return e.some((e=>!Ds(e)||e.type!==ws&&!(e.type===ys&&!Mi(e.children))))?e:null}function Di(e,t){const n={};for(const o in e)n[t&&/[A-Z]/.test(o)?`on:${o}`:z(o)]=e[o];return n}const Ii=e=>e?aa(e)?va(e):Ii(e.parent):null,Ri=d(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ii(e.parent),$root:e=>Ii(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>rr(e),$forceUpdate:e=>e.f||(e.f=()=>{zn(e.update)}),$nextTick:e=>e.n||(e.n=Rn.bind(e.proxy)),$watch:e=>Jr.bind(e)}),zi=(e,t)=>e!==r&&!e.__isScriptSetup&&p(e,t),Ni={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:o,data:i,props:s,accessCache:a,type:l,appContext:c}=e;let u;if("$"!==t[0]){const l=a[t];if(void 0!==l)switch(l){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(zi(o,t))return a[t]=1,o[t];if(i!==r&&p(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&p(u,t))return a[t]=3,s[t];if(n!==r&&p(n,t))return a[t]=4,n[t];tr&&(a[t]=0)}}const d=Ri[t];let h,f;return d?("$attrs"===t&&Ke(e.attrs,0,""),d(e)):(h=l.__cssModules)&&(h=h[t])?h:n!==r&&p(n,t)?(a[t]=4,n[t]):(f=c.config.globalProperties,p(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:o,setupState:i,ctx:s}=e;return zi(i,t)?(i[t]=n,!0):o!==r&&p(o,t)?(o[t]=n,!0):!p(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:s}},a){let l;return!!n[a]||e!==r&&p(e,a)||zi(t,a)||(l=s[0])&&p(l,a)||p(o,a)||p(Ri,a)||p(i.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:p(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const Li=d({},Ni,{get(e,t){if(t!==Symbol.unscopables)return Ni.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!W(t)});function ji(){return null}function Vi(){return null}function Bi(e){0}function Zi(e){0}function Xi(){return null}function Wi(){0}function Ui(e,t){return null}function Yi(){return qi().slots}function Fi(){return qi().attrs}function qi(){const e=na();return e.setupContext||(e.setupContext=Oa(e))}function Hi(e){return m(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function Gi(e,t){const n=Hi(e);for(const e in t){if(e.startsWith("__skip"))continue;let o=n[e];o?m(o)||b(o)?o=n[e]={type:o,default:t[e]}:o.default=t[e]:null===o&&(o=n[e]={default:t[e]}),o&&t[`__skip_${e}`]&&(o.skipFactory=!0)}return n}function Ki(e,t){return e&&t?m(e)&&m(t)?e.concat(t):d({},Hi(e),Hi(t)):e||t}function Ji(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}function er(e){const t=na();let n=e();return sa(),S(n)&&(n=n.catch((e=>{throw ra(t),e}))),[n,()=>ra(t)]}let tr=!0;function nr(e){const t=rr(e),n=e.proxy,o=e.ctx;tr=!1,t.beforeCreate&&or(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:s,watch:l,provide:c,inject:u,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:O,deactivated:v,beforeDestroy:y,beforeUnmount:x,destroyed:S,unmounted:_,render:k,renderTracked:C,renderTriggered:T,errorCaptured:$,serverPrefetch:P,expose:A,inheritAttrs:Q,components:E,directives:M,filters:D}=t;if(u&&function(e,t){m(e)&&(e=cr(e));for(const n in e){const o=e[n];let i;i=w(o)?"default"in o?vr(o.from||n,o.default,!0):vr(o.from||n):vr(o),Wt(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}(u,o,null),s)for(const e in s){const t=s[e];b(t)&&(o[e]=t.bind(n))}if(i){0;const t=i.call(n,n);0,w(t)&&(e.data=Et(t))}if(tr=!0,r)for(const e in r){const t=r[e],i=b(t)?t.bind(n,n):b(t.get)?t.get.bind(n,n):a;0;const s=!b(t)&&b(t.set)?t.set.bind(n):a,l=_a({get:i,set:s});Object.defineProperty(o,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(l)for(const e in l)ir(l[e],o,n,e);if(c){const e=b(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{Or(t,e[t])}))}function I(e,t){m(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&or(d,e,"c"),I(hi,h),I(fi,f),I(pi,p),I(mi,g),I(ii,O),I(ri,v),I(xi,$),I(yi,C),I(bi,T),I(gi,x),I(Oi,_),I(vi,P),m(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});k&&e.render===a&&(e.render=k),null!=Q&&(e.inheritAttrs=Q),E&&(e.components=E),M&&(e.directives=M),P&&Qo(e)}function or(e,t,n){Tn(m(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function ir(e,t,n,o){let i=o.includes(".")?es(n,o):()=>n[o];if(y(e)){const n=t[e];b(n)&&Gr(i,n)}else if(b(e))Gr(i,e.bind(n));else if(w(e))if(m(e))e.forEach((e=>ir(e,t,n,o)));else{const o=b(e.handler)?e.handler.bind(n):t[e.handler];b(o)&&Gr(i,o,e)}else 0}function rr(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,a=r.get(t);let l;return a?l=a:i.length||n||o?(l={},i.length&&i.forEach((e=>sr(l,e,s,!0))),sr(l,t,s)):l=t,w(t)&&r.set(t,l),l}function sr(e,t,n,o=!1){const{mixins:i,extends:r}=t;r&&sr(e,r,n,!0),i&&i.forEach((t=>sr(e,t,n,!0)));for(const i in t)if(o&&"expose"===i);else{const o=ar[i]||n&&n[i];e[i]=o?o(e[i],t[i]):t[i]}return e}const ar={data:lr,props:hr,emits:hr,methods:dr,computed:dr,beforeCreate:ur,created:ur,beforeMount:ur,mounted:ur,beforeUpdate:ur,updated:ur,beforeDestroy:ur,beforeUnmount:ur,destroyed:ur,unmounted:ur,activated:ur,deactivated:ur,errorCaptured:ur,serverPrefetch:ur,components:dr,directives:dr,watch:function(e,t){if(!e)return t;if(!t)return e;const n=d(Object.create(null),e);for(const o in t)n[o]=ur(e[o],t[o]);return n},provide:lr,inject:function(e,t){return dr(cr(e),cr(t))}};function lr(e,t){return t?e?function(){return d(b(e)?e.call(this,this):e,b(t)?t.call(this,this):t)}:t:e}function cr(e){if(m(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ur(e,t){return e?[...new Set([].concat(e,t))]:t}function dr(e,t){return e?d(Object.create(null),e,t):t}function hr(e,t){return e?m(e)&&m(t)?[...new Set([...e,...t])]:d(Object.create(null),Hi(e),Hi(null!=t?t:{})):t}function fr(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pr=0;function mr(e,t){return function(n,o=null){b(n)||(n=d({},n)),null==o||w(o)||(o=null);const i=fr(),r=new WeakSet,s=[];let a=!1;const l=i.app={_uid:pr++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Pa,get config(){return i.config},set config(e){0},use:(e,...t)=>(r.has(e)||(e&&b(e.install)?(r.add(e),e.install(l,...t)):b(e)&&(r.add(e),e(l,...t))),l),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),l),component:(e,t)=>t?(i.components[e]=t,l):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,l):i.directives[e],mount(r,s,c){if(!a){0;const u=l._ceVNode||js(n,o);return u.appContext=i,!0===c?c="svg":!1===c&&(c=void 0),s&&t?t(u,r):e(u,r,c),a=!0,l._container=r,r.__vue_app__=l,va(u.component)}},onUnmount(e){s.push(e)},unmount(){a&&(Tn(s,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,l),runWithContext(e){const t=gr;gr=l;try{return e()}finally{gr=t}}};return l}}let gr=null;function Or(e,t){if(ta){let n=ta.provides;const o=ta.parent&&ta.parent.provides;o===n&&(n=ta.provides=Object.create(o)),n[e]=t}else 0}function vr(e,t,n=!1){const o=ta||Yn;if(o||gr){const i=gr?gr._context.provides:o?null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&b(t)?t.call(o&&o.proxy):t}else 0}function br(){return!!(ta||Yn||gr)}const yr={},xr=()=>Object.create(yr),wr=e=>Object.getPrototypeOf(e)===yr;function Sr(e,t,n,o){const[i,s]=e.propsOptions;let a,l=!1;if(t)for(let r in t){if(P(r))continue;const c=t[r];let u;i&&p(i,u=M(r))?s&&s.includes(u)?(a||(a={}))[u]=c:n[u]=c:rs(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,l=!0)}if(s){const t=Vt(n),o=a||r;for(let r=0;r<s.length;r++){const a=s[r];n[a]=_r(i,t,a,o[a],e,!p(o,a))}}return l}function _r(e,t,n,o,i,r){const s=e[n];if(null!=s){const e=p(s,"default");if(e&&void 0===o){const e=s.default;if(s.type!==Function&&!s.skipFactory&&b(e)){const{propsDefaults:r}=i;if(n in r)o=r[n];else{const s=ra(i);o=r[n]=e.call(null,t),s()}}else o=e;i.ce&&i.ce._setProp(n,o)}s[0]&&(r&&!e?o=!1:!s[1]||""!==o&&o!==I(n)||(o=!0))}return o}const kr=new WeakMap;function Cr(e,t,n=!1){const o=n?kr:t.propsCache,i=o.get(e);if(i)return i;const a=e.props,l={},c=[];let u=!1;if(!b(e)){const o=e=>{u=!0;const[n,o]=Cr(e,t,!0);d(l,n),o&&c.push(...o)};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!a&&!u)return w(e)&&o.set(e,s),s;if(m(a))for(let e=0;e<a.length;e++){0;const t=M(a[e]);Tr(t)&&(l[t]=r)}else if(a){0;for(const e in a){const t=M(e);if(Tr(t)){const n=a[e],o=l[t]=m(n)||b(n)?{type:n}:d({},n),i=o.type;let r=!1,s=!0;if(m(i))for(let e=0;e<i.length;++e){const t=i[e],n=b(t)&&t.name;if("Boolean"===n){r=!0;break}"String"===n&&(s=!1)}else r=b(i)&&"Boolean"===i.name;o[0]=r,o[1]=s,(r||p(o,"default"))&&c.push(t)}}}const h=[l,c];return w(e)&&o.set(e,h),h}function Tr(e){return"$"!==e[0]&&!P(e)}const $r=e=>"_"===e[0]||"$stable"===e,Pr=e=>m(e)?e.map(Ys):[Ys(e)],Ar=(e,t,n)=>{if(t._n)return t;const o=Jn(((...e)=>Pr(t(...e))),n);return o._c=!1,o},Qr=(e,t,n)=>{const o=e._ctx;for(const n in e){if($r(n))continue;const i=e[n];if(b(i))t[n]=Ar(0,i,o);else if(null!=i){0;const e=Pr(i);t[n]=()=>e}}},Er=(e,t)=>{const n=Pr(t);e.slots.default=()=>n},Mr=(e,t,n)=>{for(const o in t)(n||"_"!==o)&&(e[o]=t[o])},Dr=(e,t,n)=>{const o=e.slots=xr();if(32&e.vnode.shapeFlag){const e=t._;e?(Mr(o,t,n),n&&j(o,"_",e,!0)):Qr(t,o)}else t&&Er(e,t)},Ir=(e,t,n)=>{const{vnode:o,slots:i}=e;let s=!0,a=r;if(32&o.shapeFlag){const e=t._;e?n&&1===e?s=!1:Mr(i,t,n):(s=!t.$stable,Qr(t,i)),a=t}else t&&(Er(e,t),a={default:1});if(s)for(const e in i)$r(e)||null!=a[e]||delete i[e]};const Rr=vs;function zr(e){return Lr(e)}function Nr(e){return Lr(e,No)}function Lr(e,t){"boolean"!=typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&(X().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1);X().__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:l,createText:c,createComment:u,setText:d,setElementText:h,parentNode:f,nextSibling:m,setScopeId:g=a,insertStaticContent:O}=e,v=(e,t,n,o=null,i=null,r=null,s=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Is(e,t)&&(o=H(e),W(e,i,r,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case xs:b(e,t,n,o);break;case ws:y(e,t,n,o);break;case Ss:null==e&&x(t,n,o,s);break;case ys:Q(e,t,n,o,i,r,s,a,l);break;default:1&d?S(e,t,n,o,i,r,s,a,l):6&d?E(e,t,n,o,i,r,s,a,l):(64&d||128&d)&&c.process(e,t,n,o,i,r,s,a,l,J)}null!=u&&i&&Mo(u,e&&e.ref,r,t||e,!t)},b=(e,t,o,i)=>{if(null==e)n(t.el=c(t.children),o,i);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},y=(e,t,o,i)=>{null==e?n(t.el=u(t.children||""),o,i):t.el=e.el},x=(e,t,n,o)=>{[e.el,e.anchor]=O(e.children,t,n,o,e.el,e.anchor)},w=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),o(e),e=n;o(t)},S=(e,t,n,o,i,r,s,a,l)=>{"svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e?_(t,n,o,i,r,s,a,l):T(e,t,i,r,s,a,l)},_=(e,t,o,r,s,a,c,u)=>{let d,f;const{props:p,shapeFlag:m,transition:g,dirs:O}=e;if(d=e.el=l(e.type,a,p&&p.is,p),8&m?h(d,e.children):16&m&&C(e.children,d,null,r,s,jr(e,a),c,u),O&&to(e,null,r,"created"),k(d,e,e.scopeId,c,r),p){for(const e in p)"value"===e||P(e)||i(d,e,null,p[e],a,r);"value"in p&&i(d,"value",null,p.value,a),(f=p.onVnodeBeforeMount)&&Gs(f,r,e)}O&&to(e,null,r,"beforeMount");const v=Br(s,g);v&&g.beforeEnter(d),n(d,t,o),((f=p&&p.onVnodeMounted)||v||O)&&Rr((()=>{f&&Gs(f,r,e),v&&g.enter(d),O&&to(e,null,r,"mounted")}),s)},k=(e,t,n,o,i)=>{if(n&&g(e,n),o)for(let t=0;t<o.length;t++)g(e,o[t]);if(i){let n=i.subTree;if(t===n||hs(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=i.vnode;k(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},C=(e,t,n,o,i,r,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Fs(e[c]):Ys(e[c]);v(null,l,t,n,o,i,r,s,a)}},T=(e,t,n,o,s,a,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const p=e.props||r,m=t.props||r;let g;if(n&&Vr(n,!1),(g=m.onVnodeBeforeUpdate)&&Gs(g,n,t,e),f&&to(t,e,n,"beforeUpdate"),n&&Vr(n,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&h(c,""),d?$(e.dynamicChildren,d,c,n,o,jr(t,s),a):l||j(e,t,c,null,n,o,jr(t,s),a,!1),u>0){if(16&u)A(c,p,m,n,s);else if(2&u&&p.class!==m.class&&i(c,"class",null,m.class,s),4&u&&i(c,"style",p.style,m.style,s),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const o=e[t],r=p[o],a=m[o];a===r&&"value"!==o||i(c,o,r,a,s,n)}}1&u&&e.children!==t.children&&h(c,t.children)}else l||null!=d||A(c,p,m,n,s);((g=m.onVnodeUpdated)||f)&&Rr((()=>{g&&Gs(g,n,t,e),f&&to(t,e,n,"updated")}),o)},$=(e,t,n,o,i,r,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===ys||!Is(l,c)||70&l.shapeFlag)?f(l.el):n;v(l,c,u,null,o,i,r,s,!0)}},A=(e,t,n,o,s)=>{if(t!==n){if(t!==r)for(const r in t)P(r)||r in n||i(e,r,t[r],null,s,o);for(const r in n){if(P(r))continue;const a=n[r],l=t[r];a!==l&&"value"!==r&&i(e,r,l,a,s,o)}"value"in n&&i(e,"value",t.value,n.value,s)}},Q=(e,t,o,i,r,s,a,l,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(n(d,o,i),n(h,o,i),C(t.children||[],o,h,r,s,a,l,u)):f>0&&64&f&&p&&e.dynamicChildren?($(e.dynamicChildren,p,o,r,s,a,l),(null!=t.key||r&&t===r.subTree)&&Zr(e,t,!0)):j(e,t,o,h,r,s,a,l,u)},E=(e,t,n,o,i,r,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,o,s,l):D(t,n,o,i,r,s,l):R(e,t,l)},D=(e,t,n,o,i,r,s)=>{const a=e.component=ea(e,o,i);if(ti(e)&&(a.ctx.renderer=J),da(a,!1,s),a.asyncDep){if(i&&i.registerDep(a,z,s),!e.el){const e=a.subTree=js(ws);y(null,e,t,n)}}else z(a,e,t,n,i,r,s)},R=(e,t,n)=>{const o=t.component=e.component;if(function(e,t,n){const{props:o,children:i,component:r}=e,{props:s,children:a,patchFlag:l}=t,c=r.emitsOptions;0;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||o!==s&&(o?!s||us(o,s,c):!!s);if(1024&l)return!0;if(16&l)return o?us(o,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==o[n]&&!rs(c,n))return!0}}return!1}(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return void N(o,t,n);o.next=t,o.update()}else t.el=e.el,o.vnode=t},z=(e,t,n,o,i,r,s)=>{const a=()=>{if(e.isMounted){let{next:t,bu:n,u:o,parent:l,vnode:c}=e;{const n=Xr(e);if(n)return t&&(t.el=c.el,N(e,t,s)),void n.asyncDep.then((()=>{e.isUnmounted||a()}))}let u,d=t;0,Vr(e,!1),t?(t.el=c.el,N(e,t,s)):t=c,n&&L(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Gs(u,l,t,c),Vr(e,!0);const h=ss(e);0;const p=e.subTree;e.subTree=h,v(p,h,f(p.el),H(p),e,i,r),t.el=h.el,null===d&&ds(e,h.el),o&&Rr(o,i),(u=t.props&&t.props.onVnodeUpdated)&&Rr((()=>Gs(u,l,t,c)),i)}else{let s;const{el:a,props:l}=t,{bm:c,m:u,parent:d,root:h,type:f}=e,p=Ko(t);if(Vr(e,!1),c&&L(c),!p&&(s=l&&l.onVnodeBeforeMount)&&Gs(s,d,t),Vr(e,!0),a&&te){const t=()=>{e.subTree=ss(e),te(a,e.subTree,e,i,null)};p&&f.__asyncHydrate?f.__asyncHydrate(a,e,t):t()}else{h.ce&&h.ce._injectChildStyle(f);const s=e.subTree=ss(e);0,v(null,s,n,o,e,i,r),t.el=s.el}if(u&&Rr(u,i),!p&&(s=l&&l.onVnodeMounted)){const e=t;Rr((()=>Gs(s,d,e)),i)}(256&t.shapeFlag||d&&Ko(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Rr(e.a,i),e.isMounted=!0,t=n=o=null}};e.scope.on();const l=e.effect=new _e(a);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>zn(u),Vr(e,!0),c()},N=(e,t,n)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,o){const{props:i,attrs:r,vnode:{patchFlag:s}}=e,a=Vt(i),[l]=e.propsOptions;let c=!1;if(!(o||s>0)||16&s){let o;Sr(e,t,i,r)&&(c=!0);for(const r in a)t&&(p(t,r)||(o=I(r))!==r&&p(t,o))||(l?!n||void 0===n[r]&&void 0===n[o]||(i[r]=_r(l,a,r,void 0,e,!0)):delete i[r]);if(r!==a)for(const e in r)t&&p(t,e)||(delete r[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){let s=n[o];if(rs(e.emitsOptions,s))continue;const u=t[s];if(l)if(p(r,s))u!==r[s]&&(r[s]=u,c=!0);else{const t=M(s);i[t]=_r(l,a,t,u,e,!1)}else u!==r[s]&&(r[s]=u,c=!0)}}c&&Je(e.attrs,"set","")}(e,t.props,o,n),Ir(e,t.children,n),Ve(),jn(e),Be()},j=(e,t,n,o,i,r,s,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void B(c,d,n,o,i,r,s,a,l);if(256&f)return void V(c,d,n,o,i,r,s,a,l)}8&p?(16&u&&q(c,i,r),d!==c&&h(n,d)):16&u?16&p?B(c,d,n,o,i,r,s,a,l):q(c,i,r,!0):(8&u&&h(n,""),16&p&&C(d,n,o,i,r,s,a,l))},V=(e,t,n,o,i,r,a,l,c)=>{t=t||s;const u=(e=e||s).length,d=t.length,h=Math.min(u,d);let f;for(f=0;f<h;f++){const o=t[f]=c?Fs(t[f]):Ys(t[f]);v(e[f],o,n,null,i,r,a,l,c)}u>d?q(e,i,r,!0,!1,h):C(t,n,o,i,r,a,l,c,h)},B=(e,t,n,o,i,r,a,l,c)=>{let u=0;const d=t.length;let h=e.length-1,f=d-1;for(;u<=h&&u<=f;){const o=e[u],s=t[u]=c?Fs(t[u]):Ys(t[u]);if(!Is(o,s))break;v(o,s,n,null,i,r,a,l,c),u++}for(;u<=h&&u<=f;){const o=e[h],s=t[f]=c?Fs(t[f]):Ys(t[f]);if(!Is(o,s))break;v(o,s,n,null,i,r,a,l,c),h--,f--}if(u>h){if(u<=f){const e=f+1,s=e<d?t[e].el:o;for(;u<=f;)v(null,t[u]=c?Fs(t[u]):Ys(t[u]),n,s,i,r,a,l,c),u++}}else if(u>f)for(;u<=h;)W(e[u],i,r,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=f;u++){const e=t[u]=c?Fs(t[u]):Ys(t[u]);null!=e.key&&g.set(e.key,u)}let O,b=0;const y=f-m+1;let x=!1,w=0;const S=new Array(y);for(u=0;u<y;u++)S[u]=0;for(u=p;u<=h;u++){const o=e[u];if(b>=y){W(o,i,r,!0);continue}let s;if(null!=o.key)s=g.get(o.key);else for(O=m;O<=f;O++)if(0===S[O-m]&&Is(o,t[O])){s=O;break}void 0===s?W(o,i,r,!0):(S[s-m]=u+1,s>=w?w=s:x=!0,v(o,t[s],n,null,i,r,a,l,c),b++)}const _=x?function(e){const t=e.slice(),n=[0];let o,i,r,s,a;const l=e.length;for(o=0;o<l;o++){const l=e[o];if(0!==l){if(i=n[n.length-1],e[i]<l){t[o]=i,n.push(o);continue}for(r=0,s=n.length-1;r<s;)a=r+s>>1,e[n[a]]<l?r=a+1:s=a;l<e[n[r]]&&(r>0&&(t[o]=n[r-1]),n[r]=o)}}r=n.length,s=n[r-1];for(;r-- >0;)n[r]=s,s=t[s];return n}(S):s;for(O=_.length-1,u=y-1;u>=0;u--){const e=m+u,s=t[e],h=e+1<d?t[e+1].el:o;0===S[u]?v(null,s,n,h,i,r,a,l,c):x&&(O<0||u!==_[O]?Z(s,n,h,2):O--)}}},Z=(e,t,o,i,r=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void Z(e.component.subTree,t,o,i);if(128&u)return void e.suspense.move(t,o,i);if(64&u)return void a.move(e,t,o,J);if(a===ys){n(s,t,o);for(let e=0;e<c.length;e++)Z(c[e],t,o,i);return void n(e.anchor,t,o)}if(a===Ss)return void(({el:e,anchor:t},o,i)=>{let r;for(;e&&e!==t;)r=m(e),n(e,o,i),e=r;n(t,o,i)})(e,t,o);if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(s),n(s,t,o),Rr((()=>l.enter(s)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,a=()=>n(s,t,o),c=()=>{e(s,(()=>{a(),r&&r()}))};i?i(s,a,c):c()}else n(s,t,o)},W=(e,t,n,o=!1,i=!1)=>{const{type:r,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:f}=e;if(-2===d&&(i=!1),null!=a&&Mo(a,null,n,e,!0),null!=f&&(t.renderCache[f]=void 0),256&u)return void t.ctx.deactivate(e);const p=1&u&&h,m=!Ko(e);let g;if(m&&(g=s&&s.onVnodeBeforeUnmount)&&Gs(g,t,e),6&u)F(e.component,n,o);else{if(128&u)return void e.suspense.unmount(n,o);p&&to(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,J,o):c&&!c.hasOnce&&(r!==ys||d>0&&64&d)?q(c,t,n,!1,!0):(r===ys&&384&d||!i&&16&u)&&q(l,t,n),o&&U(e)}(m&&(g=s&&s.onVnodeUnmounted)||p)&&Rr((()=>{g&&Gs(g,t,e),p&&to(e,null,t,"unmounted")}),n)},U=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===ys)return void Y(n,i);if(t===Ss)return void w(e);const s=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:o}=r,i=()=>t(n,s);o?o(e.el,s,i):i()}else s()},Y=(e,t)=>{let n;for(;e!==t;)n=m(e),o(e),e=n;o(t)},F=(e,t,n)=>{const{bum:o,scope:i,job:r,subTree:s,um:a,m:l,a:c}=e;Wr(l),Wr(c),o&&L(o),i.stop(),r&&(r.flags|=8,W(s,e,t,n)),a&&Rr(a,t),Rr((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},q=(e,t,n,o=!1,i=!1,r=0)=>{for(let s=r;s<e.length;s++)W(e[s],t,n,o,i)},H=e=>{if(6&e.shapeFlag)return H(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[no];return n?m(n):t};let G=!1;const K=(e,t,n)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,G||(G=!0,jn(),Vn(),G=!1)},J={p:v,um:W,m:Z,r:U,mt:D,mc:C,pc:j,pbc:$,n:H,o:e};let ee,te;return t&&([ee,te]=t(J)),{render:K,hydrate:ee,createApp:mr(K,ee)}}function jr({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Vr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Br(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zr(e,t,n=!1){const o=e.children,i=t.children;if(m(o)&&m(i))for(let e=0;e<o.length;e++){const t=o[e];let r=i[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=i[e]=Fs(i[e]),r.el=t.el),n||-2===r.patchFlag||Zr(t,r)),r.type===xs&&(r.el=t.el)}}function Xr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xr(t)}function Wr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ur=Symbol.for("v-scx"),Yr=()=>{{const e=vr(Ur);return e}};function Fr(e,t){return Kr(e,null,t)}function qr(e,t){return Kr(e,null,{flush:"post"})}function Hr(e,t){return Kr(e,null,{flush:"sync"})}function Gr(e,t,n){return Kr(e,t,n)}function Kr(e,t,n=r){const{immediate:o,deep:i,flush:s,once:l}=n;const c=d({},n);const u=t&&o||!t&&"post"!==s;let f;if(ua)if("sync"===s){const e=Yr();f=e.__watcherHandles||(e.__watcherHandles=[])}else if(!u){const e=()=>{};return e.stop=a,e.resume=a,e.pause=a,e}const p=ta;c.call=(e,t,n)=>Tn(e,p,t,n);let g=!1;"post"===s?c.scheduler=e=>{Rr(e,p&&p.suspense)}:"sync"!==s&&(g=!0,c.scheduler=(e,t)=>{t?e():zn(e)}),c.augmentJob=e=>{t&&(e.flags|=4),g&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const O=function(e,t,n=r){const{immediate:o,deep:i,once:s,scheduler:l,augmentJob:c,call:u}=n,d=e=>i?e:Lt(e)||!1===i||0===i?On(e,1):On(e);let f,p,g,O,v=!1,y=!1;if(Wt(e)?(p=()=>e.value,v=Lt(e)):zt(e)?(p=()=>d(e),v=!0):m(e)?(y=!0,v=e.some((e=>zt(e)||Lt(e))),p=()=>e.map((e=>Wt(e)?e.value:zt(e)?d(e):b(e)?u?u(e,2):e():void 0))):p=b(e)?t?u?()=>u(e,2):e:()=>{if(g){Ve();try{g()}finally{Be()}}const t=pn;pn=f;try{return u?u(e,3,[O]):e(O)}finally{pn=t}}:a,t&&i){const e=p,t=!0===i?1/0:i;p=()=>On(e(),t)}const x=xe(),w=()=>{f.stop(),x&&x.active&&h(x.effects,f)};if(s&&t){const e=t;t=(...t)=>{e(...t),w()}}let S=y?new Array(e.length).fill(hn):hn;const _=e=>{if(1&f.flags&&(f.dirty||e))if(t){const e=f.run();if(i||v||(y?e.some(((e,t)=>N(e,S[t]))):N(e,S))){g&&g();const n=pn;pn=f;try{const n=[e,S===hn?void 0:y&&S[0]===hn?[]:S,O];u?u(t,3,n):t(...n),S=e}finally{pn=n}}}else f.run()};return c&&c(_),f=new _e(p),f.scheduler=l?()=>l(_,!1):_,O=e=>gn(e,!1,f),g=f.onStop=()=>{const e=fn.get(f);if(e){if(u)u(e,4);else for(const t of e)t();fn.delete(f)}},t?o?_(!0):S=f.run():l?l(_.bind(null,!0),!0):f.run(),w.pause=f.pause.bind(f),w.resume=f.resume.bind(f),w.stop=w,w}(e,t,c);return ua&&(f?f.push(O):u&&O()),O}function Jr(e,t,n){const o=this.proxy,i=y(e)?e.includes(".")?es(o,e):()=>o[e]:e.bind(o,o);let r;b(t)?r=t:(r=t.handler,n=t);const s=ra(this),a=Kr(i,r.bind(o),n);return s(),a}function es(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ts(e,t,n=r){const o=na();const i=M(t);const s=I(t),a=ns(e,i),l=nn(((a,l)=>{let c,u,d=r;return Hr((()=>{const t=e[i];N(c,t)&&(c=t,l())})),{get:()=>(a(),n.get?n.get(c):c),set(e){const a=n.set?n.set(e):e;if(!(N(a,c)||d!==r&&N(e,d)))return;const h=o.vnode.props;h&&(t in h||i in h||s in h)&&(`onUpdate:${t}`in h||`onUpdate:${i}`in h||`onUpdate:${s}`in h)||(c=e,l()),o.emit(`update:${t}`,a),N(e,a)&&N(e,d)&&!N(a,u)&&l(),d=e,u=a}}}));return l[Symbol.iterator]=()=>{let e=0;return{next:()=>e<2?{value:e++?a||r:l,done:!1}:{done:!0}}},l}const ns=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${M(t)}Modifiers`]||e[`${I(t)}Modifiers`];function os(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r;let i=n;const s=t.startsWith("update:"),a=s&&ns(o,t.slice(7));let l;a&&(a.trim&&(i=n.map((e=>y(e)?e.trim():e))),a.number&&(i=n.map(V)));let c=o[l=z(t)]||o[l=z(M(t))];!c&&s&&(c=o[l=z(I(t))]),c&&Tn(c,e,6,i);const u=o[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Tn(u,e,6,i)}}function is(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(void 0!==i)return i;const r=e.emits;let s={},a=!1;if(!b(e)){const o=e=>{const n=is(e,t,!0);n&&(a=!0,d(s,n))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return r||a?(m(r)?r.forEach((e=>s[e]=null)):d(s,r),w(e)&&o.set(e,s),s):(w(e)&&o.set(e,null),null)}function rs(e,t){return!(!e||!c(t))&&(t=t.slice(2).replace(/Once$/,""),p(e,t[0].toLowerCase()+t.slice(1))||p(e,I(t))||p(e,t))}function ss(e){const{type:t,vnode:n,proxy:o,withProxy:i,propsOptions:[r],slots:s,attrs:a,emit:l,render:c,renderCache:d,props:h,data:f,setupState:p,ctx:m,inheritAttrs:g}=e,O=qn(e);let v,b;try{if(4&n.shapeFlag){const e=i||o,t=e;v=Ys(c.call(t,e,d,h,p,f,m)),b=a}else{const e=t;0,v=Ys(e.length>1?e(h,{attrs:a,slots:s,emit:l}):e(h,null)),b=t.props?a:ls(a)}}catch(t){_s.length=0,$n(t,e,1),v=js(ws)}let y=v;if(b&&!1!==g){const e=Object.keys(b),{shapeFlag:t}=y;e.length&&7&t&&(r&&e.some(u)&&(b=cs(b,r)),y=Zs(y,b,!1,!0))}return n.dirs&&(y=Zs(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&To(y,n.transition),v=y,qn(O),v}function as(e,t=!0){let n;for(let t=0;t<e.length;t++){const o=e[t];if(!Ds(o))return;if(o.type!==ws||"v-if"===o.children){if(n)return;n=o}}return n}const ls=e=>{let t;for(const n in e)("class"===n||"style"===n||c(n))&&((t||(t={}))[n]=e[n]);return t},cs=(e,t)=>{const n={};for(const o in e)u(o)&&o.slice(9)in t||(n[o]=e[o]);return n};function us(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(t[r]!==e[r]&&!rs(n,r))return!0}return!1}function ds({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o!==e)break;(e=t.vnode).el=n,t=t.parent}}const hs=e=>e.__isSuspense;let fs=0;const ps={name:"Suspense",__isSuspense:!0,process(e,t,n,o,i,r,s,a,l,c){if(null==e)!function(e,t,n,o,i,r,s,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=e.suspense=gs(e,i,o,t,d,n,r,s,a,l);c(null,h.pendingBranch=e.ssContent,d,null,o,h,r,s),h.deps>0?(ms(e,"onPending"),ms(e,"onFallback"),c(null,e.ssFallback,t,n,o,null,r,s),bs(h,e.ssFallback)):h.resolve(!1,!0)}(t,n,o,i,r,s,a,l,c);else{if(r&&r.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);!function(e,t,n,o,i,r,s,a,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:O}=d;if(m)d.pendingBranch=h,Is(h,m)?(l(m,h,d.hiddenContainer,null,i,d,r,s,a),d.deps<=0?d.resolve():g&&(O||(l(p,f,n,o,i,null,r,s,a),bs(d,f)))):(d.pendingId=fs++,O?(d.isHydrating=!1,d.activeBranch=m):c(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),g?(l(null,h,d.hiddenContainer,null,i,d,r,s,a),d.deps<=0?d.resolve():(l(p,f,n,o,i,null,r,s,a),bs(d,f))):p&&Is(h,p)?(l(p,h,n,o,i,d,r,s,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,r,s,a),d.deps<=0&&d.resolve()));else if(p&&Is(h,p))l(p,h,n,o,i,d,r,s,a),bs(d,h);else if(ms(t,"onPending"),d.pendingBranch=h,512&h.shapeFlag?d.pendingId=h.component.suspenseId:d.pendingId=fs++,l(null,h,d.hiddenContainer,null,i,d,r,s,a),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout((()=>{d.pendingId===t&&d.fallback(f)}),e):0===e&&d.fallback(f)}}(e,t,n,o,i,s,a,l,c)}},hydrate:function(e,t,n,o,i,r,s,a,l){const c=t.suspense=gs(t,o,n,e.parentNode,document.createElement("div"),null,i,r,s,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,r,s);0===c.deps&&c.resolve(!1,!0);return u},normalize:function(e){const{shapeFlag:t,children:n}=e,o=32&t;e.ssContent=Os(o?n.default:n),e.ssFallback=o?Os(n.fallback):js(ws)}};function ms(e,t){const n=e.props&&e.props[t];b(n)&&n()}function gs(e,t,n,o,i,r,s,a,l,c,u=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:m,remove:g}}=c;let O;const v=function(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}(e);v&&t&&t.pendingBranch&&(O=t.pendingId,t.deps++);const b=e.props?B(e.props.timeout):void 0;const y=r,x={vnode:e,parent:t,parentComponent:n,namespace:s,container:o,hiddenContainer:i,deps:0,pendingId:fs++,timeout:"number"==typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:o,activeBranch:i,pendingBranch:s,pendingId:a,effects:l,parentComponent:c,container:u}=x;let d=!1;x.isHydrating?x.isHydrating=!1:e||(d=i&&s.transition&&"out-in"===s.transition.mode,d&&(i.transition.afterLeave=()=>{a===x.pendingId&&(h(s,u,r===y?p(i):r,0),Ln(l))}),i&&(m(i.el)===u&&(r=p(i)),f(i,c,x,!0)),d||h(s,u,r,0)),bs(x,s),x.pendingBranch=null,x.isInFallback=!1;let g=x.parent,b=!1;for(;g;){if(g.pendingBranch){g.effects.push(...l),b=!0;break}g=g.parent}b||d||Ln(l),x.effects=[],v&&t&&t.pendingBranch&&O===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),ms(o,"onResolve")},fallback(e){if(!x.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:o,container:i,namespace:r}=x;ms(t,"onFallback");const s=p(n),c=()=>{x.isInFallback&&(d(null,e,i,s,o,null,r,a,l),bs(x,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=c),x.isInFallback=!0,f(n,o,null,!0),u||c()},move(e,t,n){x.activeBranch&&h(x.activeBranch,e,t,n),x.container=e},next:()=>x.activeBranch&&p(x.activeBranch),registerDep(e,t,n){const o=!!x.pendingBranch;o&&x.deps++;const i=e.vnode.el;e.asyncDep.catch((t=>{$n(t,e,0)})).then((r=>{if(e.isUnmounted||x.isUnmounted||x.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:a}=e;ha(e,r,!1),i&&(a.el=i);const l=!i&&e.subTree.el;t(e,a,m(i||e.subTree.el),i?null:p(e.subTree),x,s,n),l&&g(l),ds(e,a.el),o&&0==--x.deps&&x.resolve()}))},unmount(e,t){x.isUnmounted=!0,x.activeBranch&&f(x.activeBranch,n,e,t),x.pendingBranch&&f(x.pendingBranch,n,e,t)}};return x}function Os(e){let t;if(b(e)){const n=Ps&&e._c;n&&(e._d=!1,Cs()),e=e(),n&&(e._d=!0,t=ks,Ts())}if(m(e)){const t=as(e);0,e=t}return e=Ys(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function vs(e,t){t&&t.pendingBranch?m(e)?t.effects.push(...e):t.effects.push(e):Ln(e)}function bs(e,t){e.activeBranch=t;const{vnode:n,parentComponent:o}=e;let i=t.el;for(;!i&&t.component;)i=(t=t.component.subTree).el;n.el=i,o&&o.subTree===n&&(o.vnode.el=i,ds(o,i))}const ys=Symbol.for("v-fgt"),xs=Symbol.for("v-txt"),ws=Symbol.for("v-cmt"),Ss=Symbol.for("v-stc"),_s=[];let ks=null;function Cs(e=!1){_s.push(ks=e?null:[])}function Ts(){_s.pop(),ks=_s[_s.length-1]||null}let $s,Ps=1;function As(e,t=!1){Ps+=e,e<0&&ks&&t&&(ks.hasOnce=!0)}function Qs(e){return e.dynamicChildren=Ps>0?ks||s:null,Ts(),Ps>0&&ks&&ks.push(e),e}function Es(e,t,n,o,i,r){return Qs(Ls(e,t,n,o,i,r,!0))}function Ms(e,t,n,o,i){return Qs(js(e,t,n,o,i,!0))}function Ds(e){return!!e&&!0===e.__v_isVNode}function Is(e,t){return e.type===t.type&&e.key===t.key}function Rs(e){$s=e}const zs=({key:e})=>null!=e?e:null,Ns=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?y(e)||Wt(e)||b(e)?{i:Yn,r:e,k:t,f:!!n}:e:null);function Ls(e,t=null,n=null,o=0,i=null,r=(e===ys?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zs(t),ref:t&&Ns(t),scopeId:Fn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Yn};return a?(qs(l,n),128&r&&e.normalize(l)):n&&(l.shapeFlag|=y(n)?8:16),Ps>0&&!s&&ks&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&ks.push(l),l}const js=Vs;function Vs(e,t=null,n=null,o=0,i=null,r=!1){if(e&&e!==ki||(e=ws),Ds(e)){const o=Zs(e,t,!0);return n&&qs(o,n),Ps>0&&!r&&ks&&(6&o.shapeFlag?ks[ks.indexOf(e)]=o:ks.push(o)),o.patchFlag=-2,o}if(Sa(e)&&(e=e.__vccOpts),t){t=Bs(t);let{class:e,style:n}=t;e&&!y(e)&&(t.class=G(e)),w(n)&&(jt(n)&&!m(n)&&(n=d({},n)),t.style=U(n))}return Ls(e,t,n,o,i,y(e)?1:hs(e)?128:oo(e)?64:w(e)?4:b(e)?2:0,r,!0)}function Bs(e){return e?jt(e)||wr(e)?d({},e):e:null}function Zs(e,t,n=!1,o=!1){const{props:i,ref:r,patchFlag:s,children:a,transition:l}=e,c=t?Hs(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&zs(c),ref:t&&t.ref?n&&r?m(r)?r.concat(Ns(t)):[r,Ns(t)]:Ns(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ys?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zs(e.ssContent),ssFallback:e.ssFallback&&Zs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&To(u,l.clone(u)),u}function Xs(e=" ",t=0){return js(xs,null,e,t)}function Ws(e,t){const n=js(Ss,null,e);return n.staticCount=t,n}function Us(e="",t=!1){return t?(Cs(),Ms(ws,null,e)):js(ws,null,e)}function Ys(e){return null==e||"boolean"==typeof e?js(ws):m(e)?js(ys,null,e.slice()):Ds(e)?Fs(e):js(xs,null,String(e))}function Fs(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Zs(e)}function qs(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if(m(t))n=16;else if("object"==typeof t){if(65&o){const n=t.default;return void(n&&(n._c&&(n._d=!1),qs(e,n()),n._c&&(n._d=!0)))}{n=32;const o=t._;o||wr(t)?3===o&&Yn&&(1===Yn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Yn}}else b(t)?(t={default:t,_ctx:Yn},n=32):(t=String(t),64&o?(n=16,t=[Xs(t)]):n=8);e.children=t,e.shapeFlag|=n}function Hs(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=G([t.class,o.class]));else if("style"===e)t.style=U([t.style,o.style]);else if(c(e)){const n=t[e],i=o[e];!i||n===i||m(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=o[e])}return t}function Gs(e,t,n,o=null){Tn(e,t,7,[n,o])}const Ks=fr();let Js=0;function ea(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||Ks,s={uid:Js++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new be(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cr(o,i),emitsOptions:is(o,i),emit:null,emitted:null,propsDefaults:r,inheritAttrs:o.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=os.bind(null,s),e.ce&&e.ce(s),s}let ta=null;const na=()=>ta||Yn;let oa,ia;{const e=X(),t=(t,n)=>{let o;return(o=e[t])||(o=e[t]=[]),o.push(n),e=>{o.length>1?o.forEach((t=>t(e))):o[0](e)}};oa=t("__VUE_INSTANCE_SETTERS__",(e=>ta=e)),ia=t("__VUE_SSR_SETTERS__",(e=>ua=e))}const ra=e=>{const t=ta;return oa(e),e.scope.on(),()=>{e.scope.off(),oa(t)}},sa=()=>{ta&&ta.scope.off(),oa(null)};function aa(e){return 4&e.vnode.shapeFlag}let la,ca,ua=!1;function da(e,t=!1,n=!1){t&&ia(t);const{props:o,children:i}=e.vnode,r=aa(e);!function(e,t,n,o=!1){const i={},r=xr();e.propsDefaults=Object.create(null),Sr(e,t,i,r);for(const t in e.propsOptions[0])t in i||(i[t]=void 0);n?e.props=o?i:Mt(i):e.type.props?e.props=i:e.props=r,e.attrs=r}(e,o,r,t),Dr(e,i,n);const s=r?function(e,t){const n=e.type;0;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ni),!1;const{setup:o}=n;if(o){Ve();const n=e.setupContext=o.length>1?Oa(e):null,i=ra(e),r=Cn(o,e,0,[e.props,n]),s=S(r);if(Be(),i(),!s&&!e.sp||Ko(e)||Qo(e),s){if(r.then(sa,sa),t)return r.then((n=>{ha(e,n,t)})).catch((t=>{$n(t,e,0)}));e.asyncDep=r}else ha(e,r,t)}else ma(e,t)}(e,t):void 0;return t&&ia(!1),s}function ha(e,t,n){b(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:w(t)&&(e.setupState=en(t)),ma(e,n)}function fa(e){la=e,ca=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Li))}}const pa=()=>!la;function ma(e,t,n){const o=e.type;if(!e.render){if(!t&&la&&!o.render){const t=o.template||rr(e).template;if(t){0;const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:r,compilerOptions:s}=o,a=d(d({isCustomElement:n,delimiters:r},i),s);o.render=la(t,a)}}e.render=o.render||a,ca&&ca(e)}{const t=ra(e);Ve();try{nr(e)}finally{Be(),t()}}}const ga={get:(e,t)=>(Ke(e,0,""),e[t])};function Oa(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ga),slots:e.slots,emit:e.emit,expose:t}}function va(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(en(Bt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Ri?Ri[n](e):void 0,has:(e,t)=>t in e||t in Ri})):e.proxy}const ba=/(?:^|[-_])(\w)/g,ya=e=>e.replace(ba,(e=>e.toUpperCase())).replace(/[-_]/g,"");function xa(e,t=!0){return b(e)?e.displayName||e.name:e.name||t&&e.__name}function wa(e,t,n=!1){let o=xa(t);if(!o&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(o=e[1])}if(!o&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?ya(o):n?"App":"Anonymous"}function Sa(e){return b(e)&&"__vccOpts"in e}const _a=(e,t)=>{const n=function(e,t,n=!1){let o,i;return b(e)?o=e:(o=e.get,i=e.set),new cn(o,i,n)}(e,0,ua);return n};function ka(e,t,n){const o=arguments.length;return 2===o?w(t)&&!m(t)?Ds(t)?js(e,null,[t]):js(e,t):js(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&Ds(n)&&(n=[n]),js(e,t,n))}function Ca(){return void 0}function Ta(e,t,n,o){const i=n[o];if(i&&$a(i,e))return i;const r=t();return r.memo=e.slice(),r.cacheIndex=o,n[o]=r}function $a(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(N(n[e],t[e]))return!1;return Ps>0&&ks&&ks.push(e),!0}const Pa="3.5.13",Aa=a,Qa=kn,Ea=Xn,Ma=function e(t,n){var o,i;if(Xn=t,Xn)Xn.enabled=!0,Wn.forEach((({event:e,args:t})=>Xn.emit(e,...t))),Wn=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(i=null==(o=window.navigator)?void 0:o.userAgent)?void 0:i.includes("jsdom"))){(n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{e(t,n)})),setTimeout((()=>{Xn||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Un=!0,Wn=[])}),3e3)}else Un=!0,Wn=[]},Da={createComponentInstance:ea,setupComponent:da,renderComponentRoot:ss,setCurrentRenderingInstance:qn,isVNode:Ds,normalizeVNode:Ys,getComponentPublicInstance:va,ensureValidVNode:Mi,pushWarningContext:function(e){vn.push(e)},popWarningContext:function(){vn.pop()}},Ia=null,Ra=null,za=null;let Na;const La="undefined"!=typeof window&&window.trustedTypes;if(La)try{Na=La.createPolicy("vue",{createHTML:e=>e})}catch(e){}const ja=Na?e=>Na.createHTML(e):e=>e,Va="undefined"!=typeof document?document:null,Ba=Va&&Va.createElement("template"),Za={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const i="svg"===t?Va.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Va.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?Va.createElement(e,{is:n}):Va.createElement(e);return"select"===e&&o&&null!=o.multiple&&i.setAttribute("multiple",o.multiple),i},createText:e=>Va.createTextNode(e),createComment:e=>Va.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Va.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,i,r){const s=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==r&&(i=i.nextSibling););else{Ba.innerHTML=ja("svg"===o?`<svg>${e}</svg>`:"mathml"===o?`<math>${e}</math>`:e);const i=Ba.content;if("svg"===o||"mathml"===o){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Xa="transition",Wa="animation",Ua=Symbol("_vtc"),Ya={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Fa=d({},bo,Ya),qa=(e=>(e.displayName="Transition",e.props=Fa,e))(((e,{slots:t})=>ka(wo,Ka(e),t))),Ha=(e,t=[])=>{m(e)?e.forEach((e=>e(...t))):e&&e(...t)},Ga=e=>!!e&&(m(e)?e.some((e=>e.length>1)):e.length>1);function Ka(e){const t={};for(const n in e)n in Ya||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:o,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if(w(e))return[Ja(e.enter),Ja(e.leave)];{const t=Ja(e);return[t,t]}}(i),g=m&&m[0],O=m&&m[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:y,onLeave:x,onLeaveCancelled:S,onBeforeAppear:_=v,onAppear:k=b,onAppearCancelled:C=y}=t,T=(e,t,n,o)=>{e._enterCancelled=o,tl(e,t?u:a),tl(e,t?c:s),n&&n()},$=(e,t)=>{e._isLeaving=!1,tl(e,h),tl(e,p),tl(e,f),t&&t()},P=e=>(t,n)=>{const i=e?k:b,s=()=>T(t,e,n);Ha(i,[t,s]),nl((()=>{tl(t,e?l:r),el(t,e?u:a),Ga(i)||il(t,o,g,s)}))};return d(t,{onBeforeEnter(e){Ha(v,[e]),el(e,r),el(e,s)},onBeforeAppear(e){Ha(_,[e]),el(e,l),el(e,c)},onEnter:P(!1),onAppear:P(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>$(e,t);el(e,h),e._enterCancelled?(el(e,f),ll()):(ll(),el(e,f)),nl((()=>{e._isLeaving&&(tl(e,h),el(e,p),Ga(x)||il(e,o,O,n))})),Ha(x,[e,n])},onEnterCancelled(e){T(e,!1,void 0,!0),Ha(y,[e])},onAppearCancelled(e){T(e,!0,void 0,!0),Ha(C,[e])},onLeaveCancelled(e){$(e),Ha(S,[e])}})}function Ja(e){return B(e)}function el(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[Ua]||(e[Ua]=new Set)).add(t)}function tl(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[Ua];n&&(n.delete(t),n.size||(e[Ua]=void 0))}function nl(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let ol=0;function il(e,t,n,o){const i=e._endId=++ol,r=()=>{i===e._endId&&o()};if(null!=n)return setTimeout(r,n);const{type:s,timeout:a,propCount:l}=rl(e,t);if(!s)return o();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,h),r()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),a+1),e.addEventListener(c,h)}function rl(e,t){const n=window.getComputedStyle(e),o=e=>(n[e]||"").split(", "),i=o(`${Xa}Delay`),r=o(`${Xa}Duration`),s=sl(i,r),a=o(`${Wa}Delay`),l=o(`${Wa}Duration`),c=sl(a,l);let u=null,d=0,h=0;t===Xa?s>0&&(u=Xa,d=s,h=r.length):t===Wa?c>0&&(u=Wa,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?Xa:Wa:null,h=u?u===Xa?r.length:l.length:0);return{type:u,timeout:d,propCount:h,hasTransform:u===Xa&&/\b(transform|all)(,|$)/.test(o(`${Xa}Property`).toString())}}function sl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>al(t)+al(e[n]))))}function al(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function ll(){return document.body.offsetHeight}const cl=Symbol("_vod"),ul=Symbol("_vsh"),dl={beforeMount(e,{value:t},{transition:n}){e[cl]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):hl(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),hl(e,!0),o.enter(e)):o.leave(e,(()=>{hl(e,!1)})):hl(e,t))},beforeUnmount(e,{value:t}){hl(e,t)}};function hl(e,t){e.style.display=t?e[cl]:"none",e[ul]=!t}const fl=Symbol("");function pl(e){const t=na();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>gl(e,n)))};const o=()=>{const o=e(t.proxy);t.ce?gl(t.ce,o):ml(t.subTree,o),n(o)};pi((()=>{Ln(o)})),fi((()=>{Gr(o,a,{flush:"post"});const e=new MutationObserver(o);e.observe(t.subTree.el.parentNode,{childList:!0}),Oi((()=>e.disconnect()))}))}function ml(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{ml(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)gl(e.el,t);else if(e.type===ys)e.children.forEach((e=>ml(e,t)));else if(e.type===Ss){let{el:n,anchor:o}=e;for(;n&&(gl(n,t),n!==o);)n=n.nextSibling}}function gl(e,t){if(1===e.nodeType){const n=e.style;let o="";for(const e in t)n.setProperty(`--${e}`,t[e]),o+=`--${e}: ${t[e]};`;n[fl]=o}}const Ol=/(^|;)\s*display\s*:/;const vl=/\s*!important$/;function bl(e,t,n){if(m(n))n.forEach((n=>bl(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=function(e,t){const n=xl[t];if(n)return n;let o=M(t);if("filter"!==o&&o in e)return xl[t]=o;o=R(o);for(let n=0;n<yl.length;n++){const i=yl[n]+o;if(i in e)return xl[t]=i}return t}(e,t);vl.test(n)?e.setProperty(I(o),n.replace(vl,""),"important"):e[o]=n}}const yl=["Webkit","Moz","ms"],xl={};const wl="http://www.w3.org/1999/xlink";function Sl(e,t,n,o,i,r=ie(t)){o&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(wl,t.slice(6,t.length)):e.setAttributeNS(wl,t,n):null==n||r&&!se(n)?e.removeAttribute(t):e.setAttribute(t,r?"":x(n)?String(n):n)}function _l(e,t,n,o,i){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?ja(n):n));const r=e.tagName;if("value"===t&&"PROGRESS"!==r&&!r.includes("-")){const o="OPTION"===r?e.getAttribute("value")||"":e.value,i=null==n?"checkbox"===e.type?"on":"":String(n);return o===i&&"_value"in e||(e.value=i),null==n&&e.removeAttribute(t),void(e._value=n)}let s=!1;if(""===n||null==n){const o=typeof e[t];"boolean"===o?n=se(n):null==n&&"string"===o?(n="",s=!0):"number"===o&&(n=0,s=!0)}try{e[t]=n}catch(e){0}s&&e.removeAttribute(i||t)}function kl(e,t,n,o){e.addEventListener(t,n,o)}const Cl=Symbol("_vei");function Tl(e,t,n,o,i=null){const r=e[Cl]||(e[Cl]={}),s=r[t];if(o&&s)s.value=o;else{const[n,a]=function(e){let t;if($l.test(e)){let n;for(t={};n=e.match($l);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):I(e.slice(2));return[n,t]}(t);if(o){const s=r[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Tn(function(e,t){if(m(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Ql(),n}(o,i);kl(e,n,s,a)}else s&&(!function(e,t,n,o){e.removeEventListener(t,n,o)}(e,n,s,a),r[t]=void 0)}}const $l=/(?:Once|Passive|Capture)$/;let Pl=0;const Al=Promise.resolve(),Ql=()=>Pl||(Al.then((()=>Pl=0)),Pl=Date.now());const El=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const Ml={};function Dl(e,t,n){const o=Po(e,t);T(o)&&d(o,t);class i extends zl{constructor(e){super(o,e,n)}}return i.def=o,i}const Il=(e,t)=>Dl(e,t,Sc),Rl="undefined"!=typeof HTMLElement?HTMLElement:class{};class zl extends Rl{constructor(e,t={},n=wc){super(),this._def=e,this._props=t,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==wc?this._root=this.shadowRoot:!1!==e.shadowRoot?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof zl){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then((()=>{this._pendingResolve=void 0,this._resolveDef()})):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Rn((()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)}))}_resolveDef(){if(this._pendingResolve)return;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);this._ob=new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})),this._ob.observe(this,{attributes:!0});const e=(e,t=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=e;let i;if(n&&!m(n))for(const e in n){const t=n[e];(t===Number||t&&t.type===Number)&&(e in this._props&&(this._props[e]=B(this._props[e])),(i||(i=Object.create(null)))[M(e)]=!0)}this._numberProps=i,t&&this._resolveProps(e),this.shadowRoot&&this._applyStyles(o),this._mount(e)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then((t=>e(this._def=t,!0))):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const e in t)p(this,e)||Object.defineProperty(this,e,{get:()=>Gt(t[e])})}_resolveProps(e){const{props:t}=e,n=m(t)?t:Object.keys(t||{});for(const e of Object.keys(this))"_"!==e[0]&&n.includes(e)&&this._setProp(e,this[e]);for(const e of n.map(M))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let n=t?this.getAttribute(e):Ml;const o=M(e);t&&this._numberProps&&this._numberProps[o]&&(n=B(n)),this._setProp(o,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,o=!1){if(t!==this._props[e]&&(t===Ml?delete this._props[e]:(this._props[e]=t,"key"===e&&this._app&&(this._app._ceVNode.key=t)),o&&this._instance&&this._update(),n)){const n=this._ob;n&&n.disconnect(),!0===t?this.setAttribute(I(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(I(e),t+""):t||this.removeAttribute(I(e)),n&&n.observe(this,{attributes:!0})}}_update(){yc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=js(this._def,d(e,this._props));return this._instance||(t.ce=e=>{this._instance=e,e.ce=this,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,T(t[0])?d({detail:t},t[0]):{detail:t}))};e.emit=(e,...n)=>{t(e,n),I(e)!==e&&t(I(e),n)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const n=this._nonce;for(let t=e.length-1;t>=0;t--){const o=document.createElement("style");n&&o.setAttribute("nonce",n),o.textContent=e[t],this.shadowRoot.prepend(o)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const n=1===t.nodeType&&t.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),t=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const o=e[n],i=o.getAttribute("name")||"default",r=this._slots[i],s=o.parentNode;if(r)for(const e of r){if(t&&1===e.nodeType){const n=t+"-s",o=document.createTreeWalker(e,1);let i;for(e.setAttribute(n,"");i=o.nextNode();)i.setAttribute(n,"")}s.insertBefore(e,o)}else for(;o.firstChild;)s.insertBefore(o.firstChild,o);s.removeChild(o)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){0}}function Nl(e){const t=na(),n=t&&t.ce;return n||null}function Ll(){const e=Nl();return e&&e.shadowRoot}function jl(e="$style"){{const t=na();if(!t)return r;const n=t.type.__cssModules;if(!n)return r;const o=n[e];return o||r}}const Vl=new WeakMap,Bl=new WeakMap,Zl=Symbol("_moveCb"),Xl=Symbol("_enterCb"),Wl=(e=>(delete e.props.mode,e))({name:"TransitionGroup",props:d({},Fa,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=na(),o=Oo();let i,r;return mi((()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const o=e.cloneNode(),i=e[Ua];i&&i.forEach((e=>{e.split(/\s+/).forEach((e=>e&&o.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&o.classList.add(e))),o.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(o);const{hasTransform:s}=rl(o);return r.removeChild(o),s}(i[0].el,n.vnode.el,t))return;i.forEach(Ul),i.forEach(Yl);const o=i.filter(Fl);ll(),o.forEach((e=>{const n=e.el,o=n.style;el(n,t),o.transform=o.webkitTransform=o.transitionDuration="";const i=n[Zl]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n[Zl]=null,tl(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const s=Vt(e),a=Ka(s);let l=s.tag||ys;if(i=[],r)for(let e=0;e<r.length;e++){const t=r[e];t.el&&t.el instanceof Element&&(i.push(t),To(t,_o(t,a,o,n)),Vl.set(t,t.el.getBoundingClientRect()))}r=t.default?$o(t.default()):[];for(let e=0;e<r.length;e++){const t=r[e];null!=t.key&&To(t,_o(t,a,o,n))}return js(l,null,r)}}});function Ul(e){const t=e.el;t[Zl]&&t[Zl](),t[Xl]&&t[Xl]()}function Yl(e){Bl.set(e,e.el.getBoundingClientRect())}function Fl(e){const t=Vl.get(e),n=Bl.get(e),o=t.left-n.left,i=t.top-n.top;if(o||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${o}px,${i}px)`,t.transitionDuration="0s",e}}const ql=e=>{const t=e.props["onUpdate:modelValue"]||!1;return m(t)?e=>L(t,e):t};function Hl(e){e.target.composing=!0}function Gl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Kl=Symbol("_assign"),Jl={created(e,{modifiers:{lazy:t,trim:n,number:o}},i){e[Kl]=ql(i);const r=o||i.props&&"number"===i.props.type;kl(e,t?"change":"input",(t=>{if(t.target.composing)return;let o=e.value;n&&(o=o.trim()),r&&(o=V(o)),e[Kl](o)})),n&&kl(e,"change",(()=>{e.value=e.value.trim()})),t||(kl(e,"compositionstart",Hl),kl(e,"compositionend",Gl),kl(e,"change",Gl))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:i,number:r}},s){if(e[Kl]=ql(s),e.composing)return;const a=null==t?"":t;if((!r&&"number"!==e.type||/^0\d/.test(e.value)?e.value:V(e.value))!==a){if(document.activeElement===e&&"range"!==e.type){if(o&&t===n)return;if(i&&e.value.trim()===a)return}e.value=a}}},ec={deep:!0,created(e,t,n){e[Kl]=ql(n),kl(e,"change",(()=>{const t=e._modelValue,n=rc(e),o=e.checked,i=e[Kl];if(m(t)){const e=he(t,n),r=-1!==e;if(o&&!r)i(t.concat(n));else if(!o&&r){const n=[...t];n.splice(e,1),i(n)}}else if(O(t)){const e=new Set(t);o?e.add(n):e.delete(n),i(e)}else i(sc(e,o))}))},mounted:tc,beforeUpdate(e,t,n){e[Kl]=ql(n),tc(e,t,n)}};function tc(e,{value:t,oldValue:n},o){let i;if(e._modelValue=t,m(t))i=he(t,o.props.value)>-1;else if(O(t))i=t.has(o.props.value);else{if(t===n)return;i=de(t,sc(e,!0))}e.checked!==i&&(e.checked=i)}const nc={created(e,{value:t},n){e.checked=de(t,n.props.value),e[Kl]=ql(n),kl(e,"change",(()=>{e[Kl](rc(e))}))},beforeUpdate(e,{value:t,oldValue:n},o){e[Kl]=ql(o),t!==n&&(e.checked=de(t,o.props.value))}},oc={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=O(t);kl(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?V(rc(e)):rc(e)));e[Kl](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,Rn((()=>{e._assigning=!1}))})),e[Kl]=ql(o)},mounted(e,{value:t}){ic(e,t)},beforeUpdate(e,t,n){e[Kl]=ql(n)},updated(e,{value:t}){e._assigning||ic(e,t)}};function ic(e,t){const n=e.multiple,o=m(t);if(!n||o||O(t)){for(let i=0,r=e.options.length;i<r;i++){const r=e.options[i],s=rc(r);if(n)if(o){const e=typeof s;r.selected="string"===e||"number"===e?t.some((e=>String(e)===String(s))):he(t,s)>-1}else r.selected=t.has(s);else if(de(rc(r),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function rc(e){return"_value"in e?e._value:e.value}function sc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ac={created(e,t,n){cc(e,t,n,null,"created")},mounted(e,t,n){cc(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){cc(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){cc(e,t,n,o,"updated")}};function lc(e,t){switch(e){case"SELECT":return oc;case"TEXTAREA":return Jl;default:switch(t){case"checkbox":return ec;case"radio":return nc;default:return Jl}}}function cc(e,t,n,o,i){const r=lc(e.tagName,n.props&&n.props.type)[i];r&&r(e,t,n,o)}const uc=["ctrl","shift","alt","meta"],dc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>uc.some((n=>e[`${n}Key`]&&!t.includes(n)))},hc=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(n,...o)=>{for(let e=0;e<t.length;e++){const o=dc[t[e]];if(o&&o(n,t))return}return e(n,...o)})},fc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pc=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=n=>{if(!("key"in n))return;const o=I(n.key);return t.some((e=>e===o||fc[e]===o))?e(n):void 0})},mc=d({patchProp:(e,t,n,o,i,r)=>{const s="svg"===i;"class"===t?function(e,t,n){const o=e[Ua];o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,o,s):"style"===t?function(e,t,n){const o=e.style,i=y(n);let r=!1;if(n&&!i){if(t)if(y(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&bl(o,t,"")}else for(const e in t)null==n[e]&&bl(o,e,"");for(const e in n)"display"===e&&(r=!0),bl(o,e,n[e])}else if(i){if(t!==n){const e=o[fl];e&&(n+=";"+e),o.cssText=n,r=Ol.test(n)}}else t&&e.removeAttribute("style");cl in e&&(e[cl]=r?o.display:"",e[ul]&&(o.display="none"))}(e,n,o):c(t)?u(t)||Tl(e,t,0,o,r):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,o){if(o)return"innerHTML"===t||"textContent"===t||!!(t in e&&El(t)&&b(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(El(t)&&y(n))return!1;return t in e}(e,t,o,s))?(_l(e,t,o),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Sl(e,t,o,s,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&y(o)?("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),Sl(e,t,o,s)):_l(e,M(t),o,0,t)}},Za);let gc,Oc=!1;function vc(){return gc||(gc=zr(mc))}function bc(){return gc=Oc?gc:Nr(mc),Oc=!0,gc}const yc=(...e)=>{vc().render(...e)},xc=(...e)=>{bc().hydrate(...e)},wc=(...e)=>{const t=vc().createApp(...e);const{mount:n}=t;return t.mount=e=>{const o=kc(e);if(!o)return;const i=t._component;b(i)||i.render||i.template||(i.template=o.innerHTML),1===o.nodeType&&(o.textContent="");const r=n(o,!1,_c(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t},Sc=(...e)=>{const t=bc().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=kc(e);if(t)return n(t,!0,_c(t))},t};function _c(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function kc(e){if(y(e)){return document.querySelector(e)}return e}let Cc=!1;const Tc=()=>{Cc||(Cc=!0,Jl.getSSRProps=({value:e})=>({value:e}),nc.getSSRProps=({value:e},t)=>{if(t.props&&de(t.props.value,e))return{checked:!0}},ec.getSSRProps=({value:e},t)=>{if(m(e)){if(t.props&&he(e,t.props.value)>-1)return{checked:!0}}else if(O(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},ac.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=lc(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0},dl.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})},$c=Symbol(""),Pc=Symbol(""),Ac=Symbol(""),Qc=Symbol(""),Ec=Symbol(""),Mc=Symbol(""),Dc=Symbol(""),Ic=Symbol(""),Rc=Symbol(""),zc=Symbol(""),Nc=Symbol(""),Lc=Symbol(""),jc=Symbol(""),Vc=Symbol(""),Bc=Symbol(""),Zc=Symbol(""),Xc=Symbol(""),Wc=Symbol(""),Uc=Symbol(""),Yc=Symbol(""),Fc=Symbol(""),qc=Symbol(""),Hc=Symbol(""),Gc=Symbol(""),Kc=Symbol(""),Jc=Symbol(""),eu=Symbol(""),tu=Symbol(""),nu=Symbol(""),ou=Symbol(""),iu=Symbol(""),ru=Symbol(""),su=Symbol(""),au=Symbol(""),lu=Symbol(""),cu=Symbol(""),uu=Symbol(""),du=Symbol(""),hu=Symbol(""),fu={[$c]:"Fragment",[Pc]:"Teleport",[Ac]:"Suspense",[Qc]:"KeepAlive",[Ec]:"BaseTransition",[Mc]:"openBlock",[Dc]:"createBlock",[Ic]:"createElementBlock",[Rc]:"createVNode",[zc]:"createElementVNode",[Nc]:"createCommentVNode",[Lc]:"createTextVNode",[jc]:"createStaticVNode",[Vc]:"resolveComponent",[Bc]:"resolveDynamicComponent",[Zc]:"resolveDirective",[Xc]:"resolveFilter",[Wc]:"withDirectives",[Uc]:"renderList",[Yc]:"renderSlot",[Fc]:"createSlots",[qc]:"toDisplayString",[Hc]:"mergeProps",[Gc]:"normalizeClass",[Kc]:"normalizeStyle",[Jc]:"normalizeProps",[eu]:"guardReactiveProps",[tu]:"toHandlers",[nu]:"camelize",[ou]:"capitalize",[iu]:"toHandlerKey",[ru]:"setBlockTracking",[su]:"pushScopeId",[au]:"popScopeId",[lu]:"withCtx",[cu]:"unref",[uu]:"isRef",[du]:"withMemo",[hu]:"isMemoSame"};const pu={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function mu(e,t,n,o,i,r,s,a=!1,l=!1,c=!1,u=pu){return e&&(a?(e.helper(Mc),e.helper(ku(e.inSSR,c))):e.helper(_u(e.inSSR,c)),s&&e.helper(Wc)),{type:13,tag:t,props:n,children:o,patchFlag:i,dynamicProps:r,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function gu(e,t=pu){return{type:17,loc:t,elements:e}}function Ou(e,t=pu){return{type:15,loc:t,properties:e}}function vu(e,t){return{type:16,loc:pu,key:y(e)?bu(e,!0):e,value:t}}function bu(e,t=!1,n=pu,o=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:o}}function yu(e,t=pu){return{type:8,loc:t,children:e}}function xu(e,t=[],n=pu){return{type:14,loc:n,callee:e,arguments:t}}function wu(e,t=void 0,n=!1,o=!1,i=pu){return{type:18,params:e,returns:t,newline:n,isSlot:o,loc:i}}function Su(e,t,n,o=!0){return{type:19,test:e,consequent:t,alternate:n,newline:o,loc:pu}}function _u(e,t){return e||t?Rc:zc}function ku(e,t){return e||t?Dc:Ic}function Cu(e,{helper:t,removeHelper:n,inSSR:o}){e.isBlock||(e.isBlock=!0,n(_u(o,e.isComponent)),t(Mc),t(ku(o,e.isComponent)))}const Tu=new Uint8Array([123,123]),$u=new Uint8Array([125,125]);function Pu(e){return e>=97&&e<=122||e>=65&&e<=90}function Au(e){return 32===e||10===e||9===e||12===e||13===e}function Qu(e){return 47===e||62===e||Au(e)}function Eu(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const Mu={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};function Du(e,{compatConfig:t}){const n=t&&t[e];return"MODE"===e?n||3:n}function Iu(e,t){const n=Du("MODE",t),o=Du(e,t);return 3===n?!0===o:!1!==o}function Ru(e,t,n,...o){return Iu(e,t)}function zu(e){throw e}function Nu(e){}function Lu(e,t,n,o){const i=new SyntaxError(String(`https://vuejs.org/error-reference/#compiler-${e}`));return i.code=e,i.loc=t,i}const ju=e=>4===e.type&&e.isStatic;function Vu(e){switch(e){case"Teleport":case"teleport":return Pc;case"Suspense":case"suspense":return Ac;case"KeepAlive":case"keep-alive":return Qc;case"BaseTransition":case"base-transition":return Ec}}const Bu=/^\d|[^\$\w\xA0-\uFFFF]/,Zu=e=>!Bu.test(e),Xu=/[A-Za-z_$\xA0-\uFFFF]/,Wu=/[\.\?\w$\xA0-\uFFFF]/,Uu=/\s+[.[]\s*|\s*[.[]\s+/g,Yu=e=>4===e.type?e.content:e.loc.source,Fu=e=>{const t=Yu(e).trim().replace(Uu,(e=>e.trim()));let n=0,o=[],i=0,r=0,s=null;for(let e=0;e<t.length;e++){const a=t.charAt(e);switch(n){case 0:if("["===a)o.push(n),n=1,i++;else if("("===a)o.push(n),n=2,r++;else if(!(0===e?Xu:Wu).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(o.push(n),n=3,s=a):"["===a?i++:"]"===a&&(--i||(n=o.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)o.push(n),n=3,s=a;else if("("===a)r++;else if(")"===a){if(e===t.length-1)return!1;--r||(n=o.pop())}break;case 3:a===s&&(n=o.pop(),s=null)}}return!i&&!r},qu=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Hu=e=>qu.test(Yu(e));function Gu(e,t,n=!1){for(let o=0;o<e.props.length;o++){const i=e.props[o];if(7===i.type&&(n||i.exp)&&(y(t)?i.name===t:t.test(i.name)))return i}}function Ku(e,t,n=!1,o=!1){for(let i=0;i<e.props.length;i++){const r=e.props[i];if(6===r.type){if(n)continue;if(r.name===t&&(r.value||o))return r}else if("bind"===r.name&&(r.exp||o)&&Ju(r.arg,t))return r}}function Ju(e,t){return!(!e||!ju(e)||e.content!==t)}function ed(e){return 5===e.type||2===e.type}function td(e){return 7===e.type&&"slot"===e.name}function nd(e){return 1===e.type&&3===e.tagType}function od(e){return 1===e.type&&2===e.tagType}const id=new Set([Jc,eu]);function rd(e,t=[]){if(e&&!y(e)&&14===e.type){const n=e.callee;if(!y(n)&&id.has(n))return rd(e.arguments[0],t.concat(e))}return[e,t]}function sd(e,t,n){let o,i,r=13===e.type?e.props:e.arguments[2],s=[];if(r&&!y(r)&&14===r.type){const e=rd(r);r=e[0],s=e[1],i=s[s.length-1]}if(null==r||y(r))o=Ou([t]);else if(14===r.type){const e=r.arguments[0];y(e)||15!==e.type?r.callee===tu?o=xu(n.helper(Hc),[Ou([t]),r]):r.arguments.unshift(Ou([t])):ad(t,e)||e.properties.unshift(t),!o&&(o=r)}else 15===r.type?(ad(t,r)||r.properties.unshift(t),o=r):(o=xu(n.helper(Hc),[Ou([t]),r]),i&&i.callee===eu&&(i=s[s.length-2]));13===e.type?i?i.arguments[0]=o:e.props=o:i?i.arguments[0]=o:e.arguments[2]=o}function ad(e,t){let n=!1;if(4===e.key.type){const o=e.key.content;n=t.properties.some((e=>4===e.key.type&&e.key.content===o))}return n}function ld(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,n)=>"-"===t?"_":e.charCodeAt(n).toString()))}`}const cd=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,ud={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:l,isPreTag:l,isIgnoreNewlineTag:l,isCustomElement:l,onError:zu,onWarn:Nu,comments:!1,prefixIdentifiers:!1};let dd=ud,hd=null,fd="",pd=null,md=null,gd="",Od=-1,vd=-1,bd=0,yd=!1,xd=null;const wd=[],Sd=new class{constructor(e,t){this.stack=e,this.cbs=t,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Tu,this.delimiterClose=$u,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return 2===this.mode&&0===this.stack.length}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Tu,this.delimiterClose=$u}getPos(e){let t=1,n=e+1;for(let o=this.newlines.length-1;o>=0;o--){const i=this.newlines[o];if(e>i){t=o+2,n=e-i;break}}return{column:n,line:t,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){60===e?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):this.inVPre||e!==this.delimiterOpen[0]||(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?Qu(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.inRCDATA=!1;this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(62===e||Au(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.sectionStart=t+2,this.stateInClosingTagName(e),void(this.inRCDATA=!1)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===Mu.TitleEnd||this.currentSequence===Mu.TextareaEnd&&!this.inSFCRoot?this.inVPre||e!==this.delimiterOpen[0]||(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=Number(60===e)}stateCDATASequence(e){e===Mu.Cdata[this.sequenceIndex]?++this.sequenceIndex===Mu.Cdata.length&&(this.state=28,this.currentSequence=Mu.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);if(10===t&&this.newlines.push(this.index),t===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Mu.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,t){this.enterRCDATA(e,t),this.state=31}enterRCDATA(e,t){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=t}stateBeforeTagName(e){33===e?(this.state=22,this.sectionStart=this.index+1):63===e?(this.state=24,this.sectionStart=this.index+1):Pu(e)?(this.sectionStart=this.index,0===this.mode?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:this.state=116===e?30:115===e?29:6):47===e?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Qu(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Qu(e)){const t=this.buffer.slice(this.sectionStart,this.index);"template"!==t&&this.enterRCDATA(Eu("</"+t),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Au(e)||(62===e?(this.state=1,this.sectionStart=this.index+1):(this.state=Pu(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(62===e||Au(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){62===e&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){62===e?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):47===e?this.state=7:60===e&&47===this.peek()?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Au(e)||this.handleAttrStart(e)}handleAttrStart(e){118===e&&45===this.peek()?(this.state=13,this.sectionStart=this.index):46===e||58===e||64===e||35===e?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){62===e?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Au(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(61===e||Qu(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){61===e||Qu(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):58===e?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):46===e&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){61===e||Qu(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):91===e?this.state=15:46===e&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){93===e?this.state=14:(61===e||Qu(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){61===e||Qu(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):46===e&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){61===e?this.state=18:47===e||62===e?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Au(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){34===e?(this.state=19,this.sectionStart=this.index+1):39===e?(this.state=20,this.sectionStart=this.index+1):Au(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,t){(e===t||this.fastForwardTo(t))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(34===t?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Au(e)||62===e?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):39!==e&&60!==e&&61!==e&&96!==e||this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){91===e?(this.state=26,this.sequenceIndex=0):this.state=45===e?25:23}stateInDeclaration(e){(62===e||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(62===e||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){45===e?(this.state=28,this.currentSequence=Mu.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(62===e||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===Mu.ScriptEnd[3]?this.startSpecial(Mu.ScriptEnd,4):e===Mu.StyleEnd[3]?this.startSpecial(Mu.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===Mu.TitleEnd[3]?this.startSpecial(Mu.TitleEnd,4):e===Mu.TextareaEnd[3]?this.startSpecial(Mu.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(10===e&&this.newlines.push(this.index),this.state){case 1:this.stateText(e);break;case 2:this.stateInterpolationOpen(e);break;case 3:this.stateInterpolation(e);break;case 4:this.stateInterpolationClose(e);break;case 31:this.stateSpecialStartSequence(e);break;case 32:this.stateInRCDATA(e);break;case 26:this.stateCDATASequence(e);break;case 19:this.stateInAttrValueDoubleQuotes(e);break;case 12:this.stateInAttrName(e);break;case 13:this.stateInDirName(e);break;case 14:this.stateInDirArg(e);break;case 15:this.stateInDynamicDirArg(e);break;case 16:this.stateInDirModifier(e);break;case 28:this.stateInCommentLike(e);break;case 27:this.stateInSpecialComment(e);break;case 11:this.stateBeforeAttrName(e);break;case 6:this.stateInTagName(e);break;case 34:this.stateInSFCRootTagName(e);break;case 9:this.stateInClosingTagName(e);break;case 5:this.stateBeforeTagName(e);break;case 17:this.stateAfterAttrName(e);break;case 20:this.stateInAttrValueSingleQuotes(e);break;case 18:this.stateBeforeAttrValue(e);break;case 8:this.stateBeforeClosingTagName(e);break;case 10:this.stateAfterClosingTagName(e);break;case 29:this.stateBeforeSpecialS(e);break;case 30:this.stateBeforeSpecialT(e);break;case 21:this.stateInAttrValueNoQuotes(e);break;case 7:this.stateInSelfClosingTag(e);break;case 23:this.stateInDeclaration(e);break;case 22:this.stateBeforeDeclaration(e);break;case 25:this.stateBeforeComment(e);break;case 24:this.stateInProcessingInstruction(e);break;case 33:this.stateInEntity()}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(1===this.state||32===this.state&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):19!==this.state&&20!==this.state&&21!==this.state||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(28===this.state?this.currentSequence===Mu.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):6===this.state||11===this.state||18===this.state||17===this.state||12===this.state||13===this.state||14===this.state||15===this.state||16===this.state||20===this.state||19===this.state||21===this.state||9===this.state||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){}}(wd,{onerr:Xd,ontext(e,t){$d(Cd(e,t),e,t)},ontextentity(e,t,n){$d(e,t,n)},oninterpolation(e,t){if(yd)return $d(Cd(e,t),e,t);let n=e+Sd.delimiterOpen.length,o=t-Sd.delimiterClose.length;for(;Au(fd.charCodeAt(n));)n++;for(;Au(fd.charCodeAt(o-1));)o--;let i=Cd(n,o);i.includes("&")&&(i=dd.decodeEntities(i,!1)),Nd({type:5,content:Zd(i,!1,Ld(n,o)),loc:Ld(e,t)})},onopentagname(e,t){const n=Cd(e,t);pd={type:1,tag:n,ns:dd.getNamespace(n,wd[0],dd.ns),tagType:0,props:[],children:[],loc:Ld(e-1,t),codegenNode:void 0}},onopentagend(e){Td(e)},onclosetag(e,t){const n=Cd(e,t);if(!dd.isVoidTag(n)){let o=!1;for(let e=0;e<wd.length;e++){if(wd[e].tag.toLowerCase()===n.toLowerCase()){o=!0,e>0&&Xd(24,wd[0].loc.start.offset);for(let n=0;n<=e;n++){Pd(wd.shift(),t,n<e)}break}}o||Xd(23,Ad(e,60))}},onselfclosingtag(e){const t=pd.tag;pd.isSelfClosing=!0,Td(e),wd[0]&&wd[0].tag===t&&Pd(wd.shift(),e)},onattribname(e,t){md={type:6,name:Cd(e,t),nameLoc:Ld(e,t),value:void 0,loc:Ld(e)}},ondirname(e,t){const n=Cd(e,t),o="."===n||":"===n?"bind":"@"===n?"on":"#"===n?"slot":n.slice(2);if(yd||""!==o||Xd(26,e),yd||""===o)md={type:6,name:n,nameLoc:Ld(e,t),value:void 0,loc:Ld(e)};else if(md={type:7,name:o,rawName:n,exp:void 0,arg:void 0,modifiers:"."===n?[bu("prop")]:[],loc:Ld(e)},"pre"===o){yd=Sd.inVPre=!0,xd=pd;const e=pd.props;for(let t=0;t<e.length;t++)7===e[t].type&&(e[t]=Bd(e[t]))}},ondirarg(e,t){if(e===t)return;const n=Cd(e,t);if(yd)md.name+=n,Vd(md.nameLoc,t);else{const o="["!==n[0];md.arg=Zd(o?n:n.slice(1,-1),o,Ld(e,t),o?3:0)}},ondirmodifier(e,t){const n=Cd(e,t);if(yd)md.name+="."+n,Vd(md.nameLoc,t);else if("slot"===md.name){const e=md.arg;e&&(e.content+="."+n,Vd(e.loc,t))}else{const o=bu(n,!0,Ld(e,t));md.modifiers.push(o)}},onattribdata(e,t){gd+=Cd(e,t),Od<0&&(Od=e),vd=t},onattribentity(e,t,n){gd+=e,Od<0&&(Od=t),vd=n},onattribnameend(e){const t=md.loc.start.offset,n=Cd(t,e);7===md.type&&(md.rawName=n),pd.props.some((e=>(7===e.type?e.rawName:e.name)===n))&&Xd(2,t)},onattribend(e,t){if(pd&&md){if(Vd(md.loc,t),0!==e)if(gd.includes("&")&&(gd=dd.decodeEntities(gd,!0)),6===md.type)"class"===md.name&&(gd=zd(gd).trim()),1!==e||gd||Xd(13,t),md.value={type:2,content:gd,loc:1===e?Ld(Od,vd):Ld(Od-1,vd+1)},Sd.inSFCRoot&&"template"===pd.tag&&"lang"===md.name&&gd&&"html"!==gd&&Sd.enterRCDATA(Eu("</template"),0);else{let e=0;md.exp=Zd(gd,!1,Ld(Od,vd),0,e),"for"===md.name&&(md.forParseResult=function(e){const t=e.loc,n=e.content,o=n.match(cd);if(!o)return;const[,i,r]=o,s=(e,n,o=!1)=>{const i=t.start.offset+n;return Zd(e,!1,Ld(i,i+e.length),0,o?1:0)},a={source:s(r.trim(),n.indexOf(r,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(kd,"").trim();const c=i.indexOf(l),u=l.match(_d);if(u){l=l.replace(_d,"").trim();const e=u[1].trim();let t;if(e&&(t=n.indexOf(e,c+l.length),a.key=s(e,t,!0)),u[2]){const o=u[2].trim();o&&(a.index=s(o,n.indexOf(o,a.key?t+e.length:c+l.length),!0))}}l&&(a.value=s(l,c,!0));return a}(md.exp));let t=-1;"bind"===md.name&&(t=md.modifiers.findIndex((e=>"sync"===e.content)))>-1&&Ru("COMPILER_V_BIND_SYNC",dd,md.loc,md.rawName)&&(md.name="model",md.modifiers.splice(t,1))}7===md.type&&"pre"===md.name||pd.props.push(md)}gd="",Od=vd=-1},oncomment(e,t){dd.comments&&Nd({type:3,content:Cd(e,t),loc:Ld(e-4,t+3)})},onend(){const e=fd.length;for(let t=0;t<wd.length;t++)Pd(wd[t],e-1),Xd(24,wd[t].loc.start.offset)},oncdata(e,t){0!==wd[0].ns?$d(Cd(e,t),e,t):Xd(1,e-9)},onprocessinginstruction(e){0===(wd[0]?wd[0].ns:dd.ns)&&Xd(21,e-1)}}),_d=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,kd=/^\(|\)$/g;function Cd(e,t){return fd.slice(e,t)}function Td(e){Sd.inSFCRoot&&(pd.innerLoc=Ld(e+1,e+1)),Nd(pd);const{tag:t,ns:n}=pd;0===n&&dd.isPreTag(t)&&bd++,dd.isVoidTag(t)?Pd(pd,e):(wd.unshift(pd),1!==n&&2!==n||(Sd.inXML=!0)),pd=null}function $d(e,t,n){{const t=wd[0]&&wd[0].tag;"script"!==t&&"style"!==t&&e.includes("&")&&(e=dd.decodeEntities(e,!1))}const o=wd[0]||hd,i=o.children[o.children.length-1];i&&2===i.type?(i.content+=e,Vd(i.loc,n)):o.children.push({type:2,content:e,loc:Ld(t,n)})}function Pd(e,t,n=!1){Vd(e.loc,n?Ad(t,60):function(e,t){let n=e;for(;fd.charCodeAt(n)!==t&&n<fd.length-1;)n++;return n}(t,62)+1),Sd.inSFCRoot&&(e.children.length?e.innerLoc.end=d({},e.children[e.children.length-1].loc.end):e.innerLoc.end=d({},e.innerLoc.start),e.innerLoc.source=Cd(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:o,ns:i,children:r}=e;if(yd||("slot"===o?e.tagType=2:Ed(e)?e.tagType=3:function({tag:e,props:t}){if(dd.isCustomElement(e))return!1;if("component"===e||(n=e.charCodeAt(0),n>64&&n<91)||Vu(e)||dd.isBuiltInComponent&&dd.isBuiltInComponent(e)||dd.isNativeTag&&!dd.isNativeTag(e))return!0;var n;for(let e=0;e<t.length;e++){const n=t[e];if(6===n.type){if("is"===n.name&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(Ru("COMPILER_IS_ON_ELEMENT",dd,n.loc))return!0}}else if("bind"===n.name&&Ju(n.arg,"is")&&Ru("COMPILER_IS_ON_ELEMENT",dd,n.loc))return!0}return!1}(e)&&(e.tagType=1)),Sd.inRCDATA||(e.children=Dd(r)),0===i&&dd.isIgnoreNewlineTag(o)){const e=r[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}0===i&&dd.isPreTag(o)&&bd--,xd===e&&(yd=Sd.inVPre=!1,xd=null),Sd.inXML&&0===(wd[0]?wd[0].ns:dd.ns)&&(Sd.inXML=!1);{const t=e.props;if(!Sd.inSFCRoot&&Iu("COMPILER_NATIVE_TEMPLATE",dd)&&"template"===e.tag&&!Ed(e)){const t=wd[0]||hd,n=t.children.indexOf(e);t.children.splice(n,1,...e.children)}const n=t.find((e=>6===e.type&&"inline-template"===e.name));n&&Ru("COMPILER_INLINE_TEMPLATE",dd,n.loc)&&e.children.length&&(n.value={type:2,content:Cd(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:n.loc})}}function Ad(e,t){let n=e;for(;fd.charCodeAt(n)!==t&&n>=0;)n--;return n}const Qd=new Set(["if","else","else-if","for","slot"]);function Ed({tag:e,props:t}){if("template"===e)for(let e=0;e<t.length;e++)if(7===t[e].type&&Qd.has(t[e].name))return!0;return!1}const Md=/\r\n/g;function Dd(e,t){const n="preserve"!==dd.whitespace;let o=!1;for(let t=0;t<e.length;t++){const i=e[t];if(2===i.type)if(bd)i.content=i.content.replace(Md,"\n");else if(Id(i.content)){const r=e[t-1]&&e[t-1].type,s=e[t+1]&&e[t+1].type;!r||!s||n&&(3===r&&(3===s||1===s)||1===r&&(3===s||1===s&&Rd(i.content)))?(o=!0,e[t]=null):i.content=" "}else n&&(i.content=zd(i.content))}return o?e.filter(Boolean):e}function Id(e){for(let t=0;t<e.length;t++)if(!Au(e.charCodeAt(t)))return!1;return!0}function Rd(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(10===n||13===n)return!0}return!1}function zd(e){let t="",n=!1;for(let o=0;o<e.length;o++)Au(e.charCodeAt(o))?n||(t+=" ",n=!0):(t+=e[o],n=!1);return t}function Nd(e){(wd[0]||hd).children.push(e)}function Ld(e,t){return{start:Sd.getPos(e),end:null==t?t:Sd.getPos(t),source:null==t?t:Cd(e,t)}}function jd(e){return Ld(e.start.offset,e.end.offset)}function Vd(e,t){e.end=Sd.getPos(t),e.source=Cd(e.start.offset,t)}function Bd(e){const t={type:6,name:e.rawName,nameLoc:Ld(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function Zd(e,t=!1,n,o=0,i=0){return bu(e,t,n,o)}function Xd(e,t,n){dd.onError(Lu(e,Ld(t,t)))}function Wd(e,t){if(Sd.reset(),pd=null,md=null,gd="",Od=-1,vd=-1,wd.length=0,fd=e,dd=d({},ud),t){let e;for(e in t)null!=t[e]&&(dd[e]=t[e])}Sd.mode="html"===dd.parseMode?1:"sfc"===dd.parseMode?2:0,Sd.inXML=1===dd.ns||2===dd.ns;const n=t&&t.delimiters;n&&(Sd.delimiterOpen=Eu(n[0]),Sd.delimiterClose=Eu(n[1]));const o=hd=function(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:pu}}([],e);return Sd.parse(fd),o.loc=Ld(0,e.length),o.children=Dd(o.children),hd=null,o}function Ud(e,t){Fd(e,void 0,t,Yd(e,e.children[0]))}function Yd(e,t){const{children:n}=e;return 1===n.length&&1===t.type&&!od(t)}function Fd(e,t,n,o=!1,i=!1){const{children:r}=e,s=[];for(let t=0;t<r.length;t++){const a=r[t];if(1===a.type&&0===a.tagType){const e=o?0:qd(a,n);if(e>0){if(e>=2){a.codegenNode.patchFlag=-1,s.push(a);continue}}else{const e=a.codegenNode;if(13===e.type){const t=e.patchFlag;if((void 0===t||512===t||1===t)&&Kd(a,n)>=2){const t=Jd(a);t&&(e.props=n.hoist(t))}e.dynamicProps&&(e.dynamicProps=n.hoist(e.dynamicProps))}}}else if(12===a.type){if((o?0:qd(a,n))>=2){s.push(a);continue}}if(1===a.type){const t=1===a.tagType;t&&n.scopes.vSlot++,Fd(a,e,n,!1,i),t&&n.scopes.vSlot--}else if(11===a.type)Fd(a,e,n,1===a.children.length,!0);else if(9===a.type)for(let t=0;t<a.branches.length;t++)Fd(a.branches[t],e,n,1===a.branches[t].children.length,i)}let a=!1;if(s.length===r.length&&1===e.type)if(0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&m(e.codegenNode.children))e.codegenNode.children=l(gu(e.codegenNode.children)),a=!0;else if(1===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&e.codegenNode.children&&!m(e.codegenNode.children)&&15===e.codegenNode.children.type){const t=c(e.codegenNode,"default");t&&(t.returns=l(gu(t.returns)),a=!0)}else if(3===e.tagType&&t&&1===t.type&&1===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&t.codegenNode.children&&!m(t.codegenNode.children)&&15===t.codegenNode.children.type){const n=Gu(e,"slot",!0),o=n&&n.arg&&c(t.codegenNode,n.arg);o&&(o.returns=l(gu(o.returns)),a=!0)}if(!a)for(const e of s)e.codegenNode=n.cache(e.codegenNode);function l(e){const t=n.cache(e);return i&&n.hmr&&(t.needArraySpread=!0),t}function c(e,t){if(e.children&&!m(e.children)&&15===e.children.type){const n=e.children.properties.find((e=>e.key===t||e.key.content===t));return n&&n.value}}s.length&&n.transformHoist&&n.transformHoist(r,n,e)}function qd(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const o=n.get(e);if(void 0!==o)return o;const i=e.codegenNode;if(13!==i.type)return 0;if(i.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag&&"math"!==e.tag)return 0;if(void 0===i.patchFlag){let o=3;const r=Kd(e,t);if(0===r)return n.set(e,0),0;r<o&&(o=r);for(let i=0;i<e.children.length;i++){const r=qd(e.children[i],t);if(0===r)return n.set(e,0),0;r<o&&(o=r)}if(o>1)for(let i=0;i<e.props.length;i++){const r=e.props[i];if(7===r.type&&"bind"===r.name&&r.exp){const i=qd(r.exp,t);if(0===i)return n.set(e,0),0;i<o&&(o=i)}}if(i.isBlock){for(let t=0;t<e.props.length;t++){if(7===e.props[t].type)return n.set(e,0),0}t.removeHelper(Mc),t.removeHelper(ku(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(_u(t.inSSR,i.isComponent))}return n.set(e,o),o}return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return qd(e.content,t);case 4:return e.constType;case 8:let r=3;for(let n=0;n<e.children.length;n++){const o=e.children[n];if(y(o)||x(o))continue;const i=qd(o,t);if(0===i)return 0;i<r&&(r=i)}return r;case 20:return 2}}const Hd=new Set([Gc,Kc,Jc,eu]);function Gd(e,t){if(14===e.type&&!y(e.callee)&&Hd.has(e.callee)){const n=e.arguments[0];if(4===n.type)return qd(n,t);if(14===n.type)return Gd(n,t)}return 0}function Kd(e,t){let n=3;const o=Jd(e);if(o&&15===o.type){const{properties:e}=o;for(let o=0;o<e.length;o++){const{key:i,value:r}=e[o],s=qd(i,t);if(0===s)return s;let a;if(s<n&&(n=s),a=4===r.type?qd(r,t):14===r.type?Gd(r,t):0,0===a)return a;a<n&&(n=a)}}return n}function Jd(e){const t=e.codegenNode;if(13===t.type)return t.props}function eh(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:o=!1,hmr:i=!1,cacheHandlers:s=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:u=null,isBuiltInComponent:d=a,isCustomElement:h=a,expressionPlugins:f=[],scopeId:p=null,slotted:m=!0,ssr:g=!1,inSSR:O=!1,ssrCssVars:v="",bindingMetadata:b=r,inline:x=!1,isTS:w=!1,onError:S=zu,onWarn:_=Nu,compatConfig:k}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={filename:t,selfName:C&&R(M(C[1])),prefixIdentifiers:n,hoistStatic:o,hmr:i,cacheHandlers:s,nodeTransforms:l,directiveTransforms:c,transformHoist:u,isBuiltInComponent:d,isCustomElement:h,expressionPlugins:f,scopeId:p,slotted:m,ssr:g,inSSR:O,ssrCssVars:v,bindingMetadata:b,inline:x,isTS:w,onError:S,onWarn:_,compatConfig:k,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=T.helpers.get(e)||0;return T.helpers.set(e,t+1),e},removeHelper(e){const t=T.helpers.get(e);if(t){const n=t-1;n?T.helpers.set(e,n):T.helpers.delete(e)}},helperString:e=>`_${fu[T.helper(e)]}`,replaceNode(e){T.parent.children[T.childIndex]=T.currentNode=e},removeNode(e){const t=T.parent.children,n=e?t.indexOf(e):T.currentNode?T.childIndex:-1;e&&e!==T.currentNode?T.childIndex>n&&(T.childIndex--,T.onNodeRemoved()):(T.currentNode=null,T.onNodeRemoved()),T.parent.children.splice(n,1)},onNodeRemoved:a,addIdentifiers(e){},removeIdentifiers(e){},hoist(e){y(e)&&(e=bu(e)),T.hoists.push(e);const t=bu(`_hoisted_${T.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache(e,t=!1,n=!1){const o=function(e,t,n=!1,o=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:o,needArraySpread:!1,loc:pu}}(T.cached.length,e,t,n);return T.cached.push(o),o}};return T.filters=new Set,T}function th(e,t){const n=eh(e,t);nh(e,n),t.hoistStatic&&Ud(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:o}=e;if(1===o.length){const n=o[0];if(Yd(e,n)&&n.codegenNode){const o=n.codegenNode;13===o.type&&Cu(o,t),e.codegenNode=o}else e.codegenNode=n}else if(o.length>1){let o=64;0,e.codegenNode=mu(t,n($c),void 0,e.children,o,void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function nh(e,t){t.currentNode=e;const{nodeTransforms:n}=t,o=[];for(let i=0;i<n.length;i++){const r=n[i](e,t);if(r&&(m(r)?o.push(...r):o.push(r)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(Nc);break;case 5:t.ssr||t.helper(qc);break;case 9:for(let n=0;n<e.branches.length;n++)nh(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const o=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];y(i)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=o,nh(i,t))}}(e,t)}t.currentNode=e;let i=o.length;for(;i--;)o[i]()}function oh(e,t){const n=y(e)?t=>t===e:t=>e.test(t);return(e,o)=>{if(1===e.type){const{props:i}=e;if(3===e.tagType&&i.some(td))return;const r=[];for(let s=0;s<i.length;s++){const a=i[s];if(7===a.type&&n(a.name)){i.splice(s,1),s--;const n=t(e,a,o);n&&r.push(n)}}return r}}}const ih="/*@__PURE__*/",rh=e=>`${fu[e]}: _${fu[e]}`;function sh(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:o=!1,filename:i="template.vue.html",scopeId:r=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:h=!1}){const f={mode:t,prefixIdentifiers:n,sourceMap:o,filename:i,scopeId:r,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:h,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${fu[e]}`,push(e,t=-2,n){f.code+=e},indent(){p(++f.indentLevel)},deindent(e=!1){e?--f.indentLevel:p(--f.indentLevel)},newline(){p(f.indentLevel)}};function p(e){f.push("\n"+"  ".repeat(e),0)}return f}(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:o,push:i,prefixIdentifiers:r,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=n,d=Array.from(e.helpers),h=d.length>0,f=!r&&"module"!==o;!function(e,t){const{ssr:n,prefixIdentifiers:o,push:i,newline:r,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,u=Array.from(e.helpers);if(u.length>0&&(i(`const _Vue = ${c}\n`,-1),e.hoists.length)){i(`const { ${[Rc,zc,Nc,Lc,jc].filter((e=>u.includes(e))).map(rh).join(", ")} } = _Vue\n`,-1)}(function(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:o}=t;o();for(let i=0;i<e.length;i++){const r=e[i];r&&(n(`const _hoisted_${i+1} = `),uh(r,t),o())}t.pure=!1})(e.hoists,t),r(),i("return ")}(e,n);if(i(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),f&&(i("with (_ctx) {"),s(),h&&(i(`const { ${d.map(rh).join(", ")} } = _Vue\n`,-1),l())),e.components.length&&(ah(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(ah(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),ah(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let t=0;t<e.temps;t++)i(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(i("\n",0),l()),u||i("return "),e.codegenNode?uh(e.codegenNode,n):i("null"),f&&(a(),i("}")),a(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function ah(e,t,{helper:n,push:o,newline:i,isTS:r}){const s=n("filter"===t?Xc:"component"===t?Vc:Zc);for(let n=0;n<e.length;n++){let a=e[n];const l=a.endsWith("__self");l&&(a=a.slice(0,-6)),o(`const ${ld(a,t)} = ${s}(${JSON.stringify(a)}${l?", true":""})${r?"!":""}`),n<e.length-1&&i()}}function lh(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),ch(e,t,n),n&&t.deindent(),t.push("]")}function ch(e,t,n=!1,o=!0){const{push:i,newline:r}=t;for(let s=0;s<e.length;s++){const a=e[s];y(a)?i(a,-3):m(a)?lh(a,t):uh(a,t),s<e.length-1&&(n?(o&&i(","),r()):o&&i(", "))}}function uh(e,t){if(y(e))t.push(e,-3);else if(x(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:uh(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),-3,e)}(e,t);break;case 4:dh(e,t);break;case 5:!function(e,t){const{push:n,helper:o,pure:i}=t;i&&n(ih);n(`${o(qc)}(`),uh(e.content,t),n(")")}(e,t);break;case 8:hh(e,t);break;case 3:!function(e,t){const{push:n,helper:o,pure:i}=t;i&&n(ih);n(`${o(Nc)}(${JSON.stringify(e.content)})`,-3,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:o,pure:i}=t,{tag:r,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:h,isComponent:f}=e;let p;l&&(p=String(l));u&&n(o(Wc)+"(");d&&n(`(${o(Mc)}(${h?"true":""}), `);i&&n(ih);const m=d?ku(t.inSSR,f):_u(t.inSSR,f);n(o(m)+"(",-2,e),ch(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([r,s,a,p,c]),t),n(")"),d&&n(")");u&&(n(", "),uh(u,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:o,pure:i}=t,r=y(e.callee)?e.callee:o(e.callee);i&&n(ih);n(r+"(",-2,e),ch(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:o,deindent:i,newline:r}=t,{properties:s}=e;if(!s.length)return void n("{}",-2,e);const a=s.length>1||!1;n(a?"{":"{ "),a&&o();for(let e=0;e<s.length;e++){const{key:o,value:i}=s[e];fh(o,t),n(": "),uh(i,t),e<s.length-1&&(n(","),r())}a&&i(),n(a?"}":" }")}(e,t);break;case 17:!function(e,t){lh(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:o,deindent:i}=t,{params:r,returns:s,body:a,newline:l,isSlot:c}=e;c&&n(`_${fu[lu]}(`);n("(",-2,e),m(r)?ch(r,t):r&&uh(r,t);n(") => "),(l||a)&&(n("{"),o());s?(l&&n("return "),m(s)?lh(s,t):uh(s,t)):a&&uh(a,t);(l||a)&&(i(),n("}"));c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}(e,t);break;case 19:!function(e,t){const{test:n,consequent:o,alternate:i,newline:r}=e,{push:s,indent:a,deindent:l,newline:c}=t;if(4===n.type){const e=!Zu(n.content);e&&s("("),dh(n,t),e&&s(")")}else s("("),uh(n,t),s(")");r&&a(),t.indentLevel++,r||s(" "),s("? "),uh(o,t),t.indentLevel--,r&&c(),r||s(" "),s(": ");const u=19===i.type;u||t.indentLevel++;uh(i,t),u||t.indentLevel--;r&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:o,indent:i,deindent:r,newline:s}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&n("[...(");n(`_cache[${e.index}] || (`),a&&(i(),n(`${o(ru)}(-1`),e.inVOnce&&n(", true"),n("),"),s(),n("("));n(`_cache[${e.index}] = `),uh(e.value,t),a&&(n(`).cacheIndex = ${e.index},`),s(),n(`${o(ru)}(1),`),s(),n(`_cache[${e.index}]`),r());n(")"),l&&n(")]")}(e,t);break;case 21:ch(e.body,t,!0,!1)}}function dh(e,t){const{content:n,isStatic:o}=e;t.push(o?JSON.stringify(n):n,-3,e)}function hh(e,t){for(let n=0;n<e.children.length;n++){const o=e.children[n];y(o)?t.push(o,-3):uh(o,t)}}function fh(e,t){const{push:n}=t;if(8===e.type)n("["),hh(e,t),n("]");else if(e.isStatic){n(Zu(e.content)?e.content:JSON.stringify(e.content),-2,e)}else n(`[${e.content}]`,-3,e)}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const ph=oh(/^(if|else|else-if)$/,((e,t,n)=>function(e,t,n,o){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const o=t.exp?t.exp.loc:e.loc;n.onError(Lu(28,t.loc)),t.exp=bu("true",!1,o)}0;if("if"===t.name){const i=mh(e,t),r={type:9,loc:jd(e.loc),branches:[i]};if(n.replaceNode(r),o)return o(r,i,!0)}else{const i=n.parent.children;let r=i.indexOf(e);for(;r-- >=-1;){const s=i[r];if(s&&3===s.type)n.removeNode(s);else{if(!s||2!==s.type||s.content.trim().length){if(s&&9===s.type){"else-if"===t.name&&void 0===s.branches[s.branches.length-1].condition&&n.onError(Lu(30,e.loc)),n.removeNode();const i=mh(e,t);0,s.branches.push(i);const r=o&&o(s,i,!1);nh(i,n),r&&r(),n.currentNode=null}else n.onError(Lu(30,e.loc));break}n.removeNode(s)}}}}(e,t,n,((e,t,o)=>{const i=n.parent.children;let r=i.indexOf(e),s=0;for(;r-- >=0;){const e=i[r];e&&9===e.type&&(s+=e.branches.length)}return()=>{if(o)e.codegenNode=gh(t,s,n);else{const o=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);o.alternate=gh(t,s+e.branches.length-1,n)}}}))));function mh(e,t){const n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!Gu(e,"for")?e.children:[e],userKey:Ku(e,"key"),isTemplateIf:n}}function gh(e,t,n){return e.condition?Su(e.condition,Oh(e,t,n),xu(n.helper(Nc),['""',"true"])):Oh(e,t,n)}function Oh(e,t,n){const{helper:o}=n,i=vu("key",bu(`${t}`,!1,pu,2)),{children:r}=e,s=r[0];if(1!==r.length||1!==s.type){if(1===r.length&&11===s.type){const e=s.codegenNode;return sd(e,i,n),e}{let t=64;return mu(n,o($c),Ou([i]),r,t,void 0,void 0,!0,!1,!1,e.loc)}}{const e=s.codegenNode,t=14===(a=e).type&&a.callee===du?a.arguments[1].returns:a;return 13===t.type&&Cu(t,n),sd(t,i,n),e}var a}const vh=(e,t,n)=>{const{modifiers:o,loc:i}=e,r=e.arg;let{exp:s}=e;if(s&&4===s.type&&!s.content.trim()&&(s=void 0),!s){if(4!==r.type||!r.isStatic)return n.onError(Lu(52,r.loc)),{props:[vu(r,bu("",!0,i))]};bh(e),s=e.exp}return 4!==r.type?(r.children.unshift("("),r.children.push(') || ""')):r.isStatic||(r.content=`${r.content} || ""`),o.some((e=>"camel"===e.content))&&(4===r.type?r.isStatic?r.content=M(r.content):r.content=`${n.helperString(nu)}(${r.content})`:(r.children.unshift(`${n.helperString(nu)}(`),r.children.push(")"))),n.inSSR||(o.some((e=>"prop"===e.content))&&yh(r,"."),o.some((e=>"attr"===e.content))&&yh(r,"^")),{props:[vu(r,s)]}},bh=(e,t)=>{const n=e.arg,o=M(n.content);e.exp=bu(o,!1,n.loc)},yh=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},xh=oh("for",((e,t,n)=>{const{helper:o,removeHelper:i}=n;return function(e,t,n,o){if(!t.exp)return void n.onError(Lu(31,t.loc));const i=t.forParseResult;if(!i)return void n.onError(Lu(32,t.loc));wh(i,n);const{addIdentifiers:r,removeIdentifiers:s,scopes:a}=n,{source:l,value:c,key:u,index:d}=i,h={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:d,parseResult:i,children:nd(e)?e.children:[e]};n.replaceNode(h),a.vFor++;const f=o&&o(h);return()=>{a.vFor--,f&&f()}}(e,t,n,(t=>{const r=xu(o(Uc),[t.source]),s=nd(e),a=Gu(e,"memo"),l=Ku(e,"key",!1,!0);l&&7===l.type&&!l.exp&&bh(l);let c=l&&(6===l.type?l.value?bu(l.value.content,!0):void 0:l.exp);const u=l&&c?vu("key",c):null,d=4===t.source.type&&t.source.constType>0,h=d?64:l?128:256;return t.codegenNode=mu(n,o($c),void 0,r,h,void 0,void 0,!0,!d,!1,e.loc),()=>{let l;const{children:h}=t;const f=1!==h.length||1!==h[0].type,p=od(e)?e:s&&1===e.children.length&&od(e.children[0])?e.children[0]:null;if(p?(l=p.codegenNode,s&&u&&sd(l,u,n)):f?l=mu(n,o($c),u?Ou([u]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(l=h[0].codegenNode,s&&u&&sd(l,u,n),l.isBlock!==!d&&(l.isBlock?(i(Mc),i(ku(n.inSSR,l.isComponent))):i(_u(n.inSSR,l.isComponent))),l.isBlock=!d,l.isBlock?(o(Mc),o(ku(n.inSSR,l.isComponent))):o(_u(n.inSSR,l.isComponent))),a){const e=wu(Sh(t.parseResult,[bu("_cached")]));e.body={type:21,body:[yu(["const _memo = (",a.exp,")"]),yu(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString(hu)}(_cached, _memo)) return _cached`]),yu(["const _item = ",l]),bu("_item.memo = _memo"),bu("return _item")],loc:pu},r.arguments.push(e,bu("_cache"),bu(String(n.cached.length))),n.cached.push(null)}else r.arguments.push(wu(Sh(t.parseResult),l,!0))}}))}));function wh(e,t){e.finalized||(e.finalized=!0)}function Sh({value:e,key:t,index:n},o=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||bu("_".repeat(t+1),!1)))}([e,t,n,...o])}const _h=bu("undefined",!1),kh=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=Gu(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Ch=(e,t,n,o)=>wu(e,n,!1,!0,n.length?n[0].loc:o);function Th(e,t,n=Ch){t.helper(lu);const{children:o,loc:i}=e,r=[],s=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Gu(e,"slot",!0);if(l){const{arg:e,exp:t}=l;e&&!ju(e)&&(a=!0),r.push(vu(e||bu("default",!0),n(t,void 0,o,i)))}let c=!1,u=!1;const d=[],h=new Set;let f=0;for(let e=0;e<o.length;e++){const i=o[e];let p;if(!nd(i)||!(p=Gu(i,"slot",!0))){3!==i.type&&d.push(i);continue}if(l){t.onError(Lu(37,p.loc));break}c=!0;const{children:m,loc:g}=i,{arg:O=bu("default",!0),exp:v,loc:b}=p;let y;ju(O)?y=O?O.content:"default":a=!0;const x=Gu(i,"for"),w=n(v,x,m,g);let S,_;if(S=Gu(i,"if"))a=!0,s.push(Su(S.exp,$h(O,w,f++),_h));else if(_=Gu(i,/^else(-if)?$/,!0)){let n,i=e;for(;i--&&(n=o[i],3===n.type););if(n&&nd(n)&&Gu(n,/^(else-)?if$/)){let e=s[s.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=_.exp?Su(_.exp,$h(O,w,f++),_h):$h(O,w,f++)}else t.onError(Lu(30,_.loc))}else if(x){a=!0;const e=x.forParseResult;e?(wh(e),s.push(xu(t.helper(Uc),[e.source,wu(Sh(e),$h(O,w),!0)]))):t.onError(Lu(32,x.loc))}else{if(y){if(h.has(y)){t.onError(Lu(38,b));continue}h.add(y),"default"===y&&(u=!0)}r.push(vu(O,w))}}if(!l){const e=(e,o)=>{const r=n(e,void 0,o,i);return t.compatConfig&&(r.isNonScopedSlot=!0),vu("default",r)};c?d.length&&d.some((e=>Ah(e)))&&(u?t.onError(Lu(39,d[0].loc)):r.push(e(void 0,d))):r.push(e(void 0,o))}const p=a?2:Ph(e.children)?3:1;let m=Ou(r.concat(vu("_",bu(p+"",!1))),i);return s.length&&(m=xu(t.helper(Fc),[m,gu(s)])),{slots:m,hasDynamicSlots:a}}function $h(e,t,n){const o=[vu("name",e),vu("fn",t)];return null!=n&&o.push(vu("key",bu(String(n),!0))),Ou(o)}function Ph(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||Ph(n.children))return!0;break;case 9:if(Ph(n.branches))return!0;break;case 10:case 11:if(Ph(n.children))return!0}}return!1}function Ah(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():Ah(e.content))}const Qh=new WeakMap,Eh=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:o}=e,i=1===e.tagType;let r=i?function(e,t,n=!1){let{tag:o}=e;const i=Rh(o),r=Ku(e,"is",!1,!0);if(r)if(i||Iu("COMPILER_IS_ON_ELEMENT",t)){let e;if(6===r.type?e=r.value&&bu(r.value.content,!0):(e=r.exp,e||(e=bu("is",!1,r.arg.loc))),e)return xu(t.helper(Bc),[e])}else 6===r.type&&r.value.content.startsWith("vue:")&&(o=r.value.content.slice(4));const s=Vu(o)||t.isBuiltInComponent(o);if(s)return n||t.helper(s),s;return t.helper(Vc),t.components.add(o),ld(o,"component")}(e,t):`"${n}"`;const s=w(r)&&r.callee===Bc;let a,l,c,u,d,h=0,f=s||r===Pc||r===Ac||!i&&("svg"===n||"foreignObject"===n||"math"===n);if(o.length>0){const n=Mh(e,t,void 0,i,s);a=n.props,h=n.patchFlag,u=n.dynamicPropNames;const o=n.directives;d=o&&o.length?gu(o.map((e=>function(e,t){const n=[],o=Qh.get(e);o?n.push(t.helperString(o)):(t.helper(Zc),t.directives.add(e.name),n.push(ld(e.name,"directive")));const{loc:i}=e;e.exp&&n.push(e.exp);e.arg&&(e.exp||n.push("void 0"),n.push(e.arg));if(Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=bu("true",!1,i);n.push(Ou(e.modifiers.map((e=>vu(e,t))),i))}return gu(n,e.loc)}(e,t)))):void 0,n.shouldUseBlock&&(f=!0)}if(e.children.length>0){r===Qc&&(f=!0,h|=1024);if(i&&r!==Pc&&r!==Qc){const{slots:n,hasDynamicSlots:o}=Th(e,t);l=n,o&&(h|=1024)}else if(1===e.children.length&&r!==Pc){const n=e.children[0],o=n.type,i=5===o||8===o;i&&0===qd(n,t)&&(h|=1),l=i||2===o?n:e.children}else l=e.children}u&&u.length&&(c=function(e){let t="[";for(let n=0,o=e.length;n<o;n++)t+=JSON.stringify(e[n]),n<o-1&&(t+=", ");return t+"]"}(u)),e.codegenNode=mu(t,r,a,l,0===h?void 0:h,c,d,!!f,!1,i,e.loc)};function Mh(e,t,n=e.props,o,i,r=!1){const{tag:s,loc:a,children:l}=e;let u=[];const d=[],h=[],f=l.length>0;let p=!1,m=0,g=!1,O=!1,v=!1,b=!1,y=!1,w=!1;const S=[],_=e=>{u.length&&(d.push(Ou(Dh(u),a)),u=[]),e&&d.push(e)},k=()=>{t.scopes.vFor>0&&u.push(vu(bu("ref_for",!0),bu("true")))},C=({key:e,value:n})=>{if(ju(e)){const r=e.content,s=c(r);if(!s||o&&!i||"onclick"===r.toLowerCase()||"onUpdate:modelValue"===r||P(r)||(b=!0),s&&P(r)&&(w=!0),s&&14===n.type&&(n=n.arguments[0]),20===n.type||(4===n.type||8===n.type)&&qd(n,t)>0)return;"ref"===r?g=!0:"class"===r?O=!0:"style"===r?v=!0:"key"===r||S.includes(r)||S.push(r),!o||"class"!==r&&"style"!==r||S.includes(r)||S.push(r)}else y=!0};for(let i=0;i<n.length;i++){const l=n[i];if(6===l.type){const{loc:e,name:n,nameLoc:o,value:i}=l;let r=!0;if("ref"===n&&(g=!0,k()),"is"===n&&(Rh(s)||i&&i.content.startsWith("vue:")||Iu("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(vu(bu(n,!0,o),bu(i?i.content:"",r,i?i.loc:e)))}else{const{name:n,arg:i,exp:c,loc:g,modifiers:O}=l,v="bind"===n,b="on"===n;if("slot"===n){o||t.onError(Lu(40,g));continue}if("once"===n||"memo"===n)continue;if("is"===n||v&&Ju(i,"is")&&(Rh(s)||Iu("COMPILER_IS_ON_ELEMENT",t)))continue;if(b&&r)continue;if((v&&Ju(i,"key")||b&&f&&Ju(i,"vue:before-update"))&&(p=!0),v&&Ju(i,"ref")&&k(),!i&&(v||b)){if(y=!0,c)if(v){if(k(),_(),Iu("COMPILER_V_BIND_OBJECT_ORDER",t)){d.unshift(c);continue}d.push(c)}else _({type:14,loc:g,callee:t.helper(tu),arguments:o?[c]:[c,"true"]});else t.onError(Lu(v?34:35,g));continue}v&&O.some((e=>"prop"===e.content))&&(m|=32);const w=t.directiveTransforms[n];if(w){const{props:n,needRuntime:o}=w(l,e,t);!r&&n.forEach(C),b&&i&&!ju(i)?_(Ou(n,a)):u.push(...n),o&&(h.push(l),x(o)&&Qh.set(l,o))}else A(n)||(h.push(l),f&&(p=!0))}}let T;if(d.length?(_(),T=d.length>1?xu(t.helper(Hc),d,a):d[0]):u.length&&(T=Ou(Dh(u),a)),y?m|=16:(O&&!o&&(m|=2),v&&!o&&(m|=4),S.length&&(m|=8),b&&(m|=32)),p||0!==m&&32!==m||!(g||w||h.length>0)||(m|=512),!t.inSSR&&T)switch(T.type){case 15:let e=-1,n=-1,o=!1;for(let t=0;t<T.properties.length;t++){const i=T.properties[t].key;ju(i)?"class"===i.content?e=t:"style"===i.content&&(n=t):i.isHandlerKey||(o=!0)}const i=T.properties[e],r=T.properties[n];o?T=xu(t.helper(Jc),[T]):(i&&!ju(i.value)&&(i.value=xu(t.helper(Gc),[i.value])),r&&(v||4===r.value.type&&"["===r.value.content.trim()[0]||17===r.value.type)&&(r.value=xu(t.helper(Kc),[r.value])));break;case 14:break;default:T=xu(t.helper(Jc),[xu(t.helper(eu),[T])])}return{props:T,directives:h,patchFlag:m,dynamicPropNames:S,shouldUseBlock:p}}function Dh(e){const t=new Map,n=[];for(let o=0;o<e.length;o++){const i=e[o];if(8===i.key.type||!i.key.isStatic){n.push(i);continue}const r=i.key.content,s=t.get(r);s?("style"===r||"class"===r||c(r))&&Ih(s,i):(t.set(r,i),n.push(i))}return n}function Ih(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=gu([e.value,t.value],e.loc)}function Rh(e){return"component"===e||"Component"===e}const zh=(e,t)=>{if(od(e)){const{children:n,loc:o}=e,{slotName:i,slotProps:r}=function(e,t){let n,o='"default"';const i=[];for(let t=0;t<e.props.length;t++){const n=e.props[t];if(6===n.type)n.value&&("name"===n.name?o=JSON.stringify(n.value.content):(n.name=M(n.name),i.push(n)));else if("bind"===n.name&&Ju(n.arg,"name")){if(n.exp)o=n.exp;else if(n.arg&&4===n.arg.type){const e=M(n.arg.content);o=n.exp=bu(e,!1,n.arg.loc)}}else"bind"===n.name&&n.arg&&ju(n.arg)&&(n.arg.content=M(n.arg.content)),i.push(n)}if(i.length>0){const{props:o,directives:r}=Mh(e,t,i,!1,!1);n=o,r.length&&t.onError(Lu(36,r[0].loc))}return{slotName:o,slotProps:n}}(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;r&&(s[2]=r,a=3),n.length&&(s[3]=wu([],n,!1,!1,o),a=4),t.scopeId&&!t.slotted&&(a=5),s.splice(a),e.codegenNode=xu(t.helper(Yc),s,o)}};const Nh=(e,t,n,o)=>{const{loc:i,modifiers:r,arg:s}=e;let a;if(e.exp||r.length||n.onError(Lu(35,i)),4===s.type)if(s.isStatic){let e=s.content;0,e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`);a=bu(0!==t.tagType||e.startsWith("vnode")||!/[A-Z]/.test(e)?z(M(e)):`on:${e}`,!0,s.loc)}else a=yu([`${n.helperString(iu)}(`,s,")"]);else a=s,a.children.unshift(`${n.helperString(iu)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const e=Fu(l),t=!(e||Hu(l)),n=l.content.includes(";");0,(t||c&&e)&&(l=yu([`${t?"$event":"(...args)"} => ${n?"{":"("}`,l,n?"}":")"]))}let u={props:[vu(a,l||bu("() => {}",!1,i))]};return o&&(u=o(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach((e=>e.key.isHandlerKey=!0)),u},Lh=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let o,i=!1;for(let e=0;e<n.length;e++){const t=n[e];if(ed(t)){i=!0;for(let i=e+1;i<n.length;i++){const r=n[i];if(!ed(r)){o=void 0;break}o||(o=n[e]=yu([t],t.loc)),o.children.push(" + ",r),n.splice(i,1),i--}}}if(i&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name]))||"template"===e.tag)))for(let e=0;e<n.length;e++){const o=n[e];if(ed(o)||8===o.type){const i=[];2===o.type&&" "===o.content||i.push(o),t.ssr||0!==qd(o,t)||i.push("1"),n[e]={type:12,content:o,loc:o.loc,codegenNode:xu(t.helper(Lc),i)}}}}},jh=new WeakSet,Vh=(e,t)=>{if(1===e.type&&Gu(e,"once",!0)){if(jh.has(e)||t.inVOnce||t.inSSR)return;return jh.add(e),t.inVOnce=!0,t.helper(ru),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0,!0))}}},Bh=(e,t,n)=>{const{exp:o,arg:i}=e;if(!o)return n.onError(Lu(41,e.loc)),Zh();const r=o.loc.source.trim(),s=4===o.type?o.content:r,a=n.bindingMetadata[r];if("props"===a||"props-aliased"===a)return n.onError(Lu(44,o.loc)),Zh();if(!s.trim()||!Fu(o))return n.onError(Lu(42,o.loc)),Zh();const l=i||bu("modelValue",!0),c=i?ju(i)?`onUpdate:${M(i.content)}`:yu(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;u=yu([`${n.isTS?"($event: any)":"$event"} => ((`,o,") = $event)"]);const d=[vu(l,e.exp),vu(c,u)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>e.content)).map((e=>(Zu(e)?e:JSON.stringify(e))+": true")).join(", "),n=i?ju(i)?`${i.content}Modifiers`:yu([i,' + "Modifiers"']):"modelModifiers";d.push(vu(n,bu(`{ ${t} }`,!1,e.loc,2)))}return Zh(d)};function Zh(e=[]){return{props:e}}const Xh=/[\w).+\-_$\]]/,Wh=(e,t)=>{Iu("COMPILER_FILTERS",t)&&(5===e.type?Uh(e.content,t):1===e.type&&e.props.forEach((e=>{7===e.type&&"for"!==e.name&&e.exp&&Uh(e.exp,t)})))};function Uh(e,t){if(4===e.type)Yh(e,t);else for(let n=0;n<e.children.length;n++){const o=e.children[n];"object"==typeof o&&(4===o.type?Yh(o,t):8===o.type?Uh(e,t):5===o.type&&Uh(o.content,t))}}function Yh(e,t){const n=e.content;let o,i,r,s,a=!1,l=!1,c=!1,u=!1,d=0,h=0,f=0,p=0,m=[];for(r=0;r<n.length;r++)if(i=o,o=n.charCodeAt(r),a)39===o&&92!==i&&(a=!1);else if(l)34===o&&92!==i&&(l=!1);else if(c)96===o&&92!==i&&(c=!1);else if(u)47===o&&92!==i&&(u=!1);else if(124!==o||124===n.charCodeAt(r+1)||124===n.charCodeAt(r-1)||d||h||f){switch(o){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:d++;break;case 125:d--}if(47===o){let e,t=r-1;for(;t>=0&&(e=n.charAt(t)," "===e);t--);e&&Xh.test(e)||(u=!0)}}else void 0===s?(p=r+1,s=n.slice(0,r).trim()):g();function g(){m.push(n.slice(p,r).trim()),p=r+1}if(void 0===s?s=n.slice(0,r).trim():0!==p&&g(),m.length){for(r=0;r<m.length;r++)s=Fh(s,m[r],t);e.content=s,e.ast=void 0}}function Fh(e,t,n){n.helper(Xc);const o=t.indexOf("(");if(o<0)return n.filters.add(t),`${ld(t,"filter")}(${e})`;{const i=t.slice(0,o),r=t.slice(o+1);return n.filters.add(i),`${ld(i,"filter")}(${e}${")"!==r?","+r:r}`}}const qh=new WeakSet,Hh=(e,t)=>{if(1===e.type){const n=Gu(e,"memo");if(!n||qh.has(e))return;return qh.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&13===o.type&&(1!==e.tagType&&Cu(o,t),e.codegenNode=xu(t.helper(du),[n.exp,wu(void 0,o),"_cache",String(t.cached.length)]),t.cached.push(null))}}};function Gh(e,t={}){const n=t.onError||zu,o="module"===t.mode;!0===t.prefixIdentifiers?n(Lu(47)):o&&n(Lu(48));t.cacheHandlers&&n(Lu(49)),t.scopeId&&!o&&n(Lu(50));const i=d({},t,{prefixIdentifiers:!1}),r=y(e)?Wd(e,i):e,[s,a]=[[Vh,ph,Hh,xh,Wh,zh,Eh,kh,Lh],{on:Nh,bind:vh,model:Bh}];return th(r,d({},i,{nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:d({},a,t.directiveTransforms||{})})),sh(r,i)}const Kh=Symbol(""),Jh=Symbol(""),ef=Symbol(""),tf=Symbol(""),nf=Symbol(""),of=Symbol(""),rf=Symbol(""),sf=Symbol(""),af=Symbol(""),lf=Symbol("");var cf;let uf;cf={[Kh]:"vModelRadio",[Jh]:"vModelCheckbox",[ef]:"vModelText",[tf]:"vModelSelect",[nf]:"vModelDynamic",[of]:"withModifiers",[rf]:"withKeys",[sf]:"vShow",[af]:"Transition",[lf]:"TransitionGroup"},Object.getOwnPropertySymbols(cf).forEach((e=>{fu[e]=cf[e]}));const df={parseMode:"html",isVoidTag:ne,isNativeTag:e=>J(e)||ee(e)||te(e),isPreTag:e=>"pre"===e,isIgnoreNewlineTag:e=>"pre"===e||"textarea"===e,decodeEntities:function(e,t=!1){return uf||(uf=document.createElement("div")),t?(uf.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,uf.children[0].getAttribute("foo")):(uf.innerHTML=e,uf.textContent)},isBuiltInComponent:e=>"Transition"===e||"transition"===e?af:"TransitionGroup"===e||"transition-group"===e?lf:void 0,getNamespace(e,t,n){let o=t?t.ns:n;if(t&&2===o)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(o=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(o=0);else t&&1===o&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(o=0));if(0===o){if("svg"===e)return 1;if("math"===e)return 2}return o}},hf=(e,t)=>{const n=H(e);return bu(JSON.stringify(n),!1,t,3)};function ff(e,t){return Lu(e,t)}const pf=i("passive,once,capture"),mf=i("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),gf=i("left,right"),Of=i("onkeyup,onkeydown,onkeypress"),vf=(e,t)=>ju(e)&&"onclick"===e.content.toLowerCase()?bu(t,!0):4!==e.type?yu(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e;const bf=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||t.removeNode()};const yf=[e=>{1===e.type&&e.props.forEach(((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:bu("style",!0,t.loc),exp:hf(t.value.content,t.loc),modifiers:[],loc:t.loc})}))}],xf={cloak:()=>({props:[]}),html:(e,t,n)=>{const{exp:o,loc:i}=e;return o||n.onError(ff(53,i)),t.children.length&&(n.onError(ff(54,i)),t.children.length=0),{props:[vu(bu("innerHTML",!0,i),o||bu("",!0))]}},text:(e,t,n)=>{const{exp:o,loc:i}=e;return o||n.onError(ff(55,i)),t.children.length&&(n.onError(ff(56,i)),t.children.length=0),{props:[vu(bu("textContent",!0),o?qd(o,n)>0?o:xu(n.helperString(qc),[o],i):bu("",!0))]}},model:(e,t,n)=>{const o=Bh(e,t,n);if(!o.props.length||1===t.tagType)return o;e.arg&&n.onError(ff(58,e.arg.loc));const{tag:i}=t,r=n.isCustomElement(i);if("input"===i||"textarea"===i||"select"===i||r){let s=ef,a=!1;if("input"===i||r){const o=Ku(t,"type");if(o){if(7===o.type)s=nf;else if(o.value)switch(o.value.content){case"radio":s=Kh;break;case"checkbox":s=Jh;break;case"file":a=!0,n.onError(ff(59,e.loc))}}else(function(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))})(t)&&(s=nf)}else"select"===i&&(s=tf);a||(o.needRuntime=n.helper(s))}else n.onError(ff(57,e.loc));return o.props=o.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),o},on:(e,t,n)=>Nh(e,t,n,(t=>{const{modifiers:o}=e;if(!o.length)return t;let{key:i,value:r}=t.props[0];const{keyModifiers:s,nonKeyModifiers:a,eventOptionModifiers:l}=((e,t,n)=>{const o=[],i=[],r=[];for(let s=0;s<t.length;s++){const a=t[s].content;"native"===a&&Ru("COMPILER_V_ON_NATIVE",n)||pf(a)?r.push(a):gf(a)?ju(e)?Of(e.content.toLowerCase())?o.push(a):i.push(a):(o.push(a),i.push(a)):mf(a)?i.push(a):o.push(a)}return{keyModifiers:o,nonKeyModifiers:i,eventOptionModifiers:r}})(i,o,n,e.loc);if(a.includes("right")&&(i=vf(i,"onContextmenu")),a.includes("middle")&&(i=vf(i,"onMouseup")),a.length&&(r=xu(n.helper(of),[r,JSON.stringify(a)])),!s.length||ju(i)&&!Of(i.content.toLowerCase())||(r=xu(n.helper(rf),[r,JSON.stringify(s)])),l.length){const e=l.map(R).join("");i=ju(i)?bu(`${i.content}${e}`,!0):yu(["(",i,`) + "${e}"`])}return{props:[vu(i,r)]}})),show:(e,t,n)=>{const{exp:o,loc:i}=e;return o||n.onError(ff(61,i)),{props:[],needRuntime:n.helper(sf)}}};const wf=Object.create(null);fa((function(e,t){if(!y(e)){if(!e.nodeType)return a;e=e.innerHTML}const n=function(e,t){return e+JSON.stringify(t,((e,t)=>"function"==typeof t?t.toString():t))}(e,t),i=wf[n];if(i)return i;if("#"===e[0]){const t=document.querySelector(e);0,e=t?t.innerHTML:""}const r=d({hoistStatic:!0,onError:void 0,onWarn:a},t);r.isCustomElement||"undefined"==typeof customElements||(r.isCustomElement=e=>!!customElements.get(e));const{code:s}=function(e,t={}){return Gh(e,d({},df,t,{nodeTransforms:[bf,...yf,...t.nodeTransforms||[]],directiveTransforms:d({},xf,t.directiveTransforms||{}),transformHoist:null}))}(e,r),l=new Function("Vue",s)(o);return l._rc=!0,wf[n]=l}))},9914:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>t.options.get(e),n=t("autolink_pattern"),o=t("link_default_target"),i=t("link_default_protocol"),r=t("allow_unsafe_link_target"),s=(a="string",e=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(i=String).prototype.isPrototypeOf(n)||(null===(r=o.constructor)||void 0===r?void 0:r.name)===i.name)?"string":t;var n,o,i,r})(e)===a);var a;const l=(c=void 0,e=>c===e);var c;const u=e=>!(e=>null==e)(e),d=Object.hasOwnProperty,h=e=>"\ufeff"===e;var f=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const p=e=>3===e.nodeType,m=e=>/^[(\[{ \u00a0]$/.test(e),g=(e,t,n)=>{for(let o=t-1;o>=0;o--){const t=e.charAt(o);if(!h(t)&&n(t))return o}return-1},O=(e,t)=>{var o;const r=e.schema.getVoidElements(),s=n(e),{dom:a,selection:c}=e;if(null!==a.getParent(c.getNode(),"a[href]")||e.mode.isReadOnly())return null;const u=c.getRng(),h=f(a,(e=>{return a.isBlock(e)||(t=r,n=e.nodeName.toLowerCase(),d.call(t,n))||"false"===a.getContentEditable(e);var t,n})),{container:O,offset:v}=((e,t)=>{let n=e,o=t;for(;1===n.nodeType&&n.childNodes[o];)n=n.childNodes[o],o=p(n)?n.data.length:n.childNodes.length;return{container:n,offset:o}})(u.endContainer,u.endOffset),b=null!==(o=a.getParent(O,a.isBlock))&&void 0!==o?o:a.getRoot(),y=h.backwards(O,v+t,((e,t)=>{const n=e.data,o=g(n,t,(i=m,e=>!i(e)));var i,r;return-1===o||(r=n[o],/[?!,.;:]/.test(r))?o:o+1}),b);if(!y)return null;let x=y.container;const w=h.backwards(y.container,y.offset,((e,t)=>{x=e;const n=g(e.data,t,m);return-1===n?n:n+1}),b),S=a.createRng();w?S.setStart(w.container,w.offset):S.setStart(x,0),S.setEnd(y.container,y.offset);const _=S.toString().replace(/\uFEFF/g,"").match(s);if(_){let t=_[0];if(((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(t,"www.",0)){t=i(e)+"://"+t}else((e,t,n=0,o)=>{const i=e.indexOf(t,n);return-1!==i&&(!!l(o)||i+t.length<=o)})(t,"@")&&!(e=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e))(t)&&(t="mailto:"+t);return{rng:S,url:t}}return null},v=(e,t)=>{const{dom:n,selection:i}=e,{rng:a,url:l}=t,c=i.getBookmark();i.setRng(a);const u="createlink",d={command:u,ui:!1,value:l};if(!e.dispatch("BeforeExecCommand",d).isDefaultPrevented()){e.getDoc().execCommand(u,!1,l),e.dispatch("ExecCommand",d);const t=o(e);if(s(t)){const o=i.getNode();n.setAttrib(o,"target",t),"_blank"!==t||r(e)||n.setAttrib(o,"rel","noopener")}}i.moveToBookmark(c),e.nodeChanged()},b=e=>{const t=O(e,-1);u(t)&&v(e,t)},y=b,x=e=>{e.on("keydown",(t=>{13!==t.keyCode||t.isDefaultPrevented()||(e=>{const t=O(e,0);u(t)&&v(e,t)})(e)})),e.on("keyup",(t=>{32===t.keyCode?b(e):(48===t.keyCode&&t.shiftKey||221===t.keyCode)&&y(e)}))};e.add("autolink",(e=>{(e=>{const t=e.options.register;t("autolink_pattern",{processor:"regexp",default:new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i")}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"})})(e),x(e)}))}()}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=n,e=[],i.O=(t,n,o,r)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,o,r]=e[u],a=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(a=!1,r<s&&(s=r));if(a){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>{if(707===e)return"js/707.js"},i.miniCssF=e=>"css/app.css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},i.l=(e,n,o,r)=>{if(t[e])t[e].push(n);else{var s,a;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==e){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=e),t[e]=[n];var d=(n,o)=>{s.onerror=s.onload=null,clearTimeout(h);var i=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(o))),n)return n(o)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),a&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="/",(()=>{var e={847:0,252:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else if(252!=t){var r=new Promise(((n,i)=>o=e[t]=[n,i]));n.push(o[2]=r);var s=i.p+i.u(t),a=new Error;i.l(s,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}}),"chunk-"+t,t)}else e[t]=0},i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[s,a,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)var u=l(i)}for(t&&t(n);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.nc=void 0,i.O(void 0,[252],(()=>i(307)));var r=i.O(void 0,[252],(()=>i(1688)));r=i.O(r)})();