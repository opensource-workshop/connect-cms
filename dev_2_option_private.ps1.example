##########################################################
### �O���v���O�C��PUSH-Windows�p�iConnect-CMS�� �� �O���v���O�C���j
##########################################################
#
# �O���v���O�C����Connect-CMS�Ƃ͕ʃf�B���N�g����Git�Ǘ��������ꍇ�ȂǂɎg�p����A�R�s�[PowerShell�ł��B
# Connect-CMS���f�B���N�g������A�O���v���O�C���f�B���N�g���ɃR�s�[���܂��B
# �R�s�[�s�v�̃f�B���N�g���́A�R�����g�A�E�g���Ă��������B
# �����R�[�h�� Shift-JIS �ł��B
#
# �R�}���h�v�����v�g��PowerShell�����s�j
# powershell -NoProfile -ExecutionPolicy Unrestricted .\dev_2_option_private.ps1
#

### PATH���̏�����ϐ��ɐݒ�
# �R�s�[���̃��[�gPATH
$src_root_dir = "C:\path_to_dev_connect-cms\"

# �R�s�[��̃��[�gPATH
$dist_root_dir = "C:\path_to_option_private_dir\"

# �R�s�[�Ώۂ̃v���O�C���f�B���N�g����
$option_plugin = "PluginName"
$option_plugin_controller_dir = "User\PluginName"
$option_plugin_resources_dir = "user\pluginname"
$option_plugin_model_dir = $option_plugin_controller_dir
$option_plugin_command_dir = $option_plugin_controller_dir


### �R�s�[�irobocopy <�R�s�[��> <�R�s�[��>�j
robocopy "${src_root_dir}app\PluginsOption\${option_plugin_controller_dir}" "${dist_root_dir}${option_plugin}\app\PluginsOption\${option_plugin_controller_dir}" /s /MIR
robocopy "${src_root_dir}app\ModelsOption\${option_plugin_model_dir}" "${dist_root_dir}${option_plugin}\app\ModelsOption\${option_plugin_model_dir}" /s /MIR
robocopy "${src_root_dir}resources\views\plugins_option\${option_plugin_resources_dir}" "${dist_root_dir}${option_plugin}\resources\views\plugins_option\${option_plugin_resources_dir}" /s /MIR
robocopy "${src_root_dir}resources\views\mail_option\${option_plugin_resources_dir}" "${dist_root_dir}${option_plugin}\resources\views\plugins_option\${option_plugin_resources_dir}" /s /MIR
robocopy "${src_root_dir}app\Console\CommandsOption\${option_plugin_command_dir}" "${dist_root_dir}${option_plugin}\app\Console\CommandsOption\${option_plugin_command_dir}" /s /MIR

robocopy "${src_root_dir}database\migrations_option" "${dist_root_dir}${option_plugin}\database\migrations_option" /s /xf _readme.txt
robocopy "${src_root_dir}database\seeds\options\${option_plugin}" "${dist_root_dir}${option_plugin}\database\seeds\options\${option_plugin}" /s /MIR
robocopy "${src_root_dir}app\EnumsOption" "${dist_root_dir}${option_plugin}\app\EnumsOption" /s /MIR
robocopy "${src_root_dir}public\images\plugins\${option_plugin}" "${dist_root_dir}${option_plugin}\public\images\plugins\${option_plugin}" /s /MIR

# 1�t�@�C���̂݃R�s�[��
#Copy-Item -Path "${src_root_dir}resources\views\plugins_option\manage\menus_list.blade.php" -Destination "${dist_root_dir}${option_plugin}\resources\views\plugins_option\manage\"

exit
